# Comparing `tmp/python_kasa-0.6.2.1.tar.gz` & `tmp/python_kasa-0.7.0.dev0.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "python_kasa-0.6.2.1.tar", max compression
+gzip compressed data, was "python_kasa-0.7.0.dev0.tar", max compression
```

## Comparing `python_kasa-0.6.2.1.tar` & `python_kasa-0.7.0.dev0.tar`

### file list

```diff
@@ -1,167 +1,239 @@
--rw-r--r--   0        0        0    91957 2024-02-02 19:23:40.673750 python_kasa-0.6.2.1/CHANGELOG.md
--rw-r--r--   0        0        0    33218 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/LICENSE
--rw-r--r--   0        0        0    13150 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/README.md
--rwxr-xr-x   0        0        0     2220 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/__init__.py
--rw-r--r--   0        0        0    15732 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/aestransport.py
--rwxr-xr-x   0        0        0    31677 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/cli.py
--rw-r--r--   0        0        0      357 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/credentials.py
--rwxr-xr-x   0        0        0     5968 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/device_factory.py
--rwxr-xr-x   0        0        0      649 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/device_type.py
--rw-r--r--   0        0        0     6686 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/deviceconfig.py
--rwxr-xr-x   0        0        0    19902 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/discover.py
--rw-r--r--   0        0        0     7476 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/effects.py
--rw-r--r--   0        0        0     2532 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/emeterstatus.py
--rw-r--r--   0        0        0     3483 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/exceptions.py
--rw-r--r--   0        0        0     3910 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/httpclient.py
--rwxr-xr-x   0        0        0     4542 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/iotprotocol.py
--rwxr-xr-x   0        0        0      415 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/json.py
--rw-r--r--   0        0        0    18051 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/klaptransport.py
--rw-r--r--   0        0        0      571 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/modules/__init__.py
--rw-r--r--   0        0        0     1617 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/modules/ambientlight.py
--rw-r--r--   0        0        0      234 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/modules/antitheft.py
--rw-r--r--   0        0        0     1437 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/modules/cloud.py
--rw-r--r--   0        0        0      158 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/modules/countdown.py
--rw-r--r--   0        0        0     3725 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/modules/emeter.py
--rw-r--r--   0        0        0     2771 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/modules/module.py
--rw-r--r--   0        0        0     2294 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/modules/motion.py
--rw-r--r--   0        0        0     1992 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/modules/rulemodule.py
--rw-r--r--   0        0        0      150 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/modules/schedule.py
--rw-r--r--   0        0        0     1417 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/modules/time.py
--rw-r--r--   0        0        0     3796 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/modules/usage.py
--rwxr-xr-x   0        0        0     3332 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/protocol.py
--rw-r--r--   0        0        0        0 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/py.typed
--rw-r--r--   0        0        0    19296 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/smartbulb.py
--rwxr-xr-x   0        0        0    29028 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/smartdevice.py
--rw-r--r--   0        0        0     7471 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/smartdimmer.py
--rw-r--r--   0        0        0     4275 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/smartlightstrip.py
--rw-r--r--   0        0        0     3023 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/smartplug.py
--rw-r--r--   0        0        0    12539 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/smartprotocol.py
--rwxr-xr-x   0        0        0    12921 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/smartstrip.py
--rw-r--r--   0        0        0      265 2024-02-02 19:23:40.677751 python_kasa-0.6.2.1/kasa/tapo/__init__.py
--rw-r--r--   0        0        0     1477 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tapo/childdevice.py
--rw-r--r--   0        0        0     8630 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tapo/tapobulb.py
--rw-r--r--   0        0        0    14221 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tapo/tapodevice.py
--rw-r--r--   0        0        0     1443 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tapo/tapoplug.py
--rw-r--r--   0        0        0        0 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/__init__.py
--rw-r--r--   0        0        0    18719 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/conftest.py
--rw-r--r--   0        0        0    12006 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fakeprotocol_iot.py
--rw-r--r--   0        0        0     4316 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fakeprotocol_smart.py
--rw-r--r--   0        0        0      974 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/EP10(US)_1.0_1.0.2.json
--rw-r--r--   0        0        0     1427 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/EP40(US)_1.0_1.0.2.json
--rw-r--r--   0        0        0     3677 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/ES20M(US)_1.0_1.0.8.json
--rw-r--r--   0        0        0      894 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS100(UK)_1.0_1.2.6.json
--rw-r--r--   0        0        0     1462 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS100(UK)_4.1_1.1.0.json
--rw-r--r--   0        0        0     1305 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS100(US)_1.0_1.2.5.json
--rw-r--r--   0        0        0     1422 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS100(US)_2.0_1.5.6.json
--rw-r--r--   0        0        0     1552 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS103(US)_1.0_1.5.7.json
--rw-r--r--   0        0        0     1356 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS103(US)_2.1_1.1.2.json
--rw-r--r--   0        0        0      938 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS103(US)_2.1_1.1.4.json
--rw-r--r--   0        0        0     1425 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS105(US)_1.0_1.5.6.json
--rw-r--r--   0        0        0     1397 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS105(US)_1.0_mocked.json
--rw-r--r--   0        0        0     1729 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS107(US)_1.0_1.0.8.json
--rw-r--r--   0        0        0     1134 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS110(EU)_1.0_1.2.5.json
--rw-r--r--   0        0        0     1503 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS110(EU)_2.0_mocked.json
--rw-r--r--   0        0        0     1187 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS110(EU)_4.0_1.0.4.json
--rw-r--r--   0        0        0     1480 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS110(US)_1.0_mocked.json
--rw-r--r--   0        0        0     1388 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS200(US)_1.0_mocked.json
--rw-r--r--   0        0        0     1442 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS200(US)_2.0_1.5.7.json
--rw-r--r--   0        0        0      946 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS200(US)_5.0_1.0.2.json
--rw-r--r--   0        0        0     1476 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS210(US)_1.0_1.5.8.json
--rw-r--r--   0        0        0     2183 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS220(US)_1.0_1.5.7.json
--rw-r--r--   0        0        0     2175 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS220(US)_1.0_mocked.json
--rw-r--r--   0        0        0     1845 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS220(US)_2.0_1.0.3.json
--rw-r--r--   0        0        0     2964 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS300(US)_1.0_1.0.10.json
--rw-r--r--   0        0        0     2931 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS300(US)_2.0_1.0.12.json
--rw-r--r--   0        0        0     2866 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/HS300(US)_2.0_1.0.3.json
--rw-r--r--   0        0        0     2664 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KL110(US)_1.0_1.8.11.json
--rw-r--r--   0        0        0     2724 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KL120(US)_1.0_1.8.6.json
--rw-r--r--   0        0        0     2627 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KL125(US)_1.20_1.0.5.json
--rw-r--r--   0        0        0     2768 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KL125(US)_2.0_1.0.7.json
--rw-r--r--   0        0        0     2787 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KL125(US)_4.0_1.0.5.json
--rw-r--r--   0        0        0     2541 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KL130(EU)_1.0_1.8.8.json
--rw-r--r--   0        0        0     2667 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KL130(US)_1.0_1.8.11.json
--rw-r--r--   0        0        0     2649 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KL135(US)_1.0_1.0.6.json
--rw-r--r--   0        0        0     1717 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KL400L5(US)_1.0_1.0.5.json
--rw-r--r--   0        0        0     1750 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KL400L5(US)_1.0_1.0.8.json
--rw-r--r--   0        0        0     1721 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KL420L5(US)_1.0_1.0.2.json
--rw-r--r--   0        0        0     2757 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KL430(UN)_2.0_1.0.8.json
--rw-r--r--   0        0        0     2065 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KL430(US)_1.0_1.0.10.json
--rw-r--r--   0        0        0     1826 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KL430(US)_2.0_1.0.11.json
--rw-r--r--   0        0        0     1787 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KL430(US)_2.0_1.0.8.json
--rw-r--r--   0        0        0     1757 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KL430(US)_2.0_1.0.9.json
--rw-r--r--   0        0        0     2661 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KL50(US)_1.0_1.1.13.json
--rw-r--r--   0        0        0     3007 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KL60(UN)_1.0_1.1.4.json
--rw-r--r--   0        0        0     2668 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KL60(US)_1.0_1.1.13.json
--rw-r--r--   0        0        0      940 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KP100(US)_3.0_1.0.1.json
--rw-r--r--   0        0        0     1135 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KP105(UK)_1.0_1.0.5.json
--rw-r--r--   0        0        0     1010 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KP105(UK)_1.0_1.0.7.json
--rw-r--r--   0        0        0     1231 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KP115(EU)_1.0_1.0.16.json
--rw-r--r--   0        0        0     1213 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KP115(US)_1.0_1.0.17.json
--rw-r--r--   0        0        0     1215 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KP115(US)_1.0_1.0.21.json
--rw-r--r--   0        0        0     1230 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KP125(US)_1.0_1.0.6.json
--rw-r--r--   0        0        0     1460 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KP200(US)_3.0_1.0.3.json
--rw-r--r--   0        0        0     1752 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KP303(UK)_1.0_1.0.3.json
--rw-r--r--   0        0        0     1738 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KP303(US)_2.0_1.0.3.json
--rw-r--r--   0        0        0     1843 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KP400(US)_1.0_1.0.10.json
--rw-r--r--   0        0        0     1431 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KP400(US)_2.0_1.0.6.json
--rw-r--r--   0        0        0      966 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KP401(US)_1.0_1.0.0.json
--rw-r--r--   0        0        0     1892 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KP405(US)_1.0_1.0.5.json
--rw-r--r--   0        0        0     2842 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KS200M(US)_1.0_1.0.8.json
--rw-r--r--   0        0        0     3684 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KS220M(US)_1.0_1.0.4.json
--rw-r--r--   0        0        0     1836 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/KS230(US)_1.0_1.0.14.json
--rw-r--r--   0        0        0     3062 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/LB100(US)_1.0_mocked.json
--rw-r--r--   0        0        0     2684 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/LB110(US)_1.0_1.8.11.json
--rw-r--r--   0        0        0     3067 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/LB120(US)_1.0_mocked.json
--rw-r--r--   0        0        0     3106 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/LB130(US)_1.0_mocked.json
--rw-r--r--   0        0        0    11783 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/EP25(US)_2.6_1.0.1.json
--rw-r--r--   0        0        0    10183 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/EP25(US)_2.6_1.0.2.json
--rw-r--r--   0        0        0     4524 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/KP125M(US)_1.0_1.1.3.json
--rw-r--r--   0        0        0     6154 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/KS205(US)_1.0_1.0.2.json
--rw-r--r--   0        0        0     6767 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/KS225(US)_1.0_1.0.2.json
--rw-r--r--   0        0        0     6908 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L510B(EU)_3.0_1.0.5.json
--rw-r--r--   0        0        0     8205 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L510E(US)_3.0_1.0.5.json
--rw-r--r--   0        0        0     6631 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L510E(US)_3.0_1.1.2.json
--rw-r--r--   0        0        0    10786 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L530E(EU)_3.0_1.0.6.json
--rw-r--r--   0        0        0    11176 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L530E(EU)_3.0_1.1.0.json
--rw-r--r--   0        0        0    11132 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L530E(US)_2.0_1.1.0.json
--rw-r--r--   0        0        0    10488 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L900-10(EU)_1.0_1.0.17.json
--rw-r--r--   0        0        0    10838 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L900-10(US)_1.0_1.0.11.json
--rw-r--r--   0        0        0     9175 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L900-5(EU)_1.0_1.0.17.json
--rw-r--r--   0        0        0     9278 2024-02-02 19:23:40.681751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L900-5(EU)_1.0_1.1.0.json
--rw-r--r--   0        0        0     9466 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L920-5(US)_1.0_1.1.0.json
--rw-r--r--   0        0        0     9911 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L920-5(US)_1.0_1.1.3.json
--rw-r--r--   0        0        0    10228 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L930-5(US)_1.0_1.1.2.json
--rw-r--r--   0        0        0     4958 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/P100_1.0.0_1.3.7.json
--rw-r--r--   0        0        0     9832 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/P110(EU)_1.0_1.2.3.json
--rw-r--r--   0        0        0    11013 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/P110(UK)_1.0_1.3.0.json
--rw-r--r--   0        0        0     6145 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/P125M(US)_1.0_1.1.0.json
--rw-r--r--   0        0        0     8251 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/P135(US)_1.0_1.0.5.json
--rw-r--r--   0        0        0    15605 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/P300(EU)_1.0_1.0.13.json
--rw-r--r--   0        0        0    15653 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/P300(EU)_1.0_1.0.7.json
--rw-r--r--   0        0        0     8461 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/S500D(US)_1.0_1.0.5.json
--rw-r--r--   0        0        0     8415 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/S505(US)_1.0_1.0.2.json
--rw-r--r--   0        0        0     8048 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/TP15(US)_1.0_1.0.3.json
--rw-r--r--   0        0        0    12725 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/fixtures/smart/TP25(US)_1.0_1.0.2.json
--rw-r--r--   0        0        0    11137 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/test_aestransport.py
--rw-r--r--   0        0        0    10537 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/test_bulb.py
--rw-r--r--   0        0        0     2056 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/test_childdevice.py
--rw-r--r--   0        0        0    14060 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/test_cli.py
--rw-r--r--   0        0        0     5128 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/test_device_factory.py
--rw-r--r--   0        0        0      872 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/test_device_type.py
--rw-r--r--   0        0        0     2332 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/test_deviceconfig.py
--rw-r--r--   0        0        0     3573 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/test_dimmer.py
--rw-r--r--   0        0        0    14920 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/test_discovery.py
--rw-r--r--   0        0        0     4543 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/test_emeter.py
--rw-r--r--   0        0        0     2772 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/test_httpclient.py
--rw-r--r--   0        0        0    15507 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/test_klapprotocol.py
--rw-r--r--   0        0        0     2142 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/test_lightstrip.py
--rw-r--r--   0        0        0     1073 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/test_plug.py
--rw-r--r--   0        0        0    19656 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/test_protocol.py
--rw-r--r--   0        0        0     2569 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/test_readme_examples.py
--rw-r--r--   0        0        0     9198 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/test_smartdevice.py
--rw-r--r--   0        0        0     6802 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/test_smartprotocol.py
--rw-r--r--   0        0        0     4082 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/test_strip.py
--rw-r--r--   0        0        0     2327 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/tests/test_usage.py
--rw-r--r--   0        0        0     8551 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/kasa/xortransport.py
--rw-r--r--   0        0        0     3057 2024-02-02 19:23:40.685751 python_kasa-0.6.2.1/pyproject.toml
--rw-r--r--   0        0        0    14657 1970-01-01 00:00:00.000000 python_kasa-0.6.2.1/PKG-INFO
+-rw-r--r--   0        0        0   112610 2024-05-19 18:06:13.922828 python_kasa-0.7.0.dev0/CHANGELOG.md
+-rw-r--r--   0        0        0    33218 2024-05-19 18:06:13.922828 python_kasa-0.7.0.dev0/LICENSE
+-rw-r--r--   0        0        0    11583 2024-05-19 18:06:13.922828 python_kasa-0.7.0.dev0/README.md
+-rwxr-xr-x   0        0        0     4122 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/__init__.py
+-rw-r--r--   0        0        0    16213 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/aestransport.py
+-rwxr-xr-x   0        0        0    37621 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/cli.py
+-rw-r--r--   0        0        0      357 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/credentials.py
+-rw-r--r--   0        0        0    13644 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/device.py
+-rwxr-xr-x   0        0        0     6996 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/device_factory.py
+-rwxr-xr-x   0        0        0      744 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/device_type.py
+-rw-r--r--   0        0        0     6913 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/deviceconfig.py
+-rwxr-xr-x   0        0        0    20465 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/discover.py
+-rw-r--r--   0        0        0     2529 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/emeterstatus.py
+-rw-r--r--   0        0        0     3878 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/exceptions.py
+-rw-r--r--   0        0        0     7341 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/feature.py
+-rw-r--r--   0        0        0     3960 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/httpclient.py
+-rw-r--r--   0        0        0      290 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/interfaces/__init__.py
+-rw-r--r--   0        0        0      411 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/interfaces/fan.py
+-rw-r--r--   0        0        0      950 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/interfaces/led.py
+-rw-r--r--   0        0        0     3372 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/interfaces/light.py
+-rw-r--r--   0        0        0     2122 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/interfaces/lighteffect.py
+-rw-r--r--   0        0        0     1887 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/interfaces/lightpreset.py
+-rw-r--r--   0        0        0      399 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/__init__.py
+-rw-r--r--   0        0        0     7506 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/effects.py
+-rw-r--r--   0        0        0    17734 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/iotbulb.py
+-rwxr-xr-x   0        0        0    24534 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/iotdevice.py
+-rw-r--r--   0        0        0     7666 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/iotdimmer.py
+-rw-r--r--   0        0        0     2061 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/iotlightstrip.py
+-rw-r--r--   0        0        0     2091 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/iotmodule.py
+-rw-r--r--   0        0        0     2976 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/iotplug.py
+-rwxr-xr-x   0        0        0    12339 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/iotstrip.py
+-rw-r--r--   0        0        0      751 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/modules/__init__.py
+-rw-r--r--   0        0        0     2458 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/modules/ambientlight.py
+-rw-r--r--   0        0        0      235 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/modules/antitheft.py
+-rw-r--r--   0        0        0     2037 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/modules/cloud.py
+-rw-r--r--   0        0        0      159 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/modules/countdown.py
+-rw-r--r--   0        0        0     6816 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/modules/emeter.py
+-rw-r--r--   0        0        0      814 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/modules/led.py
+-rw-r--r--   0        0        0     7787 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/modules/light.py
+-rw-r--r--   0        0        0     3595 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/modules/lighteffect.py
+-rw-r--r--   0        0        0     5282 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/modules/lightpreset.py
+-rw-r--r--   0        0        0     2264 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/modules/motion.py
+-rw-r--r--   0        0        0     2040 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/modules/rulemodule.py
+-rw-r--r--   0        0        0      151 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/modules/schedule.py
+-rw-r--r--   0        0        0     1415 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/modules/time.py
+-rw-r--r--   0        0        0     3819 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iot/modules/usage.py
+-rwxr-xr-x   0        0        0     4464 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/iotprotocol.py
+-rwxr-xr-x   0        0        0      415 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/json.py
+-rw-r--r--   0        0        0    18359 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/klaptransport.py
+-rw-r--r--   0        0        0     5321 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/module.py
+-rw-r--r--   0        0        0      499 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/modulemapping.py
+-rw-r--r--   0        0        0     3853 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/modulemapping.pyi
+-rwxr-xr-x   0        0        0     3325 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/protocol.py
+-rw-r--r--   0        0        0        0 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/py.typed
+-rw-r--r--   0        0        0      198 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/smart/__init__.py
+-rw-r--r--   0        0        0    10807 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/smart/effects.py
+-rw-r--r--   0        0        0     1451 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/smart/modules/__init__.py
+-rw-r--r--   0        0        0     4214 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/smart/modules/alarm.py
+-rw-r--r--   0        0        0     2842 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/smart/modules/autooff.py
+-rw-r--r--   0        0        0     1634 2024-05-19 18:06:13.926828 python_kasa-0.7.0.dev0/kasa/smart/modules/batterysensor.py
+-rw-r--r--   0        0        0     2077 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/brightness.py
+-rw-r--r--   0        0        0      246 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/childdevice.py
+-rw-r--r--   0        0        0     1151 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/cloud.py
+-rw-r--r--   0        0        0     2956 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/color.py
+-rw-r--r--   0        0        0     2511 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/colortemperature.py
+-rw-r--r--   0        0        0     1145 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/contactsensor.py
+-rw-r--r--   0        0        0      552 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/devicemodule.py
+-rw-r--r--   0        0        0     2960 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/energy.py
+-rw-r--r--   0        0        0     2446 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/fan.py
+-rw-r--r--   0        0        0     7281 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/firmware.py
+-rw-r--r--   0        0        0     1748 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/frostprotection.py
+-rw-r--r--   0        0        0     1609 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/humiditysensor.py
+-rw-r--r--   0        0        0     1369 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/led.py
+-rw-r--r--   0        0        0     4791 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/light.py
+-rw-r--r--   0        0        0     3971 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/lighteffect.py
+-rw-r--r--   0        0        0     5327 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/lightpreset.py
+-rw-r--r--   0        0        0     4012 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/lightstripeffect.py
+-rw-r--r--   0        0        0     6237 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/lighttransition.py
+-rw-r--r--   0        0        0      960 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/reportmode.py
+-rw-r--r--   0        0        0     5645 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/temperaturecontrol.py
+-rw-r--r--   0        0        0     2547 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/temperaturesensor.py
+-rw-r--r--   0        0        0     1678 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/time.py
+-rw-r--r--   0        0        0     1790 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/modules/waterleaksensor.py
+-rw-r--r--   0        0        0     2326 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/smartchilddevice.py
+-rw-r--r--   0        0        0    23677 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/smartdevice.py
+-rw-r--r--   0        0        0     3609 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smart/smartmodule.py
+-rw-r--r--   0        0        0    15200 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/smartprotocol.py
+-rw-r--r--   0        0        0        0 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/__init__.py
+-rw-r--r--   0        0        0     2791 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/conftest.py
+-rw-r--r--   0        0        0    12160 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/device_fixtures.py
+-rw-r--r--   0        0        0     6389 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/discovery_fixtures.py
+-rw-r--r--   0        0        0    13544 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fakeprotocol_iot.py
+-rw-r--r--   0        0        0    12989 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fakeprotocol_smart.py
+-rw-r--r--   0        0        0     4857 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtureinfo.py
+-rw-r--r--   0        0        0      974 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/EP10(US)_1.0_1.0.2.json
+-rw-r--r--   0        0        0     1427 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/EP40(US)_1.0_1.0.2.json
+-rw-r--r--   0        0        0     3677 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/ES20M(US)_1.0_1.0.8.json
+-rw-r--r--   0        0        0      894 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS100(UK)_1.0_1.2.6.json
+-rw-r--r--   0        0        0     1462 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS100(UK)_4.1_1.1.0.json
+-rw-r--r--   0        0        0     1305 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS100(US)_1.0_1.2.5.json
+-rw-r--r--   0        0        0     1422 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS100(US)_2.0_1.5.6.json
+-rw-r--r--   0        0        0     1552 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS103(US)_1.0_1.5.7.json
+-rw-r--r--   0        0        0     1356 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS103(US)_2.1_1.1.2.json
+-rw-r--r--   0        0        0      938 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS103(US)_2.1_1.1.4.json
+-rw-r--r--   0        0        0     1425 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS105(US)_1.0_1.5.6.json
+-rw-r--r--   0        0        0     1729 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS107(US)_1.0_1.0.8.json
+-rw-r--r--   0        0        0     1134 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS110(EU)_1.0_1.2.5.json
+-rw-r--r--   0        0        0     1187 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS110(EU)_4.0_1.0.4.json
+-rw-r--r--   0        0        0     1442 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS200(US)_2.0_1.5.7.json
+-rw-r--r--   0        0        0      946 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS200(US)_5.0_1.0.2.json
+-rw-r--r--   0        0        0     1476 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS210(US)_1.0_1.5.8.json
+-rw-r--r--   0        0        0     2183 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS220(US)_1.0_1.5.7.json
+-rw-r--r--   0        0        0     1845 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS220(US)_2.0_1.0.3.json
+-rw-r--r--   0        0        0     2964 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS300(US)_1.0_1.0.10.json
+-rw-r--r--   0        0        0     2931 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS300(US)_2.0_1.0.12.json
+-rw-r--r--   0        0        0     2866 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS300(US)_2.0_1.0.3.json
+-rw-r--r--   0        0        0     2664 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL110(US)_1.0_1.8.11.json
+-rw-r--r--   0        0        0     2724 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL120(US)_1.0_1.8.6.json
+-rw-r--r--   0        0        0     2627 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL125(US)_1.20_1.0.5.json
+-rw-r--r--   0        0        0     2768 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL125(US)_2.0_1.0.7.json
+-rw-r--r--   0        0        0     2787 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL125(US)_4.0_1.0.5.json
+-rw-r--r--   0        0        0     2541 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL130(EU)_1.0_1.8.8.json
+-rw-r--r--   0        0        0     2667 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL130(US)_1.0_1.8.11.json
+-rw-r--r--   0        0        0     2649 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL135(US)_1.0_1.0.6.json
+-rw-r--r--   0        0        0     1717 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL400L5(US)_1.0_1.0.5.json
+-rw-r--r--   0        0        0     1750 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL400L5(US)_1.0_1.0.8.json
+-rw-r--r--   0        0        0     1721 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL420L5(US)_1.0_1.0.2.json
+-rw-r--r--   0        0        0     2757 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL430(UN)_2.0_1.0.8.json
+-rw-r--r--   0        0        0     2065 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL430(US)_1.0_1.0.10.json
+-rw-r--r--   0        0        0     1826 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL430(US)_2.0_1.0.11.json
+-rw-r--r--   0        0        0     1787 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL430(US)_2.0_1.0.8.json
+-rw-r--r--   0        0        0     1757 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL430(US)_2.0_1.0.9.json
+-rw-r--r--   0        0        0     2661 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL50(US)_1.0_1.1.13.json
+-rw-r--r--   0        0        0     3007 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL60(UN)_1.0_1.1.4.json
+-rw-r--r--   0        0        0     2668 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL60(US)_1.0_1.1.13.json
+-rw-r--r--   0        0        0      940 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP100(US)_3.0_1.0.1.json
+-rw-r--r--   0        0        0     1135 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP105(UK)_1.0_1.0.5.json
+-rw-r--r--   0        0        0     1010 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP105(UK)_1.0_1.0.7.json
+-rw-r--r--   0        0        0     1231 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP115(EU)_1.0_1.0.16.json
+-rw-r--r--   0        0        0     1213 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP115(US)_1.0_1.0.17.json
+-rw-r--r--   0        0        0     1215 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP115(US)_1.0_1.0.21.json
+-rw-r--r--   0        0        0     1230 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP125(US)_1.0_1.0.6.json
+-rw-r--r--   0        0        0     1460 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP200(US)_3.0_1.0.3.json
+-rw-r--r--   0        0        0     1752 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP303(UK)_1.0_1.0.3.json
+-rw-r--r--   0        0        0     1738 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP303(US)_2.0_1.0.3.json
+-rw-r--r--   0        0        0     1843 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP400(US)_1.0_1.0.10.json
+-rw-r--r--   0        0        0     1431 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP400(US)_2.0_1.0.6.json
+-rw-r--r--   0        0        0      966 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP401(US)_1.0_1.0.0.json
+-rw-r--r--   0        0        0     1892 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP405(US)_1.0_1.0.5.json
+-rw-r--r--   0        0        0     2842 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KS200M(US)_1.0_1.0.8.json
+-rw-r--r--   0        0        0     3684 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KS220M(US)_1.0_1.0.4.json
+-rw-r--r--   0        0        0     1836 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/KS230(US)_1.0_1.0.14.json
+-rw-r--r--   0        0        0     2684 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/LB110(US)_1.0_1.8.11.json
+-rw-r--r--   0        0        0    11783 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/EP25(US)_2.6_1.0.1.json
+-rw-r--r--   0        0        0    10183 2024-05-19 18:06:13.930828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/EP25(US)_2.6_1.0.2.json
+-rw-r--r--   0        0        0     5648 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/H100(EU)_1.0_1.2.3.json
+-rw-r--r--   0        0        0    16206 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/H100(EU)_1.0_1.5.10.json
+-rw-r--r--   0        0        0    10996 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/H100(EU)_1.0_1.5.5.json
+-rw-r--r--   0        0        0    51193 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/KH100(UK)_1.0_1.5.6.json
+-rw-r--r--   0        0        0     4524 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/KP125M(US)_1.0_1.1.3.json
+-rw-r--r--   0        0        0     6154 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/KS205(US)_1.0_1.0.2.json
+-rw-r--r--   0        0        0     6767 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/KS225(US)_1.0_1.0.2.json
+-rw-r--r--   0        0        0    28440 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/KS240(US)_1.0_1.0.4.json
+-rw-r--r--   0        0        0    14218 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/KS240(US)_1.0_1.0.5.json
+-rw-r--r--   0        0        0     6908 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L510B(EU)_3.0_1.0.5.json
+-rw-r--r--   0        0        0     8205 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L510E(US)_3.0_1.0.5.json
+-rw-r--r--   0        0        0     6631 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L510E(US)_3.0_1.1.2.json
+-rw-r--r--   0        0        0    10786 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L530E(EU)_3.0_1.0.6.json
+-rw-r--r--   0        0        0    11176 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L530E(EU)_3.0_1.1.0.json
+-rw-r--r--   0        0        0    11382 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L530E(EU)_3.0_1.1.6.json
+-rw-r--r--   0        0        0    11132 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L530E(US)_2.0_1.1.0.json
+-rw-r--r--   0        0        0    10488 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L900-10(EU)_1.0_1.0.17.json
+-rw-r--r--   0        0        0    10838 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L900-10(US)_1.0_1.0.11.json
+-rw-r--r--   0        0        0     9175 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L900-5(EU)_1.0_1.0.17.json
+-rw-r--r--   0        0        0     9278 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L900-5(EU)_1.0_1.1.0.json
+-rw-r--r--   0        0        0     9466 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L920-5(US)_1.0_1.1.0.json
+-rw-r--r--   0        0        0     9911 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L920-5(US)_1.0_1.1.3.json
+-rw-r--r--   0        0        0    10228 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L930-5(US)_1.0_1.1.2.json
+-rw-r--r--   0        0        0     4532 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/P100_1.0.0_1.1.3.json
+-rw-r--r--   0        0        0     4958 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/P100_1.0.0_1.3.7.json
+-rw-r--r--   0        0        0     5102 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/P100_1.0.0_1.4.0.json
+-rw-r--r--   0        0        0    12958 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/P110(EU)_1.0_1.0.7.json
+-rw-r--r--   0        0        0     9832 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/P110(EU)_1.0_1.2.3.json
+-rw-r--r--   0        0        0    11013 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/P110(UK)_1.0_1.3.0.json
+-rw-r--r--   0        0        0     6145 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/P125M(US)_1.0_1.1.0.json
+-rw-r--r--   0        0        0     8251 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/P135(US)_1.0_1.0.5.json
+-rw-r--r--   0        0        0    15605 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/P300(EU)_1.0_1.0.13.json
+-rw-r--r--   0        0        0    15653 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/P300(EU)_1.0_1.0.7.json
+-rw-r--r--   0        0        0     8461 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/S500D(US)_1.0_1.0.5.json
+-rw-r--r--   0        0        0     8415 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/S505(US)_1.0_1.0.2.json
+-rw-r--r--   0        0        0     8048 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/TP15(US)_1.0_1.0.3.json
+-rw-r--r--   0        0        0    12725 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/TP25(US)_1.0_1.0.2.json
+-rw-r--r--   0        0        0     4547 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/child/KE100(EU)_1.0_2.4.0.json
+-rw-r--r--   0        0        0     4405 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/child/KE100(EU)_1.0_2.8.0.json
+-rw-r--r--   0        0        0     4405 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/child/KE100(UK)_1.0_2.8.0.json
+-rw-r--r--   0        0        0    11773 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/child/T110(EU)_1.0_1.8.0.json
+-rw-r--r--   0        0        0    11836 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/child/T300(EU)_1.0_1.7.0.json
+-rw-r--r--   0        0        0     9849 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/child/T310(EU)_1.0_1.5.0.json
+-rw-r--r--   0        0        0     8709 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/child/T315(EU)_1.0_1.7.0.json
+-rw-r--r--   0        0        0        0 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/smart/__init__.py
+-rw-r--r--   0        0        0        0 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/smart/features/__init__.py
+-rw-r--r--   0        0        0     1644 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/smart/features/test_brightness.py
+-rw-r--r--   0        0        0      992 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/smart/features/test_colortemp.py
+-rw-r--r--   0        0        0        0 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/smart/modules/__init__.py
+-rw-r--r--   0        0        0      698 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/smart/modules/test_contact.py
+-rw-r--r--   0        0        0     2076 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/smart/modules/test_fan.py
+-rw-r--r--   0        0        0     3296 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/smart/modules/test_firmware.py
+-rw-r--r--   0        0        0      715 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/smart/modules/test_humidity.py
+-rw-r--r--   0        0        0     1393 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/smart/modules/test_light_effect.py
+-rw-r--r--   0        0        0     1361 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/smart/modules/test_temperature.py
+-rw-r--r--   0        0        0     4145 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/smart/modules/test_temperaturecontrol.py
+-rw-r--r--   0        0        0     1156 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/smart/modules/test_waterleak.py
+-rw-r--r--   0        0        0    14157 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/test_aestransport.py
+-rw-r--r--   0        0        0    11542 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/test_bulb.py
+-rw-r--r--   0        0        0     2648 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/test_childdevice.py
+-rw-r--r--   0        0        0    26215 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/test_cli.py
+-rw-r--r--   0        0        0     6608 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/test_common_modules.py
+-rw-r--r--   0        0        0     9012 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/test_device.py
+-rw-r--r--   0        0        0     5646 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/test_device_factory.py
+-rw-r--r--   0        0        0      872 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/test_device_type.py
+-rw-r--r--   0        0        0     2318 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/test_deviceconfig.py
+-rw-r--r--   0        0        0     3860 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/test_dimmer.py
+-rw-r--r--   0        0        0    16719 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/test_discovery.py
+-rw-r--r--   0        0        0     4718 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/test_emeter.py
+-rw-r--r--   0        0        0     6853 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/test_feature.py
+-rw-r--r--   0        0        0     2730 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/test_httpclient.py
+-rw-r--r--   0        0        0     7703 2024-05-19 18:06:13.934828 python_kasa-0.7.0.dev0/kasa/tests/test_iotdevice.py
+-rw-r--r--   0        0        0    16974 2024-05-19 18:06:13.938828 python_kasa-0.7.0.dev0/kasa/tests/test_klapprotocol.py
+-rw-r--r--   0        0        0     2193 2024-05-19 18:06:13.938828 python_kasa-0.7.0.dev0/kasa/tests/test_lightstrip.py
+-rw-r--r--   0        0        0     1859 2024-05-19 18:06:13.938828 python_kasa-0.7.0.dev0/kasa/tests/test_plug.py
+-rw-r--r--   0        0        0    19578 2024-05-19 18:06:13.938828 python_kasa-0.7.0.dev0/kasa/tests/test_protocol.py
+-rw-r--r--   0        0        0     4899 2024-05-19 18:06:13.938828 python_kasa-0.7.0.dev0/kasa/tests/test_readme_examples.py
+-rw-r--r--   0        0        0     7381 2024-05-19 18:06:13.938828 python_kasa-0.7.0.dev0/kasa/tests/test_smartdevice.py
+-rw-r--r--   0        0        0    10265 2024-05-19 18:06:13.938828 python_kasa-0.7.0.dev0/kasa/tests/test_smartprotocol.py
+-rw-r--r--   0        0        0     4286 2024-05-19 18:06:13.938828 python_kasa-0.7.0.dev0/kasa/tests/test_strip.py
+-rw-r--r--   0        0        0     2331 2024-05-19 18:06:13.938828 python_kasa-0.7.0.dev0/kasa/tests/test_usage.py
+-rw-r--r--   0        0        0     8530 2024-05-19 18:06:13.938828 python_kasa-0.7.0.dev0/kasa/xortransport.py
+-rw-r--r--   0        0        0     3306 2024-05-19 18:06:13.938828 python_kasa-0.7.0.dev0/pyproject.toml
+-rw-r--r--   0        0        0    13203 1970-01-01 00:00:00.000000 python_kasa-0.7.0.dev0/PKG-INFO
```

### Comparing `python_kasa-0.6.2.1/CHANGELOG.md` & `python_kasa-0.7.0.dev0/CHANGELOG.md`

 * *Files 13% similar despite different names*

```diff
@@ -1,5748 +1,7039 @@
 00000000: 2320 4368 616e 6765 6c6f 670a 0a23 2320  # Changelog..## 
-00000010: 5b30 2e36 2e32 2e31 5d28 6874 7470 733a  [0.6.2.1](https:
-00000020: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-00000030: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-00000040: 6b61 7361 2f74 7265 652f 302e 362e 322e  kasa/tree/0.6.2.
-00000050: 3129 2028 3230 3234 2d30 322d 3032 290a  1) (2024-02-02).
-00000060: 0a5b 4675 6c6c 2043 6861 6e67 656c 6f67  .[Full Changelog
-00000070: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00000080: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-00000090: 2f70 7974 686f 6e2d 6b61 7361 2f63 6f6d  /python-kasa/com
-000000a0: 7061 7265 2f30 2e36 2e32 2e2e 2e30 2e36  pare/0.6.2...0.6
-000000b0: 2e32 2e31 290a 0a2a 2a46 6978 6564 2062  .2.1)..**Fixed b
-000000c0: 7567 733a 2a2a 0a0a 2d20 4176 6f69 6420  ugs:**..- Avoid 
-000000d0: 6372 6173 6869 6e67 206f 6e20 6368 696c  crashing on chil
-000000e0: 6464 6576 6963 6520 7072 6f70 6572 7479  ddevice property
-000000f0: 2061 6363 6573 7365 7320 5b5c 2337 3332   accesses [\#732
-00000100: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00000110: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-00000120: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-00000130: 6c2f 3733 3229 2028 4072 7974 696c 6168  l/732) (@rytilah
-00000140: 7469 290a 0a2a 2a4d 6572 6765 6420 7075  ti)..**Merged pu
-00000150: 6c6c 2072 6571 7565 7374 733a 2a2a 0a0a  ll requests:**..
-00000160: 2d20 5265 7461 696e 206c 6173 7420 7477  - Retain last tw
-00000170: 6f20 6368 6172 7320 666f 7220 6368 696c  o chars for chil
-00000180: 6472 656e 2064 6576 6963 655c 5f69 6420  dren device\_id 
-00000190: 5b5c 2337 3333 5d28 6874 7470 733a 2f2f  [\#733](https://
-000001a0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-000001b0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-000001c0: 7361 2f70 756c 6c2f 3733 3329 2028 4072  sa/pull/733) (@r
-000001d0: 7974 696c 6168 7469 290a 2d20 4164 6420  ytilahti).- Add 
-000001e0: 5450 3135 2066 6978 7475 7265 205b 5c23  TP15 fixture [\#
-000001f0: 3733 305d 2868 7474 7073 3a2f 2f67 6974  730](https://git
+00000010: 5b30 2e37 2e30 2e64 6576 305d 2868 7474  [0.7.0.dev0](htt
+00000020: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00000030: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00000040: 6f6e 2d6b 6173 612f 7472 6565 2f30 2e37  on-kasa/tree/0.7
+00000050: 2e30 2e64 6576 3029 2028 3230 3234 2d30  .0.dev0) (2024-0
+00000060: 352d 3139 290a 0a5b 4675 6c6c 2043 6861  5-19)..[Full Cha
+00000070: 6e67 656c 6f67 5d28 6874 7470 733a 2f2f  ngelog](https://
+00000080: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00000090: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+000000a0: 7361 2f63 6f6d 7061 7265 2f30 2e36 2e32  sa/compare/0.6.2
+000000b0: 2e31 2e2e 2e30 2e37 2e30 2e64 6576 3029  .1...0.7.0.dev0)
+000000c0: 0a0a 2a2a 4272 6561 6b69 6e67 2063 6861  ..**Breaking cha
+000000d0: 6e67 6573 3a2a 2a0a 0a2d 204d 6f76 6520  nges:**..- Move 
+000000e0: 536d 6172 7442 756c 6220 696e 746f 2053  SmartBulb into S
+000000f0: 6d61 7274 4465 7669 6365 205b 5c23 3837  martDevice [\#87
+00000100: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
+00000110: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00000120: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00000130: 6c6c 2f38 3734 2920 2840 7364 6239 3639  ll/874) (@sdb969
+00000140: 3629 0a2d 2043 6861 6e67 6520 7374 6174  6).- Change stat
+00000150: 655c 5f69 6e66 6f72 6d61 7469 6f6e 2074  e\_information t
+00000160: 6f20 7265 7475 726e 2066 6561 7475 7265  o return feature
+00000170: 2076 616c 7565 7320 5b5c 2338 3034 5d28   values [\#804](
+00000180: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00000190: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+000001a0: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+000001b0: 3830 3429 2028 4072 7974 696c 6168 7469  804) (@rytilahti
+000001c0: 290a 2d20 5265 6d6f 7665 2053 6d61 7274  ).- Remove Smart
+000001d0: 506c 7567 2069 6e20 6661 766f 7220 6f66  Plug in favor of
+000001e0: 2053 6d61 7274 4465 7669 6365 205b 5c23   SmartDevice [\#
+000001f0: 3738 315d 2868 7474 7073 3a2f 2f67 6974  781](https://git
 00000200: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
 00000210: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-00000220: 7075 6c6c 2f37 3330 2920 2840 6264 7261  pull/730) (@bdra
-00000230: 636f 290a 2d20 4164 6420 5450 3235 2066  co).- Add TP25 f
-00000240: 6978 7475 7265 7320 5b5c 2337 3239 5d28  ixtures [\#729](
-00000250: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00000260: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00000270: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
-00000280: 3732 3929 2028 4062 6472 6163 6f29 0a2d  729) (@bdraco).-
-00000290: 2056 6172 696f 7573 2074 6573 7420 636f   Various test co
-000002a0: 6465 2063 6c65 616e 7570 7320 5b5c 2337  de cleanups [\#7
-000002b0: 3235 5d28 6874 7470 733a 2f2f 6769 7468  25](https://gith
-000002c0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-000002d0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-000002e0: 756c 6c2f 3732 3529 2028 4072 7974 696c  ull/725) (@rytil
-000002f0: 6168 7469 290a 2d20 556e 6967 6e6f 7265  ahti).- Unignore
-00000300: 2046 3430 3120 666f 7220 7465 7374 7320   F401 for tests 
-00000310: 5b5c 2337 3234 5d28 6874 7470 733a 2f2f  [\#724](https://
-00000320: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00000330: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-00000340: 7361 2f70 756c 6c2f 3732 3429 2028 4072  sa/pull/724) (@r
-00000350: 7974 696c 6168 7469 290a 0a23 2320 5b30  ytilahti)..## [0
-00000360: 2e36 2e32 5d28 6874 7470 733a 2f2f 6769  .6.2](https://gi
-00000370: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-00000380: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-00000390: 2f74 7265 652f 302e 362e 3229 2028 3230  /tree/0.6.2) (20
-000003a0: 3234 2d30 312d 3239 290a 0a5b 4675 6c6c  24-01-29)..[Full
-000003b0: 2043 6861 6e67 656c 6f67 5d28 6874 7470   Changelog](http
-000003c0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-000003d0: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-000003e0: 6e2d 6b61 7361 2f63 6f6d 7061 7265 2f30  n-kasa/compare/0
-000003f0: 2e36 2e31 2e2e 2e30 2e36 2e32 290a 0a52  .6.1...0.6.2)..R
-00000400: 656c 6561 7365 2068 6967 686c 6967 6874  elease highlight
-00000410: 733a 0d0a 2a20 5375 7070 6f72 7420 666f  s:..* Support fo
-00000420: 7220 7461 706f 2070 6f77 6572 2073 7472  r tapo power str
-00000430: 6970 7320 2850 3330 3029 0d0a 2a20 5065  ips (P300)..* Pe
-00000440: 7266 6f72 6d61 6e63 6520 696d 7072 6f76  rformance improv
-00000450: 656d 656e 7473 2061 6e64 2062 7567 2066  ements and bug f
-00000460: 6978 6573 0a0a 2a2a 496d 706c 656d 656e  ixes..**Implemen
-00000470: 7465 6420 656e 6861 6e63 656d 656e 7473  ted enhancements
-00000480: 3a2a 2a0a 0a2d 2049 6d70 6c65 6d65 6e74  :**..- Implement
-00000490: 2061 6c69 6173 2073 6574 2066 6f72 2074   alias set for t
-000004a0: 6170 6f64 6576 6963 6520 5b5c 2337 3231  apodevice [\#721
-000004b0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-000004c0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-000004d0: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-000004e0: 6c2f 3732 3129 2028 4072 7974 696c 6168  l/721) (@rytilah
-000004f0: 7469 290a 2d20 5265 6475 6365 2074 6865  ti).- Reduce the
-00000500: 206e 756d 6265 7220 6f66 2074 696d 6573   number of times
-00000510: 2063 7265 6174 696e 6720 7468 6520 6369   creating the ci
-00000520: 7068 6572 2069 6e20 6b6c 6170 205b 5c23  pher in klap [\#
-00000530: 3731 325d 2868 7474 7073 3a2f 2f67 6974  712](https://git
-00000540: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-00000550: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-00000560: 7075 6c6c 2f37 3132 2920 2840 6264 7261  pull/712) (@bdra
-00000570: 636f 290a 2d20 5573 6520 6861 7368 6c69  co).- Use hashli
-00000580: 6220 666f 7220 6b6c 6170 205b 5c23 3731  b for klap [\#71
-00000590: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
-000005a0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-000005b0: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-000005c0: 6c6c 2f37 3131 2920 2840 6264 7261 636f  ll/711) (@bdraco
-000005d0: 290a 2d20 496e 6974 6961 6c20 7375 7070  ).- Initial supp
-000005e0: 6f72 7420 666f 7220 7461 706f 7320 7769  ort for tapos wi
-000005f0: 7468 2063 6869 6c64 2064 6576 6963 6573  th child devices
-00000600: 205b 5c23 3732 305d 2868 7474 7073 3a2f   [\#720](https:/
-00000610: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-00000620: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-00000630: 6173 612f 7075 6c6c 2f37 3230 2920 2840  asa/pull/720) (@
-00000640: 7279 7469 6c61 6874 6929 0a2d 2041 766f  rytilahti).- Avo
-00000650: 6964 2072 6562 7569 6c64 696e 6720 7572  id rebuilding ur
-00000660: 6c73 2066 6f72 2065 7665 7279 2072 6571  ls for every req
-00000670: 7565 7374 205b 5c23 3731 355d 2868 7474  uest [\#715](htt
-00000680: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00000690: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-000006a0: 6f6e 2d6b 6173 612f 7075 6c6c 2f37 3135  on-kasa/pull/715
-000006b0: 2920 2840 6264 7261 636f 290a 2d20 456e  ) (@bdraco).- En
-000006c0: 6162 6c65 2062 6174 6368 696e 6720 6f66  able batching of
-000006d0: 206d 756c 7469 706c 6520 7265 7175 6573   multiple reques
-000006e0: 7473 205b 5c23 3636 325d 2868 7474 7073  ts [\#662](https
-000006f0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-00000700: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-00000710: 2d6b 6173 612f 7075 6c6c 2f36 3632 2920  -kasa/pull/662) 
-00000720: 2840 7364 6239 3639 3629 0a2d 2053 6c65  (@sdb9696).- Sle
-00000730: 6570 2062 6574 7765 656e 2064 6973 636f  ep between disco
-00000740: 7665 7279 2070 6163 6b65 7473 205b 5c23  very packets [\#
-00000750: 3635 365d 2868 7474 7073 3a2f 2f67 6974  656](https://git
-00000760: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-00000770: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-00000780: 7075 6c6c 2f36 3536 2920 2840 7364 6239  pull/656) (@sdb9
-00000790: 3639 3629 0a0a 2a2a 4669 7865 6420 6275  696)..**Fixed bu
-000007a0: 6773 3a2a 2a0a 0a2d 2046 6978 2054 6170  gs:**..- Fix Tap
-000007b0: 6f42 756c 6220 7374 6174 6520 696e 666f  oBulb state info
-000007c0: 726d 6174 696f 6e20 666f 7220 6e6f 6e2d  rmation for non-
-000007d0: 6469 6d6d 6162 6c65 2053 4d41 5254 5357  dimmable SMARTSW
-000007e0: 4954 4348 205b 5c23 3732 365d 2868 7474  ITCH [\#726](htt
-000007f0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00000800: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-00000810: 6f6e 2d6b 6173 612f 7075 6c6c 2f37 3236  on-kasa/pull/726
-00000820: 2920 2840 7364 6239 3639 3629 0a0a 2a2a  ) (@sdb9696)..**
-00000830: 446f 6375 6d65 6e74 6174 696f 6e20 7570  Documentation up
-00000840: 6461 7465 733a 2a2a 0a0a 2d20 4164 6420  dates:**..- Add 
-00000850: 7072 6f74 6f63 6f6c 2061 6e64 2074 7261  protocol and tra
-00000860: 6e73 706f 7274 2064 6f63 756d 656e 7461  nsport documenta
-00000870: 7469 6f6e 205b 5c23 3636 335d 2868 7474  tion [\#663](htt
-00000880: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00000890: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-000008a0: 6f6e 2d6b 6173 612f 7075 6c6c 2f36 3633  on-kasa/pull/663
-000008b0: 2920 2840 7364 6239 3639 3629 0a0a 2a2a  ) (@sdb9696)..**
-000008c0: 436c 6f73 6564 2069 7373 7565 733a 2a2a  Closed issues:**
-000008d0: 0a0a 2d20 4e65 6564 2074 6f20 6265 2061  ..- Need to be a
-000008e0: 626c 6520 746f 2062 6f74 6820 636c 6f73  ble to both clos
-000008f0: 6520 616e 6420 7265 7365 7420 7472 616e  e and reset tran
-00000900: 7370 6f72 7473 205b 5c23 3637 315d 2868  sports [\#671](h
-00000910: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00000920: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-00000930: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
-00000940: 2f36 3731 290a 2d20 496d 7072 6f76 6520  /671).- Improve 
-00000950: 7265 2d75 7365 206f 6620 7072 6f74 6f63  re-use of protoc
-00000960: 6f6c 2063 6f64 652c 2070 6172 7469 6375  ol code, particu
-00000970: 6c61 726c 7920 6172 6f75 6e64 2072 6574  larly around ret
-00000980: 7279 206c 6f67 6963 2061 6e64 2074 6865  ry logic and the
-00000990: 2049 6f74 5072 6f74 6f63 6f6c 205b 5c23   IotProtocol [\#
-000009a0: 3634 395d 2868 7474 7073 3a2f 2f67 6974  649](https://git
-000009b0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-000009c0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-000009d0: 6973 7375 6573 2f36 3439 290a 0a2a 2a4d  issues/649)..**M
-000009e0: 6572 6765 6420 7075 6c6c 2072 6571 7565  erged pull reque
-000009f0: 7374 733a 2a2a 0a0a 2d20 5072 6570 6172  sts:**..- Prepar
-00000a00: 6520 302e 362e 3220 5b5c 2337 3238 5d28  e 0.6.2 [\#728](
-00000a10: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00000a20: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00000a30: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
-00000a40: 3732 3829 2028 4072 7974 696c 6168 7469  728) (@rytilahti
-00000a50: 290a 2d20 5570 6461 7465 204c 3531 3045  ).- Update L510E
-00000a60: 5c28 5553 5c29 2066 6978 7475 7265 2077  \(US\) fixture w
-00000a70: 6974 6820 6d61 6320 7072 6566 6978 205b  ith mac prefix [
-00000a80: 5c23 3732 325d 2868 7474 7073 3a2f 2f67  \#722](https://g
-00000a90: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-00000aa0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-00000ab0: 612f 7075 6c6c 2f37 3232 2920 2840 7364  a/pull/722) (@sd
-00000ac0: 6239 3639 3629 0a2d 2055 7365 2068 6173  b9696).- Use has
-00000ad0: 686c 6962 2069 6e20 706c 6163 6520 6f66  hlib in place of
-00000ae0: 2068 6173 6865 732e 4861 7368 205b 5c23   hashes.Hash [\#
-00000af0: 3731 345d 2868 7474 7073 3a2f 2f67 6974  714](https://git
-00000b00: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-00000b10: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-00000b20: 7075 6c6c 2f37 3134 2920 2840 6264 7261  pull/714) (@bdra
-00000b30: 636f 290a 2d20 5377 6974 6368 2066 726f  co).- Switch fro
-00000b40: 6d20 5450 4c69 6e6b 536d 6172 7448 6f6d  m TPLinkSmartHom
-00000b50: 6550 726f 746f 636f 6c20 746f 2049 6f74  eProtocol to Iot
-00000b60: 5072 6f74 6f63 6f6c 2f58 6f72 5472 616e  Protocol/XorTran
-00000b70: 7370 6f72 7420 5b5c 2337 3130 5d28 6874  sport [\#710](ht
-00000b80: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00000b90: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-00000ba0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3731  hon-kasa/pull/71
-00000bb0: 3029 2028 4073 6462 3936 3936 290a 2d20  0) (@sdb9696).- 
-00000bc0: 4164 6420 5033 3030 2066 6978 7475 7265  Add P300 fixture
-00000bd0: 205b 5c23 3731 375d 2868 7474 7073 3a2f   [\#717](https:/
-00000be0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-00000bf0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-00000c00: 6173 612f 7075 6c6c 2f37 3137 2920 2840  asa/pull/717) (@
-00000c10: 7279 7469 6c61 6874 6929 0a2d 2041 6464  rytilahti).- Add
-00000c20: 2063 6f6e 6372 6574 6520 586f 7254 7261   concrete XorTra
-00000c30: 6e73 706f 7274 2063 6c61 7373 2077 6974  nsport class wit
-00000c40: 6820 6675 6c6c 2069 6d70 6c65 6d65 6e74  h full implement
-00000c50: 6174 696f 6e20 5b5c 2336 3436 5d28 6874  ation [\#646](ht
-00000c60: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00000c70: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-00000c80: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3634  hon-kasa/pull/64
-00000c90: 3629 2028 4073 6462 3936 3936 290a 0a23  6) (@sdb9696)..#
-00000ca0: 2320 5b30 2e36 2e31 5d28 6874 7470 733a  # [0.6.1](https:
-00000cb0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-00000cc0: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-00000cd0: 6b61 7361 2f74 7265 652f 302e 362e 3129  kasa/tree/0.6.1)
-00000ce0: 2028 3230 3234 2d30 312d 3235 290a 0a5b   (2024-01-25)..[
-00000cf0: 4675 6c6c 2043 6861 6e67 656c 6f67 5d28  Full Changelog](
-00000d00: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00000d10: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00000d20: 7974 686f 6e2d 6b61 7361 2f63 6f6d 7061  ython-kasa/compa
-00000d30: 7265 2f30 2e36 2e30 2e31 2e2e 2e30 2e36  re/0.6.0.1...0.6
-00000d40: 2e31 290a 0a52 656c 6561 7365 2068 6967  .1)..Release hig
-00000d50: 686c 6967 6874 733a 0d0a 2a20 5375 7070  hlights:..* Supp
-00000d60: 6f72 7420 666f 7220 7461 706f 2077 616c  ort for tapo wal
-00000d70: 6c20 7377 6974 6368 6573 0d0a 2a20 5375  l switches..* Su
-00000d80: 7070 6f72 7420 666f 7220 756e 7072 6f76  pport for unprov
-00000d90: 6973 696f 6e65 6420 6465 7669 6365 730d  isioned devices.
-00000da0: 0a2a 2050 6572 666f 726d 616e 6365 2061  .* Performance a
-00000db0: 6e64 2073 7461 6269 6c69 7479 2069 6d70  nd stability imp
-00000dc0: 726f 7665 6d65 6e74 730a 0a2a 2a49 6d70  rovements..**Imp
-00000dd0: 6c65 6d65 6e74 6564 2065 6e68 616e 6365  lemented enhance
-00000de0: 6d65 6e74 733a 2a2a 0a0a 2d20 4164 6420  ments:**..- Add 
-00000df0: 7375 7070 6f72 7420 666f 7220 7461 706f  support for tapo
-00000e00: 2077 616c 6c20 7377 6974 6368 6573 205c   wall switches \
-00000e10: 2853 3530 3044 5c29 205b 5c23 3730 345d  (S500D\) [\#704]
-00000e20: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00000e30: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-00000e40: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
-00000e50: 2f37 3034 2920 2840 6264 7261 636f 290a  /704) (@bdraco).
-00000e60: 2d20 4164 6420 6e65 7720 636c 6920 636f  - Add new cli co
-00000e70: 6d6d 616e 6420 2763 6f6d 6d61 6e64 2720  mmand 'command' 
-00000e80: 746f 2065 7865 6375 7465 2061 7262 6974  to execute arbit
-00000e90: 7261 7279 2063 6f6d 6d61 6e64 7320 5b5c  rary commands [\
-00000ea0: 2336 3932 5d28 6874 7470 733a 2f2f 6769  #692](https://gi
-00000eb0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-00000ec0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-00000ed0: 2f70 756c 6c2f 3639 3229 2028 4072 7974  /pull/692) (@ryt
-00000ee0: 696c 6168 7469 290a 2d20 416c 6c6f 7720  ilahti).- Allow 
-00000ef0: 7261 772d 636f 6d6d 616e 6420 616e 6420  raw-command and 
-00000f00: 7769 6669 2077 6974 686f 7574 2075 7064  wifi without upd
-00000f10: 6174 6520 5b5c 2336 3838 5d28 6874 7470  ate [\#688](http
-00000f20: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-00000f30: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-00000f40: 6e2d 6b61 7361 2f70 756c 6c2f 3638 3829  n-kasa/pull/688)
-00000f50: 2028 4072 7974 696c 6168 7469 290a 2d20   (@rytilahti).- 
-00000f60: 4765 6e65 7261 7465 2041 4553 204b 6579  Generate AES Key
-00000f70: 5061 6972 206c 617a 696c 7920 5b5c 2336  Pair lazily [\#6
-00000f80: 3837 5d28 6874 7470 733a 2f2f 6769 7468  87](https://gith
-00000f90: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00000fa0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-00000fb0: 756c 6c2f 3638 3729 2028 4073 6462 3936  ull/687) (@sdb96
-00000fc0: 3936 290a 2d20 4164 6420 7265 626f 6f74  96).- Add reboot
-00000fd0: 2061 6e64 2066 6163 746f 7279 5c5f 7265   and factory\_re
-00000fe0: 7365 7420 746f 2074 6170 6f64 6576 6963  set to tapodevic
-00000ff0: 6520 5b5c 2336 3836 5d28 6874 7470 733a  e [\#686](https:
-00001000: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-00001010: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-00001020: 6b61 7361 2f70 756c 6c2f 3638 3629 2028  kasa/pull/686) (
-00001030: 4072 7974 696c 6168 7469 290a 2d20 5472  @rytilahti).- Tr
-00001040: 7920 6465 6661 756c 7420 7461 706f 2063  y default tapo c
-00001050: 7265 6465 6e74 6961 6c73 2066 6f72 206b  redentials for k
-00001060: 6c61 7020 616e 6420 6165 7320 5b5c 2336  lap and aes [\#6
-00001070: 3835 5d28 6874 7470 733a 2f2f 6769 7468  85](https://gith
-00001080: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00001090: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-000010a0: 756c 6c2f 3638 3529 2028 4073 6462 3936  ull/685) (@sdb96
-000010b0: 3936 290a 0a2a 2a46 6978 6564 2062 7567  96)..**Fixed bug
-000010c0: 733a 2a2a 0a0a 2d20 446f 206e 6f74 2063  s:**..- Do not c
-000010d0: 7261 7368 206f 6e20 6d69 7373 696e 6720  rash on missing 
-000010e0: 6765 6f6c 6f63 6174 696f 6e20 5b5c 2337  geolocation [\#7
-000010f0: 3031 5d28 6874 7470 733a 2f2f 6769 7468  01](https://gith
-00001100: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00001110: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-00001120: 756c 6c2f 3730 3129 2028 4072 7974 696c  ull/701) (@rytil
-00001130: 6168 7469 290a 2d20 4669 7820 5031 3030  ahti).- Fix P100
-00001140: 2065 7272 6f72 2067 6574 7469 6e67 2063   error getting c
-00001150: 6f6e 6e20 636c 6f73 6564 2077 6865 6e20  onn closed when 
-00001160: 7472 7969 6e67 2064 6566 6175 6c74 206c  trying default l
-00001170: 6f67 696e 2061 6674 6572 206c 6f67 696e  ogin after login
-00001180: 2066 6169 6c75 7265 205b 5c23 3639 305d   failure [\#690]
-00001190: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000011a0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-000011b0: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
-000011c0: 2f36 3930 2920 2840 7364 6239 3639 3629  /690) (@sdb9696)
-000011d0: 0a0a 2a2a 446f 6375 6d65 6e74 6174 696f  ..**Documentatio
-000011e0: 6e20 7570 6461 7465 733a 2a2a 0a0a 2d20  n updates:**..- 
-000011f0: 446f 6375 6d65 6e74 2061 7574 6865 6e74  Document authent
-00001200: 6963 6174 6564 2070 726f 7669 7369 6f6e  icated provision
-00001210: 696e 6720 5b5c 2336 3334 5d28 6874 7470  ing [\#634](http
-00001220: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-00001230: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-00001240: 6e2d 6b61 7361 2f70 756c 6c2f 3633 3429  n-kasa/pull/634)
-00001250: 2028 4072 7974 696c 6168 7469 290a 0a2a   (@rytilahti)..*
-00001260: 2a43 6c6f 7365 6420 6973 7375 6573 3a2a  *Closed issues:*
-00001270: 2a0a 0a2d 2068 6f77 2074 6f20 7072 6f76  *..- how to prov
-00001280: 6973 696f 6e20 6e65 7720 5461 706f 2070  ision new Tapo p
-00001290: 6c75 6720 6465 7669 6365 733f 205b 5c23  lug devices? [\#
-000012a0: 3536 355d 2868 7474 7073 3a2f 2f67 6974  565](https://git
-000012b0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-000012c0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-000012d0: 6973 7375 6573 2f35 3635 290a 2d20 5370  issues/565).- Sp
-000012e0: 6163 6520 6f75 7420 6469 7363 6f76 6572  ace out discover
-000012f0: 7920 7265 7175 6573 7473 205b 5c23 3232  y requests [\#22
-00001300: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
-00001310: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-00001320: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
-00001330: 7375 6573 2f32 3239 290a 2d20 436f 6e73  sues/229).- Cons
-00001340: 6964 6572 2068 616e 6473 6861 6b65 2061  ider handshake a
-00001350: 7320 7374 696c 6c20 7661 6c69 6420 6f6e  s still valid on
-00001360: 2053 6572 7665 7244 6973 636f 6e6e 6563   ServerDisconnec
-00001370: 7465 6445 7272 6f72 205b 5c23 3637 365d  tedError [\#676]
-00001380: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00001390: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-000013a0: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
-000013b0: 6573 2f36 3736 290a 2d20 4145 5320 5472  es/676).- AES Tr
-000013c0: 616e 7370 6f72 7420 6372 6561 7465 7320  ansport creates 
-000013d0: 7468 6520 6b65 7920 6576 656e 2069 6620  the key even if 
-000013e0: 7468 6520 6465 7669 6365 2069 7320 6f66  the device is of
-000013f0: 666c 696e 6520 5b5c 2336 3735 5d28 6874  fline [\#675](ht
-00001400: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00001410: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-00001420: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
-00001430: 3637 3529 0a0a 2a2a 4d65 7267 6564 2070  675)..**Merged p
-00001440: 756c 6c20 7265 7175 6573 7473 3a2a 2a0a  ull requests:**.
-00001450: 0a2d 2050 7265 7061 7265 2030 2e36 2e31  .- Prepare 0.6.1
-00001460: 205b 5c23 3730 395d 2868 7474 7073 3a2f   [\#709](https:/
-00001470: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-00001480: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-00001490: 6173 612f 7075 6c6c 2f37 3039 2920 2840  asa/pull/709) (@
-000014a0: 7279 7469 6c61 6874 6929 0a2d 2041 6464  rytilahti).- Add
-000014b0: 2061 6464 6974 696f 6e61 6c20 4c39 3030   additional L900
-000014c0: 2d31 3020 6669 7874 7572 6520 5b5c 2337  -10 fixture [\#7
-000014d0: 3037 5d28 6874 7470 733a 2f2f 6769 7468  07](https://gith
-000014e0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-000014f0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-00001500: 756c 6c2f 3730 3729 2028 4062 6472 6163  ull/707) (@bdrac
-00001510: 6f29 0a2d 2052 6570 6c61 6365 2072 6963  o).- Replace ric
-00001520: 6820 666f 726d 6174 7469 6e67 2073 7472  h formatting str
-00001530: 6970 7065 7220 5b5c 2337 3036 5d28 6874  ipper [\#706](ht
-00001540: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00001550: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-00001560: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3730  hon-kasa/pull/70
-00001570: 3629 2028 4062 6472 6163 6f29 0a2d 2041  6) (@bdraco).- A
-00001580: 6464 2073 7570 706f 7274 2066 6f72 2074  dd support for t
-00001590: 6865 2053 3530 3020 5b5c 2337 3035 5d28  he S500 [\#705](
-000015a0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000015b0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-000015c0: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
-000015d0: 3730 3529 2028 4062 6472 6163 6f29 0a2d  705) (@bdraco).-
-000015e0: 2046 6978 206f 7665 726c 7920 6772 6565   Fix overly gree
-000015f0: 6479 205c 5f73 7472 6970 5c5f 7269 6368  dy \_strip\_rich
-00001600: 5c5f 666f 726d 6174 7469 6e67 205b 5c23  \_formatting [\#
-00001610: 3730 335d 2868 7474 7073 3a2f 2f67 6974  703](https://git
-00001620: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-00001630: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-00001640: 7075 6c6c 2f37 3033 2920 2840 6264 7261  pull/703) (@bdra
-00001650: 636f 290a 2d20 5570 6461 7465 2072 6561  co).- Update rea
-00001660: 646d 6520 6669 7874 7572 6520 6368 6563  dme fixture chec
-00001670: 6b65 7220 616e 6420 7265 6164 6d65 205b  ker and readme [
-00001680: 5c23 3639 395d 2868 7474 7073 3a2f 2f67  \#699](https://g
-00001690: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-000016a0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-000016b0: 612f 7075 6c6c 2f36 3939 2920 2840 7279  a/pull/699) (@ry
-000016c0: 7469 6c61 6874 6929 0a2d 2041 6464 204c  tilahti).- Add L
-000016d0: 3933 302d 3520 6669 7874 7572 6520 5b5c  930-5 fixture [\
-000016e0: 2336 3934 5d28 6874 7470 733a 2f2f 6769  #694](https://gi
-000016f0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-00001700: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-00001710: 2f70 756c 6c2f 3639 3429 2028 4062 6472  /pull/694) (@bdr
-00001720: 6163 6f29 0a2d 2041 6464 2066 6978 7475  aco).- Add fixtu
-00001730: 7265 7320 666f 7220 4c35 3130 4520 5b5c  res for L510E [\
-00001740: 2336 3933 5d28 6874 7470 733a 2f2f 6769  #693](https://gi
-00001750: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-00001760: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-00001770: 2f70 756c 6c2f 3639 3329 2028 4062 6472  /pull/693) (@bdr
-00001780: 6163 6f29 0a2d 2055 7064 6174 6520 7472  aco).- Update tr
-00001790: 616e 7370 6f72 7420 636c 6f73 652f 7265  ansport close/re
-000017a0: 7365 7420 6265 6861 7669 6f75 7220 5b5c  set behaviour [\
-000017b0: 2336 3839 5d28 6874 7470 733a 2f2f 6769  #689](https://gi
-000017c0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-000017d0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-000017e0: 2f70 756c 6c2f 3638 3929 2028 4073 6462  /pull/689) (@sdb
-000017f0: 3936 3936 290a 2d20 4368 6563 6b20 5245  9696).- Check RE
-00001800: 4144 4d45 2066 6f72 2073 7570 706f 7274  ADME for support
-00001810: 6564 206d 6f64 656c 7320 5b5c 2336 3834  ed models [\#684
-00001820: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00001830: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-00001840: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-00001850: 6c2f 3638 3429 2028 4072 7974 696c 6168  l/684) (@rytilah
-00001860: 7469 290a 2d20 4164 6420 5031 3030 2074  ti).- Add P100 t
-00001870: 6573 7420 6669 7874 7572 6520 5b5c 2336  est fixture [\#6
-00001880: 3833 5d28 6874 7470 733a 2f2f 6769 7468  83](https://gith
-00001890: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-000018a0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-000018b0: 756c 6c2f 3638 3329 2028 4062 6472 6163  ull/683) (@bdrac
-000018c0: 6f29 0a2d 204d 616b 6520 6475 6d70 5c5f  o).- Make dump\_
-000018d0: 6465 7669 6e66 6f20 7265 7175 6573 7420  devinfo request 
-000018e0: 6261 7463 6820 7369 7a65 2063 6f6e 6669  batch size confi
-000018f0: 6775 7261 626c 6520 5b5c 2336 3831 5d28  gurable [\#681](
-00001900: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00001910: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00001920: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
-00001930: 3638 3129 2028 4073 6462 3936 3936 290a  681) (@sdb9696).
-00001940: 2d20 4164 6420 7570 6461 7465 6420 4c39  - Add updated L9
-00001950: 3230 2066 6978 7475 7265 205b 5c23 3638  20 fixture [\#68
-00001960: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-00001970: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-00001980: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-00001990: 6c6c 2f36 3830 2920 2840 6264 7261 636f  ll/680) (@bdraco
-000019a0: 290a 2d20 5570 6461 7465 2066 6978 7475  ).- Update fixtu
-000019b0: 7265 7320 6672 6f6d 2074 6573 7420 6465  res from test de
-000019c0: 7669 6365 7320 5b5c 2336 3739 5d28 6874  vices [\#679](ht
-000019d0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000019e0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-000019f0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3637  hon-kasa/pull/67
-00001a00: 3929 2028 4062 6472 6163 6f29 0a2d 2053  9) (@bdraco).- S
-00001a10: 686f 7720 6469 7363 6f76 6572 7920 6461  how discovery da
-00001a20: 7461 2066 6f72 2073 7461 7465 2077 6974  ta for state wit
-00001a30: 6820 7665 7262 6f73 6520 5b5c 2336 3738  h verbose [\#678
-00001a40: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00001a50: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-00001a60: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-00001a70: 6c2f 3637 3829 2028 4072 7974 696c 6168  l/678) (@rytilah
-00001a80: 7469 290a 2d20 4164 6420 4c35 3330 455c  ti).- Add L530E\
-00001a90: 2855 535c 2920 6669 7874 7572 6520 5b5c  (US\) fixture [\
-00001aa0: 2336 3734 5d28 6874 7470 733a 2f2f 6769  #674](https://gi
-00001ab0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-00001ac0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-00001ad0: 2f70 756c 6c2f 3637 3429 2028 4062 6472  /pull/674) (@bdr
-00001ae0: 6163 6f29 0a2d 2041 6464 2050 3133 3520  aco).- Add P135 
-00001af0: 6669 7874 7572 6520 5b5c 2336 3733 5d28  fixture [\#673](
-00001b00: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00001b10: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00001b20: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
-00001b30: 3637 3329 2028 4062 6472 6163 6f29 0a2d  673) (@bdraco).-
-00001b40: 2052 656e 616d 6520 6261 7365 2054 504c   Rename base TPL
-00001b50: 696e 6b50 726f 746f 636f 6c20 746f 2042  inkProtocol to B
-00001b60: 6173 6550 726f 746f 636f 6c20 5b5c 2336  aseProtocol [\#6
-00001b70: 3639 5d28 6874 7470 733a 2f2f 6769 7468  69](https://gith
-00001b80: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00001b90: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-00001ba0: 756c 6c2f 3636 3929 2028 4073 6462 3936  ull/669) (@sdb96
-00001bb0: 3936 290a 2d20 456e 7375 7265 206c 6f67  96).- Ensure log
-00001bc0: 696e 2074 6f6b 656e 2069 7320 6f6e 6c79  in token is only
-00001bd0: 2073 656e 7420 6966 2061 6573 2073 7461   sent if aes sta
-00001be0: 7465 2069 7320 4553 5441 424c 4953 4845  te is ESTABLISHE
-00001bf0: 4420 5b5c 2337 3032 5d28 6874 7470 733a  D [\#702](https:
-00001c00: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-00001c10: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-00001c20: 6b61 7361 2f70 756c 6c2f 3730 3229 2028  kasa/pull/702) (
-00001c30: 4062 6472 6163 6f29 0a2d 2046 6978 2074  @bdraco).- Fix t
-00001c40: 6573 745c 5f6b 6c61 7070 726f 746f 636f  est\_klapprotoco
-00001c50: 6c20 7465 7374 2064 7572 6174 696f 6e20  l test duration 
-00001c60: 5b5c 2336 3938 5d28 6874 7470 733a 2f2f  [\#698](https://
-00001c70: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00001c80: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-00001c90: 7361 2f70 756c 6c2f 3639 3829 2028 4073  sa/pull/698) (@s
-00001ca0: 6462 3936 3936 290a 2d20 5265 6e65 7720  db9696).- Renew 
-00001cb0: 7468 6520 6861 6e64 7368 616b 6520 7365  the handshake se
-00001cc0: 7373 696f 6e20 3230 206d 696e 7574 6573  ssion 20 minutes
-00001cd0: 2062 6566 6f72 6520 7765 2074 6869 6e6b   before we think
-00001ce0: 2069 7420 7769 6c6c 2065 7870 6972 6520   it will expire 
-00001cf0: 5b5c 2336 3937 5d28 6874 7470 733a 2f2f  [\#697](https://
-00001d00: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00001d10: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-00001d20: 7361 2f70 756c 6c2f 3639 3729 2028 4062  sa/pull/697) (@b
-00001d30: 6472 6163 6f29 0a2d 2041 6464 202d 2d62  draco).- Add --b
-00001d40: 6174 6368 2d73 697a 6520 6869 6e74 2074  atch-size hint t
-00001d50: 6f20 7469 6d65 6f75 7420 6572 726f 7273  o timeout errors
-00001d60: 2069 6e20 6475 6d70 5c5f 6465 7669 6e66   in dump\_devinf
-00001d70: 6f20 5b5c 2336 3936 5d28 6874 7470 733a  o [\#696](https:
-00001d80: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-00001d90: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-00001da0: 6b61 7361 2f70 756c 6c2f 3639 3629 2028  kasa/pull/696) (
-00001db0: 4073 6462 3936 3936 290a 2d20 5265 6661  @sdb9696).- Refa
-00001dc0: 6374 6f72 2061 6573 7472 616e 7370 6f72  ctor aestranspor
-00001dd0: 7420 746f 2075 7365 2061 2073 7461 7465  t to use a state
-00001de0: 2065 6e75 6d20 5b5c 2336 3931 5d28 6874   enum [\#691](ht
-00001df0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00001e00: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-00001e10: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3639  hon-kasa/pull/69
-00001e20: 3129 2028 4062 6472 6163 6f29 0a2d 2041  1) (@bdraco).- A
-00001e30: 6464 2031 3030 3320 5c28 5452 414e 5350  dd 1003 \(TRANSP
-00001e40: 4f52 545c 5f55 4e4b 4e4f 574e 5c5f 4352  ORT\_UNKNOWN\_CR
-00001e50: 4544 454e 5449 414c 535c 5f45 5252 4f52  EDENTIALS\_ERROR
-00001e60: 5c29 205b 5c23 3636 375d 2868 7474 7073  \) [\#667](https
-00001e70: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-00001e80: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-00001e90: 2d6b 6173 612f 7075 6c6c 2f36 3637 2920  -kasa/pull/667) 
-00001ea0: 2840 7279 7469 6c61 6874 6929 0a0a 2323  (@rytilahti)..##
-00001eb0: 205b 302e 362e 302e 315d 2868 7474 7073   [0.6.0.1](https
-00001ec0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-00001ed0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-00001ee0: 2d6b 6173 612f 7472 6565 2f30 2e36 2e30  -kasa/tree/0.6.0
-00001ef0: 2e31 2920 2832 3032 342d 3031 2d32 3129  .1) (2024-01-21)
-00001f00: 0a0a 5b46 756c 6c20 4368 616e 6765 6c6f  ..[Full Changelo
-00001f10: 675d 2868 7474 7073 3a2f 2f67 6974 6875  g](https://githu
-00001f20: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-00001f30: 612f 7079 7468 6f6e 2d6b 6173 612f 636f  a/python-kasa/co
-00001f40: 6d70 6172 652f 302e 362e 302e 2e2e 302e  mpare/0.6.0...0.
-00001f50: 362e 302e 3129 0a0a 4120 7061 7463 6820  6.0.1)..A patch 
-00001f60: 7265 6c65 6173 6520 746f 2069 6d70 726f  release to impro
-00001f70: 7665 2074 6865 2070 726f 746f 636f 6c20  ve the protocol 
-00001f80: 6861 6e64 6c69 6e67 2e0a 0a2a 2a46 6978  handling...**Fix
-00001f90: 6564 2062 7567 733a 2a2a 0a0a 2d20 4669  ed bugs:**..- Fi
-00001fa0: 7820 6874 7470 636c 6965 6e74 2065 7863  x httpclient exc
-00001fb0: 6570 7469 6f6e 7320 6f6e 2072 6561 6420  eptions on read 
-00001fc0: 616e 6420 696d 7072 6f76 6520 6572 726f  and improve erro
-00001fd0: 7220 696e 666f 205b 5c23 3635 355d 2868  r info [\#655](h
-00001fe0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00001ff0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-00002000: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f36  thon-kasa/pull/6
-00002010: 3535 2920 2840 7364 6239 3639 3629 0a2d  55) (@sdb9696).-
-00002020: 2049 6d70 726f 7665 2061 6e64 2064 6f63   Improve and doc
-00002030: 756d 656e 7420 636c 6f73 6520 6265 6861  ument close beha
-00002040: 7669 6f72 2020 5b5c 2336 3534 5d28 6874  vior  [\#654](ht
-00002050: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00002060: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-00002070: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3635  hon-kasa/pull/65
-00002080: 3429 2028 4062 6472 6163 6f29 0a0a 2a2a  4) (@bdraco)..**
-00002090: 436c 6f73 6564 2069 7373 7565 733a 2a2a  Closed issues:**
-000020a0: 0a0a 2d20 446f 206e 6f74 2072 6564 6163  ..- Do not redac
-000020b0: 7420 4f55 4920 666f 7220 6669 7874 7572  t OUI for fixtur
-000020c0: 6573 205b 5c23 3635 325d 2868 7474 7073  es [\#652](https
-000020d0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-000020e0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-000020f0: 2d6b 6173 612f 6973 7375 6573 2f36 3532  -kasa/issues/652
-00002100: 290a 0a2a 2a4d 6572 6765 6420 7075 6c6c  )..**Merged pull
-00002110: 2072 6571 7565 7374 733a 2a2a 0a0a 2d20   requests:**..- 
-00002120: 5265 6c65 6173 6520 302e 362e 302e 3120  Release 0.6.0.1 
-00002130: 5b5c 2336 3636 5d28 6874 7470 733a 2f2f  [\#666](https://
-00002140: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00002150: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-00002160: 7361 2f70 756c 6c2f 3636 3629 2028 4072  sa/pull/666) (@r
-00002170: 7974 696c 6168 7469 290a 2d20 4164 6420  ytilahti).- Add 
-00002180: 6c39 3030 2d35 2031 2e31 2e30 2066 6978  l900-5 1.1.0 fix
-00002190: 7475 7265 205b 5c23 3636 345d 2868 7474  ture [\#664](htt
-000021a0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000021b0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-000021c0: 6f6e 2d6b 6173 612f 7075 6c6c 2f36 3634  on-kasa/pull/664
-000021d0: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
-000021e0: 2041 6464 2066 6978 7475 7265 7320 7769   Add fixtures wi
-000021f0: 7468 206e 6577 204d 4143 206d 6173 6b20  th new MAC mask 
-00002200: 5b5c 2336 3631 5d28 6874 7470 733a 2f2f  [\#661](https://
-00002210: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00002220: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-00002230: 7361 2f70 756c 6c2f 3636 3129 2028 4073  sa/pull/661) (@s
-00002240: 6462 3936 3936 290a 2d20 4d61 6b65 2063  db9696).- Make c
-00002250: 6c6f 7365 2062 6568 6176 696f 7572 2063  lose behaviour c
-00002260: 6f6e 7369 7374 656e 7420 6163 726f 7373  onsistent across
-00002270: 206e 6577 2070 726f 746f 636f 6c73 2061   new protocols a
-00002280: 6e64 2074 7261 6e73 706f 7274 7320 5b5c  nd transports [\
-00002290: 2336 3630 5d28 6874 7470 733a 2f2f 6769  #660](https://gi
-000022a0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-000022b0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-000022c0: 2f70 756c 6c2f 3636 3029 2028 4073 6462  /pull/660) (@sdb
-000022d0: 3936 3936 290a 2d20 4669 7820 6d69 6e6f  9696).- Fix mino
-000022e0: 7220 7479 706f 7320 696e 2064 6f63 7374  r typos in docst
-000022f0: 7269 6e67 7320 5b5c 2336 3539 5d28 6874  rings [\#659](ht
-00002300: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00002310: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-00002320: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3635  hon-kasa/pull/65
-00002330: 3929 2028 4062 6472 6163 6f29 0a2d 2064  9) (@bdraco).- d
-00002340: 756d 705c 5f64 6576 696e 666f 2069 6d70  ump\_devinfo imp
-00002350: 726f 7665 6d65 6e74 7320 5b5c 2336 3537  rovements [\#657
-00002360: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00002370: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-00002380: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-00002390: 6c2f 3635 3729 2028 4072 7974 696c 6168  l/657) (@rytilah
-000023a0: 7469 290a 0a23 2320 5b30 2e36 2e30 5d28  ti)..## [0.6.0](
-000023b0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000023c0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-000023d0: 7974 686f 6e2d 6b61 7361 2f74 7265 652f  ython-kasa/tree/
-000023e0: 302e 362e 3029 2028 3230 3234 2d30 312d  0.6.0) (2024-01-
-000023f0: 3139 290a 0a5b 4675 6c6c 2043 6861 6e67  19)..[Full Chang
-00002400: 656c 6f67 5d28 6874 7470 733a 2f2f 6769  elog](https://gi
-00002410: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-00002420: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-00002430: 2f63 6f6d 7061 7265 2f30 2e35 2e34 2e2e  /compare/0.5.4..
-00002440: 2e30 2e36 2e30 290a 0a54 6869 7320 6d61  .0.6.0)..This ma
-00002450: 6a6f 7220 6272 696e 6773 206d 616a 6f72  jor brings major
-00002460: 2063 6861 6e67 6573 2074 6f20 7468 6520   changes to the 
-00002470: 6c69 6272 6172 7920 6279 2061 6464 696e  library by addin
-00002480: 6720 7375 7070 6f72 7420 666f 7220 6465  g support for de
-00002490: 7669 6365 7320 7468 6174 2072 6571 7569  vices that requi
-000024a0: 7265 2061 7574 6865 6e74 6963 6174 696f  re authenticatio
-000024b0: 6e20 666f 7220 636f 6d6d 756e 6963 6174  n for communicat
-000024c0: 696f 6e73 2c20 616c 6c20 6f66 2074 6869  ions, all of thi
-000024d0: 7320 6265 696e 6720 706f 7373 6962 6c65  s being possible
-000024e0: 2074 6861 6e6b 7320 746f 2074 6865 2067   thanks to the g
-000024f0: 7265 6174 2077 6f72 6b20 6279 2040 7364  reat work by @sd
-00002500: 6239 3639 3621 0d0a 0d0a 5468 6973 2072  b9696!....This r
-00002510: 656c 6561 7365 2061 6464 7320 7375 7070  elease adds supp
-00002520: 6f72 7420 746f 2061 206c 6172 6765 2072  ort to a large r
-00002530: 616e 6765 206f 6620 7072 6576 696f 7573  ange of previous
-00002540: 6c79 2075 6e73 7570 706f 7274 6564 2064  ly unsupported d
-00002550: 6576 6963 6573 2c20 696e 636c 7564 696e  evices, includin
-00002560: 673a 0d0a 0d0a 2a20 4e65 7765 7220 6b61  g:....* Newer ka
-00002570: 7361 2d62 7261 6e64 6564 2064 6576 6963  sa-branded devic
-00002580: 6573 2c20 696e 636c 7564 696e 6720 4d61  es, including Ma
-00002590: 7474 6572 2d65 6e61 626c 6564 2064 6576  tter-enabled dev
-000025a0: 6963 6573 206c 696b 6520 4b50 3132 354d  ices like KP125M
-000025b0: 0d0a 2a20 4e65 7765 7220 6861 7264 7761  ..* Newer hardwa
-000025c0: 7265 2f66 6972 6d77 6172 6520 7665 7273  re/firmware vers
-000025d0: 696f 6e73 206f 6e20 736f 6d65 206d 6f64  ions on some mod
-000025e0: 656c 732c 206c 696b 6520 4550 3235 2c20  els, like EP25, 
-000025f0: 7468 6174 2073 7564 6465 6e6c 7920 6368  that suddenly ch
-00002600: 616e 6765 6420 7468 6520 7573 6564 2070  anged the used p
-00002610: 726f 746f 636f 6c0d 0a2a 2054 6170 6f2d  rotocol..* Tapo-
-00002620: 6272 616e 6465 6420 6465 7669 6365 7320  branded devices 
-00002630: 6c69 6b65 2070 6c75 6773 2028 5031 3130  like plugs (P110
-00002640: 292c 206c 6967 6874 2062 756c 6273 2028  ), light bulbs (
-00002650: 4b4c 3533 3029 2c20 4c45 4420 7374 7269  KL530), LED stri
-00002660: 7073 2028 4c39 3030 2c20 4c39 3230 292c  ps (L900, L920),
-00002670: 2061 6e64 2077 616c 6c20 7377 6974 6368   and wall switch
-00002680: 6573 2028 4b53 3230 352c 204b 5332 3235  es (KS205, KS225
-00002690: 290d 0a2a 2055 4b20 7661 7269 616e 7420  )..* UK variant 
-000026a0: 6f66 2048 5331 3130 2c20 7768 6963 6820  of HS110, which 
-000026b0: 7761 7320 7468 6520 6669 7273 7420 6465  was the first de
-000026c0: 7669 6365 2075 7369 6e67 2074 6865 206e  vice using the n
-000026d0: 6577 2070 726f 746f 636f 6c0d 0a0d 0a49  ew protocol....I
-000026e0: 6620 796f 7572 2064 6576 6963 6520 7468  f your device th
-000026f0: 6174 2069 7320 6e6f 7420 6375 7272 656e  at is not curren
-00002700: 746c 7920 6c69 7374 6564 2061 7320 7375  tly listed as su
-00002710: 7070 6f72 7465 6420 6973 2077 6f72 6b69  pported is worki
-00002720: 6e67 2c20 706c 6561 7365 2063 6f6e 7369  ng, please consi
-00002730: 6465 7220 636f 6e74 7269 6275 7469 6e67  der contributing
-00002740: 2061 2074 6573 7420 6669 7874 7572 6520   a test fixture 
-00002750: 6669 6c65 2e0d 0a0d 0a53 7065 6369 616c  file.....Special
-00002760: 2074 6861 6e6b 7320 676f 6573 2074 6f20   thanks goes to 
-00002770: 4053 696d 6f6e 5769 6c6b 696e 736f 6e20  @SimonWilkinson 
-00002780: 7768 6f20 6372 6561 7465 6420 7468 6520  who created the 
-00002790: 696e 6974 6961 6c20 5052 2066 6f72 2074  initial PR for t
-000027a0: 6865 206e 6577 2063 6f6d 6d75 6e69 6361  he new communica
-000027b0: 7469 6f6e 2070 726f 746f 636f 6c21 0a0a  tion protocol!..
-000027c0: 2a2a 4272 6561 6b69 6e67 2063 6861 6e67  **Breaking chang
-000027d0: 6573 3a2a 2a0a 0a2d 2041 6464 2044 6576  es:**..- Add Dev
-000027e0: 6963 6543 6f6e 6669 6720 746f 2061 6c6c  iceConfig to all
-000027f0: 6f77 2073 7065 6369 6679 696e 6720 636f  ow specifying co
-00002800: 6e66 6967 7572 6174 696f 6e20 7061 7261  nfiguration para
-00002810: 6d65 7465 7273 205b 5c23 3536 395d 2868  meters [\#569](h
-00002820: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00002830: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-00002840: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f35  thon-kasa/pull/5
-00002850: 3639 2920 2840 7364 6239 3639 3629 0a2d  69) (@sdb9696).-
-00002860: 204d 6f76 6520 636f 6e6e 6563 745c 5f73   Move connect\_s
-00002870: 696e 676c 6520 746f 2053 6d61 7274 4465  ingle to SmartDe
-00002880: 7669 6365 2e63 6f6e 6e65 6374 205b 5c23  vice.connect [\#
-00002890: 3533 385d 2868 7474 7073 3a2f 2f67 6974  538](https://git
-000028a0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-000028b0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-000028c0: 7075 6c6c 2f35 3338 2920 2840 6264 7261  pull/538) (@bdra
-000028d0: 636f 290a 0a2a 2a49 6d70 6c65 6d65 6e74  co)..**Implement
-000028e0: 6564 2065 6e68 616e 6365 6d65 6e74 733a  ed enhancements:
-000028f0: 2a2a 0a0a 2d20 5375 7070 6f72 7420 666f  **..- Support fo
-00002900: 7220 4b53 3232 355c 2855 535c 2920 4c69  r KS225\(US\) Li
-00002910: 6768 7420 4469 6d6d 6572 2061 6e64 204b  ght Dimmer and K
-00002920: 5332 3035 5c28 5553 5c29 204c 6967 6874  S205\(US\) Light
-00002930: 2053 7769 7463 6820 5b5c 2335 3839 5d28   Switch [\#589](
-00002940: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00002950: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00002960: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
-00002970: 732f 3538 3929 0a2d 2053 6574 2074 696d  s/589).- Set tim
-00002980: 656f 7574 2075 7369 6e67 2063 6f6d 6d61  eout using comma
-00002990: 6e64 206c 696e 6520 7061 7261 6d65 7465  nd line paramete
-000029a0: 7273 205b 5c23 3331 305d 2868 7474 7073  rs [\#310](https
-000029b0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-000029c0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-000029d0: 2d6b 6173 612f 6973 7375 6573 2f33 3130  -kasa/issues/310
-000029e0: 290a 2d20 496d 706c 656d 656e 7420 7468  ).- Implement th
-000029f0: 6520 6e65 7720 7072 6f74 6f63 6f6c 205c  e new protocol \
-00002a00: 2848 5454 5020 6f76 6572 2038 302f 7463  (HTTP over 80/tc
-00002a10: 702c 2032 3030 3032 2f75 6470 2066 6f72  p, 20002/udp for
-00002a20: 2064 6973 636f 7665 7279 5c29 205b 5c23   discovery\) [\#
-00002a30: 3131 355d 2868 7474 7073 3a2f 2f67 6974  115](https://git
-00002a40: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-00002a50: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-00002a60: 6973 7375 6573 2f31 3135 290a 2d20 4765  issues/115).- Ge
-00002a70: 7420 6368 696c 6420 656d 6574 6572 7320  t child emeters 
-00002a80: 7769 7468 2043 4c49 205b 5c23 3632 335d  with CLI [\#623]
-00002a90: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00002aa0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-00002ab0: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
-00002ac0: 2f36 3233 2920 2840 4f62 6261 7932 290a  /623) (@Obbay2).
-00002ad0: 2d20 4176 6f69 6420 6c69 6e65 6172 2073  - Avoid linear s
-00002ae0: 6561 7263 6820 666f 7220 656d 6574 6572  earch for emeter
-00002af0: 2072 6561 6c74 696d 6520 616e 6420 656d   realtime and em
-00002b00: 6574 6572 5c5f 746f 6461 7920 5b5c 2336  eter\_today [\#6
-00002b10: 3232 5d28 6874 7470 733a 2f2f 6769 7468  22](https://gith
-00002b20: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00002b30: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-00002b40: 756c 6c2f 3632 3229 2028 4062 6472 6163  ull/622) (@bdrac
-00002b50: 6f29 0a2d 2041 6464 2075 7064 6174 652d  o).- Add update-
-00002b60: 6372 6564 656e 7469 616c 7320 636f 6d6d  credentials comm
-00002b70: 616e 6420 5b5c 2336 3230 5d28 6874 7470  and [\#620](http
-00002b80: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-00002b90: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-00002ba0: 6e2d 6b61 7361 2f70 756c 6c2f 3632 3029  n-kasa/pull/620)
-00002bb0: 2028 4072 7974 696c 6168 7469 290a 2d20   (@rytilahti).- 
-00002bc0: 456e 6162 6c65 206d 756c 7469 706c 6520  Enable multiple 
-00002bd0: 7265 7175 6573 7473 2069 6e20 736d 6172  requests in smar
-00002be0: 7470 726f 746f 636f 6c20 5b5c 2335 3834  tprotocol [\#584
-00002bf0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00002c00: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-00002c10: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-00002c20: 6c2f 3538 3429 2028 4073 6462 3936 3936  l/584) (@sdb9696
-00002c30: 290a 2d20 496d 7072 6f76 6520 434c 4920  ).- Improve CLI 
-00002c40: 4469 7363 6f76 6572 7920 6f75 7470 7574  Discovery output
-00002c50: 205b 5c23 3538 335d 2868 7474 7073 3a2f   [\#583](https:/
-00002c60: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-00002c70: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-00002c80: 6173 612f 7075 6c6c 2f35 3833 2920 2840  asa/pull/583) (@
-00002c90: 7364 6239 3639 3629 0a2d 2049 6d70 726f  sdb9696).- Impro
-00002ca0: 7665 2073 6d61 7274 7072 6f74 6f63 6f6c  ve smartprotocol
-00002cb0: 2065 7272 6f72 2068 616e 646c 696e 6720   error handling 
-00002cc0: 616e 6420 7265 7472 6965 7320 5b5c 2335  and retries [\#5
-00002cd0: 3738 5d28 6874 7470 733a 2f2f 6769 7468  78](https://gith
-00002ce0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00002cf0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-00002d00: 756c 6c2f 3537 3829 2028 4073 6462 3936  ull/578) (@sdb96
-00002d10: 3936 290a 2d20 5265 7175 6573 7420 636f  96).- Request co
-00002d20: 6d70 6f6e 656e 745c 5f6e 6567 6f20 6f6e  mponent\_nego on
-00002d30: 6c79 206f 6e63 6520 666f 7220 7461 706f  ly once for tapo
-00002d40: 6465 7669 6365 205b 5c23 3537 365d 2868  device [\#576](h
-00002d50: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00002d60: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-00002d70: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f35  thon-kasa/pull/5
-00002d80: 3736 2920 2840 7279 7469 6c61 6874 6929  76) (@rytilahti)
-00002d90: 0a2d 2055 7365 2063 6f6e 7369 7374 656e  .- Use consisten
-00002da0: 7420 6e61 6d69 6e67 2066 6f72 2063 6c69  t naming for cli
-00002db0: 2065 6e76 7661 7273 205b 5c23 3537 305d   envvars [\#570]
-00002dc0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00002dd0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-00002de0: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
-00002df0: 2f35 3730 2920 2840 7279 7469 6c61 6874  /570) (@rytilaht
-00002e00: 6929 0a2d 2041 6464 204b 5031 3235 4d20  i).- Add KP125M 
-00002e10: 6669 7874 7572 6520 616e 6420 616c 6c6f  fixture and allo
-00002e20: 7720 7061 7373 696e 6720 6372 6564 656e  w passing creden
-00002e30: 7469 616c 7320 666f 7220 7465 7374 7320  tials for tests 
-00002e40: 5b5c 2335 3637 5d28 6874 7470 733a 2f2f  [\#567](https://
-00002e50: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00002e60: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-00002e70: 7361 2f70 756c 6c2f 3536 3729 2028 4073  sa/pull/567) (@s
-00002e80: 6279 746e 6172 290a 2d20 4d61 6b65 2074  bytnar).- Make t
-00002e90: 696d 656f 7574 2063 6f6e 6669 6775 7261  imeout configura
-00002ea0: 626c 6520 666f 7220 636c 6920 5b5c 2335  ble for cli [\#5
-00002eb0: 3634 5d28 6874 7470 733a 2f2f 6769 7468  64](https://gith
-00002ec0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00002ed0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-00002ee0: 756c 6c2f 3536 3429 2028 4072 7974 696c  ull/564) (@rytil
-00002ef0: 6168 7469 290a 2d20 5570 6461 7465 2064  ahti).- Update d
-00002f00: 756d 705c 5f64 6576 696e 666f 2074 6f20  ump\_devinfo to 
-00002f10: 7072 6f64 7563 6520 6e65 7720 5441 504f  produce new TAPO
-00002f20: 2f53 4d41 5254 2066 6978 7475 7265 7320  /SMART fixtures 
-00002f30: 5b5c 2335 3631 5d28 6874 7470 733a 2f2f  [\#561](https://
-00002f40: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00002f50: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-00002f60: 7361 2f70 756c 6c2f 3536 3129 2028 4073  sa/pull/561) (@s
-00002f70: 6462 3936 3936 290a 2d20 4b61 7361 204b  db9696).- Kasa K
-00002f80: 5031 3235 4d20 6261 7369 6320 656d 6574  P125M basic emet
-00002f90: 6572 2073 7570 706f 7274 205b 5c23 3536  er support [\#56
-00002fa0: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-00002fb0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-00002fc0: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-00002fd0: 6c6c 2f35 3630 2920 2840 7362 7974 6e61  ll/560) (@sbytna
-00002fe0: 7229 0a2d 2041 6464 206b 6c61 7020 7375  r).- Add klap su
-00002ff0: 7070 6f72 7420 666f 7220 5441 504f 2070  pport for TAPO p
-00003000: 726f 746f 636f 6c20 6279 2073 706c 6974  rotocol by split
-00003010: 7469 6e67 206f 7574 2054 7261 6e73 706f  ting out Transpo
-00003020: 7274 7320 616e 6420 5072 6f74 6f63 6f6c  rts and Protocol
-00003030: 7320 5b5c 2335 3537 5d28 6874 7470 733a  s [\#557](https:
-00003040: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-00003050: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-00003060: 6b61 7361 2f70 756c 6c2f 3535 3729 2028  kasa/pull/557) (
-00003070: 4073 6462 3936 3936 290a 2d20 5570 6461  @sdb9696).- Upda
-00003080: 7465 2064 756d 705c 5f64 6576 696e 666f  te dump\_devinfo
-00003090: 2074 6f20 696e 636c 7564 6520 3230 3030   to include 2000
-000030a0: 3220 6469 7363 6f76 6572 7920 7265 7375  2 discovery resu
-000030b0: 6c74 7320 5b5c 2335 3536 5d28 6874 7470  lts [\#556](http
-000030c0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-000030d0: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-000030e0: 6e2d 6b61 7361 2f70 756c 6c2f 3535 3629  n-kasa/pull/556)
-000030f0: 2028 4073 6462 3936 3936 290a 2d20 5365   (@sdb9696).- Se
-00003100: 7420 5443 505c 5f4e 4f44 454c 4159 2074  t TCP\_NODELAY t
-00003110: 6f20 6176 6f69 6420 6e65 6564 6c65 7373  o avoid needless
-00003120: 2062 7566 6665 7269 6e67 205b 5c23 3535   buffering [\#55
-00003130: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
-00003140: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-00003150: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-00003160: 6c6c 2f35 3534 2920 2840 6264 7261 636f  ll/554) (@bdraco
-00003170: 290a 2d20 4164 6420 7375 7070 6f72 7420  ).- Add support 
-00003180: 666f 7220 7468 6520 7072 6f74 6f63 6f6c  for the protocol
-00003190: 2075 7365 6420 6279 2054 4150 4f20 6465   used by TAPO de
-000031a0: 7669 6365 7320 616e 6420 736f 6d65 206e  vices and some n
-000031b0: 6577 6572 204b 4153 4120 6465 7669 6365  ewer KASA device
-000031c0: 732e 205b 5c23 3535 325d 2868 7474 7073  s. [\#552](https
-000031d0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-000031e0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-000031f0: 2d6b 6173 612f 7075 6c6c 2f35 3532 2920  -kasa/pull/552) 
-00003200: 2840 7364 6239 3639 3629 0a2d 2052 652d  (@sdb9696).- Re-
-00003210: 6164 6420 7072 6f74 6f63 6f6c 5c5f 636c  add protocol\_cl
-00003220: 6173 7320 7061 7261 6d65 7465 7220 746f  ass parameter to
-00003230: 2063 6f6e 6e65 6374 205b 5c23 3535 315d   connect [\#551]
-00003240: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00003250: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-00003260: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
-00003270: 2f35 3531 2920 2840 7364 6239 3639 3629  /551) (@sdb9696)
-00003280: 0a2d 2055 7064 6174 6520 6469 7363 6f76  .- Update discov
-00003290: 6572 2073 696e 676c 6520 746f 2068 616e  er single to han
-000032a0: 646c 6520 686f 7374 6e61 6d65 7320 5b5c  dle hostnames [\
-000032b0: 2335 3339 5d28 6874 7470 733a 2f2f 6769  #539](https://gi
+00000220: 7075 6c6c 2f37 3831 2920 2840 7279 7469  pull/781) (@ryti
+00000230: 6c61 6874 6929 0a2d 2041 6464 2067 656e  lahti).- Add gen
+00000240: 6572 6963 2069 6e74 6572 6661 6365 2066  eric interface f
+00000250: 6f72 2061 6363 6573 7369 6e67 2064 6576  or accessing dev
+00000260: 6963 6520 6665 6174 7572 6573 205b 5c23  ice features [\#
+00000270: 3734 315d 2868 7474 7073 3a2f 2f67 6974  741](https://git
+00000280: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00000290: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+000002a0: 7075 6c6c 2f37 3431 2920 2840 7279 7469  pull/741) (@ryti
+000002b0: 6c61 6874 6929 0a2d 2052 656e 616d 6520  lahti).- Rename 
+000002c0: 616e 6420 6465 7072 6563 6174 6520 6578  and deprecate ex
+000002d0: 6365 7074 696f 6e20 636c 6173 7365 7320  ception classes 
+000002e0: 5b5c 2337 3339 5d28 6874 7470 733a 2f2f  [\#739](https://
+000002f0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00000300: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00000310: 7361 2f70 756c 6c2f 3733 3929 2028 4073  sa/pull/739) (@s
+00000320: 6462 3936 3936 290a 0a2a 2a49 6d70 6c65  db9696)..**Imple
+00000330: 6d65 6e74 6564 2065 6e68 616e 6365 6d65  mented enhanceme
+00000340: 6e74 733a 2a2a 0a0a 2d20 5261 6469 6174  nts:**..- Radiat
+00000350: 6f72 2073 7570 706f 7274 205c 284b 4531  or support \(KE1
+00000360: 3030 5c29 205b 5c23 3432 325d 2868 7474  00\) [\#422](htt
+00000370: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00000380: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00000390: 6f6e 2d6b 6173 612f 6973 7375 6573 2f34  on-kasa/issues/4
+000003a0: 3232 290a 2d20 4164 6420 706f 7374 2075  22).- Add post u
+000003b0: 7064 6174 6520 686f 6f6b 2074 6f20 6d6f  pdate hook to mo
+000003c0: 6475 6c65 2061 6e64 2075 7365 2069 6e20  dule and use in 
+000003d0: 736d 6172 7420 4c69 6768 7445 6666 6563  smart LightEffec
+000003e0: 7420 5b5c 2339 3231 5d28 6874 7470 733a  t [\#921](https:
+000003f0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00000400: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+00000410: 6b61 7361 2f70 756c 6c2f 3932 3129 2028  kasa/pull/921) (
+00000420: 4073 6462 3936 3936 290a 2d20 4164 6420  @sdb9696).- Add 
+00000430: 4c69 6768 7445 6666 6563 7420 6d6f 6475  LightEffect modu
+00000440: 6c65 2066 6f72 2073 6d61 7274 206c 6967  le for smart lig
+00000450: 6874 2073 7472 6970 7320 5b5c 2339 3138  ht strips [\#918
+00000460: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00000470: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+00000480: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+00000490: 6c2f 3931 3829 2028 4073 6462 3936 3936  l/918) (@sdb9696
+000004a0: 290a 2d20 496d 7072 6f76 6520 6361 7465  ).- Improve cate
+000004b0: 676f 7269 7a61 7469 6f6e 206f 6620 6665  gorization of fe
+000004c0: 6174 7572 6573 205b 5c23 3930 345d 2868  atures [\#904](h
+000004d0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000004e0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+000004f0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f39  thon-kasa/pull/9
+00000500: 3034 2920 2840 7279 7469 6c61 6874 6929  04) (@rytilahti)
+00000510: 0a2d 2043 7265 6174 6520 636f 6d6d 6f6e  .- Create common
+00000520: 2069 6e74 6572 6661 6365 7320 666f 7220   interfaces for 
+00000530: 7265 6d61 696e 696e 6720 6465 7669 6365  remaining device
+00000540: 2074 7970 6573 205b 5c23 3839 355d 2868   types [\#895](h
+00000550: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00000560: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00000570: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f38  thon-kasa/pull/8
+00000580: 3935 2920 2840 7364 6239 3639 3629 0a2d  95) (@sdb9696).-
+00000590: 204d 616b 6520 6765 745c 5f6d 6f64 756c   Make get\_modul
+000005a0: 6520 7265 7475 726e 2074 7970 6564 206d  e return typed m
+000005b0: 6f64 756c 6520 5b5c 2338 3932 5d28 6874  odule [\#892](ht
+000005c0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000005d0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+000005e0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3839  hon-kasa/pull/89
+000005f0: 3229 2028 4073 6462 3936 3936 290a 2d20  2) (@sdb9696).- 
+00000600: 4164 6420 4c69 6768 7445 6666 6563 744d  Add LightEffectM
+00000610: 6f64 756c 6520 666f 7220 6479 6e61 6d69  odule for dynami
+00000620: 6320 6c69 6768 7420 6566 6665 6374 7320  c light effects 
+00000630: 6f6e 2053 4d41 5254 2062 756c 6273 205b  on SMART bulbs [
+00000640: 5c23 3838 375d 2868 7474 7073 3a2f 2f67  \#887](https://g
+00000650: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00000660: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00000670: 612f 7075 6c6c 2f38 3837 2920 2840 7364  a/pull/887) (@sd
+00000680: 6239 3639 3629 0a2d 2049 6d70 6c65 6d65  b9696).- Impleme
+00000690: 6e74 2063 686f 6963 6520 6665 6174 7572  nt choice featur
+000006a0: 6520 7479 7065 205b 5c23 3838 305d 2868  e type [\#880](h
+000006b0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000006c0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+000006d0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f38  thon-kasa/pull/8
+000006e0: 3830 2920 2840 7279 7469 6c61 6874 6929  80) (@rytilahti)
+000006f0: 0a2d 2041 6464 2073 7570 706f 7274 2066  .- Add support f
+00000700: 6f72 2063 6f6e 7461 6374 2073 656e 736f  or contact senso
+00000710: 7220 5c28 5431 3130 5c29 205b 5c23 3837  r \(T110\) [\#87
+00000720: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+00000730: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00000740: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00000750: 6c6c 2f38 3737 2920 2840 7279 7469 6c61  ll/877) (@rytila
+00000760: 6874 6929 0a2d 2041 6464 2073 7570 706f  hti).- Add suppo
+00000770: 7274 2066 6f72 2077 6174 6572 6c65 616b  rt for waterleak
+00000780: 2073 656e 736f 7220 5c28 5433 3030 5c29   sensor \(T300\)
+00000790: 205b 5c23 3837 365d 2868 7474 7073 3a2f   [\#876](https:/
+000007a0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+000007b0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+000007c0: 6173 612f 7075 6c6c 2f38 3736 2920 2840  asa/pull/876) (@
+000007d0: 7279 7469 6c61 6874 6929 0a2d 2041 6464  rytilahti).- Add
+000007e0: 2046 616e 2069 6e74 6572 6661 6365 2066   Fan interface f
+000007f0: 6f72 2053 4d41 5254 2064 6576 6963 6573  or SMART devices
+00000800: 205b 5c23 3837 335d 2868 7474 7073 3a2f   [\#873](https:/
+00000810: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00000820: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00000830: 6173 612f 7075 6c6c 2f38 3733 2920 2840  asa/pull/873) (@
+00000840: 7364 6239 3639 3629 0a2d 2049 6d70 726f  sdb9696).- Impro
+00000850: 7665 2074 656d 7065 7261 7475 7265 2063  ve temperature c
+00000860: 6f6e 7472 6f6c 7320 5b5c 2338 3732 5d28  ontrols [\#872](
+00000870: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00000880: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00000890: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+000008a0: 3837 3229 2028 4072 7974 696c 6168 7469  872) (@rytilahti
+000008b0: 290a 2d20 4164 6420 7072 6563 6973 696f  ).- Add precisio
+000008c0: 6e5c 5f68 696e 7420 746f 2066 6561 7475  n\_hint to featu
+000008d0: 7265 205b 5c23 3837 315d 2868 7474 7073  re [\#871](https
+000008e0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+000008f0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00000900: 2d6b 6173 612f 7075 6c6c 2f38 3731 2920  -kasa/pull/871) 
+00000910: 2840 7279 7469 6c61 6874 6929 0a2d 2042  (@rytilahti).- B
+00000920: 6520 6d6f 7265 206c 6178 206f 6e20 756e  e more lax on un
+00000930: 6b6e 6f77 6e20 534d 4152 5420 6465 7669  known SMART devi
+00000940: 6365 7320 5b5c 2338 3633 5d28 6874 7470  ces [\#863](http
+00000950: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00000960: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+00000970: 6e2d 6b61 7361 2f70 756c 6c2f 3836 3329  n-kasa/pull/863)
+00000980: 2028 4072 7974 696c 6168 7469 290a 2d20   (@rytilahti).- 
+00000990: 4861 6e64 6c65 2070 6167 696e 6720 6f66  Handle paging of
+000009a0: 2070 6172 7469 616c 2072 6573 706f 6e73   partial respons
+000009b0: 6573 206f 6620 6c69 7374 7320 6c69 6b65  es of lists like
+000009c0: 2063 6869 6c64 5c5f 6465 7669 6365 5c5f   child\_device\_
+000009d0: 696e 666f 205b 5c23 3836 325d 2868 7474  info [\#862](htt
+000009e0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000009f0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00000a00: 6f6e 2d6b 6173 612f 7075 6c6c 2f38 3632  on-kasa/pull/862
+00000a10: 2920 2840 7364 6239 3639 3629 0a2d 2042  ) (@sdb9696).- B
+00000a20: 6574 7465 7220 6669 726d 7761 7265 206d  etter firmware m
+00000a30: 6f64 756c 6520 7375 7070 6f72 7420 666f  odule support fo
+00000a40: 7220 6465 7669 6365 7320 6e6f 7420 636f  r devices not co
+00000a50: 6e6e 6563 7465 6420 746f 2074 6865 2069  nnected to the i
+00000a60: 6e74 6572 6e65 7420 5b5c 2338 3534 5d28  nternet [\#854](
+00000a70: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00000a80: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00000a90: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00000aa0: 3835 3429 2028 4073 6462 3936 3936 290a  854) (@sdb9696).
+00000ab0: 2d20 5265 2d71 7565 7279 206d 6973 7369  - Re-query missi
+00000ac0: 6e67 2072 6573 706f 6e73 6573 2061 6674  ng responses aft
+00000ad0: 6572 206d 756c 7469 2072 6571 7565 7374  er multi request
+00000ae0: 2065 7272 6f72 7320 5b5c 2338 3530 5d28   errors [\#850](
+00000af0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00000b00: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00000b10: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00000b20: 3835 3029 2028 4073 6462 3936 3936 290a  850) (@sdb9696).
+00000b30: 2d20 496d 706c 656d 656e 7420 6163 7469  - Implement acti
+00000b40: 6f6e 2066 6561 7475 7265 205b 5c23 3834  on feature [\#84
+00000b50: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
+00000b60: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00000b70: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00000b80: 6c6c 2f38 3439 2920 2840 7279 7469 6c61  ll/849) (@rytila
+00000b90: 6874 6929 0a2d 2041 6464 2074 656d 7065  hti).- Add tempe
+00000ba0: 7261 7475 7265 2063 6f6e 7472 6f6c 206d  rature control m
+00000bb0: 6f64 756c 6520 666f 7220 736d 6172 7420  odule for smart 
+00000bc0: 5b5c 2338 3438 5d28 6874 7470 733a 2f2f  [\#848](https://
+00000bd0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00000be0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00000bf0: 7361 2f70 756c 6c2f 3834 3829 2028 4072  sa/pull/848) (@r
+00000c00: 7974 696c 6168 7469 290a 2d20 4164 6420  ytilahti).- Add 
+00000c10: 7375 7070 6f72 7420 666f 7220 4b48 3130  support for KH10
+00000c20: 3020 6875 6220 5b5c 2338 3437 5d28 6874  0 hub [\#847](ht
+00000c30: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00000c40: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00000c50: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3834  hon-kasa/pull/84
+00000c60: 3729 2028 4041 6472 6961 6e64 6f72 7229  7) (@Adriandorr)
+00000c70: 0a2d 2049 6d70 6c65 6d65 6e74 2066 6561  .- Implement fea
+00000c80: 7475 7265 2063 6174 6567 6f72 6965 7320  ture categories 
+00000c90: 5b5c 2338 3436 5d28 6874 7470 733a 2f2f  [\#846](https://
+00000ca0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00000cb0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00000cc0: 7361 2f70 756c 6c2f 3834 3629 2028 4072  sa/pull/846) (@r
+00000cd0: 7974 696c 6168 7469 290a 2d20 4578 706f  ytilahti).- Expo
+00000ce0: 7365 2049 4f54 2065 6d65 7465 7220 696e  se IOT emeter in
+00000cf0: 666f 2061 7320 6665 6174 7572 6573 205b  fo as features [
+00000d00: 5c23 3834 345d 2868 7474 7073 3a2f 2f67  \#844](https://g
+00000d10: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00000d20: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00000d30: 612f 7075 6c6c 2f38 3434 2920 2840 7279  a/pull/844) (@ry
+00000d40: 7469 6c61 6874 6929 0a2d 2041 6464 2073  tilahti).- Add s
+00000d50: 7570 706f 7274 2066 6f72 2066 6561 7475  upport for featu
+00000d60: 7265 2075 6e69 7473 205b 5c23 3834 335d  re units [\#843]
+00000d70: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00000d80: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00000d90: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+00000da0: 2f38 3433 2920 2840 7279 7469 6c61 6874  /843) (@rytilaht
+00000db0: 6929 0a2d 2041 6464 2043 6f6c 6f72 4d6f  i).- Add ColorMo
+00000dc0: 6475 6c65 2066 6f72 2073 6d61 7274 2064  dule for smart d
+00000dd0: 6576 6963 6573 205b 5c23 3834 305d 2868  evices [\#840](h
+00000de0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00000df0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00000e00: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f38  thon-kasa/pull/8
+00000e10: 3430 2920 2840 7364 6239 3639 3629 0a2d  40) (@sdb9696).-
+00000e20: 2053 7570 706f 7274 2066 6f72 206e 6577   Support for new
+00000e30: 206b 7332 3430 2066 616e 2f6c 6967 6874   ks240 fan/light
+00000e40: 2077 616c 6c20 7377 6974 6368 205b 5c23   wall switch [\#
+00000e50: 3833 395d 2868 7474 7073 3a2f 2f67 6974  839](https://git
+00000e60: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00000e70: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00000e80: 7075 6c6c 2f38 3339 2920 2840 7364 6239  pull/839) (@sdb9
+00000e90: 3639 3629 0a2d 2041 6464 2063 6f6c 6f72  696).- Add color
+00000ea0: 7465 6d70 2066 6561 7475 7265 2066 6f72  temp feature for
+00000eb0: 2069 6f74 2064 6576 6963 6573 205b 5c23   iot devices [\#
+00000ec0: 3832 375d 2868 7474 7073 3a2f 2f67 6974  827](https://git
+00000ed0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00000ee0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00000ef0: 7075 6c6c 2f38 3237 2920 2840 7279 7469  pull/827) (@ryti
+00000f00: 6c61 6874 6929 0a2d 2041 6464 2073 7570  lahti).- Add sup
+00000f10: 706f 7274 2066 6f72 2066 6972 6d77 6172  port for firmwar
+00000f20: 6520 6d6f 6475 6c65 2076 3120 5b5c 2338  e module v1 [\#8
+00000f30: 3231 5d28 6874 7470 733a 2f2f 6769 7468  21](https://gith
+00000f40: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00000f50: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00000f60: 756c 6c2f 3832 3129 2028 4073 6462 3936  ull/821) (@sdb96
+00000f70: 3936 290a 2d20 4164 6420 636f 6c6f 7274  96).- Add colort
+00000f80: 656d 7020 6d6f 6475 6c65 205b 5c23 3831  emp module [\#81
+00000f90: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
+00000fa0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00000fb0: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00000fc0: 6c6c 2f38 3134 2920 2840 7279 7469 6c61  ll/814) (@rytila
+00000fd0: 6874 6929 0a2d 2052 6576 6973 6520 6465  hti).- Revise de
+00000fe0: 7669 6365 2069 6e69 7469 616c 697a 6174  vice initializat
+00000ff0: 696f 6e20 616e 6420 7375 6273 6571 7565  ion and subseque
+00001000: 6e74 2075 7064 6174 6573 205b 5c23 3830  nt updates [\#80
+00001010: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+00001020: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00001030: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00001040: 6c6c 2f38 3037 2920 2840 7279 7469 6c61  ll/807) (@rytila
+00001050: 6874 6929 0a2d 2041 6464 2062 7269 6768  hti).- Add brigh
+00001060: 746e 6573 7320 6d6f 6475 6c65 205b 5c23  tness module [\#
+00001070: 3830 365d 2868 7474 7073 3a2f 2f67 6974  806](https://git
+00001080: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00001090: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+000010a0: 7075 6c6c 2f38 3036 2920 2840 7279 7469  pull/806) (@ryti
+000010b0: 6c61 6874 6929 0a2d 2053 7570 706f 7274  lahti).- Support
+000010c0: 206d 756c 7469 706c 6520 6368 696c 6420   multiple child 
+000010d0: 7265 7175 6573 7473 205b 5c23 3739 355d  requests [\#795]
+000010e0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000010f0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00001100: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+00001110: 2f37 3935 2920 2840 7364 6239 3639 3629  /795) (@sdb9696)
+00001120: 0a2d 2053 7570 706f 7274 2066 6f72 206f  .- Support for o
+00001130: 6e5c 5f6f 6666 5c5f 6772 6164 7561 6c6c  n\_off\_graduall
+00001140: 7920 7632 2b20 5b5c 2337 3933 5d28 6874  y v2+ [\#793](ht
+00001150: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00001160: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00001170: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3739  hon-kasa/pull/79
+00001180: 3329 2028 4072 7974 696c 6168 7469 290a  3) (@rytilahti).
+00001190: 2d20 496d 7072 6f76 6520 736d 6172 7464  - Improve smartd
+000011a0: 6576 6963 6520 7570 6461 7465 206d 6f64  evice update mod
+000011b0: 756c 6520 5b5c 2337 3931 5d28 6874 7470  ule [\#791](http
+000011c0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+000011d0: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+000011e0: 6e2d 6b61 7361 2f70 756c 6c2f 3739 3129  n-kasa/pull/791)
+000011f0: 2028 4072 7974 696c 6168 7469 290a 2d20   (@rytilahti).- 
+00001200: 4164 6420 2d2d 6368 696c 6420 6f70 7469  Add --child opti
+00001210: 6f6e 2074 6f20 6665 6174 7572 6520 636f  on to feature co
+00001220: 6d6d 616e 6420 5b5c 2337 3839 5d28 6874  mmand [\#789](ht
+00001230: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00001240: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00001250: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3738  hon-kasa/pull/78
+00001260: 3929 2028 4072 7974 696c 6168 7469 290a  9) (@rytilahti).
+00001270: 2d20 4164 6420 7465 6d70 6572 6174 7572  - Add temperatur
+00001280: 655c 5f75 6e69 7420 6665 6174 7572 6520  e\_unit feature 
+00001290: 746f 2074 3331 3520 5b5c 2337 3838 5d28  to t315 [\#788](
+000012a0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000012b0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+000012c0: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+000012d0: 3738 3829 2028 4072 7974 696c 6168 7469  788) (@rytilahti
+000012e0: 290a 2d20 4164 6420 6665 6174 7572 6520  ).- Add feature 
+000012f0: 666f 7220 616d 6269 656e 7420 6c69 6768  for ambient ligh
+00001300: 7420 7365 6e73 6f72 205b 5c23 3738 375d  t sensor [\#787]
+00001310: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00001320: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00001330: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+00001340: 2f37 3837 2920 2840 7368 6966 7479 3335  /787) (@shifty35
+00001350: 290a 2d20 4164 6420 696e 6974 6961 6c20  ).- Add initial 
+00001360: 7375 7070 6f72 7420 666f 7220 4831 3030  support for H100
+00001370: 2061 6e64 2054 3331 3520 5b5c 2337 3736   and T315 [\#776
+00001380: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00001390: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+000013a0: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+000013b0: 6c2f 3737 3629 2028 4072 7974 696c 6168  l/776) (@rytilah
+000013c0: 7469 290a 2d20 4765 6e65 7261 6c69 7a65  ti).- Generalize
+000013d0: 2073 6d61 7274 6465 7669 6365 2063 6869   smartdevice chi
+000013e0: 6c64 2073 7570 706f 7274 205b 5c23 3737  ld support [\#77
+000013f0: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
+00001400: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00001410: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00001420: 6c6c 2f37 3735 2920 2840 7279 7469 6c61  ll/775) (@rytila
+00001430: 6874 6929 0a2d 2052 6169 7365 2043 4c49  hti).- Raise CLI
+00001440: 2065 7272 6f72 7320 696e 2064 6562 7567   errors in debug
+00001450: 206d 6f64 6520 5b5c 2337 3731 5d28 6874   mode [\#771](ht
+00001460: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00001470: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00001480: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3737  hon-kasa/pull/77
+00001490: 3129 2028 4073 6462 3936 3936 290a 2d20  1) (@sdb9696).- 
+000014a0: 4164 6420 636c 6f75 6420 6d6f 6475 6c65  Add cloud module
+000014b0: 2066 6f72 2073 6d61 7274 6465 7669 6365   for smartdevice
+000014c0: 205b 5c23 3736 375d 2868 7474 7073 3a2f   [\#767](https:/
+000014d0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+000014e0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+000014f0: 6173 612f 7075 6c6c 2f37 3637 2920 2840  asa/pull/767) (@
+00001500: 7279 7469 6c61 6874 6929 0a2d 2041 6464  rytilahti).- Add
+00001510: 2066 6972 6d77 6172 6520 6d6f 6475 6c65   firmware module
+00001520: 2066 6f72 2073 6d61 7274 6465 7669 6365   for smartdevice
+00001530: 205b 5c23 3736 365d 2868 7474 7073 3a2f   [\#766](https:/
+00001540: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00001550: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00001560: 6173 612f 7075 6c6c 2f37 3636 2920 2840  asa/pull/766) (@
+00001570: 7279 7469 6c61 6874 6929 0a2d 2041 6464  rytilahti).- Add
+00001580: 2066 616e 206d 6f64 756c 6520 5b5c 2337   fan module [\#7
+00001590: 3634 5d28 6874 7470 733a 2f2f 6769 7468  64](https://gith
+000015a0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+000015b0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+000015c0: 756c 6c2f 3736 3429 2028 4072 7974 696c  ull/764) (@rytil
+000015d0: 6168 7469 290a 2d20 4164 6420 736d 6172  ahti).- Add smar
+000015e0: 7464 6576 6963 6520 6d6f 6475 6c65 2066  tdevice module f
+000015f0: 6f72 206c 6564 2063 6f6e 7472 6f6c 7320  or led controls 
+00001600: 5b5c 2337 3631 5d28 6874 7470 733a 2f2f  [\#761](https://
+00001610: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00001620: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00001630: 7361 2f70 756c 6c2f 3736 3129 2028 4072  sa/pull/761) (@r
+00001640: 7974 696c 6168 7469 290a 2d20 4175 746f  ytilahti).- Auto
+00001650: 2061 7574 6f2d 6f66 6620 6d6f 6475 6c65   auto-off module
+00001660: 2066 6f72 2073 6d61 7274 6465 7669 6365   for smartdevice
+00001670: 205b 5c23 3736 305d 2868 7474 7073 3a2f   [\#760](https:/
+00001680: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00001690: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+000016a0: 6173 612f 7075 6c6c 2f37 3630 2920 2840  asa/pull/760) (@
+000016b0: 7279 7469 6c61 6874 6929 0a2d 2041 6464  rytilahti).- Add
+000016c0: 2073 6d61 7274 6465 7669 6365 206d 6f64   smartdevice mod
+000016d0: 756c 6520 666f 7220 736d 6f6f 7468 2074  ule for smooth t
+000016e0: 7261 6e73 6974 696f 6e73 205b 5c23 3735  ransitions [\#75
+000016f0: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
+00001700: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00001710: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00001720: 6c6c 2f37 3539 2920 2840 7279 7469 6c61  ll/759) (@rytila
+00001730: 6874 6929 0a2d 2049 6e69 7469 616c 2069  hti).- Initial i
+00001740: 6d70 6c65 6d65 6e74 6174 696f 6e20 666f  mplementation fo
+00001750: 7220 6d6f 6475 6c61 7269 7a65 6420 736d  r modularized sm
+00001760: 6172 7464 6576 6963 6520 5b5c 2337 3537  artdevice [\#757
+00001770: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00001780: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+00001790: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+000017a0: 6c2f 3735 3729 2028 4072 7974 696c 6168  l/757) (@rytilah
+000017b0: 7469 290a 2d20 4c65 7420 6361 6c6c 6572  ti).- Let caller
+000017c0: 2068 616e 646c 6520 534d 4152 5420 6572   handle SMART er
+000017d0: 726f 7273 206f 6e20 6d75 6c74 692d 7265  rors on multi-re
+000017e0: 7175 6573 7473 205b 5c23 3735 345d 2868  quests [\#754](h
+000017f0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00001800: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00001810: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f37  thon-kasa/pull/7
+00001820: 3534 2920 2840 7364 6239 3639 3629 0a2d  54) (@sdb9696).-
+00001830: 2041 6464 2027 7368 656c 6c27 2063 6f6d   Add 'shell' com
+00001840: 6d61 6e64 2074 6f20 636c 6920 5b5c 2337  mand to cli [\#7
+00001850: 3338 5d28 6874 7470 733a 2f2f 6769 7468  38](https://gith
+00001860: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00001870: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00001880: 756c 6c2f 3733 3829 2028 4072 7974 696c  ull/738) (@rytil
+00001890: 6168 7469 290a 0a2a 2a46 6978 6564 2062  ahti)..**Fixed b
+000018a0: 7567 733a 2a2a 0a0a 2d20 4669 7820 2d2d  ugs:**..- Fix --
+000018b0: 6865 6c70 206f 6e20 7375 6263 6f6d 6d61  help on subcomma
+000018c0: 6e64 7320 5b5c 2338 3835 5d28 6874 7470  nds [\#885](http
+000018d0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+000018e0: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+000018f0: 6e2d 6b61 7361 2f69 7373 7565 732f 3838  n-kasa/issues/88
+00001900: 3529 0a2d 2022 556e 636c 6f73 6564 2063  5).- "Unclosed c
+00001910: 6c69 656e 7420 7365 7373 696f 6e22 2054  lient session" T
+00001920: 7279 696e 6720 746f 2073 6574 2062 7269  rying to set bri
+00001930: 6768 746e 6573 7320 6f6e 2054 6170 6f20  ghtness on Tapo 
+00001940: 4275 6c62 205b 5c23 3832 385d 2868 7474  Bulb [\#828](htt
+00001950: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00001960: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00001970: 6f6e 2d6b 6173 612f 6973 7375 6573 2f38  on-kasa/issues/8
+00001980: 3238 290a 2d20 5441 504f 2050 3130 3020  28).- TAPO P100 
+00001990: 5c28 6877 2031 2e30 2e30 2c20 7377 2031  \(hw 1.0.0, sw 1
+000019a0: 2e31 2e33 5c29 2045 5520 706c 7567 2077  .1.3\) EU plug w
+000019b0: 6974 6820 302e 362e 322e 3120 4b61 7361  ith 0.6.2.1 Kasa
+000019c0: 2072 6573 756c 7473 204a 534f 4e5c 5f44   results JSON\_D
+000019d0: 4543 4f44 455c 5f46 4149 4c5c 5f45 5252  ECODE\_FAIL\_ERR
+000019e0: 4f52 205b 5c23 3831 395d 2868 7474 7073  OR [\#819](https
+000019f0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00001a00: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00001a10: 2d6b 6173 612f 6973 7375 6573 2f38 3139  -kasa/issues/819
+00001a20: 290a 2d20 4361 6e6e 6f74 2061 6464 2054  ).- Cannot add T
+00001a30: 6170 6f20 506c 7567 2050 3131 3020 746f  apo Plug P110 to
+00001a40: 2048 6f6d 6520 4173 7369 7374 616e 7420   Home Assistant 
+00001a50: 3230 3234 2e32 2e33 202d 2045 7272 6f72  2024.2.3 - Error
+00001a60: 2069 6e20 6465 6275 6720 6d6f 6465 205b   in debug mode [
+00001a70: 5c23 3739 375d 2868 7474 7073 3a2f 2f67  \#797](https://g
+00001a80: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00001a90: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00001aa0: 612f 6973 7375 6573 2f37 3937 290a 2d20  a/issues/797).- 
+00001ab0: 4b53 3234 3020 6765 7473 2064 6973 636f  KS240 gets disco
+00001ac0: 7665 7265 6420 6275 7420 7769 6c6c 206e  vered but will n
+00001ad0: 6f74 2061 7574 6865 6e74 6963 6174 6520  ot authenticate 
+00001ae0: 5b5c 2337 3439 5d28 6874 7470 733a 2f2f  [\#749](https://
+00001af0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00001b00: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00001b10: 7361 2f69 7373 7565 732f 3734 3929 0a2d  sa/issues/749).-
+00001b20: 2049 6e64 6976 6964 7561 6c20 6572 726f   Individual erro
+00001b30: 7273 2063 6175 7365 2066 6169 6c69 6e67  rs cause failing
+00001b40: 2074 6865 2077 686f 6c65 2071 7565 7279   the whole query
+00001b50: 2020 5b5c 2336 3136 5d28 6874 7470 733a    [\#616](https:
+00001b60: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00001b70: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+00001b80: 6b61 7361 2f69 7373 7565 732f 3631 3629  kasa/issues/616)
+00001b90: 0a2d 2041 6464 2027 6261 7474 6572 795c  .- Add 'battery\
+00001ba0: 5f70 6572 6365 6e74 6167 6527 206f 6e6c  _percentage' onl
+00001bb0: 7920 7768 656e 2069 7427 7320 6176 6169  y when it's avai
+00001bc0: 6c61 626c 6520 5b5c 2339 3036 5d28 6874  lable [\#906](ht
+00001bd0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00001be0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00001bf0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3930  hon-kasa/pull/90
+00001c00: 3629 2028 4072 7974 696c 6168 7469 290a  6) (@rytilahti).
+00001c10: 2d20 4164 6420 6d69 7373 696e 6720 616c  - Add missing al
+00001c20: 6172 6d20 766f 6c75 6d65 2027 6e6f 726d  arm volume 'norm
+00001c30: 616c 2720 5b5c 2338 3939 5d28 6874 7470  al' [\#899](http
+00001c40: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00001c50: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+00001c60: 6e2d 6b61 7361 2f70 756c 6c2f 3839 3929  n-kasa/pull/899)
+00001c70: 2028 4072 7974 696c 6168 7469 290a 2d20   (@rytilahti).- 
+00001c80: 5573 6520 5061 7468 2e73 6176 6520 666f  Use Path.save fo
+00001c90: 7220 7361 7669 6e67 2074 6865 2066 6978  r saving the fix
+00001ca0: 7475 7265 7320 5b5c 2338 3934 5d28 6874  tures [\#894](ht
+00001cb0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00001cc0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00001cd0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3839  hon-kasa/pull/89
+00001ce0: 3429 2028 4072 7974 696c 6168 7469 290a  4) (@rytilahti).
+00001cf0: 2d20 4669 7820 2d2d 6865 6c70 206f 6e20  - Fix --help on 
+00001d00: 7375 6263 6f6d 6d61 6e64 7320 5b5c 2338  subcommands [\#8
+00001d10: 3836 5d28 6874 7470 733a 2f2f 6769 7468  86](https://gith
+00001d20: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00001d30: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00001d40: 756c 6c2f 3838 3629 2028 4072 7974 696c  ull/886) (@rytil
+00001d50: 6168 7469 290a 2d20 496d 7072 6f76 6520  ahti).- Improve 
+00001d60: 6665 6174 7572 6520 7365 7474 6572 2072  feature setter r
+00001d70: 6f62 7573 746e 6573 7320 5b5c 2338 3730  obustness [\#870
+00001d80: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00001d90: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+00001da0: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+00001db0: 6c2f 3837 3029 2028 4072 7974 696c 6168  l/870) (@rytilah
+00001dc0: 7469 290a 2d20 736d 6172 7462 756c 623a  ti).- smartbulb:
+00001dd0: 204c 696d 6974 2062 7269 6768 746e 6573   Limit brightnes
+00001de0: 7320 7261 6e67 6520 746f 2031 2d31 3030  s range to 1-100
+00001df0: 205b 5c23 3832 395d 2868 7474 7073 3a2f   [\#829](https:/
+00001e00: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00001e10: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00001e20: 6173 612f 7075 6c6c 2f38 3239 2920 2840  asa/pull/829) (@
+00001e30: 7279 7469 6c61 6874 6929 0a2d 2046 6978  rytilahti).- Fix
+00001e40: 2065 6e65 7267 7920 6d6f 6475 6c65 2063   energy module c
+00001e50: 616c 6c69 6e67 2067 6574 5c5f 6375 7272  alling get\_curr
+00001e60: 656e 745c 5f70 6f77 6572 205b 5c23 3739  ent\_power [\#79
+00001e70: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
+00001e80: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00001e90: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00001ea0: 6c6c 2f37 3938 2920 2840 7364 6239 3639  ll/798) (@sdb969
+00001eb0: 3629 0a2d 2046 6978 2061 7574 6f20 7570  6).- Fix auto up
+00001ec0: 6461 7465 2073 7769 7463 6820 5b5c 2337  date switch [\#7
+00001ed0: 3836 5d28 6874 7470 733a 2f2f 6769 7468  86](https://gith
+00001ee0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00001ef0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00001f00: 756c 6c2f 3738 3629 2028 4072 7974 696c  ull/786) (@rytil
+00001f10: 6168 7469 290a 2d20 5265 7472 7920 7175  ahti).- Retry qu
+00001f20: 6572 7920 6f6e 2034 3033 2061 6674 6572  ery on 403 after
+00001f30: 2073 7563 6365 7373 6675 6c20 6861 6e64   successful hand
+00001f40: 7368 616b 6520 5b5c 2337 3835 5d28 6874  shake [\#785](ht
+00001f50: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00001f60: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00001f70: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3738  hon-kasa/pull/78
+00001f80: 3529 2028 4073 6462 3936 3936 290a 2d20  5) (@sdb9696).- 
+00001f90: 456e 7375 7265 2063 6f6e 6e65 6374 696f  Ensure connectio
+00001fa0: 6e73 2061 7265 2063 6c6f 7365 6420 7768  ns are closed wh
+00001fb0: 656e 2063 6c69 2069 7320 6669 6e69 7368  en cli is finish
+00001fc0: 6564 205b 5c23 3735 325d 2868 7474 7073  ed [\#752](https
+00001fd0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00001fe0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00001ff0: 2d6b 6173 612f 7075 6c6c 2f37 3532 2920  -kasa/pull/752) 
+00002000: 2840 7364 6239 3639 3629 0a2d 2046 6978  (@sdb9696).- Fix
+00002010: 2066 6f72 2050 3130 3020 6f6e 2066 7720   for P100 on fw 
+00002020: 312e 312e 3320 6c6f 6769 6e5c 5f76 6572  1.1.3 login\_ver
+00002030: 7369 6f6e 206e 6f6e 6520 5b5c 2337 3531  sion none [\#751
+00002040: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00002050: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+00002060: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+00002070: 6c2f 3735 3129 2028 4073 6462 3936 3936  l/751) (@sdb9696
+00002080: 290a 2d20 5061 7373 2074 696d 656f 7574  ).- Pass timeout
+00002090: 2070 6172 616d 6574 6572 7320 746f 2064   parameters to d
+000020a0: 6973 636f 7665 725c 5f73 696e 676c 6520  iscover\_single 
+000020b0: 5b5c 2337 3434 5d28 6874 7470 733a 2f2f  [\#744](https://
+000020c0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+000020d0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+000020e0: 7361 2f70 756c 6c2f 3734 3429 2028 4073  sa/pull/744) (@s
+000020f0: 6462 3936 3936 290a 2d20 5265 6475 6365  db9696).- Reduce
+00002100: 2041 7574 6865 6e74 6963 6174 696f 6e45   AuthenticationE
+00002110: 7863 6570 7469 6f6e 7320 7261 6973 696e  xceptions raisin
+00002120: 6720 6672 6f6d 2074 7261 6e73 706f 7274  g from transport
+00002130: 7320 5b5c 2337 3430 5d28 6874 7470 733a  s [\#740](https:
+00002140: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00002150: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+00002160: 6b61 7361 2f70 756c 6c2f 3734 3029 2028  kasa/pull/740) (
+00002170: 4073 6462 3936 3936 290a 2d20 446f 206e  @sdb9696).- Do n
+00002180: 6f74 2063 7261 7368 2063 6c69 206f 6e20  ot crash cli on 
+00002190: 6d69 7373 696e 6720 6469 7363 6f76 6572  missing discover
+000021a0: 7920 696e 666f 205b 5c23 3733 355d 2868  y info [\#735](h
+000021b0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000021c0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+000021d0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f37  thon-kasa/pull/7
+000021e0: 3335 2920 2840 7279 7469 6c61 6874 6929  35) (@rytilahti)
+000021f0: 0a2d 2046 6978 2070 6f72 742d 6f76 6572  .- Fix port-over
+00002200: 7269 6465 2066 6f72 2061 6573 266b 6c61  ride for aes&kla
+00002210: 7020 7472 616e 7370 6f72 7473 205b 5c23  p transports [\#
+00002220: 3733 345d 2868 7474 7073 3a2f 2f67 6974  734](https://git
+00002230: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00002240: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00002250: 7075 6c6c 2f37 3334 2920 2840 7279 7469  pull/734) (@ryti
+00002260: 6c61 6874 6929 0a0a 2a2a 446f 6375 6d65  lahti)..**Docume
+00002270: 6e74 6174 696f 6e20 7570 6461 7465 733a  ntation updates:
+00002280: 2a2a 0a0a 2d20 4164 6420 7475 746f 7269  **..- Add tutori
+00002290: 616c 2064 6f63 7465 7374 206d 6f64 756c  al doctest modul
+000022a0: 6520 616e 6420 656e 6162 6c65 2074 6f70  e and enable top
+000022b0: 206c 6576 656c 2061 7761 6974 205b 5c23   level await [\#
+000022c0: 3931 395d 2868 7474 7073 3a2f 2f67 6974  919](https://git
+000022d0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+000022e0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+000022f0: 7075 6c6c 2f39 3139 2920 2840 7364 6239  pull/919) (@sdb9
+00002300: 3639 3629 0a2d 2041 6464 2077 6172 6e69  696).- Add warni
+00002310: 6e67 2061 626f 7574 2074 6170 6f20 7761  ng about tapo wa
+00002320: 7463 6864 6f67 205b 5c23 3930 325d 2868  tchdog [\#902](h
+00002330: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00002340: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00002350: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f39  thon-kasa/pull/9
+00002360: 3032 2920 2840 7279 7469 6c61 6874 6929  02) (@rytilahti)
+00002370: 0a2d 204d 6f76 6520 636f 6e74 7269 6275  .- Move contribu
+00002380: 7469 6f6e 2069 6e73 7472 7563 7469 6f6e  tion instruction
+00002390: 7320 696e 746f 2064 6f63 7320 5b5c 2339  s into docs [\#9
+000023a0: 3031 5d28 6874 7470 733a 2f2f 6769 7468  01](https://gith
+000023b0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+000023c0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+000023d0: 756c 6c2f 3930 3129 2028 4072 7974 696c  ull/901) (@rytil
+000023e0: 6168 7469 290a 2d20 4164 6420 7275 7374  ahti).- Add rust
+000023f0: 2074 6170 6f20 6c69 6e6b 2074 6f20 5245   tapo link to RE
+00002400: 4144 4d45 205b 5c23 3835 375d 2868 7474  ADME [\#857](htt
+00002410: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00002420: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00002430: 6f6e 2d6b 6173 612f 7075 6c6c 2f38 3537  on-kasa/pull/857
+00002440: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
+00002450: 2045 6e61 626c 6520 7368 656c 6c20 6578   Enable shell ex
+00002460: 7472 6120 666f 7220 696e 7374 616c 6c69  tra for installi
+00002470: 6e67 2070 7470 7974 686f 6e20 616e 6420  ng ptpython and 
+00002480: 7269 6368 205b 5c23 3738 325d 2868 7474  rich [\#782](htt
+00002490: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000024a0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+000024b0: 6f6e 2d6b 6173 612f 7075 6c6c 2f37 3832  on-kasa/pull/782
+000024c0: 2920 2840 7364 6239 3639 3629 0a2d 2041  ) (@sdb9696).- A
+000024d0: 6464 2057 616c 6c53 7769 7463 6820 6465  dd WallSwitch de
+000024e0: 7669 6365 2074 7970 6520 616e 6420 6175  vice type and au
+000024f0: 746f 6765 6e65 7261 7465 2073 7570 706f  togenerate suppo
+00002500: 7274 6564 2064 6576 6963 6573 2064 6f63  rted devices doc
+00002510: 7320 5b5c 2337 3538 5d28 6874 7470 733a  s [\#758](https:
+00002520: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00002530: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+00002540: 6b61 7361 2f70 756c 6c2f 3735 3829 2028  kasa/pull/758) (
+00002550: 4073 6462 3936 3936 290a 0a2a 2a43 6c6f  @sdb9696)..**Clo
+00002560: 7365 6420 6973 7375 6573 3a2a 2a0a 0a2d  sed issues:**..-
+00002570: 2053 7570 706f 7274 2066 6f72 2054 3330   Support for T30
+00002580: 3020 616e 6420 5431 3130 205b 5c23 3837  0 and T110 [\#87
+00002590: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
+000025a0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+000025b0: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
+000025c0: 7375 6573 2f38 3735 290a 2d20 416c 6c6f  sues/875).- Allo
+000025d0: 7720 6578 706f 7369 6e67 2065 7874 7261  w exposing extra
+000025e0: 2066 6561 7475 7265 206d 6574 6164 6174   feature metadat
+000025f0: 6120 5b5c 2338 3432 5d28 6874 7470 733a  a [\#842](https:
+00002600: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00002610: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+00002620: 6b61 7361 2f69 7373 7565 732f 3834 3229  kasa/issues/842)
+00002630: 0a2d 2048 616e 646c 6520 6d6f 6475 6c65  .- Handle module
+00002640: 7320 7375 7070 6f72 7465 6420 6f6e 6c79  s supported only
+00002650: 2062 7920 6368 696c 6472 656e 205b 5c23   by children [\#
+00002660: 3832 355d 2868 7474 7073 3a2f 2f67 6974  825](https://git
+00002670: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00002680: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00002690: 6973 7375 6573 2f38 3235 290a 2d20 4861  issues/825).- Ha
+000026a0: 6e64 6c65 2063 6869 6c64 2d65 6d62 6564  ndle child-embed
+000026b0: 6465 6420 6d6f 6475 6c65 2064 6174 6120  ded module data 
+000026c0: 5b5c 2338 3234 5d28 6874 7470 733a 2f2f  [\#824](https://
+000026d0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+000026e0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+000026f0: 7361 2f69 7373 7565 732f 3832 3429 0a2d  sa/issues/824).-
+00002700: 2054 502d 4b61 7361 204b 7332 3430 2073   TP-Kasa Ks240 s
+00002710: 6d61 7274 2053 7769 7463 6820 444f 4553  mart Switch DOES
+00002720: 204e 4f54 2057 4f52 4b20 5b5c 2338 3233   NOT WORK [\#823
+00002730: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00002740: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+00002750: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
+00002760: 7565 732f 3832 3329 0a2d 2063 6869 6c64  ues/823).- child
+00002770: 2064 6576 6963 6520 636f 6d70 6f6e 656e   device componen
+00002780: 745c 5f6e 6567 6f20 616e 6420 6d6f 6475  t\_nego and modu
+00002790: 6c65 2071 7565 7269 6573 2066 6f72 2064  le queries for d
+000027a0: 756d 705c 5f64 6576 696e 666f 205b 5c23  ump\_devinfo [\#
+000027b0: 3831 335d 2868 7474 7073 3a2f 2f67 6974  813](https://git
+000027c0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+000027d0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+000027e0: 6973 7375 6573 2f38 3133 290a 2d20 4b6c  issues/813).- Kl
+000027f0: 6170 2070 726f 746f 636f 6c20 6e65 6564  ap protocol need
+00002800: 7320 746f 2072 6574 7279 2061 6674 6572  s to retry after
+00002810: 2034 3033 2065 7272 6f72 205b 5c23 3738   403 error [\#78
+00002820: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
+00002830: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00002840: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
+00002850: 7375 6573 2f37 3834 290a 2d20 4164 6420  sues/784).- Add 
+00002860: 756e 6974 7320 746f 2066 6561 7475 7265  units to feature
+00002870: 7320 616e 6420 636f 6e76 6572 7420 656d  s and convert em
+00002880: 6574 6572 2074 6f20 7573 6520 6665 6174  eter to use feat
+00002890: 7572 6573 205b 5c23 3737 325d 2868 7474  ures [\#772](htt
+000028a0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000028b0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+000028c0: 6f6e 2d6b 6173 612f 6973 7375 6573 2f37  on-kasa/issues/7
+000028d0: 3732 290a 2d20 5c5f 5c5f 696e 6974 5c5f  72).- \_\_init\_
+000028e0: 5c5f 5c28 5c29 206d 6973 7369 6e67 2031  \_\(\) missing 1
+000028f0: 2072 6571 7569 7265 6420 706f 7369 7469   required positi
+00002900: 6f6e 616c 2061 7267 756d 656e 743a 2027  onal argument: '
+00002910: 6261 636b 656e 6427 205b 5c23 3737 305d  backend' [\#770]
+00002920: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00002930: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00002940: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
+00002950: 6573 2f37 3730 290a 2d20 4265 206d 6f72  es/770).- Be mor
+00002960: 6520 6c61 7820 6f6e 2075 6e6b 6e6f 776e  e lax on unknown
+00002970: 2053 4d41 5254 5c2a 2064 6576 6963 6573   SMART\* devices
+00002980: 205b 5c23 3736 385d 2868 7474 7073 3a2f   [\#768](https:/
+00002990: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+000029a0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+000029b0: 6173 612f 6973 7375 6573 2f37 3638 290a  asa/issues/768).
+000029c0: 2d20 436f 6d62 696e 6520 736d 6172 747b  - Combine smart{
+000029d0: 706c 7567 2c6c 6967 6874 7d20 696e 746f  plug,light} into
+000029e0: 2073 6d61 7274 6465 7669 6365 205b 5c23   smartdevice [\#
+000029f0: 3734 375d 2868 7474 7073 3a2f 2f67 6974  747](https://git
+00002a00: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00002a10: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00002a20: 6973 7375 6573 2f37 3437 290a 2d20 5450  issues/747).- TP
+00002a30: 2d4c 696e 6b20 5031 3030 2050 6c75 6720  -Link P100 Plug 
+00002a40: 7375 7070 6f72 7420 5b5c 2337 3432 5d28  support [\#742](
+00002a50: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00002a60: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00002a70: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
+00002a80: 732f 3734 3229 0a2d 2043 6c65 616e 2075  s/742).- Clean u
+00002a90: 7020 6e65 7766 616b 6573 205b 5c23 3732  p newfakes [\#72
+00002aa0: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
+00002ab0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00002ac0: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
+00002ad0: 7375 6573 2f37 3233 290a 2d20 4469 7363  sues/723).- Disc
+00002ae0: 6f76 6572 7920 646f 6573 206e 6f74 206c  overy does not l
+00002af0: 6973 7420 616c 6c20 6469 7363 6f76 6572  ist all discover
+00002b00: 6564 5c5f 6465 7669 6365 7320 6966 2069  ed\_devices if i
+00002b10: 7420 7469 6d65 7320 6f75 7420 6265 666f  t times out befo
+00002b20: 7265 2069 7420 6361 6e20 7072 696e 7420  re it can print 
+00002b30: 7468 656d 2e20 5b5c 2336 3732 5d28 6874  them. [\#672](ht
+00002b40: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00002b50: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00002b60: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
+00002b70: 3637 3229 0a2d 204d 6f64 756c 6172 697a  672).- Modulariz
+00002b80: 6520 7461 706f 6465 7669 6365 205b 5c23  e tapodevice [\#
+00002b90: 3635 315d 2868 7474 7073 3a2f 2f67 6974  651](https://git
+00002ba0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00002bb0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00002bc0: 6973 7375 6573 2f36 3531 290a 2d20 4164  issues/651).- Ad
+00002bd0: 6420 7265 7472 7920 6c6f 6769 6320 746f  d retry logic to
+00002be0: 206c 6567 6163 7920 7072 6f74 6f63 6f6c   legacy protocol
+00002bf0: 2066 6f72 2063 6f6e 6e65 6374 696f 6e20   for connection 
+00002c00: 616e 6420 4f53 4572 726f 7273 2e20 5b5c  and OSErrors. [\
+00002c10: 2336 3438 5d28 6874 7470 733a 2f2f 6769  #648](https://gi
+00002c20: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00002c30: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00002c40: 2f69 7373 7565 732f 3634 3829 0a2d 2041  /issues/648).- A
+00002c50: 6464 2074 696d 6573 7461 6d70 2074 6f20  dd timestamp to 
+00002c60: 6465 6661 756c 7420 6c6f 6767 6572 2061  default logger a
+00002c70: 6e64 2072 656d 6f76 6520 6672 6f6d 206c  nd remove from l
+00002c80: 6f67 2e64 6562 7567 206d 6573 7361 6765  og.debug message
+00002c90: 7320 5b5c 2336 3437 5d28 6874 7470 733a  s [\#647](https:
+00002ca0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00002cb0: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+00002cc0: 6b61 7361 2f69 7373 7565 732f 3634 3729  kasa/issues/647)
+00002cd0: 0a2d 204e 6565 6420 746f 2063 7265 6174  .- Need to creat
+00002ce0: 6520 636f 6d6d 6f6e 2069 6e74 6572 6661  e common interfa
+00002cf0: 6365 7320 666f 7220 6c65 6761 6379 2061  ces for legacy a
+00002d00: 6e64 206e 6577 2064 6576 6963 6573 205b  nd new devices [
+00002d10: 5c23 3631 335d 2868 7474 7073 3a2f 2f67  \#613](https://g
+00002d20: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00002d30: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00002d40: 612f 6973 7375 6573 2f36 3133 290a 2d20  a/issues/613).- 
+00002d50: 4b61 7361 2064 6973 636f 7665 7279 2063  Kasa discovery c
+00002d60: 7261 7368 6573 206f 6e20 5769 6e64 6f77  rashes on Window
+00002d70: 7320 3130 2077 6974 6820 5079 7468 6f6e  s 10 with Python
+00002d80: 2033 2e31 312e 3220 5b5c 2334 3439 5d28   3.11.2 [\#449](
+00002d90: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00002da0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00002db0: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
+00002dc0: 732f 3434 3929 0a0a 2a2a 4d65 7267 6564  s/449)..**Merged
+00002dd0: 2070 756c 6c20 7265 7175 6573 7473 3a2a   pull requests:*
+00002de0: 2a0a 0a2d 2046 6978 2070 6f74 656e 7469  *..- Fix potenti
+00002df0: 616c 2069 6e66 696e 6974 6520 6c6f 6f70  al infinite loop
+00002e00: 2069 6620 696e 636f 6d70 6c65 7465 206c   if incomplete l
+00002e10: 6973 7473 2072 6574 7572 6e65 6420 5b5c  ists returned [\
+00002e20: 2339 3230 5d28 6874 7470 733a 2f2f 6769  #920](https://gi
+00002e30: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00002e40: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00002e50: 2f70 756c 6c2f 3932 3029 2028 4073 6462  /pull/920) (@sdb
+00002e60: 3936 3936 290a 2d20 4465 7072 6563 6174  9696).- Deprecat
+00002e70: 6520 6465 7669 6365 206c 6576 656c 206c  e device level l
+00002e80: 6967 6874 2c20 6566 6665 6374 2061 6e64  ight, effect and
+00002e90: 206c 6564 2061 7474 7269 6275 7465 7320   led attributes 
+00002ea0: 5b5c 2339 3136 5d28 6874 7470 733a 2f2f  [\#916](https://
+00002eb0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00002ec0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00002ed0: 7361 2f70 756c 6c2f 3931 3629 2028 4073  sa/pull/916) (@s
+00002ee0: 6462 3936 3936 290a 2d20 5570 6461 7465  db9696).- Update
+00002ef0: 2063 6c69 2074 6f20 7573 6520 636f 6d6d   cli to use comm
+00002f00: 6f6e 206d 6f64 756c 6573 2061 6e64 2072  on modules and r
+00002f10: 656d 6f76 6520 696f 7420 7370 6563 6966  emove iot specif
+00002f20: 6963 2063 6c69 2074 6573 7469 6e67 205b  ic cli testing [
+00002f30: 5c23 3931 335d 2868 7474 7073 3a2f 2f67  \#913](https://g
+00002f40: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00002f50: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00002f60: 612f 7075 6c6c 2f39 3133 2920 2840 7364  a/pull/913) (@sd
+00002f70: 6239 3639 3629 0a2d 2044 6570 7265 6361  b9696).- Depreca
+00002f80: 7465 2069 735c 5f73 6f6d 6574 6869 6e67  te is\_something
+00002f90: 2061 7474 7269 6275 7465 7320 5b5c 2339   attributes [\#9
+00002fa0: 3132 5d28 6874 7470 733a 2f2f 6769 7468  12](https://gith
+00002fb0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00002fc0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00002fd0: 756c 6c2f 3931 3229 2028 4073 6462 3936  ull/912) (@sdb96
+00002fe0: 3936 290a 2d20 4d61 6b65 204c 6967 6874  96).- Make Light
+00002ff0: 2061 6e64 2046 616e 2061 2063 6f6d 6d6f   and Fan a commo
+00003000: 6e20 6d6f 6475 6c65 2069 6e74 6572 6661  n module interfa
+00003010: 6365 205b 5c23 3931 315d 2868 7474 7073  ce [\#911](https
+00003020: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00003030: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00003040: 2d6b 6173 612f 7075 6c6c 2f39 3131 2920  -kasa/pull/911) 
+00003050: 2840 7364 6239 3639 3629 0a2d 2052 656e  (@sdb9696).- Ren
+00003060: 616d 6520 6275 6c62 2069 6e74 6572 6661  ame bulb interfa
+00003070: 6365 2074 6f20 6c69 6768 7420 616e 6420  ce to light and 
+00003080: 6d6f 7665 2066 616e 2061 6e64 206c 6967  move fan and lig
+00003090: 6874 2069 6e74 6572 6661 6365 2074 6f20  ht interface to 
+000030a0: 696e 7465 7266 6163 6573 205b 5c23 3931  interfaces [\#91
+000030b0: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
+000030c0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+000030d0: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+000030e0: 6c6c 2f39 3130 2920 2840 7364 6239 3639  ll/910) (@sdb969
+000030f0: 3629 0a2d 204d 616b 6520 6d6f 6475 6c65  6).- Make module
+00003100: 206e 616d 6573 2063 6f6e 7369 7374 656e   names consisten
+00003110: 7420 616e 6420 7265 6d6f 7665 2072 6564  t and remove red
+00003120: 756e 6461 6e74 206d 6f64 756c 6520 6361  undant module ca
+00003130: 7374 696e 6720 5b5c 2339 3039 5d28 6874  sting [\#909](ht
+00003140: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00003150: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00003160: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3930  hon-kasa/pull/90
+00003170: 3929 2028 4073 6462 3936 3936 290a 2d20  9) (@sdb9696).- 
+00003180: 4164 6420 6c69 6768 7420 7072 6573 6574  Add light preset
+00003190: 7320 636f 6d6d 6f6e 206d 6f64 756c 6520  s common module 
+000031a0: 746f 2064 6576 6963 6573 2e20 5b5c 2339  to devices. [\#9
+000031b0: 3037 5d28 6874 7470 733a 2f2f 6769 7468  07](https://gith
+000031c0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+000031d0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+000031e0: 756c 6c2f 3930 3729 2028 4073 6462 3936  ull/907) (@sdb96
+000031f0: 3936 290a 2d20 4164 6420 4831 3030 2031  96).- Add H100 1
+00003200: 2e35 2e31 3020 616e 6420 4b45 3130 3020  .5.10 and KE100 
+00003210: 322e 342e 3020 6669 7874 7572 6573 205b  2.4.0 fixtures [
+00003220: 5c23 3930 355d 2868 7474 7073 3a2f 2f67  \#905](https://g
+00003230: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00003240: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00003250: 612f 7075 6c6c 2f39 3035 2920 2840 7279  a/pull/905) (@ry
+00003260: 7469 6c61 6874 6929 0a2d 2041 6464 2063  tilahti).- Add c
+00003270: 6869 6c64 2064 6576 6963 6573 2066 726f  hild devices fro
+00003280: 6d20 6875 6273 2074 6f20 6765 6e65 7261  m hubs to genera
+00003290: 7465 6420 6c69 7374 206f 6620 7375 7070  ted list of supp
+000032a0: 6f72 7465 6420 6465 7669 6365 7320 5b5c  orted devices [\
+000032b0: 2338 3938 5d28 6874 7470 733a 2f2f 6769  #898](https://gi
 000032c0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
 000032d0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-000032e0: 2f70 756c 6c2f 3533 3929 2028 4073 6462  /pull/539) (@sdb
-000032f0: 3936 3936 290a 2d20 416c 6c6f 7720 7365  9696).- Allow se
-00003300: 7269 616c 697a 696e 6720 616e 6420 7061  rializing and pa
-00003310: 7373 696e 6720 6f66 2063 7265 6465 6e74  ssing of credent
-00003320: 6961 6c73 5c5f 6861 7368 6573 2069 6e20  ials\_hashes in 
-00003330: 4465 7669 6365 436f 6e66 6967 205b 5c23  DeviceConfig [\#
-00003340: 3630 375d 2868 7474 7073 3a2f 2f67 6974  607](https://git
-00003350: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-00003360: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-00003370: 7075 6c6c 2f36 3037 2920 2840 7364 6239  pull/607) (@sdb9
-00003380: 3639 3629 0a2d 2049 6d70 6c65 6d65 6e74  696).- Implement
-00003390: 2077 6966 6920 696e 7465 7266 6163 6520   wifi interface 
-000033a0: 666f 7220 7461 706f 6465 7669 6365 205b  for tapodevice [
-000033b0: 5c23 3630 365d 2868 7474 7073 3a2f 2f67  \#606](https://g
-000033c0: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-000033d0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-000033e0: 612f 7075 6c6c 2f36 3036 2920 2840 7279  a/pull/606) (@ry
-000033f0: 7469 6c61 6874 6929 0a2d 2041 6464 2073  tilahti).- Add s
-00003400: 7570 706f 7274 2066 6f72 204b 5332 3035  upport for KS205
-00003410: 2061 6e64 204b 5332 3235 2077 616c 6c20   and KS225 wall 
-00003420: 7377 6974 6368 6573 205b 5c23 3539 345d  switches [\#594]
-00003430: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00003440: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-00003450: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
-00003460: 2f35 3934 2920 2840 6769 6d70 7938 3829  /594) (@gimpy88)
-00003470: 0a2d 2041 6464 2073 7570 706f 7274 2066  .- Add support f
-00003480: 6f72 2074 6170 6f20 6275 6c62 7320 5b5c  or tapo bulbs [\
-00003490: 2335 3538 5d28 6874 7470 733a 2f2f 6769  #558](https://gi
-000034a0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-000034b0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-000034c0: 2f70 756c 6c2f 3535 3829 2028 4072 7974  /pull/558) (@ryt
-000034d0: 696c 6168 7469 290a 2d20 4164 6420 6b6c  ilahti).- Add kl
-000034e0: 6170 2070 726f 746f 636f 6c20 5b5c 2335  ap protocol [\#5
-000034f0: 3039 5d28 6874 7470 733a 2f2f 6769 7468  09](https://gith
-00003500: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00003510: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-00003520: 756c 6c2f 3530 3929 2028 4073 6462 3936  ull/509) (@sdb96
-00003530: 3936 290a 0a2a 2a46 6978 6564 2062 7567  96)..**Fixed bug
-00003540: 733a 2a2a 0a0a 2d20 6475 6d70 5c5f 6465  s:**..- dump\_de
-00003550: 7669 6e66 6f20 6372 6173 6865 7320 7768  vinfo crashes wh
-00003560: 656e 2063 7265 6465 6e74 6961 6c73 2061  en credentials a
-00003570: 7265 206e 6f74 2067 6976 656e 205b 5c23  re not given [\#
-00003580: 3539 315d 2868 7474 7073 3a2f 2f67 6974  591](https://git
-00003590: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-000035a0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-000035b0: 6973 7375 6573 2f35 3931 290a 2d20 4669  issues/591).- Fi
-000035c0: 7820 636f 6e6e 6563 7469 6f6e 2069 6e64  x connection ind
-000035d0: 6574 6572 6d69 6e61 7465 2073 7461 7465  eterminate state
-000035e0: 206f 6e20 6361 6e63 656c 6c61 7469 6f6e   on cancellation
-000035f0: 205b 5c23 3633 365d 2868 7474 7073 3a2f   [\#636](https:/
-00003600: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-00003610: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-00003620: 6173 612f 7075 6c6c 2f36 3336 2920 2840  asa/pull/636) (@
-00003630: 6264 7261 636f 290a 2d20 4368 6563 6b20  bdraco).- Check 
-00003640: 7468 6520 6374 2072 616e 6765 2066 6f72  the ct range for
-00003650: 2063 6f6c 6f72 2074 656d 7020 7375 7070   color temp supp
-00003660: 6f72 7420 5b5c 2336 3139 5d28 6874 7470  ort [\#619](http
-00003670: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-00003680: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-00003690: 6e2d 6b61 7361 2f70 756c 6c2f 3631 3929  n-kasa/pull/619)
-000036a0: 2028 4072 7974 696c 6168 7469 290a 2d20   (@rytilahti).- 
-000036b0: 4669 7820 636c 6920 6469 7363 6f76 6572  Fix cli discover
-000036c0: 2062 7567 2077 6974 6820 4e6f 6e65 2075   bug with None u
-000036d0: 7365 726e 616d 652f 7061 7373 776f 7264  sername/password
-000036e0: 205b 5c23 3631 355d 2868 7474 7073 3a2f   [\#615](https:/
-000036f0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-00003700: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-00003710: 6173 612f 7075 6c6c 2f36 3135 2920 2840  asa/pull/615) (@
-00003720: 7364 6239 3639 3629 0a2d 2046 6978 2068  sdb9696).- Fix h
-00003730: 7376 2073 6574 7469 6e67 2066 6f72 2074  sv setting for t
-00003740: 6170 6f62 756c 6220 5b5c 2335 3733 5d28  apobulb [\#573](
-00003750: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00003760: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00003770: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
-00003780: 3537 3329 2028 4072 7974 696c 6168 7469  573) (@rytilahti
-00003790: 290a 2d20 4669 7820 7472 616e 7370 6f72  ).- Fix transpor
-000037a0: 7420 7265 7472 6965 7320 6166 7465 7220  t retries after 
-000037b0: 636c 6f73 6520 5b5c 2335 3638 5d28 6874  close [\#568](ht
-000037c0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000037d0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-000037e0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3536  hon-kasa/pull/56
-000037f0: 3829 2028 4073 6462 3936 3936 290a 0a2a  8) (@sdb9696)..*
-00003800: 2a44 6f63 756d 656e 7461 7469 6f6e 2075  *Documentation u
-00003810: 7064 6174 6573 3a2a 2a0a 0a2d 2055 7064  pdates:**..- Upd
-00003820: 6174 6520 7468 6520 646f 6375 6d65 6e74  ate the document
-00003830: 6174 696f 6e20 666f 7220 302e 3620 7265  ation for 0.6 re
-00003840: 6c65 6173 6520 5b5c 2336 3030 5d28 6874  lease [\#600](ht
-00003850: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00003860: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-00003870: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
-00003880: 3630 3029 0a2d 2055 7064 6174 6520 646f  600).- Update do
-00003890: 6373 2066 6f72 206e 6577 6572 2064 6576  cs for newer dev
-000038a0: 6963 6573 2061 6e64 2044 6576 6963 6543  ices and DeviceC
-000038b0: 6f6e 6669 6720 5b5c 2336 3134 5d28 6874  onfig [\#614](ht
-000038c0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000038d0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-000038e0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3631  hon-kasa/pull/61
-000038f0: 3429 2028 4073 6462 3936 3936 290a 2d20  4) (@sdb9696).- 
-00003900: 5570 6461 7465 2072 6561 646d 6520 7769  Update readme wi
-00003910: 7468 2063 6c65 6172 6572 2069 6e73 7472  th clearer instr
-00003920: 7563 7469 6f6e 732c 2074 6170 6f20 7375  uctions, tapo su
-00003930: 7070 6f72 7420 5b5c 2335 3731 5d28 6874  pport [\#571](ht
-00003940: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00003950: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-00003960: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3537  hon-kasa/pull/57
-00003970: 3129 2028 4072 7974 696c 6168 7469 290a  1) (@rytilahti).
-00003980: 2d20 4164 6420 736f 6d65 206d 6f72 6520  - Add some more 
-00003990: 6578 7465 726e 616c 206c 696e 6b73 2074  external links t
-000039a0: 6f20 5245 4144 4d45 205b 5c23 3534 315d  o README [\#541]
-000039b0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000039c0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-000039d0: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
-000039e0: 2f35 3431 2920 2840 7279 7469 6c61 6874  /541) (@rytilaht
-000039f0: 6929 0a0a 2a2a 436c 6f73 6564 2069 7373  i)..**Closed iss
-00003a00: 7565 733a 2a2a 0a0a 2d20 4b53 3232 3520  ues:**..- KS225 
-00003a10: 7375 7070 6f72 7420 5b5c 2336 3331 5d28  support [\#631](
-00003a20: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00003a30: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00003a40: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
-00003a50: 732f 3633 3129 0a2d 2044 6973 636f 7665  s/631).- Discove
-00003a60: 7220 7265 7475 726e 7320 6469 6374 696f  r returns dictio
-00003a70: 6e61 7279 2077 6974 6820 6e6f 2027 616c  nary with no 'al
-00003a80: 6961 7327 2070 726f 7065 7274 7920 5b5c  ias' property [\
-00003a90: 2335 3932 5d28 6874 7470 733a 2f2f 6769  #592](https://gi
-00003aa0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-00003ab0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-00003ac0: 2f69 7373 7565 732f 3539 3229 0a2d 2053  /issues/592).- S
-00003ad0: 656e 6469 6e67 2077 6974 6820 7468 6520  ending with the 
-00003ae0: 6c65 6761 6379 2070 726f 746f 636f 6c20  legacy protocol 
-00003af0: 6973 206e 6565 646c 6573 736c 7920 6465  is needlessly de
-00003b00: 6c61 7965 6420 5b5c 2335 3533 5d28 6874  layed [\#553](ht
-00003b10: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00003b20: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-00003b30: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
-00003b40: 3535 3329 0a2d 2049 7373 7565 7320 6164  553).- Issues ad
-00003b50: 6469 6e67 2061 204b 5034 3035 2064 6576  ding a KP405 dev
-00003b60: 6963 6520 5b5c 2335 3439 5d28 6874 7470  ice [\#549](http
-00003b70: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-00003b80: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-00003b90: 6e2d 6b61 7361 2f69 7373 7565 732f 3534  n-kasa/issues/54
-00003ba0: 3929 0a2d 2053 7570 706f 7274 2066 6f72  9).- Support for
-00003bb0: 204c 3531 3045 2062 756c 6220 5b5c 2335   L510E bulb [\#5
-00003bc0: 3437 5d28 6874 7470 733a 2f2f 6769 7468  47](https://gith
-00003bd0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00003be0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f69  sa/python-kasa/i
-00003bf0: 7373 7565 732f 3534 3729 0a2d 2053 7570  ssues/547).- Sup
-00003c00: 706f 7274 2066 6f72 2074 6170 6f20 4c35  port for tapo L5
-00003c10: 3330 4520 6275 6c62 733f 205b 5c23 3534  30E bulbs? [\#54
-00003c20: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
-00003c30: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-00003c40: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
-00003c50: 7375 6573 2f35 3436 290a 2d20 556e 6162  sues/546).- Unab
-00003c60: 6c65 2074 6f20 636f 6e6e 6563 7420 746f  le to connect to
-00003c70: 2068 6f73 7420 6f6e 2064 6966 6665 7265   host on differe
-00003c80: 6e74 2073 7562 6e65 7420 7769 7468 2030  nt subnet with 0
-00003c90: 2e35 2e34 205b 5c23 3534 355d 2868 7474  .5.4 [\#545](htt
-00003ca0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00003cb0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-00003cc0: 6f6e 2d6b 6173 612f 6973 7375 6573 2f35  on-kasa/issues/5
-00003cd0: 3435 290a 2d20 4469 7363 6f76 6572 792f  45).- Discovery/
-00003ce0: 436f 6e6e 6563 7420 6272 6f6b 656e 2077  Connect broken w
-00003cf0: 6865 6e20 7570 6772 6164 696e 6720 6672  hen upgrading fr
-00003d00: 6f6d 2030 2e35 2e33 202d 5c3e 2030 2e35  om 0.5.3 -\> 0.5
-00003d10: 2e34 205b 5c23 3534 335d 2868 7474 7073  .4 [\#543](https
-00003d20: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-00003d30: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-00003d40: 2d6b 6173 612f 6973 7375 6573 2f35 3433  -kasa/issues/543
-00003d50: 290a 2d20 5079 6461 6e74 6963 5573 6572  ).- PydanticUser
-00003d60: 4572 726f 722c 2049 6620 796f 7520 7573  Error, If you us
-00003d70: 6520 6040 726f 6f74 5f76 616c 6964 6174  e `@root_validat
-00003d80: 6f72 6020 7769 7468 2070 7265 3d46 616c  or` with pre=Fal
-00003d90: 7365 205c 2874 6865 2064 6566 6175 6c74  se \(the default
-00003da0: 5c29 2079 6f75 204d 5553 5420 7370 6563  \) you MUST spec
-00003db0: 6966 7920 6073 6b69 705f 6f6e 5f66 6169  ify `skip_on_fai
-00003dc0: 6c75 7265 3d54 7275 6560 205b 5c23 3531  lure=True` [\#51
-00003dd0: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
-00003de0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-00003df0: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
-00003e00: 7375 6573 2f35 3136 290a 2d20 496d 706c  sues/516).- Impl
-00003e10: 656d 656e 7420 656e 6572 6779 2061 6e64  ement energy and
-00003e20: 2075 7361 6765 2066 6f72 2069 6e64 6976   usage for indiv
-00003e30: 6964 7561 6c20 706c 7567 7320 696e 2048  idual plugs in H
-00003e40: 5333 3030 205b 5c23 3436 325d 2868 7474  S300 [\#462](htt
-00003e50: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00003e60: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-00003e70: 6f6e 2d6b 6173 612f 6973 7375 6573 2f34  on-kasa/issues/4
-00003e80: 3632 290a 2d20 4b50 2031 3235 4d20 2f20  62).- KP 125M / 
-00003e90: 7375 7070 6f72 7420 666f 7220 6d61 7474  support for matt
-00003ea0: 6572 2064 6576 6963 6573 205b 5c23 3435  er devices [\#45
-00003eb0: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-00003ec0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-00003ed0: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
-00003ee0: 7375 6573 2f34 3530 290a 2d20 436f 6e76  sues/450).- Conv
-00003ef0: 6572 7420 746f 2075 7365 2061 696f 6874  ert to use aioht
-00003f00: 7470 2069 6e73 7465 6164 206f 6620 6874  tp instead of ht
-00003f10: 7470 7820 5b5c 2336 3335 5d28 6874 7470  tpx [\#635](http
-00003f20: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-00003f30: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-00003f40: 6e2d 6b61 7361 2f69 7373 7565 732f 3633  n-kasa/issues/63
-00003f50: 3529 0a2d 204e 6565 6420 746f 2064 6f20  5).- Need to do 
-00003f60: 6572 726f 7220 636f 6465 2063 6865 636b  error code check
-00003f70: 696e 6720 666f 7220 6e65 7720 7072 6f74  ing for new prot
-00003f80: 6f63 6f6c 7320 5b5c 2336 3132 5d28 6874  ocols [\#612](ht
-00003f90: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00003fa0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-00003fb0: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
-00003fc0: 3631 3229 0a2d 2053 7570 706f 7274 206f  612).- Support o
-00003fd0: 6620 6c61 7374 2066 6972 6d77 6172 6520  f last firmware 
-00003fe0: 7570 6461 7465 2076 6572 7369 6f6e 2031  update version 1
-00003ff0: 2e33 2e30 205b 5c23 3631 315d 2868 7474  .3.0 [\#611](htt
-00004000: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00004010: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-00004020: 6f6e 2d6b 6173 612f 6973 7375 6573 2f36  on-kasa/issues/6
-00004030: 3131 290a 2d20 496d 7072 6f76 6520 7465  11).- Improve te
-00004040: 7374 2063 6f76 6572 6167 6520 666f 7220  st coverage for 
-00004050: 7461 706f 6465 7669 6365 2063 6c61 7373  tapodevice class
-00004060: 205b 5c23 3630 385d 2868 7474 7073 3a2f   [\#608](https:/
-00004070: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-00004080: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-00004090: 6173 612f 6973 7375 6573 2f36 3038 290a  asa/issues/608).
-000040a0: 0a2a 2a4d 6572 6765 6420 7075 6c6c 2072  .**Merged pull r
-000040b0: 6571 7565 7374 733a 2a2a 0a0a 2d20 5265  equests:**..- Re
-000040c0: 6c65 6173 6520 302e 362e 3020 5b5c 2336  lease 0.6.0 [\#6
-000040d0: 3533 5d28 6874 7470 733a 2f2f 6769 7468  53](https://gith
-000040e0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-000040f0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-00004100: 756c 6c2f 3635 3329 2028 4072 7974 696c  ull/653) (@rytil
-00004110: 6168 7469 290a 2d20 5265 6d6f 7665 2074  ahti).- Remove t
-00004120: 696d 6520 6c6f 6767 696e 6720 696e 2064  ime logging in d
-00004130: 6562 7567 206d 6573 7361 6765 205b 5c23  ebug message [\#
-00004140: 3634 355d 2868 7474 7073 3a2f 2f67 6974  645](https://git
-00004150: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-00004160: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-00004170: 7075 6c6c 2f36 3435 2920 2840 7364 6239  pull/645) (@sdb9
-00004180: 3639 3629 0a2d 204d 6967 7261 7465 2068  696).- Migrate h
-00004190: 7474 7020 636c 6965 6e74 2074 6f20 7573  ttp client to us
-000041a0: 6520 6169 6f68 7474 7020 696e 7374 6561  e aiohttp instea
-000041b0: 6420 6f66 2068 7474 7078 205b 5c23 3634  d of httpx [\#64
-000041c0: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
-000041d0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-000041e0: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-000041f0: 6c6c 2f36 3433 2920 2840 7364 6239 3639  ll/643) (@sdb969
-00004200: 3629 0a2d 2045 6e63 6170 7375 6c61 7465  6).- Encapsulate
-00004210: 2068 7474 7020 636c 6965 6e74 2064 6570   http client dep
-00004220: 656e 6465 6e63 7920 5b5c 2336 3432 5d28  endency [\#642](
-00004230: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00004240: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00004250: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
-00004260: 3634 3229 2028 4073 6462 3936 3936 290a  642) (@sdb9696).
-00004270: 2d20 4669 7820 6272 6f6b 656e 2064 6f63  - Fix broken doc
-00004280: 7320 6475 6520 746f 2061 7070 6c65 6865  s due to applehe
-00004290: 6c70 2064 6570 656e 6465 6e63 7920 5b5c  lp dependency [\
-000042a0: 2336 3431 5d28 6874 7470 733a 2f2f 6769  #641](https://gi
-000042b0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-000042c0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-000042d0: 2f70 756c 6c2f 3634 3129 2028 4073 6462  /pull/641) (@sdb
-000042e0: 3936 3936 290a 2d20 5261 6973 6520 536d  9696).- Raise Sm
-000042f0: 6172 7444 6576 6963 6545 7863 6570 7469  artDeviceExcepti
-00004300: 6f6e 206f 6e20 696e 7661 6c69 6420 636f  on on invalid co
-00004310: 6e66 6967 2064 6963 7473 205b 5c23 3634  nfig dicts [\#64
-00004320: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-00004330: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-00004340: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-00004350: 6c6c 2f36 3430 2920 2840 7364 6239 3639  ll/640) (@sdb969
-00004360: 3629 0a2d 2041 6464 2066 6978 7475 7265  6).- Add fixture
-00004370: 2066 6f72 204c 3932 3020 5b5c 2336 3338   for L920 [\#638
-00004380: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00004390: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-000043a0: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-000043b0: 6c2f 3633 3829 2028 4062 6472 6163 6f29  l/638) (@bdraco)
-000043c0: 0a2d 2052 656c 6561 7365 2030 2e36 2e30  .- Release 0.6.0
-000043d0: 2e64 6576 3220 5b5c 2336 3333 5d28 6874  .dev2 [\#633](ht
-000043e0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000043f0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-00004400: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3633  hon-kasa/pull/63
-00004410: 3329 2028 4072 7974 696c 6168 7469 290a  3) (@rytilahti).
-00004420: 2d20 5261 6973 6520 5469 6d65 6f75 7445  - Raise TimeoutE
-00004430: 7863 6570 7469 6f6e 206f 6e20 6469 7363  xception on disc
-00004440: 6f76 6572 5c5f 7369 6e67 6c65 2074 696d  over\_single tim
-00004450: 656f 7574 205b 5c23 3633 325d 2868 7474  eout [\#632](htt
-00004460: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00004470: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-00004480: 6f6e 2d6b 6173 612f 7075 6c6c 2f36 3332  on-kasa/pull/632
-00004490: 2920 2840 7364 6239 3639 3629 0a2d 2041  ) (@sdb9696).- A
-000044a0: 6464 204c 3930 302d 3130 2066 6978 7475  dd L900-10 fixtu
-000044b0: 7265 2061 6e64 2069 7427 7320 6164 6469  re and it's addi
-000044c0: 7469 6f6e 616c 2063 6f6d 706f 6e65 6e74  tional component
-000044d0: 2072 6571 7565 7374 7320 5b5c 2336 3239   requests [\#629
-000044e0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-000044f0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-00004500: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-00004510: 6c2f 3632 3929 2028 4073 6462 3936 3936  l/629) (@sdb9696
-00004520: 290a 2d20 4176 6f69 6420 7265 6372 6561  ).- Avoid recrea
-00004530: 7469 6e67 2073 7472 7563 7420 6561 6368  ting struct each
-00004540: 2072 6571 7565 7374 2069 6e20 6c65 6761   request in lega
-00004550: 6379 2070 726f 746f 636f 6c20 5b5c 2336  cy protocol [\#6
-00004560: 3238 5d28 6874 7470 733a 2f2f 6769 7468  28](https://gith
-00004570: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00004580: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-00004590: 756c 6c2f 3632 3829 2028 4062 6472 6163  ull/628) (@bdrac
-000045a0: 6f29 0a2d 2052 6574 7572 6e20 616c 6961  o).- Return alia
-000045b0: 7320 6173 204e 6f6e 6520 666f 7220 6e65  s as None for ne
-000045c0: 7720 6469 7363 6f76 6572 7920 6465 7669  w discovery devi
-000045d0: 6365 7320 6265 666f 7265 2075 7064 6174  ces before updat
-000045e0: 6520 5b5c 2336 3237 5d28 6874 7470 733a  e [\#627](https:
-000045f0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-00004600: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-00004610: 6b61 7361 2f70 756c 6c2f 3632 3729 2028  kasa/pull/627) (
-00004620: 4073 6462 3936 3936 290a 2d20 5570 6461  @sdb9696).- Upda
-00004630: 7465 2063 6f6e 6669 6720 746f 5c5f 6469  te config to\_di
-00004640: 6374 2074 6f20 6578 636c 7564 6520 6372  ct to exclude cr
-00004650: 6564 656e 7469 616c 7320 6966 2074 6865  edentials if the
-00004660: 2068 6173 6820 6973 2065 6d70 7479 2073   hash is empty s
-00004670: 7472 696e 6720 5b5c 2336 3236 5d28 6874  tring [\#626](ht
-00004680: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00004690: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-000046a0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3632  hon-kasa/pull/62
-000046b0: 3629 2028 4073 6462 3936 3936 290a 2d20  6) (@sdb9696).- 
-000046c0: 496d 7072 6f76 6520 7465 7374 2063 6f76  Improve test cov
-000046d0: 6572 6167 6520 5b5c 2336 3235 5d28 6874  erage [\#625](ht
-000046e0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000046f0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-00004700: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3632  hon-kasa/pull/62
-00004710: 3529 2028 4073 6462 3936 3936 290a 2d20  5) (@sdb9696).- 
-00004720: 5265 6c65 6173 6520 302e 362e 302e 6465  Release 0.6.0.de
-00004730: 7631 205b 5c23 3632 345d 2868 7474 7073  v1 [\#624](https
-00004740: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-00004750: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-00004760: 2d6b 6173 612f 7075 6c6c 2f36 3234 2920  -kasa/pull/624) 
-00004770: 2840 7279 7469 6c61 6874 6929 0a2d 2041  (@rytilahti).- A
-00004780: 6464 2050 3132 354d 2061 6e64 2075 7064  dd P125M and upd
-00004790: 6174 6520 4550 3235 2066 6978 7475 7265  ate EP25 fixture
-000047a0: 7320 5b5c 2336 3231 5d28 6874 7470 733a  s [\#621](https:
-000047b0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-000047c0: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-000047d0: 6b61 7361 2f70 756c 6c2f 3632 3129 2028  kasa/pull/621) (
-000047e0: 4062 6472 6163 6f29 0a2d 2055 7365 2063  @bdraco).- Use c
-000047f0: 6f6e 7369 7374 656e 7420 656e 7676 6172  onsistent envvar
-00004800: 7320 666f 7220 6475 6d70 5c5f 6465 7669  s for dump\_devi
-00004810: 6e66 6f20 6372 6564 656e 7469 616c 7320  nfo credentials 
-00004820: 5b5c 2336 3138 5d28 6874 7470 733a 2f2f  [\#618](https://
-00004830: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00004840: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-00004850: 7361 2f70 756c 6c2f 3631 3829 2028 4072  sa/pull/618) (@r
-00004860: 7974 696c 6168 7469 290a 2d20 4d61 726b  ytilahti).- Mark
-00004870: 204c 3930 302d 3520 6173 2073 7570 706f   L900-5 as suppo
-00004880: 7274 6564 205b 5c23 3631 375d 2868 7474  rted [\#617](htt
-00004890: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000048a0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-000048b0: 6f6e 2d6b 6173 612f 7075 6c6c 2f36 3137  on-kasa/pull/617
-000048c0: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
-000048d0: 2053 6869 7020 4348 414e 4745 4c4f 4720   Ship CHANGELOG 
-000048e0: 6f6e 6c79 2069 6e20 7364 6973 7420 5b5c  only in sdist [\
-000048f0: 2336 3130 5d28 6874 7470 733a 2f2f 6769  #610](https://gi
-00004900: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-00004910: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-00004920: 2f70 756c 6c2f 3631 3029 2028 4072 7974  /pull/610) (@ryt
-00004930: 696c 6168 7469 290a 2d20 5265 6c65 6173  ilahti).- Releas
-00004940: 6520 302e 362e 302e 6465 7630 205b 5c23  e 0.6.0.dev0 [\#
-00004950: 3630 395d 2868 7474 7073 3a2f 2f67 6974  609](https://git
-00004960: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-00004970: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-00004980: 7075 6c6c 2f36 3039 2920 2840 7279 7469  pull/609) (@ryti
-00004990: 6c61 6874 6929 0a2d 2043 6c65 616e 7570  lahti).- Cleanup
-000049a0: 2063 7265 6465 6e74 6961 6c73 2068 616e   credentials han
-000049b0: 646c 696e 6720 5b5c 2336 3035 5d28 6874  dling [\#605](ht
-000049c0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000049d0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-000049e0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3630  hon-kasa/pull/60
-000049f0: 3529 2028 4072 7974 696c 6168 7469 290a  5) (@rytilahti).
-00004a00: 2d20 5570 6461 7465 2050 3131 305c 2845  - Update P110\(E
-00004a10: 555c 2920 6669 7874 7572 6520 5b5c 2336  U\) fixture [\#6
-00004a20: 3034 5d28 6874 7470 733a 2f2f 6769 7468  04](https://gith
-00004a30: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00004a40: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-00004a50: 756c 6c2f 3630 3429 2028 4072 7974 696c  ull/604) (@rytil
-00004a60: 6168 7469 290a 2d20 5570 6461 7465 204c  ahti).- Update L
-00004a70: 3533 3020 6165 7320 6669 7874 7572 6520  530 aes fixture 
-00004a80: 5b5c 2336 3033 5d28 6874 7470 733a 2f2f  [\#603](https://
-00004a90: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00004aa0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-00004ab0: 7361 2f70 756c 6c2f 3630 3329 2028 4072  sa/pull/603) (@r
-00004ac0: 7974 696c 6168 7469 290a 2d20 436c 6561  ytilahti).- Clea
-00004ad0: 6e75 7020 6375 7374 6f6d 2065 7863 6570  nup custom excep
-00004ae0: 7469 6f6e 206b 7761 7267 2068 616e 646c  tion kwarg handl
-00004af0: 696e 6720 5b5c 2336 3032 5d28 6874 7470  ing [\#602](http
-00004b00: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-00004b10: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-00004b20: 6e2d 6b61 7361 2f70 756c 6c2f 3630 3229  n-kasa/pull/602)
-00004b30: 2028 4072 7974 696c 6168 7469 290a 2d20   (@rytilahti).- 
-00004b40: 5075 6c6c 2075 7020 656d 6574 6572 2068  Pull up emeter h
-00004b50: 616e 646c 696e 6720 746f 2074 6170 6f64  andling to tapod
-00004b60: 6576 6963 6520 6261 7365 2063 6c61 7373  evice base class
-00004b70: 205b 5c23 3630 315d 2868 7474 7073 3a2f   [\#601](https:/
-00004b80: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-00004b90: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-00004ba0: 6173 612f 7075 6c6c 2f36 3031 2920 2840  asa/pull/601) (@
-00004bb0: 7279 7469 6c61 6874 6929 0a2d 2041 6464  rytilahti).- Add
-00004bc0: 204c 3533 305c 2845 555c 2920 6b6c 6170   L530\(EU\) klap
-00004bd0: 2066 6978 7475 7265 205b 5c23 3539 385d   fixture [\#598]
-00004be0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00004bf0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-00004c00: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
-00004c10: 2f35 3938 2920 2840 7364 6239 3639 3629  /598) (@sdb9696)
-00004c20: 0a2d 2055 7064 6174 6520 5031 3130 5c28  .- Update P110\(
-00004c30: 554b 5c29 2066 6978 7475 7265 205b 5c23  UK\) fixture [\#
-00004c40: 3539 365d 2868 7474 7073 3a2f 2f67 6974  596](https://git
-00004c50: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-00004c60: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-00004c70: 7075 6c6c 2f35 3936 2920 2840 7364 6239  pull/596) (@sdb9
-00004c80: 3639 3629 0a2d 2046 6978 2064 756d 705c  696).- Fix dump\
-00004c90: 5f64 6576 696e 666f 2066 6f72 2075 6e61  _devinfo for una
-00004ca0: 7574 6865 6e74 6963 6174 6564 205b 5c23  uthenticated [\#
-00004cb0: 3539 335d 2868 7474 7073 3a2f 2f67 6974  593](https://git
-00004cc0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-00004cd0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-00004ce0: 7075 6c6c 2f35 3933 2920 2840 7364 6239  pull/593) (@sdb9
-00004cf0: 3639 3629 0a2d 2045 6c65 7661 7465 202d  696).- Elevate -
-00004d00: 2d76 6572 626f 7365 2074 6f20 746f 702d  -verbose to top-
-00004d10: 6c65 7665 6c20 6f70 7469 6f6e 205b 5c23  level option [\#
-00004d20: 3539 305d 2868 7474 7073 3a2f 2f67 6974  590](https://git
-00004d30: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-00004d40: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-00004d50: 7075 6c6c 2f35 3930 2920 2840 7279 7469  pull/590) (@ryti
-00004d60: 6c61 6874 6929 0a2d 2041 6464 206f 7074  lahti).- Add opt
-00004d70: 696f 6e61 6c20 6572 726f 7220 636f 6465  ional error code
-00004d80: 2074 6f20 6578 6365 7074 696f 6e73 205b   to exceptions [
-00004d90: 5c23 3538 355d 2868 7474 7073 3a2f 2f67  \#585](https://g
-00004da0: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-00004db0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-00004dc0: 612f 7075 6c6c 2f35 3835 2920 2840 7364  a/pull/585) (@sd
-00004dd0: 6239 3639 3629 0a2d 2046 6978 2074 7970  b9696).- Fix typ
-00004de0: 6f20 696e 2063 6c69 2e72 7374 205b 5c23  o in cli.rst [\#
-00004df0: 3538 315d 2868 7474 7073 3a2f 2f67 6974  581](https://git
-00004e00: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-00004e10: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-00004e20: 7075 6c6c 2f35 3831 2920 2840 616c 616e  pull/581) (@alan
-00004e30: 626c 616b 6529 0a2d 2044 6f20 6c6f 6769  blake).- Do logi
-00004e40: 6e20 656e 7469 7265 6c79 2077 6974 6869  n entirely withi
-00004e50: 6e20 4165 7354 7261 6e73 706f 7274 205b  n AesTransport [
-00004e60: 5c23 3538 305d 2868 7474 7073 3a2f 2f67  \#580](https://g
-00004e70: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-00004e80: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-00004e90: 612f 7075 6c6c 2f35 3830 2920 2840 7364  a/pull/580) (@sd
-00004ea0: 6239 3639 3629 0a2d 204c 6f67 2073 6d61  b9696).- Log sma
-00004eb0: 7274 7072 6f74 6f63 6f6c 2072 6571 7565  rtprotocol reque
-00004ec0: 7374 7320 5b5c 2335 3735 5d28 6874 7470  sts [\#575](http
-00004ed0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-00004ee0: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-00004ef0: 6e2d 6b61 7361 2f70 756c 6c2f 3537 3529  n-kasa/pull/575)
-00004f00: 2028 4072 7974 696c 6168 7469 290a 2d20   (@rytilahti).- 
-00004f10: 4164 6420 6e65 7720 6d65 7468 6f64 7320  Add new methods 
-00004f20: 746f 2064 756d 705c 5f64 6576 696e 666f  to dump\_devinfo
-00004f30: 2061 6e64 206d 6173 6b20 616c 6961 7365   and mask aliase
-00004f40: 7320 5b5c 2335 3734 5d28 6874 7470 733a  s [\#574](https:
-00004f50: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-00004f60: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-00004f70: 6b61 7361 2f70 756c 6c2f 3537 3429 2028  kasa/pull/574) (
-00004f80: 4073 6462 3936 3936 290a 2d20 4164 6420  @sdb9696).- Add 
-00004f90: 4550 3235 2073 6d61 7274 2066 6978 7475  EP25 smart fixtu
-00004fa0: 7265 2061 6e64 2069 6d70 726f 7665 2074  re and improve t
-00004fb0: 6573 7420 6672 616d 6577 6f72 6b20 666f  est framework fo
-00004fc0: 7220 534d 4152 5420 6465 7669 6365 7320  r SMART devices 
-00004fd0: 5b5c 2335 3732 5d28 6874 7470 733a 2f2f  [\#572](https://
+000032e0: 2f70 756c 6c2f 3839 3829 2028 4073 6462  /pull/898) (@sdb
+000032f0: 3936 3936 290a 2d20 4164 6420 6669 7874  9696).- Add fixt
+00003300: 7572 6520 666f 7220 7761 7465 726c 6561  ure for waterlea
+00003310: 6b20 7365 6e73 6f72 2054 3330 3020 5b5c  k sensor T300 [\
+00003320: 2338 3937 5d28 6874 7470 733a 2f2f 6769  #897](https://gi
+00003330: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00003340: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00003350: 2f70 756c 6c2f 3839 3729 2028 4072 7974  /pull/897) (@ryt
+00003360: 696c 6168 7469 290a 2d20 5570 6461 7465  ilahti).- Update
+00003370: 2069 6e74 6572 6661 6365 7320 736f 2074   interfaces so t
+00003380: 6865 7920 616c 6c20 696e 6865 7269 7420  hey all inherit 
+00003390: 6672 6f6d 2044 6576 6963 6520 5b5c 2338  from Device [\#8
+000033a0: 3933 5d28 6874 7470 733a 2f2f 6769 7468  93](https://gith
+000033b0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+000033c0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+000033d0: 756c 6c2f 3839 3329 2028 4073 6462 3936  ull/893) (@sdb96
+000033e0: 3936 290a 2d20 4669 7820 7769 6669 2073  96).- Fix wifi s
+000033f0: 6361 6e20 7265 2d71 7565 7279 696e 6720  can re-querying 
+00003400: 6572 726f 7220 5b5c 2338 3931 5d28 6874  error [\#891](ht
+00003410: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00003420: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00003430: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3839  hon-kasa/pull/89
+00003440: 3129 2028 4073 6462 3936 3936 290a 2d20  1) (@sdb9696).- 
+00003450: 5570 6461 7465 206b 7332 3430 2066 6978  Update ks240 fix
+00003460: 7475 7265 2077 6974 6820 6368 696c 6420  ture with child 
+00003470: 6465 7669 6365 2071 7565 7279 2069 6e66  device query inf
+00003480: 6f20 5b5c 2338 3930 5d28 6874 7470 733a  o [\#890](https:
+00003490: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+000034a0: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+000034b0: 6b61 7361 2f70 756c 6c2f 3839 3029 2028  kasa/pull/890) (
+000034c0: 4073 6462 3936 3936 290a 2d20 4669 7820  @sdb9696).- Fix 
+000034d0: 736d 6172 7470 726f 746f 636f 6c20 7265  smartprotocol re
+000034e0: 7370 6f6e 7365 206c 6973 7420 6861 6e64  sponse list hand
+000034f0: 6c65 7220 746f 2068 616e 646c 6520 6e75  ler to handle nu
+00003500: 6c6c 2072 6570 6f6e 7365 7320 5b5c 2338  ll reponses [\#8
+00003510: 3834 5d28 6874 7470 733a 2f2f 6769 7468  84](https://gith
+00003520: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00003530: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00003540: 756c 6c2f 3838 3429 2028 4073 6462 3936  ull/884) (@sdb96
+00003550: 3936 290a 2d20 5573 6520 7079 6461 6e74  96).- Use pydant
+00003560: 6963 2e76 3120 6e61 6d65 7370 6163 6520  ic.v1 namespace 
+00003570: 6f6e 2061 6c6c 2070 7964 616e 7469 6320  on all pydantic 
+00003580: 7665 7273 696f 6e73 205b 5c23 3838 335d  versions [\#883]
+00003590: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000035a0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+000035b0: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+000035c0: 2f38 3833 2920 2840 7279 7469 6c61 6874  /883) (@rytilaht
+000035d0: 6929 0a2d 2055 7064 6174 6520 6475 6d70  i).- Update dump
+000035e0: 5c5f 6465 7669 6e66 6f20 746f 2070 7269  \_devinfo to pri
+000035f0: 6e74 206f 7269 6769 6e61 6c20 6578 6365  nt original exce
+00003600: 7074 696f 6e20 7374 6163 6b20 6f6e 2065  ption stack on e
+00003610: 7272 6f72 732e 205b 5c23 3838 325d 2868  rrors. [\#882](h
+00003620: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00003630: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00003640: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f38  thon-kasa/pull/8
+00003650: 3832 2920 2840 7364 6239 3639 3629 0a2d  82) (@sdb9696).-
+00003660: 2050 7574 206d 6f64 756c 6573 2062 6163   Put modules bac
+00003670: 6b20 6f6e 2063 6869 6c64 7265 6e20 666f  k on children fo
+00003680: 7220 7761 6c6c 2073 7769 7463 6865 7320  r wall switches 
+00003690: 5b5c 2338 3831 5d28 6874 7470 733a 2f2f  [\#881](https://
+000036a0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+000036b0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+000036c0: 7361 2f70 756c 6c2f 3838 3129 2028 4073  sa/pull/881) (@s
+000036d0: 6462 3936 3936 290a 2d20 4669 7820 7079  db9696).- Fix py
+000036e0: 7079 3339 2043 4920 6361 6368 6520 6f6e  py39 CI cache on
+000036f0: 206d 6163 6f73 205b 5c23 3836 385d 2868   macos [\#868](h
+00003700: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00003710: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00003720: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f38  thon-kasa/pull/8
+00003730: 3638 2920 2840 7364 6239 3639 3629 0a2d  68) (@sdb9696).-
+00003740: 2044 6f20 6e6f 7420 7472 7920 636f 7665   Do not try cove
+00003750: 7261 6765 2075 706c 6f61 6420 666f 7220  rage upload for 
+00003760: 7079 7079 205b 5c23 3836 375d 2868 7474  pypy [\#867](htt
+00003770: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00003780: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00003790: 6f6e 2d6b 6173 612f 7075 6c6c 2f38 3637  on-kasa/pull/867
+000037a0: 2920 2840 7364 6239 3639 3629 0a2d 2041  ) (@sdb9696).- A
+000037b0: 6464 2072 756e 6e65 722e 6172 6368 2074  dd runner.arch t
+000037c0: 6f20 6361 6368 652d 6b65 7920 696e 2043  o cache-key in C
+000037d0: 4920 5b5c 2338 3636 5d28 6874 7470 733a  I [\#866](https:
+000037e0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+000037f0: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+00003800: 6b61 7361 2f70 756c 6c2f 3836 3629 2028  kasa/pull/866) (
+00003810: 4073 6462 3936 3936 290a 2d20 4669 7820  @sdb9696).- Fix 
+00003820: 6272 6f6b 656e 2043 4920 6475 6520 746f  broken CI due to
+00003830: 206d 6973 7369 6e67 2070 7974 686f 6e20   missing python 
+00003840: 7665 7273 696f 6e20 6f6e 206d 6163 6f73  version on macos
+00003850: 2d6c 6174 6573 7420 5b5c 2338 3634 5d28  -latest [\#864](
+00003860: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00003870: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00003880: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00003890: 3836 3429 2028 4073 6462 3936 3936 290a  864) (@sdb9696).
+000038a0: 2d20 4669 7820 696e 636f 7272 6563 7420  - Fix incorrect 
+000038b0: 7374 6174 6520 7570 6461 7465 7320 696e  state updates in
+000038c0: 2046 616b 6554 6573 7450 726f 746f 636f   FakeTestProtoco
+000038d0: 6c73 205b 5c23 3836 315d 2868 7474 7073  ls [\#861](https
+000038e0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+000038f0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00003900: 2d6b 6173 612f 7075 6c6c 2f38 3631 2920  -kasa/pull/861) 
+00003910: 2840 7364 6239 3639 3629 0a2d 2045 6d62  (@sdb9696).- Emb
+00003920: 6564 2046 6561 7475 7265 5479 7065 2069  ed FeatureType i
+00003930: 6e73 6964 6520 4665 6174 7572 6520 5b5c  nside Feature [\
+00003940: 2338 3630 5d28 6874 7470 733a 2f2f 6769  #860](https://gi
+00003950: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00003960: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00003970: 2f70 756c 6c2f 3836 3029 2028 4072 7974  /pull/860) (@ryt
+00003980: 696c 6168 7469 290a 2d20 496e 636c 7564  ilahti).- Includ
+00003990: 6520 636f 6d70 6f6e 656e 745c 5f6e 6567  e component\_neg
+000039a0: 6f20 7769 7468 2063 6869 6c64 2066 6978  o with child fix
+000039b0: 7475 7265 7320 5b5c 2338 3538 5d28 6874  tures [\#858](ht
+000039c0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000039d0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+000039e0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3835  hon-kasa/pull/85
+000039f0: 3829 2028 4073 6462 3936 3936 290a 2d20  8) (@sdb9696).- 
+00003a00: 5573 6520 6272 6967 6874 6e65 7373 206d  Use brightness m
+00003a10: 6f64 756c 6520 666f 7220 736d 6172 7462  odule for smartb
+00003a20: 756c 6220 5b5c 2338 3533 5d28 6874 7470  ulb [\#853](http
+00003a30: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00003a40: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+00003a50: 6e2d 6b61 7361 2f70 756c 6c2f 3835 3329  n-kasa/pull/853)
+00003a60: 2028 4072 7974 696c 6168 7469 290a 2d20   (@rytilahti).- 
+00003a70: 4967 6e6f 7265 2073 7973 7465 6d20 656e  Ignore system en
+00003a80: 7669 726f 6e6d 656e 7420 7661 7269 6162  vironment variab
+00003a90: 6c65 7320 666f 7220 7465 7374 7320 5b5c  les for tests [\
+00003aa0: 2338 3531 5d28 6874 7470 733a 2f2f 6769  #851](https://gi
+00003ab0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00003ac0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00003ad0: 2f70 756c 6c2f 3835 3129 2028 4072 7974  /pull/851) (@ryt
+00003ae0: 696c 6168 7469 290a 2d20 5265 6d6f 7665  ilahti).- Remove
+00003af0: 206d 6f63 6b20 6669 7874 7572 6573 205b   mock fixtures [
+00003b00: 5c23 3834 355d 2868 7474 7073 3a2f 2f67  \#845](https://g
+00003b10: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00003b20: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00003b30: 612f 7075 6c6c 2f38 3435 2920 2840 7279  a/pull/845) (@ry
+00003b40: 7469 6c61 6874 6929 0a2d 2045 6e61 626c  tilahti).- Enabl
+00003b50: 6520 616e 6420 636f 6e76 6572 7420 746f  e and convert to
+00003b60: 2066 7574 7572 6520 616e 6e6f 7461 7469   future annotati
+00003b70: 6f6e 7320 5b5c 2338 3338 5d28 6874 7470  ons [\#838](http
+00003b80: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00003b90: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+00003ba0: 6e2d 6b61 7361 2f70 756c 6c2f 3833 3829  n-kasa/pull/838)
+00003bb0: 2028 4073 6462 3936 3936 290a 2d20 5570   (@sdb9696).- Up
+00003bc0: 6461 7465 2070 6f65 7472 7920 6c6f 636b  date poetry lock
+00003bd0: 7320 616e 6420 7072 652d 636f 6d6d 6974  s and pre-commit
+00003be0: 2068 6f6f 6b73 205b 5c23 3833 375d 2868   hooks [\#837](h
+00003bf0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00003c00: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00003c10: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f38  thon-kasa/pull/8
+00003c20: 3337 2920 2840 7364 6239 3639 3629 0a2d  37) (@sdb9696).-
+00003c30: 2043 6163 6865 2070 6970 7820 696e 2043   Cache pipx in C
+00003c40: 4920 616e 6420 6164 6420 6375 7374 6f6d  I and add custom
+00003c50: 2073 6574 7570 2061 6374 696f 6e20 5b5c   setup action [\
+00003c60: 2338 3335 5d28 6874 7470 733a 2f2f 6769  #835](https://gi
+00003c70: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00003c80: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00003c90: 2f70 756c 6c2f 3833 3529 2028 4073 6462  /pull/835) (@sdb
+00003ca0: 3936 3936 290a 2d20 4669 7820 6e6f 6e20  9696).- Fix non 
+00003cb0: 7079 7468 6f6e 2033 2e38 2063 6f6d 706c  python 3.8 compl
+00003cc0: 6961 6e74 2074 6573 7420 5b5c 2338 3332  iant test [\#832
+00003cd0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00003ce0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+00003cf0: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+00003d00: 6c2f 3833 3229 2028 4073 6462 3936 3936  l/832) (@sdb9696
+00003d10: 290a 2d20 4669 7820 4349 2069 7373 7565  ).- Fix CI issue
+00003d20: 2077 6974 6820 7079 7468 6f6e 2076 6572   with python ver
+00003d30: 7369 6f6e 2075 7365 6420 6279 2070 6970  sion used by pip
+00003d40: 7820 746f 2069 6e73 7461 6c6c 2070 6f65  x to install poe
+00003d50: 7472 7920 5b5c 2338 3331 5d28 6874 7470  try [\#831](http
+00003d60: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00003d70: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+00003d80: 6e2d 6b61 7361 2f70 756c 6c2f 3833 3129  n-kasa/pull/831)
+00003d90: 2028 4073 6462 3936 3936 290a 2d20 5265   (@sdb9696).- Re
+00003da0: 6661 6374 6f72 2073 706c 6974 2073 6d61  factor split sma
+00003db0: 7274 6465 7669 6365 2074 6573 7473 2074  rtdevice tests t
+00003dc0: 6f20 7465 7374 5c5f 7b69 6f74 2c73 6d61  o test\_{iot,sma
+00003dd0: 7274 7d64 6576 6963 6520 5b5c 2338 3232  rt}device [\#822
+00003de0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00003df0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+00003e00: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+00003e10: 6c2f 3832 3229 2028 4072 7974 696c 6168  l/822) (@rytilah
+00003e20: 7469 290a 2d20 4164 6420 5031 3030 2066  ti).- Add P100 f
+00003e30: 7720 312e 342e 3020 6669 7874 7572 6520  w 1.4.0 fixture 
+00003e40: 5b5c 2338 3230 5d28 6874 7470 733a 2f2f  [\#820](https://
+00003e50: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00003e60: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00003e70: 7361 2f70 756c 6c2f 3832 3029 2028 4073  sa/pull/820) (@s
+00003e80: 6462 3936 3936 290a 2d20 4164 6420 7072  db9696).- Add pr
+00003e90: 652d 636f 6d6d 6974 2063 6163 6869 6e67  e-commit caching
+00003ea0: 2061 6e64 2066 6978 2070 6f65 7472 7920   and fix poetry 
+00003eb0: 6578 7472 6173 2063 6163 6865 205b 5c23  extras cache [\#
+00003ec0: 3831 375d 2868 7474 7073 3a2f 2f67 6974  817](https://git
+00003ed0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00003ee0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00003ef0: 7075 6c6c 2f38 3137 2920 2840 7364 6239  pull/817) (@sdb9
+00003f00: 3639 3629 0a2d 2046 6978 2073 6c6f 7720  696).- Fix slow 
+00003f10: 6165 7374 7261 6e73 706f 7274 2061 6e64  aestransport and
+00003f20: 2063 6c69 2074 6573 7473 205b 5c23 3831   cli tests [\#81
+00003f30: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
+00003f40: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00003f50: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00003f60: 6c6c 2f38 3136 2920 2840 7364 6239 3639  ll/816) (@sdb969
+00003f70: 3629 0a2d 2044 6f20 6e6f 7420 7275 6e20  6).- Do not run 
+00003f80: 636f 7665 7261 6765 206f 6e20 7079 7079  coverage on pypy
+00003f90: 2061 6e64 2063 6163 6865 2070 6f65 7472   and cache poetr
+00003fa0: 7920 656e 7673 205b 5c23 3831 325d 2868  y envs [\#812](h
+00003fb0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00003fc0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00003fd0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f38  thon-kasa/pull/8
+00003fe0: 3132 2920 2840 7364 6239 3639 3629 0a2d  12) (@sdb9696).-
+00003ff0: 2055 7064 6174 6520 7465 7374 2066 7261   Update test fra
+00004000: 6d65 776f 726b 2066 6f72 2064 796e 616d  mework for dynam
+00004010: 6963 2070 6172 616d 6574 7269 7a61 7469  ic parametrizati
+00004020: 6f6e 205b 5c23 3831 305d 2868 7474 7073  on [\#810](https
+00004030: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00004040: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00004050: 2d6b 6173 612f 7075 6c6c 2f38 3130 2920  -kasa/pull/810) 
+00004060: 2840 7364 6239 3639 3629 0a2d 2050 7574  (@sdb9696).- Put
+00004070: 2063 6869 6c64 2066 6978 7475 7265 7320   child fixtures 
+00004080: 696e 2073 7562 666f 6c64 6572 205b 5c23  in subfolder [\#
+00004090: 3830 395d 2868 7474 7073 3a2f 2f67 6974  809](https://git
+000040a0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+000040b0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+000040c0: 7075 6c6c 2f38 3039 2920 2840 7364 6239  pull/809) (@sdb9
+000040d0: 3639 3629 0a2d 2041 6464 2069 6f74 2062  696).- Add iot b
+000040e0: 7269 6768 746e 6573 7320 6665 6174 7572  rightness featur
+000040f0: 6520 5b5c 2338 3038 5d28 6874 7470 733a  e [\#808](https:
+00004100: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00004110: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+00004120: 6b61 7361 2f70 756c 6c2f 3830 3829 2028  kasa/pull/808) (
+00004130: 4073 6462 3936 3936 290a 2d20 5369 6d70  @sdb9696).- Simp
+00004140: 6c69 6679 2064 6576 6963 6520 5c5f 5c5f  lify device \_\_
+00004150: 7265 7072 5c5f 5c5f 205b 5c23 3830 355d  repr\_\_ [\#805]
+00004160: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00004170: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00004180: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+00004190: 2f38 3035 2920 2840 7279 7469 6c61 6874  /805) (@rytilaht
+000041a0: 6929 0a2d 2041 6464 2054 3331 3520 6669  i).- Add T315 fi
+000041b0: 7874 7572 652c 2074 6573 7473 2066 6f72  xture, tests for
+000041c0: 2068 756d 6964 6974 7926 7465 6d70 6572   humidity&temper
+000041d0: 6174 7572 6520 6d6f 6475 6c65 7320 5b5c  ature modules [\
+000041e0: 2338 3032 5d28 6874 7470 733a 2f2f 6769  #802](https://gi
+000041f0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00004200: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00004210: 2f70 756c 6c2f 3830 3229 2028 4072 7974  /pull/802) (@ryt
+00004220: 696c 6168 7469 290a 2d20 4164 6420 6669  ilahti).- Add fi
+00004230: 7874 7572 6520 666f 7220 5031 3130 2073  xture for P110 s
+00004240: 7720 312e 302e 3720 5b5c 2338 3031 5d28  w 1.0.7 [\#801](
+00004250: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00004260: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00004270: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00004280: 3830 3129 2028 4072 7974 696c 6168 7469  801) (@rytilahti
+00004290: 290a 2d20 446f 206e 6f74 2066 6169 6c20  ).- Do not fail 
+000042a0: 6661 7374 206f 6e20 7079 7079 2043 4920  fast on pypy CI 
+000042b0: 6a6f 6273 205b 5c23 3739 395d 2868 7474  jobs [\#799](htt
+000042c0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000042d0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+000042e0: 6f6e 2d6b 6173 612f 7075 6c6c 2f37 3939  on-kasa/pull/799
+000042f0: 2920 2840 7364 6239 3639 3629 0a2d 2055  ) (@sdb9696).- U
+00004300: 7064 6174 6520 6475 6d70 5c5f 6465 7669  pdate dump\_devi
+00004310: 6e66 6f20 746f 2063 6f6c 6c65 6374 2063  nfo to collect c
+00004320: 6869 6c64 2064 6576 6963 6520 696e 666f  hild device info
+00004330: 205b 5c23 3739 365d 2868 7474 7073 3a2f   [\#796](https:/
+00004340: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00004350: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00004360: 6173 612f 7075 6c6c 2f37 3936 2920 2840  asa/pull/796) (@
+00004370: 7364 6239 3639 3629 0a2d 2052 6566 6163  sdb9696).- Refac
+00004380: 746f 7220 7465 7374 2066 7261 6d65 776f  tor test framewo
+00004390: 726b 205b 5c23 3739 345d 2868 7474 7073  rk [\#794](https
+000043a0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+000043b0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+000043c0: 2d6b 6173 612f 7075 6c6c 2f37 3934 2920  -kasa/pull/794) 
+000043d0: 2840 7364 6239 3639 3629 0a2d 2041 6464  (@sdb9696).- Add
+000043e0: 2075 7064 6174 6564 206c 3533 3020 6669   updated l530 fi
+000043f0: 7874 7572 6520 312e 312e 3620 5b5c 2337  xture 1.1.6 [\#7
+00004400: 3932 5d28 6874 7470 733a 2f2f 6769 7468  92](https://gith
+00004410: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00004420: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00004430: 756c 6c2f 3739 3229 2028 4072 7974 696c  ull/792) (@rytil
+00004440: 6168 7469 290a 2d20 4164 6420 6d69 7373  ahti).- Add miss
+00004450: 696e 6720 6669 726d 7761 7265 206d 6f64  ing firmware mod
+00004460: 756c 6520 696d 706f 7274 205b 5c23 3737  ule import [\#77
+00004470: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
+00004480: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00004490: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+000044a0: 6c6c 2f37 3734 2920 2840 7279 7469 6c61  ll/774) (@rytila
+000044b0: 6874 6929 0a2d 2046 6978 2064 756d 705c  hti).- Fix dump\
+000044c0: 5f64 6576 696e 666f 2073 6372 7562 6269  _devinfo scrubbi
+000044d0: 6e67 2066 6f72 206b 7332 3430 205b 5c23  ng for ks240 [\#
+000044e0: 3736 355d 2868 7474 7073 3a2f 2f67 6974  765](https://git
+000044f0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00004500: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00004510: 7075 6c6c 2f37 3635 2920 2840 7279 7469  pull/765) (@ryti
+00004520: 6c61 6874 6929 0a2d 2046 6978 2064 6576  lahti).- Fix dev
+00004530: 746f 6f6c 7320 666f 7220 5031 3030 2061  tools for P100 a
+00004540: 6e64 2061 6464 2066 6978 7475 7265 205b  nd add fixture [
+00004550: 5c23 3735 335d 2868 7474 7073 3a2f 2f67  \#753](https://g
+00004560: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00004570: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00004580: 612f 7075 6c6c 2f37 3533 2920 2840 7364  a/pull/753) (@sd
+00004590: 6239 3639 3629 0a2d 2041 6464 2048 3130  b9696).- Add H10
+000045a0: 3020 6669 7874 7572 6573 205b 5c23 3733  0 fixtures [\#73
+000045b0: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+000045c0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+000045d0: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+000045e0: 6c6c 2f37 3337 2920 2840 7279 7469 6c61  ll/737) (@rytila
+000045f0: 6874 6929 0a2d 2052 6566 6163 746f 7220  hti).- Refactor 
+00004600: 6465 7669 6365 7320 696e 746f 2073 7562  devices into sub
+00004610: 7061 636b 6167 6573 2061 6e64 2064 6570  packages and dep
+00004620: 7265 6361 7465 206f 6c64 206e 616d 6573  recate old names
+00004630: 205b 5c23 3731 365d 2868 7474 7073 3a2f   [\#716](https:/
+00004640: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00004650: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00004660: 6173 612f 7075 6c6c 2f37 3136 2920 2840  asa/pull/716) (@
+00004670: 7364 6239 3639 3629 0a2d 2046 6978 2064  sdb9696).- Fix d
+00004680: 6973 636f 7665 7279 2063 6c69 2074 6f20  iscovery cli to 
+00004690: 7072 696e 7420 6465 7669 6365 7320 6e6f  print devices no
+000046a0: 7420 7072 696e 7465 6420 6475 7269 6e67  t printed during
+000046b0: 2064 6973 636f 7665 7279 2074 696d 656f   discovery timeo
+000046c0: 7574 205b 5c23 3637 305d 2868 7474 7073  ut [\#670](https
+000046d0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+000046e0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+000046f0: 2d6b 6173 612f 7075 6c6c 2f36 3730 2920  -kasa/pull/670) 
+00004700: 2840 7364 6239 3639 3629 0a0a 2323 205b  (@sdb9696)..## [
+00004710: 302e 362e 322e 315d 2868 7474 7073 3a2f  0.6.2.1](https:/
+00004720: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00004730: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00004740: 6173 612f 7472 6565 2f30 2e36 2e32 2e31  asa/tree/0.6.2.1
+00004750: 2920 2832 3032 342d 3032 2d30 3229 0a0a  ) (2024-02-02)..
+00004760: 5b46 756c 6c20 4368 616e 6765 6c6f 675d  [Full Changelog]
+00004770: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00004780: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00004790: 7079 7468 6f6e 2d6b 6173 612f 636f 6d70  python-kasa/comp
+000047a0: 6172 652f 302e 362e 322e 2e2e 302e 362e  are/0.6.2...0.6.
+000047b0: 322e 3129 0a0a 2a2a 4669 7865 6420 6275  2.1)..**Fixed bu
+000047c0: 6773 3a2a 2a0a 0a2d 2041 766f 6964 2063  gs:**..- Avoid c
+000047d0: 7261 7368 696e 6720 6f6e 2063 6869 6c64  rashing on child
+000047e0: 6465 7669 6365 2070 726f 7065 7274 7920  device property 
+000047f0: 6163 6365 7373 6573 205b 5c23 3733 325d  accesses [\#732]
+00004800: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00004810: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00004820: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+00004830: 2f37 3332 2920 2840 7279 7469 6c61 6874  /732) (@rytilaht
+00004840: 6929 0a0a 2a2a 4d65 7267 6564 2070 756c  i)..**Merged pul
+00004850: 6c20 7265 7175 6573 7473 3a2a 2a0a 0a2d  l requests:**..-
+00004860: 2050 7265 7061 7265 2030 2e36 2e32 2e31   Prepare 0.6.2.1
+00004870: 205b 5c23 3733 365d 2868 7474 7073 3a2f   [\#736](https:/
+00004880: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00004890: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+000048a0: 6173 612f 7075 6c6c 2f37 3336 2920 2840  asa/pull/736) (@
+000048b0: 7279 7469 6c61 6874 6929 0a2d 2052 6574  rytilahti).- Ret
+000048c0: 6169 6e20 6c61 7374 2074 776f 2063 6861  ain last two cha
+000048d0: 7273 2066 6f72 2063 6869 6c64 7265 6e20  rs for children 
+000048e0: 6465 7669 6365 5c5f 6964 205b 5c23 3733  device\_id [\#73
+000048f0: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
+00004900: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00004910: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00004920: 6c6c 2f37 3333 2920 2840 7279 7469 6c61  ll/733) (@rytila
+00004930: 6874 6929 0a2d 2041 6464 2054 5031 3520  hti).- Add TP15 
+00004940: 6669 7874 7572 6520 5b5c 2337 3330 5d28  fixture [\#730](
+00004950: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00004960: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00004970: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00004980: 3733 3029 2028 4062 6472 6163 6f29 0a2d  730) (@bdraco).-
+00004990: 2041 6464 2054 5032 3520 6669 7874 7572   Add TP25 fixtur
+000049a0: 6573 205b 5c23 3732 395d 2868 7474 7073  es [\#729](https
+000049b0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+000049c0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+000049d0: 2d6b 6173 612f 7075 6c6c 2f37 3239 2920  -kasa/pull/729) 
+000049e0: 2840 6264 7261 636f 290a 2d20 5661 7269  (@bdraco).- Vari
+000049f0: 6f75 7320 7465 7374 2063 6f64 6520 636c  ous test code cl
+00004a00: 6561 6e75 7073 205b 5c23 3732 355d 2868  eanups [\#725](h
+00004a10: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00004a20: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00004a30: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f37  thon-kasa/pull/7
+00004a40: 3235 2920 2840 7279 7469 6c61 6874 6929  25) (@rytilahti)
+00004a50: 0a2d 2055 6e69 676e 6f72 6520 4634 3031  .- Unignore F401
+00004a60: 2066 6f72 2074 6573 7473 205b 5c23 3732   for tests [\#72
+00004a70: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
+00004a80: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00004a90: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00004aa0: 6c6c 2f37 3234 2920 2840 7279 7469 6c61  ll/724) (@rytila
+00004ab0: 6874 6929 0a0a 2323 205b 302e 362e 325d  hti)..## [0.6.2]
+00004ac0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00004ad0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00004ae0: 7079 7468 6f6e 2d6b 6173 612f 7472 6565  python-kasa/tree
+00004af0: 2f30 2e36 2e32 2920 2832 3032 342d 3031  /0.6.2) (2024-01
+00004b00: 2d32 3929 0a0a 5b46 756c 6c20 4368 616e  -29)..[Full Chan
+00004b10: 6765 6c6f 675d 2868 7474 7073 3a2f 2f67  gelog](https://g
+00004b20: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00004b30: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00004b40: 612f 636f 6d70 6172 652f 302e 362e 312e  a/compare/0.6.1.
+00004b50: 2e2e 302e 362e 3229 0a0a 5265 6c65 6173  ..0.6.2)..Releas
+00004b60: 6520 6869 6768 6c69 6768 7473 3a0d 0a2a  e highlights:..*
+00004b70: 2053 7570 706f 7274 2066 6f72 2074 6170   Support for tap
+00004b80: 6f20 706f 7765 7220 7374 7269 7073 2028  o power strips (
+00004b90: 5033 3030 290d 0a2a 2050 6572 666f 726d  P300)..* Perform
+00004ba0: 616e 6365 2069 6d70 726f 7665 6d65 6e74  ance improvement
+00004bb0: 7320 616e 6420 6275 6720 6669 7865 730a  s and bug fixes.
+00004bc0: 0a2a 2a49 6d70 6c65 6d65 6e74 6564 2065  .**Implemented e
+00004bd0: 6e68 616e 6365 6d65 6e74 733a 2a2a 0a0a  nhancements:**..
+00004be0: 2d20 496d 706c 656d 656e 7420 616c 6961  - Implement alia
+00004bf0: 7320 7365 7420 666f 7220 7461 706f 6465  s set for tapode
+00004c00: 7669 6365 205b 5c23 3732 315d 2868 7474  vice [\#721](htt
+00004c10: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00004c20: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00004c30: 6f6e 2d6b 6173 612f 7075 6c6c 2f37 3231  on-kasa/pull/721
+00004c40: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
+00004c50: 2052 6564 7563 6520 7468 6520 6e75 6d62   Reduce the numb
+00004c60: 6572 206f 6620 7469 6d65 7320 6372 6561  er of times crea
+00004c70: 7469 6e67 2074 6865 2063 6970 6865 7220  ting the cipher 
+00004c80: 696e 206b 6c61 7020 5b5c 2337 3132 5d28  in klap [\#712](
+00004c90: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00004ca0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00004cb0: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00004cc0: 3731 3229 2028 4062 6472 6163 6f29 0a2d  712) (@bdraco).-
+00004cd0: 2055 7365 2068 6173 686c 6962 2066 6f72   Use hashlib for
+00004ce0: 206b 6c61 7020 5b5c 2337 3131 5d28 6874   klap [\#711](ht
+00004cf0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00004d00: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00004d10: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3731  hon-kasa/pull/71
+00004d20: 3129 2028 4062 6472 6163 6f29 0a2d 2049  1) (@bdraco).- I
+00004d30: 6e69 7469 616c 2073 7570 706f 7274 2066  nitial support f
+00004d40: 6f72 2074 6170 6f73 2077 6974 6820 6368  or tapos with ch
+00004d50: 696c 6420 6465 7669 6365 7320 5b5c 2337  ild devices [\#7
+00004d60: 3230 5d28 6874 7470 733a 2f2f 6769 7468  20](https://gith
+00004d70: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00004d80: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00004d90: 756c 6c2f 3732 3029 2028 4072 7974 696c  ull/720) (@rytil
+00004da0: 6168 7469 290a 2d20 4176 6f69 6420 7265  ahti).- Avoid re
+00004db0: 6275 696c 6469 6e67 2075 726c 7320 666f  building urls fo
+00004dc0: 7220 6576 6572 7920 7265 7175 6573 7420  r every request 
+00004dd0: 5b5c 2337 3135 5d28 6874 7470 733a 2f2f  [\#715](https://
+00004de0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00004df0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00004e00: 7361 2f70 756c 6c2f 3731 3529 2028 4062  sa/pull/715) (@b
+00004e10: 6472 6163 6f29 0a2d 2045 6e61 626c 6520  draco).- Enable 
+00004e20: 6261 7463 6869 6e67 206f 6620 6d75 6c74  batching of mult
+00004e30: 6970 6c65 2072 6571 7565 7374 7320 5b5c  iple requests [\
+00004e40: 2336 3632 5d28 6874 7470 733a 2f2f 6769  #662](https://gi
+00004e50: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00004e60: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00004e70: 2f70 756c 6c2f 3636 3229 2028 4073 6462  /pull/662) (@sdb
+00004e80: 3936 3936 290a 2d20 536c 6565 7020 6265  9696).- Sleep be
+00004e90: 7477 6565 6e20 6469 7363 6f76 6572 7920  tween discovery 
+00004ea0: 7061 636b 6574 7320 5b5c 2336 3536 5d28  packets [\#656](
+00004eb0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00004ec0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00004ed0: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00004ee0: 3635 3629 2028 4073 6462 3936 3936 290a  656) (@sdb9696).
+00004ef0: 0a2a 2a46 6978 6564 2062 7567 733a 2a2a  .**Fixed bugs:**
+00004f00: 0a0a 2d20 4669 7820 5461 706f 4275 6c62  ..- Fix TapoBulb
+00004f10: 2073 7461 7465 2069 6e66 6f72 6d61 7469   state informati
+00004f20: 6f6e 2066 6f72 206e 6f6e 2d64 696d 6d61  on for non-dimma
+00004f30: 626c 6520 534d 4152 5453 5749 5443 4820  ble SMARTSWITCH 
+00004f40: 5b5c 2337 3236 5d28 6874 7470 733a 2f2f  [\#726](https://
+00004f50: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00004f60: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00004f70: 7361 2f70 756c 6c2f 3732 3629 2028 4073  sa/pull/726) (@s
+00004f80: 6462 3936 3936 290a 0a2a 2a44 6f63 756d  db9696)..**Docum
+00004f90: 656e 7461 7469 6f6e 2075 7064 6174 6573  entation updates
+00004fa0: 3a2a 2a0a 0a2d 2041 6464 2070 726f 746f  :**..- Add proto
+00004fb0: 636f 6c20 616e 6420 7472 616e 7370 6f72  col and transpor
+00004fc0: 7420 646f 6375 6d65 6e74 6174 696f 6e20  t documentation 
+00004fd0: 5b5c 2336 3633 5d28 6874 7470 733a 2f2f  [\#663](https://
 00004fe0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
 00004ff0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-00005000: 7361 2f70 756c 6c2f 3537 3229 2028 4073  sa/pull/572) (@s
-00005010: 6462 3936 3936 290a 2d20 5265 2d61 6464  db9696).- Re-add
-00005020: 2072 6567 696f 6e61 6c20 7375 6666 6978   regional suffix
-00005030: 2074 6f20 5441 504f 2f53 4d41 5254 2066   to TAPO/SMART f
-00005040: 6978 7475 7265 7320 5b5c 2335 3636 5d28  ixtures [\#566](
-00005050: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00005060: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00005070: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
-00005080: 3536 3629 2028 4073 6462 3936 3936 290a  566) (@sdb9696).
-00005090: 2d20 4164 6420 5031 3130 2066 6978 7475  - Add P110 fixtu
-000050a0: 7265 205b 5c23 3536 325d 2868 7474 7073  re [\#562](https
-000050b0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-000050c0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-000050d0: 2d6b 6173 612f 7075 6c6c 2f35 3632 2920  -kasa/pull/562) 
-000050e0: 2840 7279 7469 6c61 6874 6929 0a2d 2044  (@rytilahti).- D
-000050f0: 6f20 6e6f 7420 646f 2075 7064 6174 655c  o not do update\
-00005100: 285c 2920 696e 2064 6973 636f 7665 725c  (\) in discover\
-00005110: 5f73 696e 676c 6520 5b5c 2335 3432 5d28  _single [\#542](
-00005120: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00005130: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00005140: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
-00005150: 3534 3229 2028 4073 6462 3936 3936 290a  542) (@sdb9696).
-00005160: 2d20 4164 6420 6b6e 6f77 6e20 736d 6172  - Add known smar
-00005170: 7420 7265 7175 6573 7473 2074 6f20 6475  t requests to du
-00005180: 6d70 5c5f 6465 7669 6e66 6f20 5b5c 2335  mp\_devinfo [\#5
-00005190: 3937 5d28 6874 7470 733a 2f2f 6769 7468  97](https://gith
-000051a0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-000051b0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-000051c0: 756c 6c2f 3539 3729 2028 4073 6462 3936  ull/597) (@sdb96
-000051d0: 3936 290a 0a23 2320 5b30 2e35 2e34 5d28  96)..## [0.5.4](
-000051e0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000051f0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00005200: 7974 686f 6e2d 6b61 7361 2f74 7265 652f  ython-kasa/tree/
-00005210: 302e 352e 3429 2028 3230 3233 2d31 302d  0.5.4) (2023-10-
-00005220: 3239 290a 0a5b 4675 6c6c 2043 6861 6e67  29)..[Full Chang
-00005230: 656c 6f67 5d28 6874 7470 733a 2f2f 6769  elog](https://gi
-00005240: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-00005250: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-00005260: 2f63 6f6d 7061 7265 2f30 2e35 2e33 2e2e  /compare/0.5.3..
-00005270: 2e30 2e35 2e34 290a 0a54 6865 2068 6967  .0.5.4)..The hig
-00005280: 686c 6967 6874 7320 6f66 2074 6869 7320  hlights of this 
-00005290: 6d61 696e 7465 6e61 6e63 6520 7265 6c65  maintenance rele
-000052a0: 6173 653a 0d0a 0d0a 2a20 5375 7070 6f72  ase:....* Suppor
-000052b0: 7420 746f 2074 6865 2061 6c74 6572 6e61  t to the alterna
-000052c0: 7469 7665 2064 6973 636f 7665 7279 2070  tive discovery p
-000052d0: 726f 746f 636f 6c20 616e 6420 666f 756e  rotocol and foun
-000052e0: 6461 7469 6f6e 616c 2077 6f72 6b20 746f  dational work to
-000052f0: 2073 7570 706f 7274 206f 7468 6572 2063   support other c
-00005300: 6f6d 6d75 6e69 6361 7469 6f6e 2070 726f  ommunication pro
-00005310: 746f 636f 6c73 2c20 7468 616e 6b73 2074  tocols, thanks t
-00005320: 6f20 4073 6462 3936 3936 2e0d 0a2a 2052  o @sdb9696...* R
-00005330: 656c 6961 6269 6c69 7479 2069 6d70 726f  eliability impro
-00005340: 7665 6d65 6e74 7320 6279 2061 766f 6964  vements by avoid
-00005350: 696e 6720 6f76 6572 666c 6f77 696e 6720  ing overflowing 
-00005360: 6465 7669 6365 2062 7566 6665 7273 2c20  device buffers, 
-00005370: 7468 616e 6b73 2074 6f20 4063 6f62 7279  thanks to @cobry
-00005380: 616e 3035 2e0d 0a2a 204f 7074 696d 697a  an05...* Optimiz
-00005390: 6174 696f 6e73 2066 6f72 2064 6f77 6e73  ations for downs
-000053a0: 7472 6561 6d20 6465 7669 6365 2061 6363  tream device acc
-000053b0: 6573 7365 732c 2074 6861 6e6b 7320 746f  esses, thanks to
-000053c0: 2040 6264 7261 636f 2e0d 0a2a 2053 7570   @bdraco...* Sup
-000053d0: 706f 7274 2066 6f72 2062 6f74 6820 7079  port for both py
-000053e0: 6461 6e74 6963 2076 3120 616e 6420 7632  dantic v1 and v2
-000053f0: 2e0d 0a0d 0a41 7320 616c 7761 7973 2c20  .....As always, 
-00005400: 7365 6520 7468 6520 6675 6c6c 2063 6861  see the full cha
-00005410: 6e67 656c 6f67 2066 6f72 2064 6574 6169  ngelog for detai
-00005420: 6c73 2e0a 0a2a 2a49 6d70 6c65 6d65 6e74  ls...**Implement
-00005430: 6564 2065 6e68 616e 6365 6d65 6e74 733a  ed enhancements:
-00005440: 2a2a 0a0a 2d20 4164 6420 6120 636f 6e6e  **..- Add a conn
-00005450: 6563 745c 5f73 696e 676c 6520 6d65 7468  ect\_single meth
-00005460: 6f64 2074 6f20 4469 7363 6f76 6572 2074  od to Discover t
-00005470: 6f20 6176 6f69 6420 7468 6520 6e65 6564  o avoid the need
-00005480: 2066 6f72 2055 4450 205b 5c23 3532 385d   for UDP [\#528]
-00005490: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000054a0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-000054b0: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
-000054c0: 2f35 3238 2920 2840 6264 7261 636f 290a  /528) (@bdraco).
-000054d0: 2d20 5061 7273 6520 6665 6174 7572 6573  - Parse features
-000054e0: 206f 6e6c 7920 6475 7269 6e67 2075 7064   only during upd
-000054f0: 6174 6573 205b 5c23 3532 375d 2868 7474  ates [\#527](htt
-00005500: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00005510: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-00005520: 6f6e 2d6b 6173 612f 7075 6c6c 2f35 3237  on-kasa/pull/527
-00005530: 2920 2840 6264 7261 636f 290a 2d20 5368  ) (@bdraco).- Sh
-00005540: 6f77 2061 6e20 6572 726f 7220 6966 2062  ow an error if b
-00005550: 6f74 6820 2d2d 616c 6961 7320 616e 6420  oth --alias and 
-00005560: 2d2d 686f 7374 2061 7265 2064 6566 696e  --host are defin
-00005570: 6564 205b 5c23 3531 335d 2868 7474 7073  ed [\#513](https
-00005580: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-00005590: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-000055a0: 2d6b 6173 612f 7075 6c6c 2f35 3133 2920  -kasa/pull/513) 
-000055b0: 2840 7279 7469 6c61 6874 6929 0a2d 2041  (@rytilahti).- A
-000055c0: 6464 2070 6c75 6d62 696e 6720 666f 7220  dd plumbing for 
-000055d0: 7061 7373 696e 6720 6372 6564 656e 7469  passing credenti
-000055e0: 616c 7320 746f 2064 6576 6963 6573 205b  als to devices [
-000055f0: 5c23 3530 375d 2868 7474 7073 3a2f 2f67  \#507](https://g
-00005600: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-00005610: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-00005620: 612f 7075 6c6c 2f35 3037 2920 2840 7364  a/pull/507) (@sd
-00005630: 6239 3639 3629 0a2d 2041 6464 2073 7570  b9696).- Add sup
-00005640: 706f 7274 2066 6f72 2070 7964 616e 7469  port for pydanti
-00005650: 6320 7632 2075 7369 6e67 2076 3120 7368  c v2 using v1 sh
-00005660: 696d 7320 5b5c 2335 3034 5d28 6874 7470  ims [\#504](http
-00005670: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-00005680: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-00005690: 6e2d 6b61 7361 2f70 756c 6c2f 3530 3429  n-kasa/pull/504)
-000056a0: 2028 4072 7974 696c 6168 7469 290a 2d20   (@rytilahti).- 
-000056b0: 5370 6c69 7420 7175 6572 6965 7320 746f  Split queries to
-000056c0: 2061 766f 6964 206f 7665 7266 6c6f 7769   avoid overflowi
-000056d0: 6e67 2064 6576 6963 6520 6275 6666 6572  ng device buffer
-000056e0: 7320 5b5c 2335 3032 5d28 6874 7470 733a  s [\#502](https:
-000056f0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-00005700: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-00005710: 6b61 7361 2f70 756c 6c2f 3530 3229 2028  kasa/pull/502) (
-00005720: 4063 6f62 7279 616e 3035 290a 2d20 4164  @cobryan05).- Ad
-00005730: 6420 746f 6767 6c65 2063 6f6d 6d61 6e64  d toggle command
-00005740: 2074 6f20 636c 6920 5b5c 2334 3938 5d28   to cli [\#498](
-00005750: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00005760: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00005770: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
-00005780: 3439 3829 2028 406e 6f72 6d61 6e72 290a  498) (@normanr).
-00005790: 2d20 4164 6420 7375 7070 6f72 7420 666f  - Add support fo
-000057a0: 7220 616c 7465 726e 6174 6976 6520 6469  r alternative di
-000057b0: 7363 6f76 6572 7920 7072 6f74 6f63 6f6c  scovery protocol
-000057c0: 205c 2832 3030 3032 2f75 6470 5c29 205b   \(20002/udp\) [
-000057d0: 5c23 3438 385d 2868 7474 7073 3a2f 2f67  \#488](https://g
-000057e0: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-000057f0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-00005800: 612f 7075 6c6c 2f34 3838 2920 2840 7364  a/pull/488) (@sd
-00005810: 6239 3639 3629 0a2d 2041 6464 2064 6973  b9696).- Add dis
-00005820: 636f 7665 7279 2074 696d 656f 7574 2070  covery timeout p
-00005830: 6172 616d 6574 6572 205b 5c23 3438 365d  arameter [\#486]
-00005840: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00005850: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-00005860: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
-00005870: 2f34 3836 2920 2840 7364 6239 3639 3629  /486) (@sdb9696)
-00005880: 0a2d 2041 6464 2064 6576 746f 6f6c 7320  .- Add devtools 
-00005890: 7363 7269 7074 2074 6f20 6372 6561 7465  script to create
-000058a0: 206d 6f64 756c 6520 6669 7874 7572 6573   module fixtures
-000058b0: 205b 5c23 3430 345d 2868 7474 7073 3a2f   [\#404](https:/
-000058c0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-000058d0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-000058e0: 6173 612f 7075 6c6c 2f34 3034 2920 2840  asa/pull/404) (@
-000058f0: 7279 7469 6c61 6874 6929 0a2d 204d 616b  rytilahti).- Mak
-00005900: 6520 7469 6d65 6f75 7420 6164 6a75 7374  e timeout adjust
-00005910: 6162 6c65 205b 5c23 3439 345d 2868 7474  able [\#494](htt
-00005920: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00005930: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-00005940: 6f6e 2d6b 6173 612f 7075 6c6c 2f34 3934  on-kasa/pull/494
-00005950: 2920 2840 6264 7261 636f 290a 0a2a 2a46  ) (@bdraco)..**F
-00005960: 6978 6564 2062 7567 733a 2a2a 0a0a 2d20  ixed bugs:**..- 
-00005970: 4669 7820 6f6e 5c5f 7369 6e63 6520 666f  Fix on\_since fo
-00005980: 7220 736d 6172 7473 7472 6970 2073 6f63  r smartstrip soc
-00005990: 6b65 7473 205b 5c23 3532 395d 2868 7474  kets [\#529](htt
-000059a0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000059b0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-000059c0: 6f6e 2d6b 6173 612f 7075 6c6c 2f35 3239  on-kasa/pull/529
-000059d0: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
-000059e0: 2046 6978 2065 7665 7279 206f 7468 6572   Fix every other
-000059f0: 2071 7565 7279 2074 7269 6573 2074 6f20   query tries to 
-00005a00: 6665 7463 6820 6b6e 6f77 6e20 756e 7375  fetch known unsu
-00005a10: 7070 6f72 7465 6420 6665 6174 7572 6573  pported features
-00005a20: 205b 5c23 3532 305d 2868 7474 7073 3a2f   [\#520](https:/
-00005a30: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-00005a40: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-00005a50: 6173 612f 7075 6c6c 2f35 3230 2920 2840  asa/pull/520) (@
-00005a60: 6264 7261 636f 290a 0a2a 2a44 6f63 756d  bdraco)..**Docum
-00005a70: 656e 7461 7469 6f6e 2075 7064 6174 6573  entation updates
-00005a80: 3a2a 2a0a 0a2d 204d 6172 6b20 4b53 327b  :**..- Mark KS2{
-00005a90: 3230 7d4d 2061 7320 7061 7274 6961 6c6c  20}M as partiall
-00005aa0: 7920 7375 7070 6f72 7465 6420 5b5c 2335  y supported [\#5
-00005ab0: 3038 5d28 6874 7470 733a 2f2f 6769 7468  08](https://gith
-00005ac0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00005ad0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-00005ae0: 756c 6c2f 3530 3829 2028 406c 7363 6877  ull/508) (@lschw
-00005af0: 6569 7373 290a 2d20 446f 6375 6d65 6e74  eiss).- Document
-00005b00: 2063 6c69 2074 6f6f 6c20 2d2d 7461 7267   cli tool --targ
-00005b10: 6574 2066 6f72 2064 6973 636f 7665 7279  et for discovery
-00005b20: 205b 5c23 3439 375d 2868 7474 7073 3a2f   [\#497](https:/
-00005b30: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-00005b40: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-00005b50: 6173 612f 7075 6c6c 2f34 3937 2920 2840  asa/pull/497) (@
-00005b60: 7279 7469 6c61 6874 6929 0a0a 2a2a 436c  rytilahti)..**Cl
-00005b70: 6f73 6564 2069 7373 7565 733a 2a2a 0a0a  osed issues:**..
-00005b80: 2d20 4572 726f 7220 7275 6e6e 696e 6720  - Error running 
-00005b90: 6b61 7361 2063 6f6d 6d61 6e64 206f 6e20  kasa command on 
-00005ba0: 7468 6520 5261 7370 6265 7272 7920 5049  the Raspberry PI
-00005bb0: 205b 5c23 3532 355d 2868 7474 7073 3a2f   [\#525](https:/
-00005bc0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-00005bd0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-00005be0: 6173 612f 6973 7375 6573 2f35 3235 290a  asa/issues/525).
-00005bf0: 2d20 496e 7374 616c 6c61 7469 6f6e 2050  - Installation P
-00005c00: 726f 626c 656d 7320 5c28 5079 7468 6f6e  roblems \(Python
-00005c10: 2056 6572 7369 6f6e 3f5c 2920 5b5c 2335   Version?\) [\#5
-00005c20: 3233 5d28 6874 7470 733a 2f2f 6769 7468  23](https://gith
-00005c30: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00005c40: 7361 2f70 7974 686f 6e2d 6b61 7361 2f69  sa/python-kasa/i
-00005c50: 7373 7565 732f 3532 3329 0a2d 2057 6861  ssues/523).- Wha
-00005c60: 7420 6172 6520 7468 6520 756e 6974 7320  t are the units 
-00005c70: 696e 2074 6865 2065 6d65 7465 7220 7265  in the emeter re
-00005c80: 6164 696e 6773 3f20 5b5c 2335 3134 5d28  adings? [\#514](
-00005c90: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00005ca0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00005cb0: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
-00005cc0: 732f 3531 3429 0a2d 2053 6574 2041 6c69  s/514).- Set Ali
-00005cd0: 6173 2076 6961 2043 6f6d 6d61 6e64 204c  as via Command L
-00005ce0: 696e 6520 5b5c 2335 3131 5d28 6874 7470  ine [\#511](http
-00005cf0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-00005d00: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-00005d10: 6e2d 6b61 7361 2f69 7373 7565 732f 3531  n-kasa/issues/51
-00005d20: 3129 0a2d 2048 6f77 2064 6f20 4920 6b6e  1).- How do I kn
-00005d30: 6f77 2069 6620 6d79 2064 6576 6963 6520  ow if my device 
-00005d40: 7375 7070 6f72 7473 2065 6d65 7465 723f  supports emeter?
-00005d50: 205b 5c23 3531 305d 2868 7474 7073 3a2f   [\#510](https:/
-00005d60: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-00005d70: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-00005d80: 6173 612f 6973 7375 6573 2f35 3130 290a  asa/issues/510).
-00005d90: 2d20 4765 7474 696e 6720 496e 7661 6c69  - Getting Invali
-00005da0: 6420 4b65 7945 7272 6f72 2077 6865 6e20  d KeyError when 
-00005db0: 6765 7474 696e 6720 7379 7369 6e66 6f20  getting sysinfo 
-00005dc0: 6f6e 2061 6e20 4550 3430 2064 6576 6963  on an EP40 devic
-00005dd0: 6520 5b5c 2335 3030 5d28 6874 7470 733a  e [\#500](https:
-00005de0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-00005df0: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-00005e00: 6b61 7361 2f69 7373 7565 732f 3530 3029  kasa/issues/500)
-00005e10: 0a2d 2052 756e 6e69 6e67 206b 6173 6120  .- Running kasa 
-00005e20: 6469 7363 6f76 6572 206f 6e20 7375 626e  discover on subn
-00005e30: 6574 2062 726f 6164 6361 7374 7320 6f6e  et broadcasts on
-00005e40: 6c79 205b 5c23 3439 365d 2868 7474 7073  ly [\#496](https
-00005e50: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-00005e60: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-00005e70: 2d6b 6173 612f 6973 7375 6573 2f34 3936  -kasa/issues/496
-00005e80: 290a 2d20 4661 696c 6564 2074 6f20 6469  ).- Failed to di
-00005e90: 7363 6f76 6572 206b 6173 6120 7377 6974  scover kasa swit
-00005ea0: 6368 7320 6f6e 2074 6865 206e 6574 776f  chs on the netwo
-00005eb0: 726b 205b 5c23 3439 355d 2868 7474 7073  rk [\#495](https
-00005ec0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-00005ed0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-00005ee0: 2d6b 6173 612f 6973 7375 6573 2f34 3935  -kasa/issues/495
-00005ef0: 290a 2d20 5c5b 4665 6174 7572 6520 5265  ).- \[Feature Re
-00005f00: 7175 6573 745c 5d20 4164 6420 6120 746f  quest\] Add a to
-00005f10: 6767 6c65 2063 6f6d 6d61 6e64 205b 5c23  ggle command [\#
-00005f20: 3439 325d 2868 7474 7073 3a2f 2f67 6974  492](https://git
-00005f30: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-00005f40: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-00005f50: 6973 7375 6573 2f34 3932 290a 2d20 5c5b  issues/492).- \[
-00005f60: 4665 6174 7572 6520 5265 7175 6573 745c  Feature Request\
-00005f70: 5d20 5079 6461 6e74 6963 2032 2e30 2b20  ] Pydantic 2.0+ 
-00005f80: 5375 7070 6f72 7420 5b5c 2334 3931 5d28  Support [\#491](
-00005f90: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00005fa0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00005fb0: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
-00005fc0: 732f 3439 3129 0a2d 2053 7570 706f 7274  s/491).- Support
-00005fd0: 2066 6f72 2045 5031 3020 506c 7567 205b   for EP10 Plug [
-00005fe0: 5c23 3137 305d 2868 7474 7073 3a2f 2f67  \#170](https://g
-00005ff0: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-00006000: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-00006010: 612f 6973 7375 6573 2f31 3730 290a 2d20  a/issues/170).- 
-00006020: 5c5b 5265 7175 6573 745c 5d20 4e65 7720  \[Request\] New 
-00006030: 7265 6c65 6173 6520 746f 2070 6970 3f20  release to pip? 
-00006040: 5b5c 2335 3138 5d28 6874 7470 733a 2f2f  [\#518](https://
-00006050: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00006060: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-00006070: 7361 2f69 7373 7565 732f 3531 3829 0a0a  sa/issues/518)..
-00006080: 2a2a 4d65 7267 6564 2070 756c 6c20 7265  **Merged pull re
-00006090: 7175 6573 7473 3a2a 2a0a 0a2d 2052 656c  quests:**..- Rel
-000060a0: 6561 7365 2030 2e35 2e34 205b 5c23 3533  ease 0.5.4 [\#53
-000060b0: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
-000060c0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-000060d0: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-000060e0: 6c6c 2f35 3336 2920 2840 7279 7469 6c61  ll/536) (@rytila
-000060f0: 6874 6929 0a2d 2055 7365 2072 7566 6620  hti).- Use ruff 
-00006100: 616e 6420 7275 6666 2066 6f72 6d61 7420  and ruff format 
-00006110: 5b5c 2335 3334 5d28 6874 7470 733a 2f2f  [\#534](https://
-00006120: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00006130: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-00006140: 7361 2f70 756c 6c2f 3533 3429 2028 4072  sa/pull/534) (@r
-00006150: 7974 696c 6168 7469 290a 2d20 4164 6420  ytilahti).- Add 
-00006160: 7079 7468 6f6e 332e 3132 2061 6e64 2070  python3.12 and p
-00006170: 7970 792d 332e 3130 2074 6f20 4349 205b  ypy-3.10 to CI [
-00006180: 5c23 3533 325d 2868 7474 7073 3a2f 2f67  \#532](https://g
-00006190: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-000061a0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-000061b0: 612f 7075 6c6c 2f35 3332 2920 2840 7279  a/pull/532) (@ry
-000061c0: 7469 6c61 6874 6929 0a2d 2055 7365 2074  tilahti).- Use t
-000061d0: 7275 7374 6564 2070 7562 6c69 7368 6572  rusted publisher
-000061e0: 2066 6f72 2070 7562 6c69 7368 696e 6720   for publishing 
-000061f0: 746f 2070 7970 6920 5b5c 2335 3331 5d28  to pypi [\#531](
-00006200: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00006210: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00006220: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
-00006230: 3533 3129 2028 4072 7974 696c 6168 7469  531) (@rytilahti
-00006240: 290a 2d20 5265 6d6f 7665 2063 6f64 6520  ).- Remove code 
-00006250: 746f 2064 6574 6563 7420 6576 656e 7420  to detect event 
-00006260: 6c6f 6f70 2063 6861 6e67 6520 5b5c 2335  loop change [\#5
-00006270: 3236 5d28 6874 7470 733a 2f2f 6769 7468  26](https://gith
-00006280: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00006290: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-000062a0: 756c 6c2f 3532 3629 2028 4062 6472 6163  ull/526) (@bdrac
-000062b0: 6f29 0a2d 2043 6f6e 7665 7274 2072 6561  o).- Convert rea
-000062c0: 6474 6865 646f 6373 2063 6f6e 6669 6720  dthedocs config 
-000062d0: 746f 2076 3220 5b5c 2335 3035 5d28 6874  to v2 [\#505](ht
-000062e0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000062f0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-00006300: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3530  hon-kasa/pull/50
-00006310: 3529 2028 4072 7974 696c 6168 7469 290a  5) (@rytilahti).
-00006320: 2d20 4164 6420 6e65 7720 4853 3130 305c  - Add new HS100\
-00006330: 2855 4b5c 2920 6669 7874 7572 6520 5b5c  (UK\) fixture [\
-00006340: 2334 3839 5d28 6874 7470 733a 2f2f 6769  #489](https://gi
-00006350: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-00006360: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-00006370: 2f70 756c 6c2f 3438 3929 2028 4073 6462  /pull/489) (@sdb
-00006380: 3936 3936 290a 2d20 5570 6461 7465 2070  9696).- Update p
-00006390: 7970 726f 6a65 6374 2e74 6f6d 6c20 6973  yproject.toml is
-000063a0: 6f72 7420 7072 6f66 696c 652c 2064 6576  ort profile, dev
-000063b0: 2067 726f 7570 2068 6561 6465 7220 616e   group header an
-000063c0: 6420 706f 6574 7279 2e6c 6f63 6b20 5b5c  d poetry.lock [\
-000063d0: 2334 3837 5d28 6874 7470 733a 2f2f 6769  #487](https://gi
-000063e0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-000063f0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-00006400: 2f70 756c 6c2f 3438 3729 2028 4073 6462  /pull/487) (@sdb
-00006410: 3936 3936 290a 0a23 2320 5b30 2e35 2e33  9696)..## [0.5.3
-00006420: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00006430: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-00006440: 2f70 7974 686f 6e2d 6b61 7361 2f74 7265  /python-kasa/tre
-00006450: 652f 302e 352e 3329 2028 3230 3233 2d30  e/0.5.3) (2023-0
-00006460: 372d 3233 290a 0a5b 4675 6c6c 2043 6861  7-23)..[Full Cha
-00006470: 6e67 656c 6f67 5d28 6874 7470 733a 2f2f  ngelog](https://
-00006480: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00006490: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-000064a0: 7361 2f63 6f6d 7061 7265 2f30 2e35 2e32  sa/compare/0.5.2
-000064b0: 2e2e 2e30 2e35 2e33 290a 0a54 6869 7320  ...0.5.3)..This 
-000064c0: 7265 6c65 6173 6520 6164 6473 2073 7570  release adds sup
-000064d0: 706f 7274 2066 6f72 2064 6566 696e 696e  port for definin
-000064e0: 6720 7468 6520 6465 7669 6365 2070 6f72  g the device por
-000064f0: 7420 616e 6420 696e 7472 6f64 7563 6573  t and introduces
-00006500: 2064 6570 656e 6465 6e63 7920 6f6e 2061   dependency on a
-00006510: 7379 6e63 2d74 696d 656f 7574 2077 6869  sync-timeout whi
-00006520: 6368 2069 6d70 726f 7665 7320 7469 6d65  ch improves time
-00006530: 6f75 7420 6861 6e64 6c69 6e67 2e0a 0a2a  out handling...*
-00006540: 2a49 6d70 6c65 6d65 6e74 6564 2065 6e68  *Implemented enh
-00006550: 616e 6365 6d65 6e74 733a 2a2a 0a0a 2d20  ancements:**..- 
-00006560: 4d61 6b65 2064 6576 6963 6520 706f 7274  Make device port
-00006570: 2063 6f6e 6669 6775 7261 626c 6520 5b5c   configurable [\
-00006580: 2334 3731 5d28 6874 7470 733a 2f2f 6769  #471](https://gi
-00006590: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-000065a0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-000065b0: 2f70 756c 6c2f 3437 3129 2028 406b 6172  /pull/471) (@kar
-000065c0: 7061 6368 290a 0a2a 2a46 6978 6564 2062  pach)..**Fixed b
-000065d0: 7567 733a 2a2a 0a0a 2d20 5265 706c 6163  ugs:**..- Replac
-000065e0: 6520 6173 796e 6369 6f2e 7761 6974 5c5f  e asyncio.wait\_
-000065f0: 666f 7220 7769 7468 2061 7379 6e63 2d74  for with async-t
-00006600: 696d 656f 7574 205b 5c23 3438 305d 2868  imeout [\#480](h
-00006610: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00006620: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-00006630: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f34  thon-kasa/pull/4
-00006640: 3830 2920 2840 6264 7261 636f 290a 0a2a  80) (@bdraco)..*
-00006650: 2a4d 6572 6765 6420 7075 6c6c 2072 6571  *Merged pull req
-00006660: 7565 7374 733a 2a2a 0a0a 2d20 5265 6c65  uests:**..- Rele
-00006670: 6173 6520 302e 352e 3320 5b5c 2334 3835  ase 0.5.3 [\#485
-00006680: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00006690: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-000066a0: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-000066b0: 6c2f 3438 3529 2028 4072 7974 696c 6168  l/485) (@rytilah
-000066c0: 7469 290a 2d20 4164 6420 7465 7374 7320  ti).- Add tests 
-000066d0: 666f 7220 4b50 3230 3020 5b5c 2334 3833  for KP200 [\#483
-000066e0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-000066f0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-00006700: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-00006710: 6c2f 3438 3329 2028 4062 6472 6163 6f29  l/483) (@bdraco)
-00006720: 0a2d 2055 7064 6174 6520 7079 7961 6d6c  .- Update pyyaml
-00006730: 2074 6f20 6669 7820 4349 205b 5c23 3438   to fix CI [\#48
-00006740: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
-00006750: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-00006760: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-00006770: 6c6c 2f34 3832 2920 2840 6264 7261 636f  ll/482) (@bdraco
-00006780: 290a 0a23 2320 5b30 2e35 2e32 5d28 6874  )..## [0.5.2](ht
-00006790: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000067a0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-000067b0: 686f 6e2d 6b61 7361 2f74 7265 652f 302e  hon-kasa/tree/0.
-000067c0: 352e 3229 2028 3230 3233 2d30 372d 3032  5.2) (2023-07-02
-000067d0: 290a 0a5b 4675 6c6c 2043 6861 6e67 656c  )..[Full Changel
-000067e0: 6f67 5d28 6874 7470 733a 2f2f 6769 7468  og](https://gith
-000067f0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00006800: 7361 2f70 7974 686f 6e2d 6b61 7361 2f63  sa/python-kasa/c
-00006810: 6f6d 7061 7265 2f30 2e35 2e31 2e2e 2e30  ompare/0.5.1...0
-00006820: 2e35 2e32 290a 0a42 6573 6964 6573 2073  .5.2)..Besides s
-00006830: 6f6d 6520 736d 616c 6c20 696d 7072 6f76  ome small improv
-00006840: 656d 656e 7473 2c20 7468 6973 2072 656c  ements, this rel
-00006850: 6561 7365 3a0d 0a2a 2041 6464 7320 6f70  ease:..* Adds op
-00006860: 7469 6f6e 616c 2064 6570 656e 6465 6e63  tional dependenc
-00006870: 7920 666f 7220 666f 7220 606f 726a 736f  y for for `orjso
-00006880: 6e60 2061 6e64 2060 6b61 7361 2d63 7279  n` and `kasa-cry
-00006890: 7074 6020 746f 2073 7065 6564 2d75 7020  pt` to speed-up 
-000068a0: 7072 6f74 6f63 6f6c 2068 616e 646c 696e  protocol handlin
-000068b0: 6720 6279 2061 6e20 6f72 6465 7220 6f66  g by an order of
-000068c0: 206d 6167 6e69 7475 6465 2e0d 0a2a 2044   magnitude...* D
-000068d0: 726f 7073 2050 7974 686f 6e20 332e 3720  rops Python 3.7 
-000068e0: 7375 7070 6f72 7420 6173 2069 7420 6973  support as it is
-000068f0: 206e 6f20 6c6f 6e67 6572 206d 6169 6e74   no longer maint
-00006900: 6169 6e65 642e 0a0a 2a2a 4272 6561 6b69  ained...**Breaki
-00006910: 6e67 2063 6861 6e67 6573 3a2a 2a0a 0a2d  ng changes:**..-
-00006920: 2044 726f 7020 7079 7468 6f6e 2033 2e37   Drop python 3.7
-00006930: 2073 7570 706f 7274 205b 5c23 3435 355d   support [\#455]
-00006940: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00006950: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-00006960: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
-00006970: 2f34 3535 2920 2840 7279 7469 6c61 6874  /455) (@rytilaht
-00006980: 6929 0a0a 2a2a 496d 706c 656d 656e 7465  i)..**Implemente
-00006990: 6420 656e 6861 6e63 656d 656e 7473 3a2a  d enhancements:*
-000069a0: 2a0a 0a2d 2055 7365 206f 726a 736f 6e20  *..- Use orjson 
-000069b0: 7768 656e 2061 6c72 6561 6479 2069 6e73  when already ins
-000069c0: 7461 6c6c 6564 206f 7220 7769 7468 2073  talled or with s
-000069d0: 7065 6564 7570 7320 6578 7472 6120 5b5c  peedups extra [\
-000069e0: 2334 3636 5d28 6874 7470 733a 2f2f 6769  #466](https://gi
-000069f0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-00006a00: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-00006a10: 2f70 756c 6c2f 3436 3629 2028 4062 6472  /pull/466) (@bdr
-00006a20: 6163 6f29 0a2d 2041 6464 206f 7074 696f  aco).- Add optio
-00006a30: 6e61 6c20 6b61 7361 2d63 7279 7074 2064  nal kasa-crypt d
-00006a40: 6570 656e 6465 6e63 7920 666f 7220 7370  ependency for sp
-00006a50: 6565 6475 7073 205b 5c23 3436 345d 2868  eedups [\#464](h
-00006a60: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00006a70: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-00006a80: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f34  thon-kasa/pull/4
-00006a90: 3634 2920 2840 6264 7261 636f 290a 2d20  64) (@bdraco).- 
-00006aa0: 4164 6420 696e 6163 7469 7669 7479 2073  Add inactivity s
-00006ab0: 6574 7469 6e67 2066 6f72 2074 6865 206d  etting for the m
-00006ac0: 6f74 696f 6e20 6d6f 6475 6c65 205b 5c23  otion module [\#
-00006ad0: 3435 335d 2868 7474 7073 3a2f 2f67 6974  453](https://git
-00006ae0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-00006af0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-00006b00: 7075 6c6c 2f34 3533 2920 2840 7279 7469  pull/453) (@ryti
-00006b10: 6c61 6874 6929 0a2d 2041 6464 206d 6574  lahti).- Add met
-00006b20: 686f 6473 2074 6f20 636f 6e66 6967 7572  hods to configur
-00006b30: 6520 6469 6d6d 6572 2073 6574 7469 6e67  e dimmer setting
-00006b40: 7320 5b5c 2334 3239 5d28 6874 7470 733a  s [\#429](https:
-00006b50: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-00006b60: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-00006b70: 6b61 7361 2f70 756c 6c2f 3432 3929 2028  kasa/pull/429) (
-00006b80: 4072 7974 696c 6168 7469 290a 0a2a 2a46  @rytilahti)..**F
-00006b90: 6978 6564 2062 7567 733a 2a2a 0a0a 2d20  ixed bugs:**..- 
-00006ba0: 5265 7175 6573 7420 666f 7220 4b50 3430  Request for KP40
-00006bb0: 3520 5375 7070 6f72 7420 2d20 4469 6d6d  5 Support - Dimm
-00006bc0: 6162 6c65 2050 6c75 6720 5b5c 2334 3639  able Plug [\#469
-00006bd0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00006be0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-00006bf0: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
-00006c00: 7565 732f 3436 3929 0a2d 2049 7373 7565  ues/469).- Issue
-00006c10: 2070 7269 6e74 696e 6720 6465 7669 6365   printing device
-00006c20: 2069 6e20 6f6e 5c5f 6469 7363 6f76 6572   in on\_discover
-00006c30: 6564 3a20 7079 6461 6e74 6963 2e65 7272  ed: pydantic.err
-00006c40: 6f72 5c5f 7772 6170 7065 7273 2e56 616c  or\_wrappers.Val
-00006c50: 6964 6174 696f 6e45 7272 6f72 3a20 3320  idationError: 3 
-00006c60: 7661 6c69 6461 7469 6f6e 2065 7272 6f72  validation error
-00006c70: 7320 666f 7220 536d 6172 7442 756c 6250  s for SmartBulbP
-00006c80: 7265 7365 7420 5b5c 2334 3339 5d28 6874  reset [\#439](ht
-00006c90: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00006ca0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-00006cb0: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
-00006cc0: 3433 3929 0a2d 2050 6f73 7369 626c 6520  439).- Possible 
-00006cd0: 6669 726d 7761 7265 2069 7373 7565 2077  firmware issue w
-00006ce0: 6974 6820 4b4c 3132 3520 5c28 312e 302e  ith KL125 \(1.0.
-00006cf0: 3720 4275 696c 6420 3231 3130 3039 2052  7 Build 211009 R
-00006d00: 656c 2e31 3732 3034 345c 2920 5b5c 2333  el.172044\) [\#3
-00006d10: 3435 5d28 6874 7470 733a 2f2f 6769 7468  45](https://gith
-00006d20: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00006d30: 7361 2f70 7974 686f 6e2d 6b61 7361 2f69  sa/python-kasa/i
-00006d40: 7373 7565 732f 3334 3529 0a2d 2045 7863  ssues/345).- Exc
-00006d50: 6c75 6465 2071 7565 7279 696e 6720 6365  lude querying ce
-00006d60: 7274 6169 6e20 6d6f 6475 6c65 7320 666f  rtain modules fo
-00006d70: 7220 4b4c 3132 355c 2855 535c 2920 7768  r KL125\(US\) wh
-00006d80: 6963 6820 6361 7573 6520 6372 6173 6865  ich cause crashe
-00006d90: 7320 205b 5c23 3435 315d 2868 7474 7073  s  [\#451](https
-00006da0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-00006db0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-00006dc0: 2d6b 6173 612f 7075 6c6c 2f34 3531 2920  -kasa/pull/451) 
-00006dd0: 2840 6272 6961 6e74 6865 6461 7669 7329  (@brianthedavis)
-00006de0: 0a2d 2052 6574 7572 6e20 7265 7375 6c74  .- Return result
-00006df0: 206f 626a 6563 7473 2066 6f72 2063 6c69   objects for cli
-00006e00: 2064 6973 636f 7665 7220 616e 6420 696d   discover and im
-00006e10: 706c 6963 6974 2027 7374 6174 6527 205b  plicit 'state' [
-00006e20: 5c23 3434 365d 2868 7474 7073 3a2f 2f67  \#446](https://g
-00006e30: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-00006e40: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-00006e50: 612f 7075 6c6c 2f34 3436 2920 2840 7279  a/pull/446) (@ry
-00006e60: 7469 6c61 6874 6929 0a2d 2041 6c6c 6f77  tilahti).- Allow
-00006e70: 2065 6666 6563 7420 7072 6573 6574 7320   effect presets 
-00006e80: 7365 656e 206f 6e20 6c69 6768 7420 7374  seen on light st
-00006e90: 7269 7073 205b 5c23 3434 305d 2868 7474  rips [\#440](htt
-00006ea0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00006eb0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-00006ec0: 6f6e 2d6b 6173 612f 7075 6c6c 2f34 3430  on-kasa/pull/440
-00006ed0: 2920 2840 7279 7469 6c61 6874 6929 0a0a  ) (@rytilahti)..
-00006ee0: 2a2a 436c 6f73 6564 2069 7373 7565 733a  **Closed issues:
-00006ef0: 2a2a 0a0a 2d20 506f 7765 7273 6865 6c6c  **..- Powershell
-00006f00: 2076 6572 7369 6f6e 3f20 5b5c 2334 3631   version? [\#461
-00006f10: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00006f20: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-00006f30: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
-00006f40: 7565 732f 3436 3129 0a2d 2041 6464 2060  ues/461).- Add `
-00006f50: 7365 745f 636f 6c64 5f74 696d 6560 2074  set_cold_time` t
-00006f60: 6f20 4d6f 7469 6f6e 206d 6f64 756c 6520  o Motion module 
-00006f70: 5b5c 2334 3532 5d28 6874 7470 733a 2f2f  [\#452](https://
-00006f80: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00006f90: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-00006fa0: 7361 2f69 7373 7565 732f 3435 3229 0a2d  sa/issues/452).-
-00006fb0: 2044 6973 636f 7665 722e 6469 7363 6f76   Discover.discov
-00006fc0: 6572 5c28 5c29 206f 6e6c 7920 7265 7475  er\(\) only retu
-00006fd0: 726e 696e 6720 6970 2061 6472 6573 7320  rning ip adress 
-00006fe0: 6f6e 2065 7031 3020 6f75 746c 6574 205b  on ep10 outlet [
-00006ff0: 5c23 3434 375d 2868 7474 7073 3a2f 2f67  \#447](https://g
-00007000: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-00007010: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-00007020: 612f 6973 7375 6573 2f34 3437 290a 2d20  a/issues/447).- 
-00007030: 5175 6572 7920 6375 7272 656e 7420 7769  Query current wi
-00007040: 6669 2063 6f6e 6669 673f 205b 5c23 3434  fi config? [\#44
-00007050: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
-00007060: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-00007070: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
-00007080: 7375 6573 2f34 3435 290a 2d20 6275 6c62  sues/445).- bulb
-00007090: 2e74 7572 6e5c 5f6f 6666 206d 616b 696e  .turn\_off makin
-000070a0: 6720 6465 7669 6365 2075 6e64 6973 636f  g device undisco
-000070b0: 7665 7261 626c 6520 5b5c 2334 3434 5d28  verable [\#444](
-000070c0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000070d0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-000070e0: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
-000070f0: 732f 3434 3429 0a2d 2062 6573 7420 7072  s/444).- best pr
-00007100: 6976 6163 7920 7072 6163 7469 6365 7320  ivacy practices 
-00007110: 666f 7220 4b61 7361 2064 6576 6963 6573  for Kasa devices
-00007120: 205b 5c23 3433 385d 2868 7474 7073 3a2f   [\#438](https:/
-00007130: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-00007140: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-00007150: 6173 612f 6973 7375 6573 2f34 3338 290a  asa/issues/438).
-00007160: 2d20 4163 6365 7373 2064 6576 6963 6520  - Access device 
-00007170: 6672 6f6d 2064 6966 6665 7265 6e74 206e  from different n
-00007180: 6574 776f 726b 205b 5c23 3432 345d 2868  etwork [\#424](h
-00007190: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-000071a0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-000071b0: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
-000071c0: 2f34 3234 290a 2d20 4c6f 7473 206f 6620  /424).- Lots of 
-000071d0: 7465 7374 2066 6169 6c75 7265 2077 6974  test failure wit
-000071e0: 6820 302e 352e 3020 5b5c 2334 3131 5d28  h 0.5.0 [\#411](
-000071f0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00007200: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00007210: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
-00007220: 732f 3431 3129 0a0a 2a2a 4d65 7267 6564  s/411)..**Merged
-00007230: 2070 756c 6c20 7265 7175 6573 7473 3a2a   pull requests:*
-00007240: 2a0a 0a2d 2052 656c 6561 7365 2030 2e35  *..- Release 0.5
-00007250: 2e32 205b 5c23 3437 355d 2868 7474 7073  .2 [\#475](https
+00005000: 7361 2f70 756c 6c2f 3636 3329 2028 4073  sa/pull/663) (@s
+00005010: 6462 3936 3936 290a 0a2a 2a43 6c6f 7365  db9696)..**Close
+00005020: 6420 6973 7375 6573 3a2a 2a0a 0a2d 204e  d issues:**..- N
+00005030: 6565 6420 746f 2062 6520 6162 6c65 2074  eed to be able t
+00005040: 6f20 626f 7468 2063 6c6f 7365 2061 6e64  o both close and
+00005050: 2072 6573 6574 2074 7261 6e73 706f 7274   reset transport
+00005060: 7320 5b5c 2336 3731 5d28 6874 7470 733a  s [\#671](https:
+00005070: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00005080: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+00005090: 6b61 7361 2f69 7373 7565 732f 3637 3129  kasa/issues/671)
+000050a0: 0a2d 2049 6d70 726f 7665 2072 652d 7573  .- Improve re-us
+000050b0: 6520 6f66 2070 726f 746f 636f 6c20 636f  e of protocol co
+000050c0: 6465 2c20 7061 7274 6963 756c 6172 6c79  de, particularly
+000050d0: 2061 726f 756e 6420 7265 7472 7920 6c6f   around retry lo
+000050e0: 6769 6320 616e 6420 7468 6520 496f 7450  gic and the IotP
+000050f0: 726f 746f 636f 6c20 5b5c 2336 3439 5d28  rotocol [\#649](
+00005100: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00005110: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00005120: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
+00005130: 732f 3634 3929 0a0a 2a2a 4d65 7267 6564  s/649)..**Merged
+00005140: 2070 756c 6c20 7265 7175 6573 7473 3a2a   pull requests:*
+00005150: 2a0a 0a2d 2050 7265 7061 7265 2030 2e36  *..- Prepare 0.6
+00005160: 2e32 205b 5c23 3732 385d 2868 7474 7073  .2 [\#728](https
+00005170: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00005180: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00005190: 2d6b 6173 612f 7075 6c6c 2f37 3238 2920  -kasa/pull/728) 
+000051a0: 2840 7279 7469 6c61 6874 6929 0a2d 2055  (@rytilahti).- U
+000051b0: 7064 6174 6520 4c35 3130 455c 2855 535c  pdate L510E\(US\
+000051c0: 2920 6669 7874 7572 6520 7769 7468 206d  ) fixture with m
+000051d0: 6163 2070 7265 6669 7820 5b5c 2337 3232  ac prefix [\#722
+000051e0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000051f0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+00005200: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+00005210: 6c2f 3732 3229 2028 4073 6462 3936 3936  l/722) (@sdb9696
+00005220: 290a 2d20 5573 6520 6861 7368 6c69 6220  ).- Use hashlib 
+00005230: 696e 2070 6c61 6365 206f 6620 6861 7368  in place of hash
+00005240: 6573 2e48 6173 6820 5b5c 2337 3134 5d28  es.Hash [\#714](
+00005250: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00005260: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00005270: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00005280: 3731 3429 2028 4062 6472 6163 6f29 0a2d  714) (@bdraco).-
+00005290: 2053 7769 7463 6820 6672 6f6d 2054 504c   Switch from TPL
+000052a0: 696e 6b53 6d61 7274 486f 6d65 5072 6f74  inkSmartHomeProt
+000052b0: 6f63 6f6c 2074 6f20 496f 7450 726f 746f  ocol to IotProto
+000052c0: 636f 6c2f 586f 7254 7261 6e73 706f 7274  col/XorTransport
+000052d0: 205b 5c23 3731 305d 2868 7474 7073 3a2f   [\#710](https:/
+000052e0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+000052f0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00005300: 6173 612f 7075 6c6c 2f37 3130 2920 2840  asa/pull/710) (@
+00005310: 7364 6239 3639 3629 0a2d 2041 6464 2050  sdb9696).- Add P
+00005320: 3330 3020 6669 7874 7572 6520 5b5c 2337  300 fixture [\#7
+00005330: 3137 5d28 6874 7470 733a 2f2f 6769 7468  17](https://gith
+00005340: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00005350: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00005360: 756c 6c2f 3731 3729 2028 4072 7974 696c  ull/717) (@rytil
+00005370: 6168 7469 290a 2d20 4164 6420 636f 6e63  ahti).- Add conc
+00005380: 7265 7465 2058 6f72 5472 616e 7370 6f72  rete XorTranspor
+00005390: 7420 636c 6173 7320 7769 7468 2066 756c  t class with ful
+000053a0: 6c20 696d 706c 656d 656e 7461 7469 6f6e  l implementation
+000053b0: 205b 5c23 3634 365d 2868 7474 7073 3a2f   [\#646](https:/
+000053c0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+000053d0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+000053e0: 6173 612f 7075 6c6c 2f36 3436 2920 2840  asa/pull/646) (@
+000053f0: 7364 6239 3639 3629 0a0a 2323 205b 302e  sdb9696)..## [0.
+00005400: 362e 315d 2868 7474 7073 3a2f 2f67 6974  6.1](https://git
+00005410: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00005420: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00005430: 7472 6565 2f30 2e36 2e31 2920 2832 3032  tree/0.6.1) (202
+00005440: 342d 3031 2d32 3529 0a0a 5b46 756c 6c20  4-01-25)..[Full 
+00005450: 4368 616e 6765 6c6f 675d 2868 7474 7073  Changelog](https
+00005460: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00005470: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00005480: 2d6b 6173 612f 636f 6d70 6172 652f 302e  -kasa/compare/0.
+00005490: 362e 302e 312e 2e2e 302e 362e 3129 0a0a  6.0.1...0.6.1)..
+000054a0: 5265 6c65 6173 6520 6869 6768 6c69 6768  Release highligh
+000054b0: 7473 3a0d 0a2a 2053 7570 706f 7274 2066  ts:..* Support f
+000054c0: 6f72 2074 6170 6f20 7761 6c6c 2073 7769  or tapo wall swi
+000054d0: 7463 6865 730d 0a2a 2053 7570 706f 7274  tches..* Support
+000054e0: 2066 6f72 2075 6e70 726f 7669 7369 6f6e   for unprovision
+000054f0: 6564 2064 6576 6963 6573 0d0a 2a20 5065  ed devices..* Pe
+00005500: 7266 6f72 6d61 6e63 6520 616e 6420 7374  rformance and st
+00005510: 6162 696c 6974 7920 696d 7072 6f76 656d  ability improvem
+00005520: 656e 7473 0a0a 2a2a 496d 706c 656d 656e  ents..**Implemen
+00005530: 7465 6420 656e 6861 6e63 656d 656e 7473  ted enhancements
+00005540: 3a2a 2a0a 0a2d 2041 6464 2073 7570 706f  :**..- Add suppo
+00005550: 7274 2066 6f72 2074 6170 6f20 7761 6c6c  rt for tapo wall
+00005560: 2073 7769 7463 6865 7320 5c28 5335 3030   switches \(S500
+00005570: 445c 2920 5b5c 2337 3034 5d28 6874 7470  D\) [\#704](http
+00005580: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00005590: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+000055a0: 6e2d 6b61 7361 2f70 756c 6c2f 3730 3429  n-kasa/pull/704)
+000055b0: 2028 4062 6472 6163 6f29 0a2d 2041 6464   (@bdraco).- Add
+000055c0: 206e 6577 2063 6c69 2063 6f6d 6d61 6e64   new cli command
+000055d0: 2027 636f 6d6d 616e 6427 2074 6f20 6578   'command' to ex
+000055e0: 6563 7574 6520 6172 6269 7472 6172 7920  ecute arbitrary 
+000055f0: 636f 6d6d 616e 6473 205b 5c23 3639 325d  commands [\#692]
+00005600: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00005610: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00005620: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+00005630: 2f36 3932 2920 2840 7279 7469 6c61 6874  /692) (@rytilaht
+00005640: 6929 0a2d 2041 6c6c 6f77 2072 6177 2d63  i).- Allow raw-c
+00005650: 6f6d 6d61 6e64 2061 6e64 2077 6966 6920  ommand and wifi 
+00005660: 7769 7468 6f75 7420 7570 6461 7465 205b  without update [
+00005670: 5c23 3638 385d 2868 7474 7073 3a2f 2f67  \#688](https://g
+00005680: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00005690: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+000056a0: 612f 7075 6c6c 2f36 3838 2920 2840 7279  a/pull/688) (@ry
+000056b0: 7469 6c61 6874 6929 0a2d 2047 656e 6572  tilahti).- Gener
+000056c0: 6174 6520 4145 5320 4b65 7950 6169 7220  ate AES KeyPair 
+000056d0: 6c61 7a69 6c79 205b 5c23 3638 375d 2868  lazily [\#687](h
+000056e0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000056f0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00005700: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f36  thon-kasa/pull/6
+00005710: 3837 2920 2840 7364 6239 3639 3629 0a2d  87) (@sdb9696).-
+00005720: 2041 6464 2072 6562 6f6f 7420 616e 6420   Add reboot and 
+00005730: 6661 6374 6f72 795c 5f72 6573 6574 2074  factory\_reset t
+00005740: 6f20 7461 706f 6465 7669 6365 205b 5c23  o tapodevice [\#
+00005750: 3638 365d 2868 7474 7073 3a2f 2f67 6974  686](https://git
+00005760: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00005770: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00005780: 7075 6c6c 2f36 3836 2920 2840 7279 7469  pull/686) (@ryti
+00005790: 6c61 6874 6929 0a2d 2054 7279 2064 6566  lahti).- Try def
+000057a0: 6175 6c74 2074 6170 6f20 6372 6564 656e  ault tapo creden
+000057b0: 7469 616c 7320 666f 7220 6b6c 6170 2061  tials for klap a
+000057c0: 6e64 2061 6573 205b 5c23 3638 355d 2868  nd aes [\#685](h
+000057d0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000057e0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+000057f0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f36  thon-kasa/pull/6
+00005800: 3835 2920 2840 7364 6239 3639 3629 0a0a  85) (@sdb9696)..
+00005810: 2a2a 4669 7865 6420 6275 6773 3a2a 2a0a  **Fixed bugs:**.
+00005820: 0a2d 2044 6f20 6e6f 7420 6372 6173 6820  .- Do not crash 
+00005830: 6f6e 206d 6973 7369 6e67 2067 656f 6c6f  on missing geolo
+00005840: 6361 7469 6f6e 205b 5c23 3730 315d 2868  cation [\#701](h
+00005850: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00005860: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00005870: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f37  thon-kasa/pull/7
+00005880: 3031 2920 2840 7279 7469 6c61 6874 6929  01) (@rytilahti)
+00005890: 0a2d 2046 6978 2050 3130 3020 6572 726f  .- Fix P100 erro
+000058a0: 7220 6765 7474 696e 6720 636f 6e6e 2063  r getting conn c
+000058b0: 6c6f 7365 6420 7768 656e 2074 7279 696e  losed when tryin
+000058c0: 6720 6465 6661 756c 7420 6c6f 6769 6e20  g default login 
+000058d0: 6166 7465 7220 6c6f 6769 6e20 6661 696c  after login fail
+000058e0: 7572 6520 5b5c 2336 3930 5d28 6874 7470  ure [\#690](http
+000058f0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00005900: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+00005910: 6e2d 6b61 7361 2f70 756c 6c2f 3639 3029  n-kasa/pull/690)
+00005920: 2028 4073 6462 3936 3936 290a 0a2a 2a44   (@sdb9696)..**D
+00005930: 6f63 756d 656e 7461 7469 6f6e 2075 7064  ocumentation upd
+00005940: 6174 6573 3a2a 2a0a 0a2d 2044 6f63 756d  ates:**..- Docum
+00005950: 656e 7420 6175 7468 656e 7469 6361 7465  ent authenticate
+00005960: 6420 7072 6f76 6973 696f 6e69 6e67 205b  d provisioning [
+00005970: 5c23 3633 345d 2868 7474 7073 3a2f 2f67  \#634](https://g
+00005980: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00005990: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+000059a0: 612f 7075 6c6c 2f36 3334 2920 2840 7279  a/pull/634) (@ry
+000059b0: 7469 6c61 6874 6929 0a0a 2a2a 436c 6f73  tilahti)..**Clos
+000059c0: 6564 2069 7373 7565 733a 2a2a 0a0a 2d20  ed issues:**..- 
+000059d0: 686f 7720 746f 2070 726f 7669 7369 6f6e  how to provision
+000059e0: 206e 6577 2054 6170 6f20 706c 7567 2064   new Tapo plug d
+000059f0: 6576 6963 6573 3f20 5b5c 2335 3635 5d28  evices? [\#565](
+00005a00: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00005a10: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00005a20: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
+00005a30: 732f 3536 3529 0a2d 2053 7061 6365 206f  s/565).- Space o
+00005a40: 7574 2064 6973 636f 7665 7279 2072 6571  ut discovery req
+00005a50: 7565 7374 7320 5b5c 2332 3239 5d28 6874  uests [\#229](ht
+00005a60: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00005a70: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00005a80: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
+00005a90: 3232 3929 0a2d 2043 6f6e 7369 6465 7220  229).- Consider 
+00005aa0: 6861 6e64 7368 616b 6520 6173 2073 7469  handshake as sti
+00005ab0: 6c6c 2076 616c 6964 206f 6e20 5365 7276  ll valid on Serv
+00005ac0: 6572 4469 7363 6f6e 6e65 6374 6564 4572  erDisconnectedEr
+00005ad0: 726f 7220 5b5c 2336 3736 5d28 6874 7470  ror [\#676](http
+00005ae0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00005af0: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+00005b00: 6e2d 6b61 7361 2f69 7373 7565 732f 3637  n-kasa/issues/67
+00005b10: 3629 0a2d 2041 4553 2054 7261 6e73 706f  6).- AES Transpo
+00005b20: 7274 2063 7265 6174 6573 2074 6865 206b  rt creates the k
+00005b30: 6579 2065 7665 6e20 6966 2074 6865 2064  ey even if the d
+00005b40: 6576 6963 6520 6973 206f 6666 6c69 6e65  evice is offline
+00005b50: 205b 5c23 3637 355d 2868 7474 7073 3a2f   [\#675](https:/
+00005b60: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00005b70: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00005b80: 6173 612f 6973 7375 6573 2f36 3735 290a  asa/issues/675).
+00005b90: 0a2a 2a4d 6572 6765 6420 7075 6c6c 2072  .**Merged pull r
+00005ba0: 6571 7565 7374 733a 2a2a 0a0a 2d20 5072  equests:**..- Pr
+00005bb0: 6570 6172 6520 302e 362e 3120 5b5c 2337  epare 0.6.1 [\#7
+00005bc0: 3039 5d28 6874 7470 733a 2f2f 6769 7468  09](https://gith
+00005bd0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00005be0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00005bf0: 756c 6c2f 3730 3929 2028 4072 7974 696c  ull/709) (@rytil
+00005c00: 6168 7469 290a 2d20 4164 6420 6164 6469  ahti).- Add addi
+00005c10: 7469 6f6e 616c 204c 3930 302d 3130 2066  tional L900-10 f
+00005c20: 6978 7475 7265 205b 5c23 3730 375d 2868  ixture [\#707](h
+00005c30: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00005c40: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00005c50: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f37  thon-kasa/pull/7
+00005c60: 3037 2920 2840 6264 7261 636f 290a 2d20  07) (@bdraco).- 
+00005c70: 5265 706c 6163 6520 7269 6368 2066 6f72  Replace rich for
+00005c80: 6d61 7474 696e 6720 7374 7269 7070 6572  matting stripper
+00005c90: 205b 5c23 3730 365d 2868 7474 7073 3a2f   [\#706](https:/
+00005ca0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00005cb0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00005cc0: 6173 612f 7075 6c6c 2f37 3036 2920 2840  asa/pull/706) (@
+00005cd0: 6264 7261 636f 290a 2d20 4164 6420 7375  bdraco).- Add su
+00005ce0: 7070 6f72 7420 666f 7220 7468 6520 5335  pport for the S5
+00005cf0: 3030 205b 5c23 3730 355d 2868 7474 7073  00 [\#705](https
+00005d00: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00005d10: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00005d20: 2d6b 6173 612f 7075 6c6c 2f37 3035 2920  -kasa/pull/705) 
+00005d30: 2840 6264 7261 636f 290a 2d20 4669 7820  (@bdraco).- Fix 
+00005d40: 6f76 6572 6c79 2067 7265 6564 7920 5c5f  overly greedy \_
+00005d50: 7374 7269 705c 5f72 6963 685c 5f66 6f72  strip\_rich\_for
+00005d60: 6d61 7474 696e 6720 5b5c 2337 3033 5d28  matting [\#703](
+00005d70: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00005d80: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00005d90: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00005da0: 3730 3329 2028 4062 6472 6163 6f29 0a2d  703) (@bdraco).-
+00005db0: 2055 7064 6174 6520 7265 6164 6d65 2066   Update readme f
+00005dc0: 6978 7475 7265 2063 6865 636b 6572 2061  ixture checker a
+00005dd0: 6e64 2072 6561 646d 6520 5b5c 2336 3939  nd readme [\#699
+00005de0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00005df0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+00005e00: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+00005e10: 6c2f 3639 3929 2028 4072 7974 696c 6168  l/699) (@rytilah
+00005e20: 7469 290a 2d20 4164 6420 4c39 3330 2d35  ti).- Add L930-5
+00005e30: 2066 6978 7475 7265 205b 5c23 3639 345d   fixture [\#694]
+00005e40: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00005e50: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00005e60: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+00005e70: 2f36 3934 2920 2840 6264 7261 636f 290a  /694) (@bdraco).
+00005e80: 2d20 4164 6420 6669 7874 7572 6573 2066  - Add fixtures f
+00005e90: 6f72 204c 3531 3045 205b 5c23 3639 335d  or L510E [\#693]
+00005ea0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00005eb0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00005ec0: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+00005ed0: 2f36 3933 2920 2840 6264 7261 636f 290a  /693) (@bdraco).
+00005ee0: 2d20 5570 6461 7465 2074 7261 6e73 706f  - Update transpo
+00005ef0: 7274 2063 6c6f 7365 2f72 6573 6574 2062  rt close/reset b
+00005f00: 6568 6176 696f 7572 205b 5c23 3638 395d  ehaviour [\#689]
+00005f10: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00005f20: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00005f30: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+00005f40: 2f36 3839 2920 2840 7364 6239 3639 3629  /689) (@sdb9696)
+00005f50: 0a2d 2043 6865 636b 2052 4541 444d 4520  .- Check README 
+00005f60: 666f 7220 7375 7070 6f72 7465 6420 6d6f  for supported mo
+00005f70: 6465 6c73 205b 5c23 3638 345d 2868 7474  dels [\#684](htt
+00005f80: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00005f90: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00005fa0: 6f6e 2d6b 6173 612f 7075 6c6c 2f36 3834  on-kasa/pull/684
+00005fb0: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
+00005fc0: 2041 6464 2050 3130 3020 7465 7374 2066   Add P100 test f
+00005fd0: 6978 7475 7265 205b 5c23 3638 335d 2868  ixture [\#683](h
+00005fe0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00005ff0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00006000: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f36  thon-kasa/pull/6
+00006010: 3833 2920 2840 6264 7261 636f 290a 2d20  83) (@bdraco).- 
+00006020: 4d61 6b65 2064 756d 705c 5f64 6576 696e  Make dump\_devin
+00006030: 666f 2072 6571 7565 7374 2062 6174 6368  fo request batch
+00006040: 2073 697a 6520 636f 6e66 6967 7572 6162   size configurab
+00006050: 6c65 205b 5c23 3638 315d 2868 7474 7073  le [\#681](https
+00006060: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00006070: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00006080: 2d6b 6173 612f 7075 6c6c 2f36 3831 2920  -kasa/pull/681) 
+00006090: 2840 7364 6239 3639 3629 0a2d 2041 6464  (@sdb9696).- Add
+000060a0: 2075 7064 6174 6564 204c 3932 3020 6669   updated L920 fi
+000060b0: 7874 7572 6520 5b5c 2336 3830 5d28 6874  xture [\#680](ht
+000060c0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000060d0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+000060e0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3638  hon-kasa/pull/68
+000060f0: 3029 2028 4062 6472 6163 6f29 0a2d 2055  0) (@bdraco).- U
+00006100: 7064 6174 6520 6669 7874 7572 6573 2066  pdate fixtures f
+00006110: 726f 6d20 7465 7374 2064 6576 6963 6573  rom test devices
+00006120: 205b 5c23 3637 395d 2868 7474 7073 3a2f   [\#679](https:/
+00006130: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00006140: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00006150: 6173 612f 7075 6c6c 2f36 3739 2920 2840  asa/pull/679) (@
+00006160: 6264 7261 636f 290a 2d20 5368 6f77 2064  bdraco).- Show d
+00006170: 6973 636f 7665 7279 2064 6174 6120 666f  iscovery data fo
+00006180: 7220 7374 6174 6520 7769 7468 2076 6572  r state with ver
+00006190: 626f 7365 205b 5c23 3637 385d 2868 7474  bose [\#678](htt
+000061a0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000061b0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+000061c0: 6f6e 2d6b 6173 612f 7075 6c6c 2f36 3738  on-kasa/pull/678
+000061d0: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
+000061e0: 2041 6464 204c 3533 3045 5c28 5553 5c29   Add L530E\(US\)
+000061f0: 2066 6978 7475 7265 205b 5c23 3637 345d   fixture [\#674]
+00006200: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00006210: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00006220: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+00006230: 2f36 3734 2920 2840 6264 7261 636f 290a  /674) (@bdraco).
+00006240: 2d20 4164 6420 5031 3335 2066 6978 7475  - Add P135 fixtu
+00006250: 7265 205b 5c23 3637 335d 2868 7474 7073  re [\#673](https
+00006260: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00006270: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00006280: 2d6b 6173 612f 7075 6c6c 2f36 3733 2920  -kasa/pull/673) 
+00006290: 2840 6264 7261 636f 290a 2d20 5265 6e61  (@bdraco).- Rena
+000062a0: 6d65 2062 6173 6520 5450 4c69 6e6b 5072  me base TPLinkPr
+000062b0: 6f74 6f63 6f6c 2074 6f20 4261 7365 5072  otocol to BasePr
+000062c0: 6f74 6f63 6f6c 205b 5c23 3636 395d 2868  otocol [\#669](h
+000062d0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000062e0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+000062f0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f36  thon-kasa/pull/6
+00006300: 3639 2920 2840 7364 6239 3639 3629 0a2d  69) (@sdb9696).-
+00006310: 2045 6e73 7572 6520 6c6f 6769 6e20 746f   Ensure login to
+00006320: 6b65 6e20 6973 206f 6e6c 7920 7365 6e74  ken is only sent
+00006330: 2069 6620 6165 7320 7374 6174 6520 6973   if aes state is
+00006340: 2045 5354 4142 4c49 5348 4544 205b 5c23   ESTABLISHED [\#
+00006350: 3730 325d 2868 7474 7073 3a2f 2f67 6974  702](https://git
+00006360: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00006370: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00006380: 7075 6c6c 2f37 3032 2920 2840 6264 7261  pull/702) (@bdra
+00006390: 636f 290a 2d20 4669 7820 7465 7374 5c5f  co).- Fix test\_
+000063a0: 6b6c 6170 7072 6f74 6f63 6f6c 2074 6573  klapprotocol tes
+000063b0: 7420 6475 7261 7469 6f6e 205b 5c23 3639  t duration [\#69
+000063c0: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
+000063d0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+000063e0: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+000063f0: 6c6c 2f36 3938 2920 2840 7364 6239 3639  ll/698) (@sdb969
+00006400: 3629 0a2d 2052 656e 6577 2074 6865 2068  6).- Renew the h
+00006410: 616e 6473 6861 6b65 2073 6573 7369 6f6e  andshake session
+00006420: 2032 3020 6d69 6e75 7465 7320 6265 666f   20 minutes befo
+00006430: 7265 2077 6520 7468 696e 6b20 6974 2077  re we think it w
+00006440: 696c 6c20 6578 7069 7265 205b 5c23 3639  ill expire [\#69
+00006450: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+00006460: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00006470: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00006480: 6c6c 2f36 3937 2920 2840 6264 7261 636f  ll/697) (@bdraco
+00006490: 290a 2d20 4164 6420 2d2d 6261 7463 682d  ).- Add --batch-
+000064a0: 7369 7a65 2068 696e 7420 746f 2074 696d  size hint to tim
+000064b0: 656f 7574 2065 7272 6f72 7320 696e 2064  eout errors in d
+000064c0: 756d 705c 5f64 6576 696e 666f 205b 5c23  ump\_devinfo [\#
+000064d0: 3639 365d 2868 7474 7073 3a2f 2f67 6974  696](https://git
+000064e0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+000064f0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00006500: 7075 6c6c 2f36 3936 2920 2840 7364 6239  pull/696) (@sdb9
+00006510: 3639 3629 0a2d 2052 6566 6163 746f 7220  696).- Refactor 
+00006520: 6165 7374 7261 6e73 706f 7274 2074 6f20  aestransport to 
+00006530: 7573 6520 6120 7374 6174 6520 656e 756d  use a state enum
+00006540: 205b 5c23 3639 315d 2868 7474 7073 3a2f   [\#691](https:/
+00006550: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00006560: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00006570: 6173 612f 7075 6c6c 2f36 3931 2920 2840  asa/pull/691) (@
+00006580: 6264 7261 636f 290a 2d20 4164 6420 3130  bdraco).- Add 10
+00006590: 3033 205c 2854 5241 4e53 504f 5254 5c5f  03 \(TRANSPORT\_
+000065a0: 554e 4b4e 4f57 4e5c 5f43 5245 4445 4e54  UNKNOWN\_CREDENT
+000065b0: 4941 4c53 5c5f 4552 524f 525c 2920 5b5c  IALS\_ERROR\) [\
+000065c0: 2336 3637 5d28 6874 7470 733a 2f2f 6769  #667](https://gi
+000065d0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+000065e0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+000065f0: 2f70 756c 6c2f 3636 3729 2028 4072 7974  /pull/667) (@ryt
+00006600: 696c 6168 7469 290a 0a23 2320 5b30 2e36  ilahti)..## [0.6
+00006610: 2e30 2e31 5d28 6874 7470 733a 2f2f 6769  .0.1](https://gi
+00006620: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00006630: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00006640: 2f74 7265 652f 302e 362e 302e 3129 2028  /tree/0.6.0.1) (
+00006650: 3230 3234 2d30 312d 3231 290a 0a5b 4675  2024-01-21)..[Fu
+00006660: 6c6c 2043 6861 6e67 656c 6f67 5d28 6874  ll Changelog](ht
+00006670: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00006680: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00006690: 686f 6e2d 6b61 7361 2f63 6f6d 7061 7265  hon-kasa/compare
+000066a0: 2f30 2e36 2e30 2e2e 2e30 2e36 2e30 2e31  /0.6.0...0.6.0.1
+000066b0: 290a 0a41 2070 6174 6368 2072 656c 6561  )..A patch relea
+000066c0: 7365 2074 6f20 696d 7072 6f76 6520 7468  se to improve th
+000066d0: 6520 7072 6f74 6f63 6f6c 2068 616e 646c  e protocol handl
+000066e0: 696e 672e 0a0a 2a2a 4669 7865 6420 6275  ing...**Fixed bu
+000066f0: 6773 3a2a 2a0a 0a2d 2046 6978 2068 7474  gs:**..- Fix htt
+00006700: 7063 6c69 656e 7420 6578 6365 7074 696f  pclient exceptio
+00006710: 6e73 206f 6e20 7265 6164 2061 6e64 2069  ns on read and i
+00006720: 6d70 726f 7665 2065 7272 6f72 2069 6e66  mprove error inf
+00006730: 6f20 5b5c 2336 3535 5d28 6874 7470 733a  o [\#655](https:
+00006740: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00006750: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+00006760: 6b61 7361 2f70 756c 6c2f 3635 3529 2028  kasa/pull/655) (
+00006770: 4073 6462 3936 3936 290a 2d20 496d 7072  @sdb9696).- Impr
+00006780: 6f76 6520 616e 6420 646f 6375 6d65 6e74  ove and document
+00006790: 2063 6c6f 7365 2062 6568 6176 696f 7220   close behavior 
+000067a0: 205b 5c23 3635 345d 2868 7474 7073 3a2f   [\#654](https:/
+000067b0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+000067c0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+000067d0: 6173 612f 7075 6c6c 2f36 3534 2920 2840  asa/pull/654) (@
+000067e0: 6264 7261 636f 290a 0a2a 2a43 6c6f 7365  bdraco)..**Close
+000067f0: 6420 6973 7375 6573 3a2a 2a0a 0a2d 2044  d issues:**..- D
+00006800: 6f20 6e6f 7420 7265 6461 6374 204f 5549  o not redact OUI
+00006810: 2066 6f72 2066 6978 7475 7265 7320 5b5c   for fixtures [\
+00006820: 2336 3532 5d28 6874 7470 733a 2f2f 6769  #652](https://gi
+00006830: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00006840: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00006850: 2f69 7373 7565 732f 3635 3229 0a0a 2a2a  /issues/652)..**
+00006860: 4d65 7267 6564 2070 756c 6c20 7265 7175  Merged pull requ
+00006870: 6573 7473 3a2a 2a0a 0a2d 2052 656c 6561  ests:**..- Relea
+00006880: 7365 2030 2e36 2e30 2e31 205b 5c23 3636  se 0.6.0.1 [\#66
+00006890: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
+000068a0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+000068b0: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+000068c0: 6c6c 2f36 3636 2920 2840 7279 7469 6c61  ll/666) (@rytila
+000068d0: 6874 6929 0a2d 2041 6464 206c 3930 302d  hti).- Add l900-
+000068e0: 3520 312e 312e 3020 6669 7874 7572 6520  5 1.1.0 fixture 
+000068f0: 5b5c 2336 3634 5d28 6874 7470 733a 2f2f  [\#664](https://
+00006900: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00006910: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00006920: 7361 2f70 756c 6c2f 3636 3429 2028 4072  sa/pull/664) (@r
+00006930: 7974 696c 6168 7469 290a 2d20 4164 6420  ytilahti).- Add 
+00006940: 6669 7874 7572 6573 2077 6974 6820 6e65  fixtures with ne
+00006950: 7720 4d41 4320 6d61 736b 205b 5c23 3636  w MAC mask [\#66
+00006960: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
+00006970: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00006980: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00006990: 6c6c 2f36 3631 2920 2840 7364 6239 3639  ll/661) (@sdb969
+000069a0: 3629 0a2d 204d 616b 6520 636c 6f73 6520  6).- Make close 
+000069b0: 6265 6861 7669 6f75 7220 636f 6e73 6973  behaviour consis
+000069c0: 7465 6e74 2061 6372 6f73 7320 6e65 7720  tent across new 
+000069d0: 7072 6f74 6f63 6f6c 7320 616e 6420 7472  protocols and tr
+000069e0: 616e 7370 6f72 7473 205b 5c23 3636 305d  ansports [\#660]
+000069f0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00006a00: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00006a10: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+00006a20: 2f36 3630 2920 2840 7364 6239 3639 3629  /660) (@sdb9696)
+00006a30: 0a2d 2046 6978 206d 696e 6f72 2074 7970  .- Fix minor typ
+00006a40: 6f73 2069 6e20 646f 6373 7472 696e 6773  os in docstrings
+00006a50: 205b 5c23 3635 395d 2868 7474 7073 3a2f   [\#659](https:/
+00006a60: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00006a70: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00006a80: 6173 612f 7075 6c6c 2f36 3539 2920 2840  asa/pull/659) (@
+00006a90: 6264 7261 636f 290a 2d20 6475 6d70 5c5f  bdraco).- dump\_
+00006aa0: 6465 7669 6e66 6f20 696d 7072 6f76 656d  devinfo improvem
+00006ab0: 656e 7473 205b 5c23 3635 375d 2868 7474  ents [\#657](htt
+00006ac0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00006ad0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00006ae0: 6f6e 2d6b 6173 612f 7075 6c6c 2f36 3537  on-kasa/pull/657
+00006af0: 2920 2840 7279 7469 6c61 6874 6929 0a0a  ) (@rytilahti)..
+00006b00: 2323 205b 302e 362e 305d 2868 7474 7073  ## [0.6.0](https
+00006b10: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00006b20: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00006b30: 2d6b 6173 612f 7472 6565 2f30 2e36 2e30  -kasa/tree/0.6.0
+00006b40: 2920 2832 3032 342d 3031 2d31 3929 0a0a  ) (2024-01-19)..
+00006b50: 5b46 756c 6c20 4368 616e 6765 6c6f 675d  [Full Changelog]
+00006b60: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00006b70: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00006b80: 7079 7468 6f6e 2d6b 6173 612f 636f 6d70  python-kasa/comp
+00006b90: 6172 652f 302e 362e 302e 6465 7632 2e2e  are/0.6.0.dev2..
+00006ba0: 2e30 2e36 2e30 290a 0a54 6869 7320 6d61  .0.6.0)..This ma
+00006bb0: 6a6f 7220 6272 696e 6773 206d 616a 6f72  jor brings major
+00006bc0: 2063 6861 6e67 6573 2074 6f20 7468 6520   changes to the 
+00006bd0: 6c69 6272 6172 7920 6279 2061 6464 696e  library by addin
+00006be0: 6720 7375 7070 6f72 7420 666f 7220 6465  g support for de
+00006bf0: 7669 6365 7320 7468 6174 2072 6571 7569  vices that requi
+00006c00: 7265 2061 7574 6865 6e74 6963 6174 696f  re authenticatio
+00006c10: 6e20 666f 7220 636f 6d6d 756e 6963 6174  n for communicat
+00006c20: 696f 6e73 2c20 616c 6c20 6f66 2074 6869  ions, all of thi
+00006c30: 7320 6265 696e 6720 706f 7373 6962 6c65  s being possible
+00006c40: 2074 6861 6e6b 7320 746f 2074 6865 2067   thanks to the g
+00006c50: 7265 6174 2077 6f72 6b20 6279 2040 7364  reat work by @sd
+00006c60: 6239 3639 3621 0d0a 0d0a 5468 6973 2072  b9696!....This r
+00006c70: 656c 6561 7365 2061 6464 7320 7375 7070  elease adds supp
+00006c80: 6f72 7420 746f 2061 206c 6172 6765 2072  ort to a large r
+00006c90: 616e 6765 206f 6620 7072 6576 696f 7573  ange of previous
+00006ca0: 6c79 2075 6e73 7570 706f 7274 6564 2064  ly unsupported d
+00006cb0: 6576 6963 6573 2c20 696e 636c 7564 696e  evices, includin
+00006cc0: 673a 0d0a 0d0a 2a20 4e65 7765 7220 6b61  g:....* Newer ka
+00006cd0: 7361 2d62 7261 6e64 6564 2064 6576 6963  sa-branded devic
+00006ce0: 6573 2c20 696e 636c 7564 696e 6720 4d61  es, including Ma
+00006cf0: 7474 6572 2d65 6e61 626c 6564 2064 6576  tter-enabled dev
+00006d00: 6963 6573 206c 696b 6520 4b50 3132 354d  ices like KP125M
+00006d10: 0d0a 2a20 4e65 7765 7220 6861 7264 7761  ..* Newer hardwa
+00006d20: 7265 2f66 6972 6d77 6172 6520 7665 7273  re/firmware vers
+00006d30: 696f 6e73 206f 6e20 736f 6d65 206d 6f64  ions on some mod
+00006d40: 656c 732c 206c 696b 6520 4550 3235 2c20  els, like EP25, 
+00006d50: 7468 6174 2073 7564 6465 6e6c 7920 6368  that suddenly ch
+00006d60: 616e 6765 6420 7468 6520 7573 6564 2070  anged the used p
+00006d70: 726f 746f 636f 6c0d 0a2a 2054 6170 6f2d  rotocol..* Tapo-
+00006d80: 6272 616e 6465 6420 6465 7669 6365 7320  branded devices 
+00006d90: 6c69 6b65 2070 6c75 6773 2028 5031 3130  like plugs (P110
+00006da0: 292c 206c 6967 6874 2062 756c 6273 2028  ), light bulbs (
+00006db0: 4b4c 3533 3029 2c20 4c45 4420 7374 7269  KL530), LED stri
+00006dc0: 7073 2028 4c39 3030 2c20 4c39 3230 292c  ps (L900, L920),
+00006dd0: 2061 6e64 2077 616c 6c20 7377 6974 6368   and wall switch
+00006de0: 6573 2028 4b53 3230 352c 204b 5332 3235  es (KS205, KS225
+00006df0: 290d 0a2a 2055 4b20 7661 7269 616e 7420  )..* UK variant 
+00006e00: 6f66 2048 5331 3130 2c20 7768 6963 6820  of HS110, which 
+00006e10: 7761 7320 7468 6520 6669 7273 7420 6465  was the first de
+00006e20: 7669 6365 2075 7369 6e67 2074 6865 206e  vice using the n
+00006e30: 6577 2070 726f 746f 636f 6c0d 0a0d 0a49  ew protocol....I
+00006e40: 6620 796f 7572 2064 6576 6963 6520 7468  f your device th
+00006e50: 6174 2069 7320 6e6f 7420 6375 7272 656e  at is not curren
+00006e60: 746c 7920 6c69 7374 6564 2061 7320 7375  tly listed as su
+00006e70: 7070 6f72 7465 6420 6973 2077 6f72 6b69  pported is worki
+00006e80: 6e67 2c20 706c 6561 7365 2063 6f6e 7369  ng, please consi
+00006e90: 6465 7220 636f 6e74 7269 6275 7469 6e67  der contributing
+00006ea0: 2061 2074 6573 7420 6669 7874 7572 6520   a test fixture 
+00006eb0: 6669 6c65 2e0d 0a0d 0a53 7065 6369 616c  file.....Special
+00006ec0: 2074 6861 6e6b 7320 676f 6573 2074 6f20   thanks goes to 
+00006ed0: 4053 696d 6f6e 5769 6c6b 696e 736f 6e20  @SimonWilkinson 
+00006ee0: 7768 6f20 6372 6561 7465 6420 7468 6520  who created the 
+00006ef0: 696e 6974 6961 6c20 5052 2066 6f72 2074  initial PR for t
+00006f00: 6865 206e 6577 2063 6f6d 6d75 6e69 6361  he new communica
+00006f10: 7469 6f6e 2070 726f 746f 636f 6c21 0a0a  tion protocol!..
+00006f20: 2a2a 496d 706c 656d 656e 7465 6420 656e  **Implemented en
+00006f30: 6861 6e63 656d 656e 7473 3a2a 2a0a 0a2d  hancements:**..-
+00006f40: 2041 6c6c 6f77 2073 6572 6961 6c69 7a69   Allow serializi
+00006f50: 6e67 2061 6e64 2070 6173 7369 6e67 206f  ng and passing o
+00006f60: 6620 6372 6564 656e 7469 616c 735c 5f68  f credentials\_h
+00006f70: 6173 6865 7320 696e 2044 6576 6963 6543  ashes in DeviceC
+00006f80: 6f6e 6669 6720 5b5c 2336 3037 5d28 6874  onfig [\#607](ht
+00006f90: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00006fa0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00006fb0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3630  hon-kasa/pull/60
+00006fc0: 3729 2028 4073 6462 3936 3936 290a 2d20  7) (@sdb9696).- 
+00006fd0: 496d 706c 656d 656e 7420 7769 6669 2069  Implement wifi i
+00006fe0: 6e74 6572 6661 6365 2066 6f72 2074 6170  nterface for tap
+00006ff0: 6f64 6576 6963 6520 5b5c 2336 3036 5d28  odevice [\#606](
+00007000: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00007010: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00007020: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00007030: 3630 3629 2028 4072 7974 696c 6168 7469  606) (@rytilahti
+00007040: 290a 2d20 4164 6420 7375 7070 6f72 7420  ).- Add support 
+00007050: 666f 7220 4b53 3230 3520 616e 6420 4b53  for KS205 and KS
+00007060: 3232 3520 7761 6c6c 2073 7769 7463 6865  225 wall switche
+00007070: 7320 5b5c 2335 3934 5d28 6874 7470 733a  s [\#594](https:
+00007080: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00007090: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+000070a0: 6b61 7361 2f70 756c 6c2f 3539 3429 2028  kasa/pull/594) (
+000070b0: 4067 696d 7079 3838 290a 2d20 4164 6420  @gimpy88).- Add 
+000070c0: 7375 7070 6f72 7420 666f 7220 7461 706f  support for tapo
+000070d0: 2062 756c 6273 205b 5c23 3535 385d 2868   bulbs [\#558](h
+000070e0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000070f0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00007100: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f35  thon-kasa/pull/5
+00007110: 3538 2920 2840 7279 7469 6c61 6874 6929  58) (@rytilahti)
+00007120: 0a2d 2041 6464 206b 6c61 7020 7072 6f74  .- Add klap prot
+00007130: 6f63 6f6c 205b 5c23 3530 395d 2868 7474  ocol [\#509](htt
+00007140: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00007150: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00007160: 6f6e 2d6b 6173 612f 7075 6c6c 2f35 3039  on-kasa/pull/509
+00007170: 2920 2840 7364 6239 3639 3629 0a0a 2a2a  ) (@sdb9696)..**
+00007180: 4669 7865 6420 6275 6773 3a2a 2a0a 0a2d  Fixed bugs:**..-
+00007190: 2046 6978 2063 6f6e 6e65 6374 696f 6e20   Fix connection 
+000071a0: 696e 6465 7465 726d 696e 6174 6520 7374  indeterminate st
+000071b0: 6174 6520 6f6e 2063 616e 6365 6c6c 6174  ate on cancellat
+000071c0: 696f 6e20 5b5c 2336 3336 5d28 6874 7470  ion [\#636](http
+000071d0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+000071e0: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+000071f0: 6e2d 6b61 7361 2f70 756c 6c2f 3633 3629  n-kasa/pull/636)
+00007200: 2028 4062 6472 6163 6f29 0a0a 2a2a 446f   (@bdraco)..**Do
+00007210: 6375 6d65 6e74 6174 696f 6e20 7570 6461  cumentation upda
+00007220: 7465 733a 2a2a 0a0a 2d20 5570 6461 7465  tes:**..- Update
+00007230: 2074 6865 2064 6f63 756d 656e 7461 7469   the documentati
+00007240: 6f6e 2066 6f72 2030 2e36 2072 656c 6561  on for 0.6 relea
+00007250: 7365 205b 5c23 3630 305d 2868 7474 7073  se [\#600](https
 00007260: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
 00007270: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-00007280: 2d6b 6173 612f 7075 6c6c 2f34 3735 2920  -kasa/pull/475) 
-00007290: 2840 7279 7469 6c61 6874 6929 0a2d 2041  (@rytilahti).- A
-000072a0: 6464 2062 656e 6368 6d61 726b 7320 666f  dd benchmarks fo
-000072b0: 7220 7370 6565 6475 7073 205b 5c23 3437  r speedups [\#47
-000072c0: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
-000072d0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-000072e0: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-000072f0: 6c6c 2f34 3733 2920 2840 6264 7261 636f  ll/473) (@bdraco
-00007300: 290a 2d20 4164 6420 6669 7874 7572 6520  ).- Add fixture 
-00007310: 666f 7220 4b50 3430 3520 536d 6172 7420  for KP405 Smart 
-00007320: 4469 6d6d 6572 2050 6c75 6720 5b5c 2334  Dimmer Plug [\#4
-00007330: 3730 5d28 6874 7470 733a 2f2f 6769 7468  70](https://gith
-00007340: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00007350: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-00007360: 756c 6c2f 3437 3029 2028 4078 696e 7564  ull/470) (@xinud
-00007370: 3139 3029 0a2d 2052 656d 6f76 6520 696d  190).- Remove im
-00007380: 706f 7274 6c69 622d 6d65 7461 6461 7461  portlib-metadata
-00007390: 2064 6570 656e 6465 6e63 7920 5b5c 2334   dependency [\#4
-000073a0: 3537 5d28 6874 7470 733a 2f2f 6769 7468  57](https://gith
-000073b0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-000073c0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-000073d0: 756c 6c2f 3435 3729 2028 4072 7974 696c  ull/457) (@rytil
-000073e0: 6168 7469 290a 2d20 5570 6461 7465 2064  ahti).- Update d
-000073f0: 6570 656e 6465 6e63 6965 7320 746f 2066  ependencies to f
-00007400: 6978 2043 4920 5b5c 2334 3534 5d28 6874  ix CI [\#454](ht
-00007410: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00007420: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-00007430: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3435  hon-kasa/pull/45
-00007440: 3429 2028 4072 7974 696c 6168 7469 290a  4) (@rytilahti).
-00007450: 2d20 436c 6561 6e75 7020 6669 7874 7572  - Cleanup fixtur
-00007460: 6520 6669 6c65 6e61 6d65 7320 5b5c 2334  e filenames [\#4
-00007470: 3438 5d28 6874 7470 733a 2f2f 6769 7468  48](https://gith
-00007480: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00007490: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-000074a0: 756c 6c2f 3434 3829 2028 4072 7974 696c  ull/448) (@rytil
-000074b0: 6168 7469 290a 0a23 2320 5b30 2e35 2e31  ahti)..## [0.5.1
-000074c0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-000074d0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-000074e0: 2f70 7974 686f 6e2d 6b61 7361 2f74 7265  /python-kasa/tre
-000074f0: 652f 302e 352e 3129 2028 3230 3233 2d30  e/0.5.1) (2023-0
-00007500: 322d 3138 290a 0a5b 4675 6c6c 2043 6861  2-18)..[Full Cha
-00007510: 6e67 656c 6f67 5d28 6874 7470 733a 2f2f  ngelog](https://
-00007520: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00007530: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-00007540: 7361 2f63 6f6d 7061 7265 2f30 2e35 2e30  sa/compare/0.5.0
-00007550: 2e2e 2e30 2e35 2e31 290a 0a54 6869 7320  ...0.5.1)..This 
-00007560: 6d69 6e6f 7220 7265 6c65 6173 6520 636f  minor release co
-00007570: 6e74 6169 6e73 206d 6f73 746c 7920 736d  ntains mostly sm
-00007580: 616c 6c20 5558 2066 696e 652d 7475 6e69  all UX fine-tuni
-00007590: 6e67 2061 6e64 2064 6f63 756d 656e 7461  ng and documenta
-000075a0: 7469 6f6e 2069 6d70 726f 7665 6d65 6e74  tion improvement
-000075b0: 7320 616c 6f6e 6773 6964 6520 7769 7468  s alongside with
-000075c0: 2062 7567 2066 6978 6573 3a0d 0a2a 2049   bug fixes:..* I
-000075d0: 6d70 726f 7665 6420 636f 6e73 6f6c 6520  mproved console 
-000075e0: 746f 6f6c 2028 4a53 4f4e 206f 7574 7075  tool (JSON outpu
-000075f0: 742c 2063 6f6c 6f72 697a 6564 206f 7574  t, colorized out
-00007600: 7075 7420 6966 2072 6963 6820 6973 2069  put if rich is i
-00007610: 6e73 7461 6c6c 6564 290d 0a2a 2050 7265  nstalled)..* Pre
-00007620: 7474 792c 2063 6f6c 6f72 697a 6564 2063  tty, colorized c
-00007630: 6f6e 736f 6c65 206f 7574 7075 742c 2069  onsole output, i
-00007640: 6620 6072 6963 6860 2069 7320 696e 7374  f `rich` is inst
-00007650: 616c 6c65 640d 0a2a 2053 7570 706f 7274  alled..* Support
-00007660: 2066 6f72 2063 6f6e 6669 6775 7269 6e67   for configuring
-00007670: 2062 756c 6220 7072 6573 6574 730d 0a2a   bulb presets..*
-00007680: 2055 7361 6765 2064 6174 6120 6973 206e   Usage data is n
-00007690: 6f77 2072 6570 6f72 7465 6420 696e 2074  ow reported in t
-000076a0: 6865 2065 7870 6563 7465 6420 666f 726d  he expected form
-000076b0: 6174 0d0a 2a20 4465 7065 6e64 656e 6379  at..* Dependency
-000076c0: 2070 696e 6e69 6e67 2069 7320 7265 6c61   pinning is rela
-000076d0: 7865 6420 746f 2067 6976 6520 646f 776e  xed to give down
-000076e0: 7374 7265 616d 7320 6d6f 7265 2063 6f6e  streams more con
-000076f0: 7472 6f6c 0a0a 2a2a 4272 6561 6b69 6e67  trol..**Breaking
-00007700: 2063 6861 6e67 6573 3a2a 2a0a 0a2d 2049   changes:**..- I
-00007710: 6d70 6c65 6d65 6e74 2063 6861 6e67 696e  mplement changin
-00007720: 6720 7468 6520 6275 6c62 2074 7572 6e2d  g the bulb turn-
-00007730: 6f6e 2062 6568 6176 696f 7220 5b5c 2333  on behavior [\#3
-00007740: 3831 5d28 6874 7470 733a 2f2f 6769 7468  81](https://gith
-00007750: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00007760: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-00007770: 756c 6c2f 3338 3129 2028 4072 7974 696c  ull/381) (@rytil
-00007780: 6168 7469 290a 0a2a 2a49 6d70 6c65 6d65  ahti)..**Impleme
-00007790: 6e74 6564 2065 6e68 616e 6365 6d65 6e74  nted enhancement
-000077a0: 733a 2a2a 0a0a 2d20 5072 6574 7479 2d70  s:**..- Pretty-p
-000077b0: 7269 6e74 2061 6c6c 2065 7863 6570 7469  rint all excepti
-000077c0: 6f6e 7320 6672 6f6d 2063 6c69 2063 6f6d  ons from cli com
-000077d0: 6d61 6e64 7320 5b5c 2334 3238 5d28 6874  mands [\#428](ht
-000077e0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000077f0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-00007800: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3432  hon-kasa/pull/42
-00007810: 3829 2028 4072 7974 696c 6168 7469 290a  8) (@rytilahti).
-00007820: 2d20 4164 6420 7472 616e 7369 7469 6f6e  - Add transition
-00007830: 2070 6172 616d 6574 6572 2074 6f20 6c69   parameter to li
-00007840: 6768 7473 7472 6970 2773 2073 6574 5c5f  ghtstrip's set\_
-00007850: 6566 6665 6374 205b 5c23 3431 365d 2868  effect [\#416](h
-00007860: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00007870: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-00007880: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f34  thon-kasa/pull/4
-00007890: 3136 2920 2840 7279 7469 6c61 6874 6929  16) (@rytilahti)
-000078a0: 0a2d 2041 6464 2062 7269 6768 746e 6573  .- Add brightnes
-000078b0: 7320 746f 206c 6967 6874 7374 7269 7027  s to lightstrip'
-000078c0: 7320 7365 745c 5f65 6666 6563 7420 5b5c  s set\_effect [\
-000078d0: 2334 3135 5d28 6874 7470 733a 2f2f 6769  #415](https://gi
-000078e0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-000078f0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-00007900: 2f70 756c 6c2f 3431 3529 2028 4072 7974  /pull/415) (@ryt
-00007910: 696c 6168 7469 290a 2d20 5573 6520 7269  ilahti).- Use ri
-00007920: 6368 2066 6f72 2070 7265 7474 6965 7220  ch for prettier 
-00007930: 6f75 7470 7574 2c20 6966 2061 7661 696c  output, if avail
-00007940: 6162 6c65 205b 5c23 3430 335d 2868 7474  able [\#403](htt
-00007950: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00007960: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-00007970: 6f6e 2d6b 6173 612f 7075 6c6c 2f34 3033  on-kasa/pull/403
-00007980: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
-00007990: 2041 6464 696e 6720 636c 6920 636f 6d6d   Adding cli comm
-000079a0: 616e 6420 746f 2064 656c 6574 6520 6120  and to delete a 
-000079b0: 7363 6865 6475 6c65 2072 756c 6520 5b5c  schedule rule [\
-000079c0: 2333 3931 5d28 6874 7470 733a 2f2f 6769  #391](https://gi
-000079d0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-000079e0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-000079f0: 2f70 756c 6c2f 3339 3129 2028 4061 7269  /pull/391) (@ari
-00007a00: 6366 6f72 7265 7374 290a 2d20 4164 6420  cforrest).- Add 
-00007a10: 7375 7070 6f72 7420 666f 7220 6275 6c62  support for bulb
-00007a20: 2070 7265 7365 7473 205b 5c23 3337 395d   presets [\#379]
-00007a30: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00007a40: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-00007a50: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
-00007a60: 2f33 3739 2920 2840 7279 7469 6c61 6874  /379) (@rytilaht
-00007a70: 6929 0a2d 2041 6464 2073 7570 706f 7274  i).- Add support
-00007a80: 2066 6f72 206a 736f 6e20 6f75 7470 7574   for json output
-00007a90: 205b 5c23 3433 305d 2868 7474 7073 3a2f   [\#430](https:/
-00007aa0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-00007ab0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-00007ac0: 6173 612f 7075 6c6c 2f34 3330 2920 2840  asa/pull/430) (@
-00007ad0: 7279 7469 6c61 6874 6929 0a0a 2a2a 4669  rytilahti)..**Fi
-00007ae0: 7865 6420 6275 6773 3a2a 2a0a 0a2d 2063  xed bugs:**..- c
-00007af0: 6c69 2e70 7920 7573 6167 6520 7965 6172  li.py usage year
-00007b00: 2061 6e64 206d 6f6e 7468 206f 7074 696f   and month optio
-00007b10: 6e73 2064 6f20 6e6f 7420 6f75 7470 7574  ns do not output
-00007b20: 2064 6174 6120 6173 2065 7870 6563 7465   data as expecte
-00007b30: 6420 5b5c 2333 3733 5d28 6874 7470 733a  d [\#373](https:
-00007b40: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-00007b50: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-00007b60: 6b61 7361 2f69 7373 7565 732f 3337 3329  kasa/issues/373)
-00007b70: 0a2d 2063 6c69 2e70 7920 7573 6167 6520  .- cli.py usage 
-00007b80: 2d2d 7965 6172 2063 6f6d 6d61 6e64 2070  --year command p
-00007b90: 6173 7365 7320 7965 6172 2061 7267 756d  asses year argum
-00007ba0: 656e 7420 696e 636f 7272 6563 746c 7920  ent incorrectly 
-00007bb0: 5b5c 2333 3731 5d28 6874 7470 733a 2f2f  [\#371](https://
-00007bc0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00007bd0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-00007be0: 7361 2f69 7373 7565 732f 3337 3129 0a2d  sa/issues/371).-
-00007bf0: 204b 5033 3033 2072 6570 6f72 7469 6e67   KP303 reporting
-00007c00: 2061 7320 6465 7669 6365 206f 6666 205b   as device off [
-00007c10: 5c23 3331 395d 2868 7474 7073 3a2f 2f67  \#319](https://g
-00007c20: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-00007c30: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-00007c40: 612f 6973 7375 6573 2f33 3139 290a 2d20  a/issues/319).- 
-00007c50: 4853 3231 3020 6e6f 7420 7570 6461 7469  HS210 not updati
-00007c60: 6e67 2074 6865 2073 7461 7465 2063 6f72  ng the state cor
-00007c70: 7265 6374 6c79 205b 5c23 3139 335d 2868  rectly [\#193](h
-00007c80: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00007c90: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-00007ca0: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
-00007cb0: 2f31 3933 290a 2d20 4669 7820 7965 6172  /193).- Fix year
-00007cc0: 2065 6d65 7465 7220 666f 7220 636c 6920   emeter for cli 
-00007cd0: 6279 2075 7369 6e67 206b 7761 7267 2066  by using kwarg f
-00007ce0: 6f72 2079 6561 7220 7061 7261 6d65 7465  or year paramete
-00007cf0: 7220 5b5c 2333 3732 5d28 6874 7470 733a  r [\#372](https:
-00007d00: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-00007d10: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-00007d20: 6b61 7361 2f70 756c 6c2f 3337 3229 2028  kasa/pull/372) (
-00007d30: 4072 7974 696c 6168 7469 290a 2d20 5265  @rytilahti).- Re
-00007d40: 7475 726e 2075 7361 6765 2e67 6574 5c5f  turn usage.get\_
-00007d50: 7b6d 6f6e 7468 7374 6174 2c64 6179 7374  {monthstat,dayst
-00007d60: 6174 7d20 696e 2065 7870 6563 7465 6420  at} in expected 
-00007d70: 666f 726d 6174 2020 5b5c 2333 3934 5d28  format  [\#394](
-00007d80: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00007d90: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00007da0: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
-00007db0: 3339 3429 2028 406a 756c 6573 3433 290a  394) (@jules43).
-00007dc0: 0a2a 2a44 6f63 756d 656e 7461 7469 6f6e  .**Documentation
-00007dd0: 2075 7064 6174 6573 3a2a 2a0a 0a2d 2055   updates:**..- U
-00007de0: 7064 6174 6520 6d69 736c 6561 6469 6e67  pdate misleading
-00007df0: 2064 6f63 7320 6162 6f75 7420 7375 7070   docs about supp
-00007e00: 6f72 7465 6420 6465 7669 6365 7320 5c28  orted devices \(
-00007e10: 7761 733a 2061 6464 2073 7570 706f 7274  was: add support
-00007e20: 2066 6f72 2045 5032 3520 706c 7567 5c29   for EP25 plug\)
-00007e30: 205b 5c23 3336 375d 2868 7474 7073 3a2f   [\#367](https:/
-00007e40: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-00007e50: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-00007e60: 6173 612f 6973 7375 6573 2f33 3637 290a  asa/issues/367).
-00007e70: 2d20 4d69 6e6f 7220 6669 7865 7320 746f  - Minor fixes to
-00007e80: 2073 6d61 7274 6275 6c62 2064 6f63 7320   smartbulb docs 
-00007e90: 5b5c 2334 3331 5d28 6874 7470 733a 2f2f  [\#431](https://
-00007ea0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00007eb0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-00007ec0: 7361 2f70 756c 6c2f 3433 3129 2028 4072  sa/pull/431) (@r
-00007ed0: 7974 696c 6168 7469 290a 2d20 4164 6420  ytilahti).- Add 
-00007ee0: 6120 6e6f 7465 2074 6861 7420 7472 616e  a note that tran
-00007ef0: 7369 7469 6f6e 2069 7320 6e6f 7420 7375  sition is not su
-00007f00: 7070 6f72 7465 6420 6279 2061 6c6c 2064  pported by all d
-00007f10: 6576 6963 6573 205b 5c23 3339 385d 2868  evices [\#398](h
-00007f20: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00007f30: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-00007f40: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f33  thon-kasa/pull/3
-00007f50: 3938 2920 2840 7279 7469 6c61 6874 6929  98) (@rytilahti)
-00007f60: 0a2d 2066 6978 206d 6f72 6520 6f75 7464  .- fix more outd
-00007f70: 6174 6564 2043 4c49 2065 7861 6d70 6c65  ated CLI example
-00007f80: 732c 2072 656d 6f76 6520 4550 3430 2066  s, remove EP40 f
-00007f90: 726f 6d20 6275 6c62 206c 6973 7420 5b5c  rom bulb list [\
-00007fa0: 2333 3833 5d28 6874 7470 733a 2f2f 6769  #383](https://gi
-00007fb0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-00007fc0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-00007fd0: 2f70 756c 6c2f 3338 3329 2028 4048 616e  /pull/383) (@Han
-00007fe0: 6b42 290a 2d20 4669 7820 6f75 7464 6174  kB).- Fix outdat
-00007ff0: 6564 2073 6d61 7274 7374 7269 7020 636c  ed smartstrip cl
-00008000: 6920 6578 616d 706c 6573 205b 5c23 3338  i examples [\#38
-00008010: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
-00008020: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-00008030: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-00008040: 6c6c 2f33 3832 2920 2840 4861 6e6b 4229  ll/382) (@HankB)
-00008050: 0a2d 2041 6464 2054 6f43 7320 666f 7220  .- Add ToCs for 
-00008060: 646f 6320 7061 6765 7320 5b5c 2333 3830  doc pages [\#380
-00008070: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00008080: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-00008090: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-000080a0: 6c2f 3338 3029 2028 4072 7974 696c 6168  l/380) (@rytilah
-000080b0: 7469 290a 2d20 436c 6172 6966 7920 696e  ti).- Clarify in
-000080c0: 666f 726d 6174 696f 6e20 6162 6f75 7420  formation about 
-000080d0: 7375 7070 6f72 7465 6420 6465 7669 6365  supported device
-000080e0: 7320 5b5c 2333 3737 5d28 6874 7470 733a  s [\#377](https:
-000080f0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-00008100: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-00008110: 6b61 7361 2f70 756c 6c2f 3337 3729 2028  kasa/pull/377) (
-00008120: 4072 7974 696c 6168 7469 290a 2d20 5570  @rytilahti).- Up
-00008130: 6461 7465 2052 4541 444d 4520 746f 2061  date README to a
-00008140: 6464 206d 6973 7369 6e67 206d 6f64 656c  dd missing model
-00008150: 7320 616e 6420 6669 7820 6120 6c69 6e6b  s and fix a link
-00008160: 205b 5c23 3335 315d 2868 7474 7073 3a2f   [\#351](https:/
-00008170: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-00008180: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-00008190: 6173 612f 7075 6c6c 2f33 3531 2920 2840  asa/pull/351) (@
-000081a0: 7279 7469 6c61 6874 6929 0a2d 2041 6464  rytilahti).- Add
-000081b0: 204b 5031 3235 2074 6573 7420 6669 7874   KP125 test fixt
-000081c0: 7572 6520 616e 6420 7375 7070 6f72 7420  ure and support 
-000081d0: 6e6f 7465 2e20 5b5c 2333 3530 5d28 6874  note. [\#350](ht
-000081e0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000081f0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-00008200: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3335  hon-kasa/pull/35
-00008210: 3029 2028 406a 616c 7365 7468 290a 0a2a  0) (@jalseth)..*
-00008220: 2a43 6c6f 7365 6420 6973 7375 6573 3a2a  *Closed issues:*
-00008230: 2a0a 0a2d 2064 6574 6563 7469 6e67 2077  *..- detecting w
-00008240: 6865 6e20 6120 7377 6974 6368 2063 6861  hen a switch cha
-00008250: 6e67 6573 2073 7461 7465 205b 5c23 3432  nges state [\#42
-00008260: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
-00008270: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-00008280: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
-00008290: 7375 6573 2f34 3237 290a 2d20 6469 7363  sues/427).- disc
-000082a0: 6f76 6572 7920 6661 696c 7320 666f 7220  overy fails for 
-000082b0: 616c 6961 7365 7320 5b5c 2334 3236 5d28  aliases [\#426](
-000082c0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000082d0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-000082e0: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
-000082f0: 732f 3432 3629 0a2d 2074 7261 6365 6261  s/426).- traceba
-00008300: 636b 2077 6865 6e20 6e6f 2064 6576 6963  ck when no devic
-00008310: 6573 2065 7869 7374 205b 5c23 3432 355d  es exist [\#425]
-00008320: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00008330: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-00008340: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
-00008350: 6573 2f34 3235 290a 2d20 4469 7363 6f76  es/425).- Discov
-00008360: 6572 2e64 6973 636f 7665 725c 285c 2920  er.discover\(\) 
-00008370: 696e 2061 2063 726f 6e20 7468 6174 2072  in a cron that r
-00008380: 756e 7320 6576 6572 7920 3120 6d69 6e20  uns every 1 min 
-00008390: 5b5c 2334 3231 5d28 6874 7470 733a 2f2f  [\#421](https://
-000083a0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-000083b0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-000083c0: 7361 2f69 7373 7565 732f 3432 3129 0a2d  sa/issues/421).-
-000083d0: 2061 6464 2053 6368 6564 756c 6520 7275   add Schedule ru
-000083e0: 6c65 3f20 5b5c 2334 3138 5d28 6874 7470  le? [\#418](http
-000083f0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-00008400: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-00008410: 6e2d 6b61 7361 2f69 7373 7565 732f 3431  n-kasa/issues/41
-00008420: 3829 0a2d 2043 616e 6e6f 7420 6669 6e64  8).- Cannot find
-00008430: 2045 5031 3020 7573 696e 6720 6b61 7361   EP10 using kasa
-00008440: 2064 6973 636f 7665 7220 5b5c 2334 3137   discover [\#417
-00008450: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00008460: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-00008470: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
-00008480: 7565 732f 3431 3729 0a2d 206d 6f64 756c  ues/417).- modul
-00008490: 656e 6f74 666f 756e 6420 6572 726f 7220  enotfound error 
-000084a0: 5b5c 2334 3134 5d28 6874 7470 733a 2f2f  [\#414](https://
-000084b0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-000084c0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-000084d0: 7361 2f69 7373 7565 732f 3431 3429 0a2d  sa/issues/414).-
-000084e0: 2049 7373 7565 2065 6e61 626c 696e 6720   Issue enabling 
-000084f0: 6d6f 7469 6f6e 2073 656e 736f 722c 2045  motion sensor, E
-00008500: 5332 304d 5c28 5553 5c29 205b 5c23 3430  S20M\(US\) [\#40
-00008510: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
-00008520: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-00008530: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
-00008540: 7375 6573 2f34 3038 290a 2d20 4853 3130  sues/408).- HS10
-00008550: 3320 6e6f 7420 6469 7363 6f76 6572 6564  3 not discovered
-00008560: 2062 7920 6b61 7361 2043 4c49 205b 5c23   by kasa CLI [\#
-00008570: 3430 365d 2868 7474 7073 3a2f 2f67 6974  406](https://git
-00008580: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-00008590: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-000085a0: 6973 7375 6573 2f34 3036 290a 2d20 4d75  issues/406).- Mu
-000085b0: 6c74 6970 6c65 2077 6172 6e69 6e67 7320  ltiple warnings 
-000085c0: 6672 6f6d 2072 756e 6e69 6e67 2070 7974  from running pyt
-000085d0: 6573 7420 6475 6520 746f 2061 7379 6e63  est due to async
-000085e0: 696f 2069 7373 7565 7320 5b5c 2333 3936  io issues [\#396
-000085f0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00008600: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-00008610: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
-00008620: 7565 732f 3339 3629 0a2d 2054 7261 6e73  ues/396).- Trans
-00008630: 6974 696f 6e20 6967 6e6f 7265 6420 7769  ition ignored wi
-00008640: 7468 204b 4c34 3230 4c35 206c 6967 6874  th KL420L5 light
-00008650: 2073 7472 6970 7320 5b5c 2333 3839 5d28   strips [\#389](
-00008660: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00008670: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00008680: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
-00008690: 732f 3338 3929 0a2d 2063 6c69 2e70 7920  s/389).- cli.py 
-000086a0: 7061 7373 6573 2061 2064 6963 7469 6f6e  passes a diction
-000086b0: 6172 7920 5c28 5459 5045 5c5f 544f 5c5f  ary \(TYPE\_TO\_
-000086c0: 434c 4153 535c 2920 746f 2063 6c69 636b  CLASS\) to click
-000086d0: 2e43 686f 6963 6520 7768 6963 6820 7461  .Choice which ta
-000086e0: 6b65 7320 6120 5365 7175 656e 6365 5c5b  kes a Sequence\[
-000086f0: 7374 725c 5d20 205b 5c23 3338 345d 2868  str\]  [\#384](h
-00008700: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00008710: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-00008720: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
-00008730: 2f33 3834 290a 2d20 4572 726f 7220 7275  /384).- Error ru
-00008740: 6e6e 696e 6720 606b 6173 6120 7769 6669  nning `kasa wifi
-00008750: 2073 6361 6e60 205b 5c23 3337 365d 2868   scan` [\#376](h
-00008760: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00008770: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-00008780: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
-00008790: 2f33 3736 290a 2d20 556e 6162 6c65 2074  /376).- Unable t
-000087a0: 6f20 636f 6e6e 6563 7420 746f 2062 7261  o connect to bra
-000087b0: 6e64 206e 6577 2045 5034 3020 7631 2e38  nd new EP40 v1.8
-000087c0: 205b 5c23 3336 365d 2868 7474 7073 3a2f   [\#366](https:/
-000087d0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-000087e0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-000087f0: 6173 612f 6973 7375 6573 2f33 3636 290a  asa/issues/366).
-00008800: 2d20 4164 6420 7375 7070 6f72 7420 666f  - Add support fo
-00008810: 7220 7365 7474 696e 6720 6465 6661 756c  r setting defaul
-00008820: 7420 6265 6861 7669 6f72 7320 666f 7220  t behaviors for 
-00008830: 6120 736f 6674 206f 7220 6861 7264 2070  a soft or hard p
-00008840: 6f77 6572 206f 6e20 6f66 2074 6865 2062  ower on of the b
-00008850: 756c 6220 5b5c 2333 3635 5d28 6874 7470  ulb [\#365](http
-00008860: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-00008870: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-00008880: 6e2d 6b61 7361 2f69 7373 7565 732f 3336  n-kasa/issues/36
-00008890: 3529 0a2d 2053 6574 2062 756c 6220 6875  5).- Set bulb hu
-000088a0: 6520 7573 696e 6720 7661 7269 6162 6c65  e using variable
-000088b0: 205b 5c23 3336 315d 2868 7474 7073 3a2f   [\#361](https:/
-000088c0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-000088d0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-000088e0: 6173 612f 6973 7375 6573 2f33 3631 290a  asa/issues/361).
-000088f0: 2d20 4865 6c70 2077 6974 6820 536d 6172  - Help with Smar
-00008900: 744c 6967 6874 5374 7269 7020 7365 745c  tLightStrip set\
-00008910: 5f63 7573 746f 6d5c 5f65 6666 6563 7420  _custom\_effect 
-00008920: 5b5c 2333 3630 5d28 6874 7470 733a 2f2f  [\#360](https://
-00008930: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00008940: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-00008950: 7361 2f69 7373 7565 732f 3336 3029 0a2d  sa/issues/360).-
-00008960: 2049 6d70 6f72 7420 226b 6173 6122 2063   Import "kasa" c
-00008970: 6f75 6c64 206e 6f74 2062 6520 7265 736f  ould not be reso
-00008980: 6c76 6564 205b 5c23 3335 375d 2868 7474  lved [\#357](htt
-00008990: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000089a0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-000089b0: 6f6e 2d6b 6173 612f 6973 7375 6573 2f33  on-kasa/issues/3
-000089c0: 3537 290a 2d20 5761 6c6c 2073 7769 7463  57).- Wall switc
-000089d0: 6820 4553 3230 4d20 5c28 2d2d 7479 7065  h ES20M \(--type
-000089e0: 2064 696d 6d65 725c 2920 6973 2077 6f72   dimmer\) is wor
-000089f0: 6b69 6e67 205b 5c23 3335 335d 2868 7474  king [\#353](htt
-00008a00: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00008a10: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-00008a20: 6f6e 2d6b 6173 612f 6973 7375 6573 2f33  on-kasa/issues/3
-00008a30: 3533 290a 2d20 4853 3130 3720 7265 706f  53).- HS107 repo
-00008a40: 7274 7320 6073 7461 7465 6020 6e6f 7420  rts `state` not 
-00008a50: 6072 656c 6179 5f73 7461 7465 6020 7468  `relay_state` th
-00008a60: 726f 7769 6e67 2061 2060 4b65 7945 7272  rowing a `KeyErr
-00008a70: 6f72 6020 5b5c 2333 3439 5d28 6874 7470  or` [\#349](http
-00008a80: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-00008a90: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-00008aa0: 6e2d 6b61 7361 2f69 7373 7565 732f 3334  n-kasa/issues/34
-00008ab0: 3929 0a2d 2045 7272 6f72 2049 6e73 7461  9).- Error Insta
-00008ac0: 6c6c 696e 6720 4f6e 2057 696e 646f 7773  lling On Windows
-00008ad0: 2031 3020 5b5c 2333 3437 5d28 6874 7470   10 [\#347](http
-00008ae0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-00008af0: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-00008b00: 6e2d 6b61 7361 2f69 7373 7565 732f 3334  n-kasa/issues/34
-00008b10: 3729 0a2d 2045 7272 6f72 2075 7369 6e67  7).- Error using
-00008b20: 204b 6173 6120 5b5c 2333 3436 5d28 6874   Kasa [\#346](ht
-00008b30: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00008b40: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-00008b50: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
-00008b60: 3334 3629 0a2d 204b 5332 3230 4d5c 2855  346).- KS220M\(U
-00008b70: 535c 2920 7375 7070 6f72 7420 5b5c 2332  S\) support [\#2
-00008b80: 3638 5d28 6874 7470 733a 2f2f 6769 7468  68](https://gith
-00008b90: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00008ba0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f69  sa/python-kasa/i
-00008bb0: 7373 7565 732f 3236 3829 0a2d 2041 6464  ssues/268).- Add
-00008bc0: 206d 6163 6869 6e65 2d72 6561 6461 626c   machine-readabl
-00008bd0: 6520 6f75 7470 7574 205b 5c23 3230 395d  e output [\#209]
-00008be0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00008bf0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-00008c00: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
-00008c10: 6573 2f32 3039 290a 2d20 4361 6e20 7765  es/209).- Can we
-00008c20: 2064 6f6e 6174 653f 205b 5c23 3737 5d28   donate? [\#77](
-00008c30: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00008c40: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00008c50: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
-00008c60: 732f 3737 290a 0a2a 2a4d 6572 6765 6420  s/77)..**Merged 
-00008c70: 7075 6c6c 2072 6571 7565 7374 733a 2a2a  pull requests:**
-00008c80: 0a0a 2d20 5072 6570 6172 6520 302e 352e  ..- Prepare 0.5.
-00008c90: 3120 5b5c 2334 3334 5d28 6874 7470 733a  1 [\#434](https:
-00008ca0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-00008cb0: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-00008cc0: 6b61 7361 2f70 756c 6c2f 3433 3429 2028  kasa/pull/434) (
-00008cd0: 4072 7974 696c 6168 7469 290a 2d20 536f  @rytilahti).- So
-00008ce0: 6d65 2072 656c 6561 7365 2070 7265 7061  me release prepa
-00008cf0: 7261 7469 6f6e 206a 616e 6974 6f72 696e  ration janitorin
-00008d00: 6720 5b5c 2334 3332 5d28 6874 7470 733a  g [\#432](https:
-00008d10: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-00008d20: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-00008d30: 6b61 7361 2f70 756c 6c2f 3433 3229 2028  kasa/pull/432) (
-00008d40: 4072 7974 696c 6168 7469 290a 2d20 4275  @rytilahti).- Bu
-00008d50: 6d70 2063 6572 7469 6669 2066 726f 6d20  mp certifi from 
-00008d60: 3230 3231 2e31 302e 3820 746f 2032 3032  2021.10.8 to 202
-00008d70: 322e 3132 2e37 205b 5c23 3430 395d 2868  2.12.7 [\#409](h
-00008d80: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00008d90: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-00008da0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f34  thon-kasa/pull/4
-00008db0: 3039 2920 2840 6465 7065 6e64 6162 6f74  09) (@dependabot
-00008dc0: 5b62 6f74 5d29 0a2d 2041 6464 2046 554e  [bot]).- Add FUN
-00008dd0: 4449 4e47 2e79 6d6c 205b 5c23 3430 325d  DING.yml [\#402]
-00008de0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00008df0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-00008e00: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
-00008e10: 2f34 3032 2920 2840 7279 7469 6c61 6874  /402) (@rytilaht
-00008e20: 6929 0a2d 2055 7064 6174 6520 7072 652d  i).- Update pre-
-00008e30: 636f 6d6d 6974 2068 6f6f 6b73 205b 5c23  commit hooks [\#
-00008e40: 3430 315d 2868 7474 7073 3a2f 2f67 6974  401](https://git
-00008e50: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-00008e60: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-00008e70: 7075 6c6c 2f34 3031 2920 2840 7279 7469  pull/401) (@ryti
-00008e80: 6c61 6874 6929 0a2d 2055 7064 6174 6520  lahti).- Update 
-00008e90: 7072 652d 636f 6d6d 6974 2075 726c 2066  pre-commit url f
-00008ea0: 6f72 2066 6c61 6b65 3820 5b5c 2334 3030  or flake8 [\#400
-00008eb0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00008ec0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-00008ed0: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-00008ee0: 6c2f 3430 3029 2028 4072 7974 696c 6168  l/400) (@rytilah
-00008ef0: 7469 290a 2d20 4164 6465 6420 2e67 6974  ti).- Added .git
-00008f00: 6174 7472 6962 7574 6573 2066 696c 6520  attributes file 
-00008f10: 746f 2072 6574 6169 6e20 4c46 206f 6e6c  to retain LF onl
-00008f20: 7920 454f 4c20 6d61 726b 6572 7320 7768  y EOL markers wh
-00008f30: 656e 2063 6865 636b 696e 6720 6f75 7420  en checking out 
-00008f40: 6f6e 2057 696e 646f 7773 205b 5c23 3339  on Windows [\#39
-00008f50: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
-00008f60: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-00008f70: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-00008f80: 6c6c 2f33 3939 2920 2840 6a75 6c65 7334  ll/399) (@jules4
-00008f90: 3329 0a2d 2046 6978 2070 7974 6573 7420  3).- Fix pytest 
-00008fa0: 7761 726e 696e 6773 2061 626f 7574 2061  warnings about a
-00008fb0: 7379 6e63 696f 205b 5c23 3339 375d 2868  syncio [\#397](h
+00007280: 2d6b 6173 612f 6973 7375 6573 2f36 3030  -kasa/issues/600
+00007290: 290a 0a2a 2a43 6c6f 7365 6420 6973 7375  )..**Closed issu
+000072a0: 6573 3a2a 2a0a 0a2d 204b 5332 3235 2073  es:**..- KS225 s
+000072b0: 7570 706f 7274 205b 5c23 3633 315d 2868  upport [\#631](h
+000072c0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000072d0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+000072e0: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
+000072f0: 2f36 3331 290a 2d20 436f 6e76 6572 7420  /631).- Convert 
+00007300: 746f 2075 7365 2061 696f 6874 7470 2069  to use aiohttp i
+00007310: 6e73 7465 6164 206f 6620 6874 7470 7820  nstead of httpx 
+00007320: 5b5c 2336 3335 5d28 6874 7470 733a 2f2f  [\#635](https://
+00007330: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00007340: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00007350: 7361 2f69 7373 7565 732f 3633 3529 0a2d  sa/issues/635).-
+00007360: 204e 6565 6420 746f 2064 6f20 6572 726f   Need to do erro
+00007370: 7220 636f 6465 2063 6865 636b 696e 6720  r code checking 
+00007380: 666f 7220 6e65 7720 7072 6f74 6f63 6f6c  for new protocol
+00007390: 7320 5b5c 2336 3132 5d28 6874 7470 733a  s [\#612](https:
+000073a0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+000073b0: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+000073c0: 6b61 7361 2f69 7373 7565 732f 3631 3229  kasa/issues/612)
+000073d0: 0a2d 2053 7570 706f 7274 206f 6620 6c61  .- Support of la
+000073e0: 7374 2066 6972 6d77 6172 6520 7570 6461  st firmware upda
+000073f0: 7465 2076 6572 7369 6f6e 2031 2e33 2e30  te version 1.3.0
+00007400: 205b 5c23 3631 315d 2868 7474 7073 3a2f   [\#611](https:/
+00007410: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00007420: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00007430: 6173 612f 6973 7375 6573 2f36 3131 290a  asa/issues/611).
+00007440: 2d20 496d 7072 6f76 6520 7465 7374 2063  - Improve test c
+00007450: 6f76 6572 6167 6520 666f 7220 7461 706f  overage for tapo
+00007460: 6465 7669 6365 2063 6c61 7373 205b 5c23  device class [\#
+00007470: 3630 385d 2868 7474 7073 3a2f 2f67 6974  608](https://git
+00007480: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00007490: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+000074a0: 6973 7375 6573 2f36 3038 290a 0a2a 2a4d  issues/608)..**M
+000074b0: 6572 6765 6420 7075 6c6c 2072 6571 7565  erged pull reque
+000074c0: 7374 733a 2a2a 0a0a 2d20 5265 6c65 6173  sts:**..- Releas
+000074d0: 6520 302e 362e 3020 5b5c 2336 3533 5d28  e 0.6.0 [\#653](
+000074e0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000074f0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00007500: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00007510: 3635 3329 2028 4072 7974 696c 6168 7469  653) (@rytilahti
+00007520: 290a 2d20 5265 6d6f 7665 2074 696d 6520  ).- Remove time 
+00007530: 6c6f 6767 696e 6720 696e 2064 6562 7567  logging in debug
+00007540: 206d 6573 7361 6765 205b 5c23 3634 355d   message [\#645]
+00007550: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00007560: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00007570: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+00007580: 2f36 3435 2920 2840 7364 6239 3639 3629  /645) (@sdb9696)
+00007590: 0a2d 204d 6967 7261 7465 2068 7474 7020  .- Migrate http 
+000075a0: 636c 6965 6e74 2074 6f20 7573 6520 6169  client to use ai
+000075b0: 6f68 7474 7020 696e 7374 6561 6420 6f66  ohttp instead of
+000075c0: 2068 7474 7078 205b 5c23 3634 335d 2868   httpx [\#643](h
+000075d0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000075e0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+000075f0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f36  thon-kasa/pull/6
+00007600: 3433 2920 2840 7364 6239 3639 3629 0a2d  43) (@sdb9696).-
+00007610: 2045 6e63 6170 7375 6c61 7465 2068 7474   Encapsulate htt
+00007620: 7020 636c 6965 6e74 2064 6570 656e 6465  p client depende
+00007630: 6e63 7920 5b5c 2336 3432 5d28 6874 7470  ncy [\#642](http
+00007640: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00007650: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+00007660: 6e2d 6b61 7361 2f70 756c 6c2f 3634 3229  n-kasa/pull/642)
+00007670: 2028 4073 6462 3936 3936 290a 2d20 4669   (@sdb9696).- Fi
+00007680: 7820 6272 6f6b 656e 2064 6f63 7320 6475  x broken docs du
+00007690: 6520 746f 2061 7070 6c65 6865 6c70 2064  e to applehelp d
+000076a0: 6570 656e 6465 6e63 7920 5b5c 2336 3431  ependency [\#641
+000076b0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000076c0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+000076d0: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+000076e0: 6c2f 3634 3129 2028 4073 6462 3936 3936  l/641) (@sdb9696
+000076f0: 290a 2d20 5261 6973 6520 536d 6172 7444  ).- Raise SmartD
+00007700: 6576 6963 6545 7863 6570 7469 6f6e 206f  eviceException o
+00007710: 6e20 696e 7661 6c69 6420 636f 6e66 6967  n invalid config
+00007720: 2064 6963 7473 205b 5c23 3634 305d 2868   dicts [\#640](h
+00007730: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00007740: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00007750: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f36  thon-kasa/pull/6
+00007760: 3430 2920 2840 7364 6239 3639 3629 0a2d  40) (@sdb9696).-
+00007770: 2041 6464 2066 6978 7475 7265 2066 6f72   Add fixture for
+00007780: 204c 3932 3020 5b5c 2336 3338 5d28 6874   L920 [\#638](ht
+00007790: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000077a0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+000077b0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3633  hon-kasa/pull/63
+000077c0: 3829 2028 4062 6472 6163 6f29 0a2d 2041  8) (@bdraco).- A
+000077d0: 6464 206b 6e6f 776e 2073 6d61 7274 2072  dd known smart r
+000077e0: 6571 7565 7374 7320 746f 2064 756d 705c  equests to dump\
+000077f0: 5f64 6576 696e 666f 205b 5c23 3539 375d  _devinfo [\#597]
+00007800: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00007810: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00007820: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+00007830: 2f35 3937 2920 2840 7364 6239 3639 3629  /597) (@sdb9696)
+00007840: 0a0a 2323 205b 302e 362e 302e 6465 7632  ..## [0.6.0.dev2
+00007850: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00007860: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+00007870: 2f70 7974 686f 6e2d 6b61 7361 2f74 7265  /python-kasa/tre
+00007880: 652f 302e 362e 302e 6465 7632 2920 2832  e/0.6.0.dev2) (2
+00007890: 3032 342d 3031 2d31 3129 0a0a 5b46 756c  024-01-11)..[Ful
+000078a0: 6c20 4368 616e 6765 6c6f 675d 2868 7474  l Changelog](htt
+000078b0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000078c0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+000078d0: 6f6e 2d6b 6173 612f 636f 6d70 6172 652f  on-kasa/compare/
+000078e0: 302e 362e 302e 6465 7631 2e2e 2e30 2e36  0.6.0.dev1...0.6
+000078f0: 2e30 2e64 6576 3229 0a0a 2a2a 446f 6375  .0.dev2)..**Docu
+00007900: 6d65 6e74 6174 696f 6e20 7570 6461 7465  mentation update
+00007910: 733a 2a2a 0a0a 2d20 5570 6461 7465 2064  s:**..- Update d
+00007920: 6f63 7320 666f 7220 6e65 7765 7220 6465  ocs for newer de
+00007930: 7669 6365 7320 616e 6420 4465 7669 6365  vices and Device
+00007940: 436f 6e66 6967 205b 5c23 3631 345d 2868  Config [\#614](h
+00007950: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00007960: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00007970: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f36  thon-kasa/pull/6
+00007980: 3134 2920 2840 7364 6239 3639 3629 0a0a  14) (@sdb9696)..
+00007990: 2a2a 4d65 7267 6564 2070 756c 6c20 7265  **Merged pull re
+000079a0: 7175 6573 7473 3a2a 2a0a 0a2d 2052 656c  quests:**..- Rel
+000079b0: 6561 7365 2030 2e36 2e30 2e64 6576 3220  ease 0.6.0.dev2 
+000079c0: 5b5c 2336 3333 5d28 6874 7470 733a 2f2f  [\#633](https://
+000079d0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+000079e0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+000079f0: 7361 2f70 756c 6c2f 3633 3329 2028 4072  sa/pull/633) (@r
+00007a00: 7974 696c 6168 7469 290a 2d20 5261 6973  ytilahti).- Rais
+00007a10: 6520 5469 6d65 6f75 7445 7863 6570 7469  e TimeoutExcepti
+00007a20: 6f6e 206f 6e20 6469 7363 6f76 6572 5c5f  on on discover\_
+00007a30: 7369 6e67 6c65 2074 696d 656f 7574 205b  single timeout [
+00007a40: 5c23 3633 325d 2868 7474 7073 3a2f 2f67  \#632](https://g
+00007a50: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00007a60: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00007a70: 612f 7075 6c6c 2f36 3332 2920 2840 7364  a/pull/632) (@sd
+00007a80: 6239 3639 3629 0a2d 2041 6464 204c 3930  b9696).- Add L90
+00007a90: 302d 3130 2066 6978 7475 7265 2061 6e64  0-10 fixture and
+00007aa0: 2069 7427 7320 6164 6469 7469 6f6e 616c   it's additional
+00007ab0: 2063 6f6d 706f 6e65 6e74 2072 6571 7565   component reque
+00007ac0: 7374 7320 5b5c 2336 3239 5d28 6874 7470  sts [\#629](http
+00007ad0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00007ae0: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+00007af0: 6e2d 6b61 7361 2f70 756c 6c2f 3632 3929  n-kasa/pull/629)
+00007b00: 2028 4073 6462 3936 3936 290a 2d20 4176   (@sdb9696).- Av
+00007b10: 6f69 6420 7265 6372 6561 7469 6e67 2073  oid recreating s
+00007b20: 7472 7563 7420 6561 6368 2072 6571 7565  truct each reque
+00007b30: 7374 2069 6e20 6c65 6761 6379 2070 726f  st in legacy pro
+00007b40: 746f 636f 6c20 5b5c 2336 3238 5d28 6874  tocol [\#628](ht
+00007b50: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00007b60: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00007b70: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3632  hon-kasa/pull/62
+00007b80: 3829 2028 4062 6472 6163 6f29 0a2d 2052  8) (@bdraco).- R
+00007b90: 6574 7572 6e20 616c 6961 7320 6173 204e  eturn alias as N
+00007ba0: 6f6e 6520 666f 7220 6e65 7720 6469 7363  one for new disc
+00007bb0: 6f76 6572 7920 6465 7669 6365 7320 6265  overy devices be
+00007bc0: 666f 7265 2075 7064 6174 6520 5b5c 2336  fore update [\#6
+00007bd0: 3237 5d28 6874 7470 733a 2f2f 6769 7468  27](https://gith
+00007be0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00007bf0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00007c00: 756c 6c2f 3632 3729 2028 4073 6462 3936  ull/627) (@sdb96
+00007c10: 3936 290a 2d20 5570 6461 7465 2063 6f6e  96).- Update con
+00007c20: 6669 6720 746f 5c5f 6469 6374 2074 6f20  fig to\_dict to 
+00007c30: 6578 636c 7564 6520 6372 6564 656e 7469  exclude credenti
+00007c40: 616c 7320 6966 2074 6865 2068 6173 6820  als if the hash 
+00007c50: 6973 2065 6d70 7479 2073 7472 696e 6720  is empty string 
+00007c60: 5b5c 2336 3236 5d28 6874 7470 733a 2f2f  [\#626](https://
+00007c70: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00007c80: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00007c90: 7361 2f70 756c 6c2f 3632 3629 2028 4073  sa/pull/626) (@s
+00007ca0: 6462 3936 3936 290a 2d20 496d 7072 6f76  db9696).- Improv
+00007cb0: 6520 7465 7374 2063 6f76 6572 6167 6520  e test coverage 
+00007cc0: 5b5c 2336 3235 5d28 6874 7470 733a 2f2f  [\#625](https://
+00007cd0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00007ce0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00007cf0: 7361 2f70 756c 6c2f 3632 3529 2028 4073  sa/pull/625) (@s
+00007d00: 6462 3936 3936 290a 0a23 2320 5b30 2e36  db9696)..## [0.6
+00007d10: 2e30 2e64 6576 315d 2868 7474 7073 3a2f  .0.dev1](https:/
+00007d20: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00007d30: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00007d40: 6173 612f 7472 6565 2f30 2e36 2e30 2e64  asa/tree/0.6.0.d
+00007d50: 6576 3129 2028 3230 3234 2d30 312d 3035  ev1) (2024-01-05
+00007d60: 290a 0a5b 4675 6c6c 2043 6861 6e67 656c  )..[Full Changel
+00007d70: 6f67 5d28 6874 7470 733a 2f2f 6769 7468  og](https://gith
+00007d80: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00007d90: 7361 2f70 7974 686f 6e2d 6b61 7361 2f63  sa/python-kasa/c
+00007da0: 6f6d 7061 7265 2f30 2e36 2e30 2e64 6576  ompare/0.6.0.dev
+00007db0: 302e 2e2e 302e 362e 302e 6465 7631 290a  0...0.6.0.dev1).
+00007dc0: 0a2a 2a49 6d70 6c65 6d65 6e74 6564 2065  .**Implemented e
+00007dd0: 6e68 616e 6365 6d65 6e74 733a 2a2a 0a0a  nhancements:**..
+00007de0: 2d20 4765 7420 6368 696c 6420 656d 6574  - Get child emet
+00007df0: 6572 7320 7769 7468 2043 4c49 205b 5c23  ers with CLI [\#
+00007e00: 3632 335d 2868 7474 7073 3a2f 2f67 6974  623](https://git
+00007e10: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00007e20: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00007e30: 7075 6c6c 2f36 3233 2920 2840 4f62 6261  pull/623) (@Obba
+00007e40: 7932 290a 2d20 4176 6f69 6420 6c69 6e65  y2).- Avoid line
+00007e50: 6172 2073 6561 7263 6820 666f 7220 656d  ar search for em
+00007e60: 6574 6572 2072 6561 6c74 696d 6520 616e  eter realtime an
+00007e70: 6420 656d 6574 6572 5c5f 746f 6461 7920  d emeter\_today 
+00007e80: 5b5c 2336 3232 5d28 6874 7470 733a 2f2f  [\#622](https://
+00007e90: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00007ea0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00007eb0: 7361 2f70 756c 6c2f 3632 3229 2028 4062  sa/pull/622) (@b
+00007ec0: 6472 6163 6f29 0a2d 2041 6464 2075 7064  draco).- Add upd
+00007ed0: 6174 652d 6372 6564 656e 7469 616c 7320  ate-credentials 
+00007ee0: 636f 6d6d 616e 6420 5b5c 2336 3230 5d28  command [\#620](
+00007ef0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00007f00: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00007f10: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00007f20: 3632 3029 2028 4072 7974 696c 6168 7469  620) (@rytilahti
+00007f30: 290a 0a2a 2a46 6978 6564 2062 7567 733a  )..**Fixed bugs:
+00007f40: 2a2a 0a0a 2d20 4368 6563 6b20 7468 6520  **..- Check the 
+00007f50: 6374 2072 616e 6765 2066 6f72 2063 6f6c  ct range for col
+00007f60: 6f72 2074 656d 7020 7375 7070 6f72 7420  or temp support 
+00007f70: 5b5c 2336 3139 5d28 6874 7470 733a 2f2f  [\#619](https://
+00007f80: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00007f90: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00007fa0: 7361 2f70 756c 6c2f 3631 3929 2028 4072  sa/pull/619) (@r
+00007fb0: 7974 696c 6168 7469 290a 2d20 4669 7820  ytilahti).- Fix 
+00007fc0: 636c 6920 6469 7363 6f76 6572 2062 7567  cli discover bug
+00007fd0: 2077 6974 6820 4e6f 6e65 2075 7365 726e   with None usern
+00007fe0: 616d 652f 7061 7373 776f 7264 205b 5c23  ame/password [\#
+00007ff0: 3631 355d 2868 7474 7073 3a2f 2f67 6974  615](https://git
+00008000: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00008010: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00008020: 7075 6c6c 2f36 3135 2920 2840 7364 6239  pull/615) (@sdb9
+00008030: 3639 3629 0a0a 2a2a 436c 6f73 6564 2069  696)..**Closed i
+00008040: 7373 7565 733a 2a2a 0a0a 2d20 496d 706c  ssues:**..- Impl
+00008050: 656d 656e 7420 656e 6572 6779 2061 6e64  ement energy and
+00008060: 2075 7361 6765 2066 6f72 2069 6e64 6976   usage for indiv
+00008070: 6964 7561 6c20 706c 7567 7320 696e 2048  idual plugs in H
+00008080: 5333 3030 205b 5c23 3436 325d 2868 7474  S300 [\#462](htt
+00008090: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000080a0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+000080b0: 6f6e 2d6b 6173 612f 6973 7375 6573 2f34  on-kasa/issues/4
+000080c0: 3632 290a 0a2a 2a4d 6572 6765 6420 7075  62)..**Merged pu
+000080d0: 6c6c 2072 6571 7565 7374 733a 2a2a 0a0a  ll requests:**..
+000080e0: 2d20 5265 6c65 6173 6520 302e 362e 302e  - Release 0.6.0.
+000080f0: 6465 7631 205b 5c23 3632 345d 2868 7474  dev1 [\#624](htt
+00008100: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00008110: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00008120: 6f6e 2d6b 6173 612f 7075 6c6c 2f36 3234  on-kasa/pull/624
+00008130: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
+00008140: 2041 6464 2050 3132 354d 2061 6e64 2075   Add P125M and u
+00008150: 7064 6174 6520 4550 3235 2066 6978 7475  pdate EP25 fixtu
+00008160: 7265 7320 5b5c 2336 3231 5d28 6874 7470  res [\#621](http
+00008170: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00008180: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+00008190: 6e2d 6b61 7361 2f70 756c 6c2f 3632 3129  n-kasa/pull/621)
+000081a0: 2028 4062 6472 6163 6f29 0a2d 2055 7365   (@bdraco).- Use
+000081b0: 2063 6f6e 7369 7374 656e 7420 656e 7676   consistent envv
+000081c0: 6172 7320 666f 7220 6475 6d70 5c5f 6465  ars for dump\_de
+000081d0: 7669 6e66 6f20 6372 6564 656e 7469 616c  vinfo credential
+000081e0: 7320 5b5c 2336 3138 5d28 6874 7470 733a  s [\#618](https:
+000081f0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00008200: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+00008210: 6b61 7361 2f70 756c 6c2f 3631 3829 2028  kasa/pull/618) (
+00008220: 4072 7974 696c 6168 7469 290a 2d20 4d61  @rytilahti).- Ma
+00008230: 726b 204c 3930 302d 3520 6173 2073 7570  rk L900-5 as sup
+00008240: 706f 7274 6564 205b 5c23 3631 375d 2868  ported [\#617](h
+00008250: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00008260: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00008270: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f36  thon-kasa/pull/6
+00008280: 3137 2920 2840 7279 7469 6c61 6874 6929  17) (@rytilahti)
+00008290: 0a2d 2053 6869 7020 4348 414e 4745 4c4f  .- Ship CHANGELO
+000082a0: 4720 6f6e 6c79 2069 6e20 7364 6973 7420  G only in sdist 
+000082b0: 5b5c 2336 3130 5d28 6874 7470 733a 2f2f  [\#610](https://
+000082c0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+000082d0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+000082e0: 7361 2f70 756c 6c2f 3631 3029 2028 4072  sa/pull/610) (@r
+000082f0: 7974 696c 6168 7469 290a 0a23 2320 5b30  ytilahti)..## [0
+00008300: 2e36 2e30 2e64 6576 305d 2868 7474 7073  .6.0.dev0](https
+00008310: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00008320: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00008330: 2d6b 6173 612f 7472 6565 2f30 2e36 2e30  -kasa/tree/0.6.0
+00008340: 2e64 6576 3029 2028 3230 3234 2d30 312d  .dev0) (2024-01-
+00008350: 3033 290a 0a5b 4675 6c6c 2043 6861 6e67  03)..[Full Chang
+00008360: 656c 6f67 5d28 6874 7470 733a 2f2f 6769  elog](https://gi
+00008370: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00008380: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00008390: 2f63 6f6d 7061 7265 2f30 2e35 2e34 2e2e  /compare/0.5.4..
+000083a0: 2e30 2e36 2e30 2e64 6576 3029 0a0a 2a2a  .0.6.0.dev0)..**
+000083b0: 4272 6561 6b69 6e67 2063 6861 6e67 6573  Breaking changes
+000083c0: 3a2a 2a0a 0a2d 2041 6464 2044 6576 6963  :**..- Add Devic
+000083d0: 6543 6f6e 6669 6720 746f 2061 6c6c 6f77  eConfig to allow
+000083e0: 2073 7065 6369 6679 696e 6720 636f 6e66   specifying conf
+000083f0: 6967 7572 6174 696f 6e20 7061 7261 6d65  iguration parame
+00008400: 7465 7273 205b 5c23 3536 395d 2868 7474  ters [\#569](htt
+00008410: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00008420: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00008430: 6f6e 2d6b 6173 612f 7075 6c6c 2f35 3639  on-kasa/pull/569
+00008440: 2920 2840 7364 6239 3639 3629 0a2d 204d  ) (@sdb9696).- M
+00008450: 6f76 6520 636f 6e6e 6563 745c 5f73 696e  ove connect\_sin
+00008460: 676c 6520 746f 2053 6d61 7274 4465 7669  gle to SmartDevi
+00008470: 6365 2e63 6f6e 6e65 6374 205b 5c23 3533  ce.connect [\#53
+00008480: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
+00008490: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+000084a0: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+000084b0: 6c6c 2f35 3338 2920 2840 6264 7261 636f  ll/538) (@bdraco
+000084c0: 290a 0a2a 2a49 6d70 6c65 6d65 6e74 6564  )..**Implemented
+000084d0: 2065 6e68 616e 6365 6d65 6e74 733a 2a2a   enhancements:**
+000084e0: 0a0a 2d20 5375 7070 6f72 7420 666f 7220  ..- Support for 
+000084f0: 4b53 3232 355c 2855 535c 2920 4c69 6768  KS225\(US\) Ligh
+00008500: 7420 4469 6d6d 6572 2061 6e64 204b 5332  t Dimmer and KS2
+00008510: 3035 5c28 5553 5c29 204c 6967 6874 2053  05\(US\) Light S
+00008520: 7769 7463 6820 5b5c 2335 3839 5d28 6874  witch [\#589](ht
+00008530: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00008540: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00008550: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
+00008560: 3538 3929 0a2d 2053 6574 2074 696d 656f  589).- Set timeo
+00008570: 7574 2075 7369 6e67 2063 6f6d 6d61 6e64  ut using command
+00008580: 206c 696e 6520 7061 7261 6d65 7465 7273   line parameters
+00008590: 205b 5c23 3331 305d 2868 7474 7073 3a2f   [\#310](https:/
+000085a0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+000085b0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+000085c0: 6173 612f 6973 7375 6573 2f33 3130 290a  asa/issues/310).
+000085d0: 2d20 496d 706c 656d 656e 7420 7468 6520  - Implement the 
+000085e0: 6e65 7720 7072 6f74 6f63 6f6c 205c 2848  new protocol \(H
+000085f0: 5454 5020 6f76 6572 2038 302f 7463 702c  TTP over 80/tcp,
+00008600: 2032 3030 3032 2f75 6470 2066 6f72 2064   20002/udp for d
+00008610: 6973 636f 7665 7279 5c29 205b 5c23 3131  iscovery\) [\#11
+00008620: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
+00008630: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00008640: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
+00008650: 7375 6573 2f31 3135 290a 2d20 456e 6162  sues/115).- Enab
+00008660: 6c65 206d 756c 7469 706c 6520 7265 7175  le multiple requ
+00008670: 6573 7473 2069 6e20 736d 6172 7470 726f  ests in smartpro
+00008680: 746f 636f 6c20 5b5c 2335 3834 5d28 6874  tocol [\#584](ht
+00008690: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000086a0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+000086b0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3538  hon-kasa/pull/58
+000086c0: 3429 2028 4073 6462 3936 3936 290a 2d20  4) (@sdb9696).- 
+000086d0: 496d 7072 6f76 6520 434c 4920 4469 7363  Improve CLI Disc
+000086e0: 6f76 6572 7920 6f75 7470 7574 205b 5c23  overy output [\#
+000086f0: 3538 335d 2868 7474 7073 3a2f 2f67 6974  583](https://git
+00008700: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00008710: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00008720: 7075 6c6c 2f35 3833 2920 2840 7364 6239  pull/583) (@sdb9
+00008730: 3639 3629 0a2d 2049 6d70 726f 7665 2073  696).- Improve s
+00008740: 6d61 7274 7072 6f74 6f63 6f6c 2065 7272  martprotocol err
+00008750: 6f72 2068 616e 646c 696e 6720 616e 6420  or handling and 
+00008760: 7265 7472 6965 7320 5b5c 2335 3738 5d28  retries [\#578](
+00008770: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00008780: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00008790: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+000087a0: 3537 3829 2028 4073 6462 3936 3936 290a  578) (@sdb9696).
+000087b0: 2d20 5265 7175 6573 7420 636f 6d70 6f6e  - Request compon
+000087c0: 656e 745c 5f6e 6567 6f20 6f6e 6c79 206f  ent\_nego only o
+000087d0: 6e63 6520 666f 7220 7461 706f 6465 7669  nce for tapodevi
+000087e0: 6365 205b 5c23 3537 365d 2868 7474 7073  ce [\#576](https
+000087f0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00008800: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00008810: 2d6b 6173 612f 7075 6c6c 2f35 3736 2920  -kasa/pull/576) 
+00008820: 2840 7279 7469 6c61 6874 6929 0a2d 2055  (@rytilahti).- U
+00008830: 7365 2063 6f6e 7369 7374 656e 7420 6e61  se consistent na
+00008840: 6d69 6e67 2066 6f72 2063 6c69 2065 6e76  ming for cli env
+00008850: 7661 7273 205b 5c23 3537 305d 2868 7474  vars [\#570](htt
+00008860: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00008870: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00008880: 6f6e 2d6b 6173 612f 7075 6c6c 2f35 3730  on-kasa/pull/570
+00008890: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
+000088a0: 2041 6464 204b 5031 3235 4d20 6669 7874   Add KP125M fixt
+000088b0: 7572 6520 616e 6420 616c 6c6f 7720 7061  ure and allow pa
+000088c0: 7373 696e 6720 6372 6564 656e 7469 616c  ssing credential
+000088d0: 7320 666f 7220 7465 7374 7320 5b5c 2335  s for tests [\#5
+000088e0: 3637 5d28 6874 7470 733a 2f2f 6769 7468  67](https://gith
+000088f0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00008900: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00008910: 756c 6c2f 3536 3729 2028 4073 6279 746e  ull/567) (@sbytn
+00008920: 6172 290a 2d20 4d61 6b65 2074 696d 656f  ar).- Make timeo
+00008930: 7574 2063 6f6e 6669 6775 7261 626c 6520  ut configurable 
+00008940: 666f 7220 636c 6920 5b5c 2335 3634 5d28  for cli [\#564](
+00008950: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00008960: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00008970: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00008980: 3536 3429 2028 4072 7974 696c 6168 7469  564) (@rytilahti
+00008990: 290a 2d20 5570 6461 7465 2064 756d 705c  ).- Update dump\
+000089a0: 5f64 6576 696e 666f 2074 6f20 7072 6f64  _devinfo to prod
+000089b0: 7563 6520 6e65 7720 5441 504f 2f53 4d41  uce new TAPO/SMA
+000089c0: 5254 2066 6978 7475 7265 7320 5b5c 2335  RT fixtures [\#5
+000089d0: 3631 5d28 6874 7470 733a 2f2f 6769 7468  61](https://gith
+000089e0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+000089f0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00008a00: 756c 6c2f 3536 3129 2028 4073 6462 3936  ull/561) (@sdb96
+00008a10: 3936 290a 2d20 4b61 7361 204b 5031 3235  96).- Kasa KP125
+00008a20: 4d20 6261 7369 6320 656d 6574 6572 2073  M basic emeter s
+00008a30: 7570 706f 7274 205b 5c23 3536 305d 2868  upport [\#560](h
+00008a40: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00008a50: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00008a60: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f35  thon-kasa/pull/5
+00008a70: 3630 2920 2840 7362 7974 6e61 7229 0a2d  60) (@sbytnar).-
+00008a80: 2041 6464 206b 6c61 7020 7375 7070 6f72   Add klap suppor
+00008a90: 7420 666f 7220 5441 504f 2070 726f 746f  t for TAPO proto
+00008aa0: 636f 6c20 6279 2073 706c 6974 7469 6e67  col by splitting
+00008ab0: 206f 7574 2054 7261 6e73 706f 7274 7320   out Transports 
+00008ac0: 616e 6420 5072 6f74 6f63 6f6c 7320 5b5c  and Protocols [\
+00008ad0: 2335 3537 5d28 6874 7470 733a 2f2f 6769  #557](https://gi
+00008ae0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00008af0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00008b00: 2f70 756c 6c2f 3535 3729 2028 4073 6462  /pull/557) (@sdb
+00008b10: 3936 3936 290a 2d20 5570 6461 7465 2064  9696).- Update d
+00008b20: 756d 705c 5f64 6576 696e 666f 2074 6f20  ump\_devinfo to 
+00008b30: 696e 636c 7564 6520 3230 3030 3220 6469  include 20002 di
+00008b40: 7363 6f76 6572 7920 7265 7375 6c74 7320  scovery results 
+00008b50: 5b5c 2335 3536 5d28 6874 7470 733a 2f2f  [\#556](https://
+00008b60: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00008b70: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00008b80: 7361 2f70 756c 6c2f 3535 3629 2028 4073  sa/pull/556) (@s
+00008b90: 6462 3936 3936 290a 2d20 5365 7420 5443  db9696).- Set TC
+00008ba0: 505c 5f4e 4f44 454c 4159 2074 6f20 6176  P\_NODELAY to av
+00008bb0: 6f69 6420 6e65 6564 6c65 7373 2062 7566  oid needless buf
+00008bc0: 6665 7269 6e67 205b 5c23 3535 345d 2868  fering [\#554](h
+00008bd0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00008be0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00008bf0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f35  thon-kasa/pull/5
+00008c00: 3534 2920 2840 6264 7261 636f 290a 2d20  54) (@bdraco).- 
+00008c10: 4164 6420 7375 7070 6f72 7420 666f 7220  Add support for 
+00008c20: 7468 6520 7072 6f74 6f63 6f6c 2075 7365  the protocol use
+00008c30: 6420 6279 2054 4150 4f20 6465 7669 6365  d by TAPO device
+00008c40: 7320 616e 6420 736f 6d65 206e 6577 6572  s and some newer
+00008c50: 204b 4153 4120 6465 7669 6365 732e 205b   KASA devices. [
+00008c60: 5c23 3535 325d 2868 7474 7073 3a2f 2f67  \#552](https://g
+00008c70: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00008c80: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00008c90: 612f 7075 6c6c 2f35 3532 2920 2840 7364  a/pull/552) (@sd
+00008ca0: 6239 3639 3629 0a2d 2052 652d 6164 6420  b9696).- Re-add 
+00008cb0: 7072 6f74 6f63 6f6c 5c5f 636c 6173 7320  protocol\_class 
+00008cc0: 7061 7261 6d65 7465 7220 746f 2063 6f6e  parameter to con
+00008cd0: 6e65 6374 205b 5c23 3535 315d 2868 7474  nect [\#551](htt
+00008ce0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00008cf0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00008d00: 6f6e 2d6b 6173 612f 7075 6c6c 2f35 3531  on-kasa/pull/551
+00008d10: 2920 2840 7364 6239 3639 3629 0a2d 2055  ) (@sdb9696).- U
+00008d20: 7064 6174 6520 6469 7363 6f76 6572 2073  pdate discover s
+00008d30: 696e 676c 6520 746f 2068 616e 646c 6520  ingle to handle 
+00008d40: 686f 7374 6e61 6d65 7320 5b5c 2335 3339  hostnames [\#539
+00008d50: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00008d60: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+00008d70: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+00008d80: 6c2f 3533 3929 2028 4073 6462 3936 3936  l/539) (@sdb9696
+00008d90: 290a 0a2a 2a46 6978 6564 2062 7567 733a  )..**Fixed bugs:
+00008da0: 2a2a 0a0a 2d20 6475 6d70 5c5f 6465 7669  **..- dump\_devi
+00008db0: 6e66 6f20 6372 6173 6865 7320 7768 656e  nfo crashes when
+00008dc0: 2063 7265 6465 6e74 6961 6c73 2061 7265   credentials are
+00008dd0: 206e 6f74 2067 6976 656e 205b 5c23 3539   not given [\#59
+00008de0: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
+00008df0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00008e00: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
+00008e10: 7375 6573 2f35 3931 290a 2d20 4669 7820  sues/591).- Fix 
+00008e20: 6873 7620 7365 7474 696e 6720 666f 7220  hsv setting for 
+00008e30: 7461 706f 6275 6c62 205b 5c23 3537 335d  tapobulb [\#573]
+00008e40: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00008e50: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00008e60: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+00008e70: 2f35 3733 2920 2840 7279 7469 6c61 6874  /573) (@rytilaht
+00008e80: 6929 0a2d 2046 6978 2074 7261 6e73 706f  i).- Fix transpo
+00008e90: 7274 2072 6574 7269 6573 2061 6674 6572  rt retries after
+00008ea0: 2063 6c6f 7365 205b 5c23 3536 385d 2868   close [\#568](h
+00008eb0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00008ec0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00008ed0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f35  thon-kasa/pull/5
+00008ee0: 3638 2920 2840 7364 6239 3639 3629 0a0a  68) (@sdb9696)..
+00008ef0: 2a2a 446f 6375 6d65 6e74 6174 696f 6e20  **Documentation 
+00008f00: 7570 6461 7465 733a 2a2a 0a0a 2d20 5570  updates:**..- Up
+00008f10: 6461 7465 2072 6561 646d 6520 7769 7468  date readme with
+00008f20: 2063 6c65 6172 6572 2069 6e73 7472 7563   clearer instruc
+00008f30: 7469 6f6e 732c 2074 6170 6f20 7375 7070  tions, tapo supp
+00008f40: 6f72 7420 5b5c 2335 3731 5d28 6874 7470  ort [\#571](http
+00008f50: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00008f60: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+00008f70: 6e2d 6b61 7361 2f70 756c 6c2f 3537 3129  n-kasa/pull/571)
+00008f80: 2028 4072 7974 696c 6168 7469 290a 2d20   (@rytilahti).- 
+00008f90: 4164 6420 736f 6d65 206d 6f72 6520 6578  Add some more ex
+00008fa0: 7465 726e 616c 206c 696e 6b73 2074 6f20  ternal links to 
+00008fb0: 5245 4144 4d45 205b 5c23 3534 315d 2868  README [\#541](h
 00008fc0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
 00008fd0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-00008fe0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f33  thon-kasa/pull/3
-00008ff0: 3937 2920 2840 6a75 6c65 7334 3329 0a2d  97) (@jules43).-
-00009000: 2046 6978 2074 7970 6520 6869 6e74 696e   Fix type hintin
-00009010: 6720 6973 7375 6520 7769 7468 2063 616c  g issue with cal
-00009020: 6c20 746f 2063 6c69 636b 2e43 686f 6963  l to click.Choic
-00009030: 6520 205b 5c23 3338 375d 2868 7474 7073  e  [\#387](https
-00009040: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-00009050: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-00009060: 2d6b 6173 612f 7075 6c6c 2f33 3837 2920  -kasa/pull/387) 
-00009070: 2840 6a75 6c65 7334 3329 0a2d 204d 616e  (@jules43).- Man
-00009080: 7561 6c6c 7920 7061 7373 2074 6865 2063  ually pass the c
-00009090: 6f64 6563 6f76 2074 6f6b 656e 2069 6e20  odecov token in 
-000090a0: 4349 205b 5c23 3337 385d 2868 7474 7073  CI [\#378](https
-000090b0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-000090c0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-000090d0: 2d6b 6173 612f 7075 6c6c 2f33 3738 2920  -kasa/pull/378) 
-000090e0: 2840 7279 7469 6c61 6874 6929 0a2d 2043  (@rytilahti).- C
-000090f0: 6f72 7265 6374 2074 7970 6f73 2069 6e20  orrect typos in 
-00009100: 736d 6172 7464 6576 6963 652e 7079 205b  smartdevice.py [
-00009110: 5c23 3335 385d 2868 7474 7073 3a2f 2f67  \#358](https://g
-00009120: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-00009130: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-00009140: 612f 7075 6c6c 2f33 3538 2920 2840 6665  a/pull/358) (@fe
-00009150: 6c69 786f 6e6d 6172 7329 0a2d 2041 6464  lixonmars).- Add
-00009160: 2066 6978 7475 7265 7320 666f 7220 4b53   fixtures for KS
-00009170: 3230 304d 205b 5c23 3335 365d 2868 7474  200M [\#356](htt
-00009180: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00009190: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-000091a0: 6f6e 2d6b 6173 612f 7075 6c6c 2f33 3536  on-kasa/pull/356
-000091b0: 2920 2840 6772 6974 7374 7562 290a 2d20  ) (@gritstub).- 
-000091c0: 4164 6420 6669 7874 7572 6573 2066 6f72  Add fixtures for
-000091d0: 204b 5332 3330 205b 5c23 3335 355d 2868   KS230 [\#355](h
-000091e0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-000091f0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-00009200: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f33  thon-kasa/pull/3
-00009210: 3535 2920 2840 6772 6974 7374 7562 290a  55) (@gritstub).
-00009220: 2d20 4164 6420 6669 7874 7572 6573 2066  - Add fixtures f
-00009230: 6f72 2045 5332 304d 205c 285c 2333 3533  or ES20M \(\#353
-00009240: 5c29 205b 5c23 3335 345d 2868 7474 7073  \) [\#354](https
-00009250: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-00009260: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-00009270: 2d6b 6173 612f 7075 6c6c 2f33 3534 2920  -kasa/pull/354) 
-00009280: 2840 6772 6974 7374 7562 290a 2d20 4164  (@gritstub).- Ad
-00009290: 6420 6669 7874 7572 6573 2066 6f72 204b  d fixtures for K
-000092a0: 5031 3030 205b 5c23 3334 335d 2868 7474  P100 [\#343](htt
-000092b0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000092c0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-000092d0: 6f6e 2d6b 6173 612f 7075 6c6c 2f33 3433  on-kasa/pull/343
-000092e0: 2920 2840 6264 7261 636f 290a 2d20 4164  ) (@bdraco).- Ad
-000092f0: 6420 636f 6465 716c 2063 6865 636b 7320  d codeql checks 
-00009300: 5b5c 2333 3338 5d28 6874 7470 733a 2f2f  [\#338](https://
-00009310: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00009320: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-00009330: 7361 2f70 756c 6c2f 3333 3829 2028 4072  sa/pull/338) (@r
-00009340: 7974 696c 6168 7469 290a 0a23 2320 5b30  ytilahti)..## [0
-00009350: 2e35 2e30 5d28 6874 7470 733a 2f2f 6769  .5.0](https://gi
-00009360: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-00009370: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-00009380: 2f74 7265 652f 302e 352e 3029 2028 3230  /tree/0.5.0) (20
-00009390: 3232 2d30 342d 3234 290a 0a5b 4675 6c6c  22-04-24)..[Full
-000093a0: 2043 6861 6e67 656c 6f67 5d28 6874 7470   Changelog](http
-000093b0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-000093c0: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-000093d0: 6e2d 6b61 7361 2f63 6f6d 7061 7265 2f30  n-kasa/compare/0
-000093e0: 2e34 2e33 2e2e 2e30 2e35 2e30 290a 0a54  .4.3...0.5.0)..T
-000093f0: 6869 7320 6973 2074 6865 2066 6972 7374  his is the first
-00009400: 2072 656c 6561 7365 206f 6620 302e 3520   release of 0.5 
-00009410: 7365 7269 6573 2077 6869 6368 2069 6e63  series which inc
-00009420: 6c75 6465 7320 636f 6e76 6572 7469 6e67  ludes converting
-00009430: 2074 6865 2063 6f64 6520 6261 7365 2074   the code base t
-00009440: 6f77 6172 6473 206d 6f72 6520 6d6f 6475  owards more modu
-00009450: 6c61 7220 6170 7072 6f61 6368 2077 6865  lar approach whe
-00009460: 7265 2064 6576 6963 652d 6578 706f 7365  re device-expose
-00009470: 6420 6d6f 6475 6c65 7320 2865 2e67 2e2c  d modules (e.g.,
-00009480: 2065 6d65 7465 722c 2061 6e74 6974 6865   emeter, antithe
-00009490: 6674 2c20 6f72 2073 6368 6564 756c 6529  ft, or schedule)
-000094a0: 2061 7265 2069 6d70 6c65 6d65 6e74 6564   are implemented
-000094b0: 2069 6e20 7468 6569 7220 7365 7061 7261   in their separa
-000094c0: 7465 2070 7974 686f 6e20 6d6f 6475 6c65  te python module
-000094d0: 7320 746f 2064 6563 6f75 706c 6520 7468  s to decouple th
-000094e0: 656d 2066 726f 6d20 7468 6520 6465 7669  em from the devi
-000094f0: 6365 2d73 7065 6369 6669 6320 636c 6173  ce-specific clas
-00009500: 7365 732e 0d0a 0d0a 5468 6572 6520 7368  ses.....There sh
-00009510: 6f75 6c64 2062 6520 6e6f 2041 5049 2062  ould be no API b
-00009520: 7265 616b 696e 6720 6368 616e 6765 732c  reaking changes,
-00009530: 2062 7574 2073 6f6d 6520 7072 6576 696f   but some previo
-00009540: 7573 2069 7373 7565 7320 6869 6e74 2074  us issues hint t
-00009550: 6861 7420 7468 6572 6520 6d61 7920 6265  hat there may be
-00009560: 2061 7320 696e 666f 726d 6174 696f 6e20   as information 
-00009570: 6672 6f6d 2061 6c6c 2073 7570 706f 7274  from all support
-00009580: 6564 206d 6f64 756c 6573 2061 7265 206e  ed modules are n
-00009590: 6f77 2072 6571 7565 7374 6564 2064 7572  ow requested dur
-000095a0: 696e 6720 6561 6368 2075 7064 6174 6520  ing each update 
-000095b0: 6379 636c 6520 2864 6570 656e 6469 6e67  cycle (depending
-000095c0: 206f 6e20 7468 6520 6465 7669 6365 2074   on the device t
-000095d0: 7970 6529 3a0d 0a2a 2042 6173 6963 2073  ype):..* Basic s
-000095e0: 7973 7465 6d20 696e 666f 0d0a 2a20 456d  ystem info..* Em
-000095f0: 6574 6572 0d0a 2a20 5469 6d65 202d 2070  eter..* Time - p
-00009600: 726f 7065 7274 6965 7320 286c 696b 6520  roperties (like 
-00009610: 606f 6e5f 7369 6e63 6560 2920 7573 6520  `on_since`) use 
-00009620: 6e6f 7720 7469 6d65 2066 726f 6d20 7468  now time from th
-00009630: 6520 6465 7669 6365 2066 6f72 2063 616c  e device for cal
-00009640: 6375 6c61 7469 6f6e 2074 6f20 6176 6f69  culation to avoi
-00009650: 6420 6a69 7474 6572 2063 6175 7365 6420  d jitter caused 
-00009660: 6279 2064 6966 6665 7265 6e74 2074 696d  by different tim
-00009670: 6520 6265 7477 6565 6e20 7468 6520 686f  e between the ho
-00009680: 7374 2061 6e64 2074 6865 2064 6576 6963  st and the devic
-00009690: 650d 0a2a 2055 7361 6765 2073 7461 7469  e..* Usage stati
-000096a0: 7374 6963 7320 2d20 7369 6d69 6c61 7220  stics - similar 
-000096b0: 696e 7465 7266 6163 6520 746f 2065 6d65  interface to eme
-000096c0: 7465 722c 2062 7574 2072 6570 6f72 7473  ter, but reports
-000096d0: 206f 6e2d 7469 6d65 2073 7461 7469 7374   on-time statist
-000096e0: 6963 7320 696e 7374 6561 6420 6f66 2065  ics instead of e
-000096f0: 6e65 7267 7920 636f 6e73 756d 7074 696f  nergy consumptio
-00009700: 6e20 286e 6577 290d 0a2a 2043 6f75 6e74  n (new)..* Count
-00009710: 646f 776e 2028 6e65 7729 0d0a 2a20 416e  down (new)..* An
-00009720: 7469 7468 6566 7420 286e 6577 290d 0a2a  titheft (new)..*
-00009730: 2053 6368 6564 756c 6520 286e 6577 290d   Schedule (new).
-00009740: 0a2a 204d 6f74 696f 6e20 2d20 666f 7220  .* Motion - for 
-00009750: 636f 6e66 6967 7572 696e 6720 6d6f 7469  configuring moti
-00009760: 6f6e 2073 6574 7469 6e67 7320 6f6e 2073  on settings on s
-00009770: 6f6d 6520 6469 6d6d 6572 7320 286e 6577  ome dimmers (new
-00009780: 290d 0a2a 2041 6d62 6965 6e74 6c69 6768  )..* Ambientligh
-00009790: 7420 2d20 666f 7220 636f 6e66 6967 7572  t - for configur
-000097a0: 696e 6720 6272 6967 6874 6e65 7373 206c  ing brightness l
-000097b0: 696d 6974 7320 7768 656e 206d 6f74 696f  imits when motio
-000097c0: 6e20 7365 6e73 6f72 2061 6374 7561 7465  n sensor actuate
-000097d0: 7320 6f6e 2073 6f6d 6520 6469 6d6d 6572  s on some dimmer
-000097e0: 7320 286e 6577 290d 0a2a 2043 6c6f 7564  s (new)..* Cloud
-000097f0: 202d 2069 6e66 6f72 6d61 7469 6f6e 2061   - information a
-00009800: 626f 7574 2063 6c6f 7564 2063 6f6e 6e65  bout cloud conne
-00009810: 6374 6976 6974 7920 286e 6577 290d 0a0d  ctivity (new)...
-00009820: 0a46 6f72 2064 6576 656c 6f70 6572 732c  .For developers,
-00009830: 2074 6865 206e 6577 2066 756e 6374 696f   the new functio
-00009840: 6e61 6c69 7469 6573 2061 7265 2063 7572  nalities are cur
-00009850: 7265 6e74 6c79 206f 6e6c 7920 6578 706f  rently only expo
-00009860: 7365 6420 7468 726f 7567 6820 7468 6520  sed through the 
-00009870: 696d 706c 656d 656e 7461 7469 6f6e 206d  implementation m
-00009880: 6f64 756c 6573 2061 6363 6573 7369 626c  odules accessibl
-00009890: 6520 7468 726f 7567 6820 606d 6f64 756c  e through `modul
-000098a0: 6573 6020 7072 6f70 6572 7479 2e0d 0a50  es` property...P
-000098b0: 756c 6c20 7265 7175 6573 7473 2069 6d70  ull requests imp
-000098c0: 726f 7669 6e67 2074 6865 2066 756e 6374  roving the funct
-000098d0: 696f 6e61 6c69 7479 206f 6620 6d6f 6475  ionality of modu
-000098e0: 6c65 7320 6173 2077 656c 6c20 6173 2061  les as well as a
-000098f0: 6464 696e 6720 6265 7474 6572 2069 6e74  dding better int
-00009900: 6572 6661 6365 7320 746f 2064 6576 6963  erfaces to devic
-00009910: 6520 636c 6173 7365 7320 6172 6520 7765  e classes are we
-00009920: 6c63 6f6d 6521 0a0a 2a2a 4272 6561 6b69  lcome!..**Breaki
-00009930: 6e67 2063 6861 6e67 6573 3a2a 2a0a 0a2d  ng changes:**..-
-00009940: 2044 726f 7020 6465 7072 6563 6174 6564   Drop deprecated
-00009950: 2c20 7479 7065 2d73 7065 6369 6669 6320  , type-specific 
-00009960: 6f70 7469 6f6e 7320 696e 2066 6176 6f72  options in favor
-00009970: 206f 6620 2d2d 7479 7065 205b 5c23 3333   of --type [\#33
-00009980: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
-00009990: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-000099a0: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-000099b0: 6c6c 2f33 3336 2920 2840 7279 7469 6c61  ll/336) (@rytila
-000099c0: 6874 6929 0a2d 2043 6f6e 7665 7274 2074  hti).- Convert t
-000099d0: 6865 2063 6f64 6562 6173 6520 746f 2062  he codebase to b
-000099e0: 6520 6d6f 7265 206d 6f64 756c 6172 205b  e more modular [
-000099f0: 5c23 3239 395d 2868 7474 7073 3a2f 2f67  \#299](https://g
-00009a00: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-00009a10: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-00009a20: 612f 7075 6c6c 2f32 3939 2920 2840 7279  a/pull/299) (@ry
-00009a30: 7469 6c61 6874 6929 0a0a 2a2a 496d 706c  tilahti)..**Impl
-00009a40: 656d 656e 7465 6420 656e 6861 6e63 656d  emented enhancem
-00009a50: 656e 7473 3a2a 2a0a 0a2d 2049 6d70 726f  ents:**..- Impro
-00009a60: 7665 2048 5332 3230 2073 7570 706f 7274  ve HS220 support
-00009a70: 205b 5c23 3434 5d28 6874 7470 733a 2f2f   [\#44](https://
-00009a80: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00009a90: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-00009aa0: 7361 2f69 7373 7565 732f 3434 290a 0a2a  sa/issues/44)..*
-00009ab0: 2a46 6978 6564 2062 7567 733a 2a2a 0a0a  *Fixed bugs:**..
-00009ac0: 2d20 536b 6970 2072 756e 6e69 6e67 2064  - Skip running d
-00009ad0: 6973 636f 7665 7279 206f 6e20 2d2d 6865  iscovery on --he
-00009ae0: 6c70 206f 6e20 7375 6263 6f6d 6d61 6e64  lp on subcommand
-00009af0: 7320 5b5c 2331 3232 5d28 6874 7470 733a  s [\#122](https:
-00009b00: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-00009b10: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-00009b20: 6b61 7361 2f69 7373 7565 732f 3132 3229  kasa/issues/122)
-00009b30: 0a2d 2041 766f 6964 2072 6574 7279 696e  .- Avoid retryin
-00009b40: 6720 6f70 656e 5c5f 636f 6e6e 6563 7469  g open\_connecti
-00009b50: 6f6e 206f 6e20 756e 7265 636f 7665 7261  on on unrecovera
-00009b60: 626c 6520 6572 726f 7273 205b 5c23 3334  ble errors [\#34
-00009b70: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-00009b80: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-00009b90: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-00009ba0: 6c6c 2f33 3430 2920 2840 6264 7261 636f  ll/340) (@bdraco
-00009bb0: 290a 2d20 4176 6f69 6420 6469 7363 6f76  ).- Avoid discov
-00009bc0: 6572 7920 6f6e 202d 2d68 656c 7020 5b5c  ery on --help [\
-00009bd0: 2333 3335 5d28 6874 7470 733a 2f2f 6769  #335](https://gi
-00009be0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-00009bf0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-00009c00: 2f70 756c 6c2f 3333 3529 2028 4072 7974  /pull/335) (@ryt
-00009c10: 696c 6168 7469 290a 0a2a 2a44 6f63 756d  ilahti)..**Docum
-00009c20: 656e 7461 7469 6f6e 2075 7064 6174 6573  entation updates
-00009c30: 3a2a 2a0a 0a2d 2054 7279 696e 6720 746f  :**..- Trying to
-00009c40: 2070 6f6c 6c20 6465 7669 6365 2065 7665   poll device eve
-00009c50: 7279 2035 2073 6563 6f6e 6473 2062 7574  ry 5 seconds but
-00009c60: 2067 6574 7469 6e67 2061 7379 6e63 696f   getting asyncio
-00009c70: 2065 7272 6f72 7320 5b5c 2333 3136 5d28   errors [\#316](
-00009c80: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00009c90: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00009ca0: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
-00009cb0: 732f 3331 3629 0a2d 2044 6f63 733a 2053  s/316).- Docs: S
-00009cc0: 6d61 7274 2053 7472 6970 202d 2045 6d65  mart Strip - Eme
-00009cd0: 7465 7220 6665 6174 7572 6520 204e 6f74  ter feature  Not
-00009ce0: 6520 205b 5c23 3235 375d 2868 7474 7073  e  [\#257](https
-00009cf0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-00009d00: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-00009d10: 2d6b 6173 612f 6973 7375 6573 2f32 3537  -kasa/issues/257
-00009d20: 290a 2d20 446f 6375 6d65 6e74 6174 696f  ).- Documentatio
-00009d30: 6e20 6164 6469 7469 6f6e 3a20 536d 6172  n addition: Smar
-00009d40: 7470 6c75 6720 6163 6365 7373 2074 6f20  tplug access to 
-00009d50: 696e 7465 726e 6574 206e 7470 2073 6572  internet ntp ser
-00009d60: 7665 7220 706f 6f6c 2e20 5b5c 2331 3239  ver pool. [\#129
-00009d70: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00009d80: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-00009d90: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
-00009da0: 7565 732f 3132 3929 0a2d 2045 7870 6f72  ues/129).- Expor
-00009db0: 7420 6d6f 6475 6c65 7320 2620 6d61 6b65  t modules & make
-00009dc0: 2073 7068 696e 7820 6861 7070 7920 5b5c   sphinx happy [\
-00009dd0: 2333 3334 5d28 6874 7470 733a 2f2f 6769  #334](https://gi
-00009de0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-00009df0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-00009e00: 2f70 756c 6c2f 3333 3429 2028 4072 7974  /pull/334) (@ryt
-00009e10: 696c 6168 7469 290a 2d20 5661 7269 6f75  ilahti).- Variou
-00009e20: 7320 646f 6375 6d65 6e74 6174 696f 6e20  s documentation 
-00009e30: 7570 6461 7465 7320 5b5c 2333 3333 5d28  updates [\#333](
-00009e40: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00009e50: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00009e60: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
-00009e70: 3333 3329 2028 4072 7974 696c 6168 7469  333) (@rytilahti
-00009e80: 290a 0a2a 2a43 6c6f 7365 6420 6973 7375  )..**Closed issu
-00009e90: 6573 3a2a 2a0a 0a2d 2022 6f6e 2073 696e  es:**..- "on sin
-00009ea0: 6365 2220 6368 616e 6765 7320 5b5c 2332  ce" changes [\#2
-00009eb0: 3935 5d28 6874 7470 733a 2f2f 6769 7468  95](https://gith
-00009ec0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-00009ed0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f69  sa/python-kasa/i
-00009ee0: 7373 7565 732f 3239 3529 0a2d 2048 6f77  ssues/295).- How
-00009ef0: 2074 6f20 6163 6365 7373 204b 5031 3135   to access KP115
-00009f00: 2072 756e 7469 6d65 2064 6174 613f 205b   runtime data? [
-00009f10: 5c23 3234 345d 2868 7474 7073 3a2f 2f67  \#244](https://g
-00009f20: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-00009f30: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-00009f40: 612f 6973 7375 6573 2f32 3434 290a 2d20  a/issues/244).- 
-00009f50: 486f 7720 746f 2072 6573 6f6c 7665 2022  How to resolve "
-00009f60: 4465 7465 6374 6564 2070 726f 746f 636f  Detected protoco
-00009f70: 6c20 7265 7573 6520 6265 7477 6565 6e20  l reuse between 
-00009f80: 6469 6666 6572 656e 7420 6576 656e 7420  different event 
-00009f90: 6c6f 6f70 2220 7761 726e 696e 673f 205b  loop" warning? [
-00009fa0: 5c23 3233 385d 2868 7474 7073 3a2f 2f67  \#238](https://g
-00009fb0: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-00009fc0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-00009fd0: 612f 6973 7375 6573 2f32 3338 290a 2d20  a/issues/238).- 
-00009fe0: 4861 6e64 6c65 2064 6973 636f 7665 7279  Handle discovery
-00009ff0: 2077 6865 7265 206d 756c 7469 706c 6520   where multiple 
-0000a000: 4c41 4e20 696e 7465 7266 6163 6573 2065  LAN interfaces e
-0000a010: 7869 7374 205b 5c23 3130 345d 2868 7474  xist [\#104](htt
-0000a020: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0000a030: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-0000a040: 6f6e 2d6b 6173 612f 6973 7375 6573 2f31  on-kasa/issues/1
-0000a050: 3034 290a 2d20 4879 7065 722d 5620 5c28  04).- Hyper-V \(
-0000a060: 616e 6420 7072 6f62 6162 6c79 2076 6972  and probably vir
-0000a070: 7475 616c 626f 785c 2920 6272 6561 6b20  tualbox\) break 
-0000a080: 5544 5020 6469 7363 6f76 6572 7920 5b5c  UDP discovery [\
-0000a090: 2331 3031 5d28 6874 7470 733a 2f2f 6769  #101](https://gi
+00008fe0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f35  thon-kasa/pull/5
+00008ff0: 3431 2920 2840 7279 7469 6c61 6874 6929  41) (@rytilahti)
+00009000: 0a0a 2a2a 436c 6f73 6564 2069 7373 7565  ..**Closed issue
+00009010: 733a 2a2a 0a0a 2d20 4469 7363 6f76 6572  s:**..- Discover
+00009020: 2072 6574 7572 6e73 2064 6963 7469 6f6e   returns diction
+00009030: 6172 7920 7769 7468 206e 6f20 2761 6c69  ary with no 'ali
+00009040: 6173 2720 7072 6f70 6572 7479 205b 5c23  as' property [\#
+00009050: 3539 325d 2868 7474 7073 3a2f 2f67 6974  592](https://git
+00009060: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00009070: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00009080: 6973 7375 6573 2f35 3932 290a 2d20 5365  issues/592).- Se
+00009090: 6e64 696e 6720 7769 7468 2074 6865 206c  nding with the l
+000090a0: 6567 6163 7920 7072 6f74 6f63 6f6c 2069  egacy protocol i
+000090b0: 7320 6e65 6564 6c65 7373 6c79 2064 656c  s needlessly del
+000090c0: 6179 6564 205b 5c23 3535 335d 2868 7474  ayed [\#553](htt
+000090d0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000090e0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+000090f0: 6f6e 2d6b 6173 612f 6973 7375 6573 2f35  on-kasa/issues/5
+00009100: 3533 290a 2d20 4973 7375 6573 2061 6464  53).- Issues add
+00009110: 696e 6720 6120 4b50 3430 3520 6465 7669  ing a KP405 devi
+00009120: 6365 205b 5c23 3534 395d 2868 7474 7073  ce [\#549](https
+00009130: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00009140: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00009150: 2d6b 6173 612f 6973 7375 6573 2f35 3439  -kasa/issues/549
+00009160: 290a 2d20 5375 7070 6f72 7420 666f 7220  ).- Support for 
+00009170: 4c35 3130 4520 6275 6c62 205b 5c23 3534  L510E bulb [\#54
+00009180: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+00009190: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+000091a0: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
+000091b0: 7375 6573 2f35 3437 290a 2d20 5375 7070  sues/547).- Supp
+000091c0: 6f72 7420 666f 7220 7461 706f 204c 3533  ort for tapo L53
+000091d0: 3045 2062 756c 6273 3f20 5b5c 2335 3436  0E bulbs? [\#546
+000091e0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000091f0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+00009200: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
+00009210: 7565 732f 3534 3629 0a2d 2055 6e61 626c  ues/546).- Unabl
+00009220: 6520 746f 2063 6f6e 6e65 6374 2074 6f20  e to connect to 
+00009230: 686f 7374 206f 6e20 6469 6666 6572 656e  host on differen
+00009240: 7420 7375 626e 6574 2077 6974 6820 302e  t subnet with 0.
+00009250: 352e 3420 5b5c 2335 3435 5d28 6874 7470  5.4 [\#545](http
+00009260: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00009270: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+00009280: 6e2d 6b61 7361 2f69 7373 7565 732f 3534  n-kasa/issues/54
+00009290: 3529 0a2d 2044 6973 636f 7665 7279 2f43  5).- Discovery/C
+000092a0: 6f6e 6e65 6374 2062 726f 6b65 6e20 7768  onnect broken wh
+000092b0: 656e 2075 7067 7261 6469 6e67 2066 726f  en upgrading fro
+000092c0: 6d20 302e 352e 3320 2d5c 3e20 302e 352e  m 0.5.3 -\> 0.5.
+000092d0: 3420 5b5c 2335 3433 5d28 6874 7470 733a  4 [\#543](https:
+000092e0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+000092f0: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+00009300: 6b61 7361 2f69 7373 7565 732f 3534 3329  kasa/issues/543)
+00009310: 0a2d 2050 7964 616e 7469 6355 7365 7245  .- PydanticUserE
+00009320: 7272 6f72 2c20 4966 2079 6f75 2075 7365  rror, If you use
+00009330: 2060 4072 6f6f 745f 7661 6c69 6461 746f   `@root_validato
+00009340: 7260 2077 6974 6820 7072 653d 4661 6c73  r` with pre=Fals
+00009350: 6520 5c28 7468 6520 6465 6661 756c 745c  e \(the default\
+00009360: 2920 796f 7520 4d55 5354 2073 7065 6369  ) you MUST speci
+00009370: 6679 2060 736b 6970 5f6f 6e5f 6661 696c  fy `skip_on_fail
+00009380: 7572 653d 5472 7565 6020 5b5c 2335 3136  ure=True` [\#516
+00009390: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000093a0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+000093b0: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
+000093c0: 7565 732f 3531 3629 0a2d 204b 5020 3132  ues/516).- KP 12
+000093d0: 354d 202f 2073 7570 706f 7274 2066 6f72  5M / support for
+000093e0: 206d 6174 7465 7220 6465 7669 6365 7320   matter devices 
+000093f0: 5b5c 2334 3530 5d28 6874 7470 733a 2f2f  [\#450](https://
+00009400: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00009410: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00009420: 7361 2f69 7373 7565 732f 3435 3029 0a0a  sa/issues/450)..
+00009430: 2a2a 4d65 7267 6564 2070 756c 6c20 7265  **Merged pull re
+00009440: 7175 6573 7473 3a2a 2a0a 0a2d 2052 656c  quests:**..- Rel
+00009450: 6561 7365 2030 2e36 2e30 2e64 6576 3020  ease 0.6.0.dev0 
+00009460: 5b5c 2336 3039 5d28 6874 7470 733a 2f2f  [\#609](https://
+00009470: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00009480: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00009490: 7361 2f70 756c 6c2f 3630 3929 2028 4072  sa/pull/609) (@r
+000094a0: 7974 696c 6168 7469 290a 2d20 436c 6561  ytilahti).- Clea
+000094b0: 6e75 7020 6372 6564 656e 7469 616c 7320  nup credentials 
+000094c0: 6861 6e64 6c69 6e67 205b 5c23 3630 355d  handling [\#605]
+000094d0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000094e0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+000094f0: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+00009500: 2f36 3035 2920 2840 7279 7469 6c61 6874  /605) (@rytilaht
+00009510: 6929 0a2d 2055 7064 6174 6520 5031 3130  i).- Update P110
+00009520: 5c28 4555 5c29 2066 6978 7475 7265 205b  \(EU\) fixture [
+00009530: 5c23 3630 345d 2868 7474 7073 3a2f 2f67  \#604](https://g
+00009540: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00009550: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00009560: 612f 7075 6c6c 2f36 3034 2920 2840 7279  a/pull/604) (@ry
+00009570: 7469 6c61 6874 6929 0a2d 2055 7064 6174  tilahti).- Updat
+00009580: 6520 4c35 3330 2061 6573 2066 6978 7475  e L530 aes fixtu
+00009590: 7265 205b 5c23 3630 335d 2868 7474 7073  re [\#603](https
+000095a0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+000095b0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+000095c0: 2d6b 6173 612f 7075 6c6c 2f36 3033 2920  -kasa/pull/603) 
+000095d0: 2840 7279 7469 6c61 6874 6929 0a2d 2043  (@rytilahti).- C
+000095e0: 6c65 616e 7570 2063 7573 746f 6d20 6578  leanup custom ex
+000095f0: 6365 7074 696f 6e20 6b77 6172 6720 6861  ception kwarg ha
+00009600: 6e64 6c69 6e67 205b 5c23 3630 325d 2868  ndling [\#602](h
+00009610: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00009620: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00009630: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f36  thon-kasa/pull/6
+00009640: 3032 2920 2840 7279 7469 6c61 6874 6929  02) (@rytilahti)
+00009650: 0a2d 2050 756c 6c20 7570 2065 6d65 7465  .- Pull up emete
+00009660: 7220 6861 6e64 6c69 6e67 2074 6f20 7461  r handling to ta
+00009670: 706f 6465 7669 6365 2062 6173 6520 636c  podevice base cl
+00009680: 6173 7320 5b5c 2336 3031 5d28 6874 7470  ass [\#601](http
+00009690: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+000096a0: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+000096b0: 6e2d 6b61 7361 2f70 756c 6c2f 3630 3129  n-kasa/pull/601)
+000096c0: 2028 4072 7974 696c 6168 7469 290a 2d20   (@rytilahti).- 
+000096d0: 4164 6420 4c35 3330 5c28 4555 5c29 206b  Add L530\(EU\) k
+000096e0: 6c61 7020 6669 7874 7572 6520 5b5c 2335  lap fixture [\#5
+000096f0: 3938 5d28 6874 7470 733a 2f2f 6769 7468  98](https://gith
+00009700: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00009710: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00009720: 756c 6c2f 3539 3829 2028 4073 6462 3936  ull/598) (@sdb96
+00009730: 3936 290a 2d20 5570 6461 7465 2050 3131  96).- Update P11
+00009740: 305c 2855 4b5c 2920 6669 7874 7572 6520  0\(UK\) fixture 
+00009750: 5b5c 2335 3936 5d28 6874 7470 733a 2f2f  [\#596](https://
+00009760: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00009770: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00009780: 7361 2f70 756c 6c2f 3539 3629 2028 4073  sa/pull/596) (@s
+00009790: 6462 3936 3936 290a 2d20 4669 7820 6475  db9696).- Fix du
+000097a0: 6d70 5c5f 6465 7669 6e66 6f20 666f 7220  mp\_devinfo for 
+000097b0: 756e 6175 7468 656e 7469 6361 7465 6420  unauthenticated 
+000097c0: 5b5c 2335 3933 5d28 6874 7470 733a 2f2f  [\#593](https://
+000097d0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+000097e0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+000097f0: 7361 2f70 756c 6c2f 3539 3329 2028 4073  sa/pull/593) (@s
+00009800: 6462 3936 3936 290a 2d20 456c 6576 6174  db9696).- Elevat
+00009810: 6520 2d2d 7665 7262 6f73 6520 746f 2074  e --verbose to t
+00009820: 6f70 2d6c 6576 656c 206f 7074 696f 6e20  op-level option 
+00009830: 5b5c 2335 3930 5d28 6874 7470 733a 2f2f  [\#590](https://
+00009840: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00009850: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00009860: 7361 2f70 756c 6c2f 3539 3029 2028 4072  sa/pull/590) (@r
+00009870: 7974 696c 6168 7469 290a 2d20 4164 6420  ytilahti).- Add 
+00009880: 6f70 7469 6f6e 616c 2065 7272 6f72 2063  optional error c
+00009890: 6f64 6520 746f 2065 7863 6570 7469 6f6e  ode to exception
+000098a0: 7320 5b5c 2335 3835 5d28 6874 7470 733a  s [\#585](https:
+000098b0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+000098c0: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+000098d0: 6b61 7361 2f70 756c 6c2f 3538 3529 2028  kasa/pull/585) (
+000098e0: 4073 6462 3936 3936 290a 2d20 4669 7820  @sdb9696).- Fix 
+000098f0: 7479 706f 2069 6e20 636c 692e 7273 7420  typo in cli.rst 
+00009900: 5b5c 2335 3831 5d28 6874 7470 733a 2f2f  [\#581](https://
+00009910: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00009920: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00009930: 7361 2f70 756c 6c2f 3538 3129 2028 4061  sa/pull/581) (@a
+00009940: 6c61 6e62 6c61 6b65 290a 2d20 446f 206c  lanblake).- Do l
+00009950: 6f67 696e 2065 6e74 6972 656c 7920 7769  ogin entirely wi
+00009960: 7468 696e 2041 6573 5472 616e 7370 6f72  thin AesTranspor
+00009970: 7420 5b5c 2335 3830 5d28 6874 7470 733a  t [\#580](https:
+00009980: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00009990: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+000099a0: 6b61 7361 2f70 756c 6c2f 3538 3029 2028  kasa/pull/580) (
+000099b0: 4073 6462 3936 3936 290a 2d20 4c6f 6720  @sdb9696).- Log 
+000099c0: 736d 6172 7470 726f 746f 636f 6c20 7265  smartprotocol re
+000099d0: 7175 6573 7473 205b 5c23 3537 355d 2868  quests [\#575](h
+000099e0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000099f0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00009a00: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f35  thon-kasa/pull/5
+00009a10: 3735 2920 2840 7279 7469 6c61 6874 6929  75) (@rytilahti)
+00009a20: 0a2d 2041 6464 206e 6577 206d 6574 686f  .- Add new metho
+00009a30: 6473 2074 6f20 6475 6d70 5c5f 6465 7669  ds to dump\_devi
+00009a40: 6e66 6f20 616e 6420 6d61 736b 2061 6c69  nfo and mask ali
+00009a50: 6173 6573 205b 5c23 3537 345d 2868 7474  ases [\#574](htt
+00009a60: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00009a70: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00009a80: 6f6e 2d6b 6173 612f 7075 6c6c 2f35 3734  on-kasa/pull/574
+00009a90: 2920 2840 7364 6239 3639 3629 0a2d 2041  ) (@sdb9696).- A
+00009aa0: 6464 2045 5032 3520 736d 6172 7420 6669  dd EP25 smart fi
+00009ab0: 7874 7572 6520 616e 6420 696d 7072 6f76  xture and improv
+00009ac0: 6520 7465 7374 2066 7261 6d65 776f 726b  e test framework
+00009ad0: 2066 6f72 2053 4d41 5254 2064 6576 6963   for SMART devic
+00009ae0: 6573 205b 5c23 3537 325d 2868 7474 7073  es [\#572](https
+00009af0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00009b00: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00009b10: 2d6b 6173 612f 7075 6c6c 2f35 3732 2920  -kasa/pull/572) 
+00009b20: 2840 7364 6239 3639 3629 0a2d 2052 652d  (@sdb9696).- Re-
+00009b30: 6164 6420 7265 6769 6f6e 616c 2073 7566  add regional suf
+00009b40: 6669 7820 746f 2054 4150 4f2f 534d 4152  fix to TAPO/SMAR
+00009b50: 5420 6669 7874 7572 6573 205b 5c23 3536  T fixtures [\#56
+00009b60: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
+00009b70: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00009b80: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00009b90: 6c6c 2f35 3636 2920 2840 7364 6239 3639  ll/566) (@sdb969
+00009ba0: 3629 0a2d 2041 6464 2050 3131 3020 6669  6).- Add P110 fi
+00009bb0: 7874 7572 6520 5b5c 2335 3632 5d28 6874  xture [\#562](ht
+00009bc0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00009bd0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00009be0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3536  hon-kasa/pull/56
+00009bf0: 3229 2028 4072 7974 696c 6168 7469 290a  2) (@rytilahti).
+00009c00: 2d20 446f 206e 6f74 2064 6f20 7570 6461  - Do not do upda
+00009c10: 7465 5c28 5c29 2069 6e20 6469 7363 6f76  te\(\) in discov
+00009c20: 6572 5c5f 7369 6e67 6c65 205b 5c23 3534  er\_single [\#54
+00009c30: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
+00009c40: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00009c50: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00009c60: 6c6c 2f35 3432 2920 2840 7364 6239 3639  ll/542) (@sdb969
+00009c70: 3629 0a0a 2323 205b 302e 352e 345d 2868  6)..## [0.5.4](h
+00009c80: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00009c90: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00009ca0: 7468 6f6e 2d6b 6173 612f 7472 6565 2f30  thon-kasa/tree/0
+00009cb0: 2e35 2e34 2920 2832 3032 332d 3130 2d32  .5.4) (2023-10-2
+00009cc0: 3929 0a0a 5b46 756c 6c20 4368 616e 6765  9)..[Full Change
+00009cd0: 6c6f 675d 2868 7474 7073 3a2f 2f67 6974  log](https://git
+00009ce0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00009cf0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00009d00: 636f 6d70 6172 652f 302e 352e 332e 2e2e  compare/0.5.3...
+00009d10: 302e 352e 3429 0a0a 5468 6520 6869 6768  0.5.4)..The high
+00009d20: 6c69 6768 7473 206f 6620 7468 6973 206d  lights of this m
+00009d30: 6169 6e74 656e 616e 6365 2072 656c 6561  aintenance relea
+00009d40: 7365 3a0d 0a0d 0a2a 2053 7570 706f 7274  se:....* Support
+00009d50: 2074 6f20 7468 6520 616c 7465 726e 6174   to the alternat
+00009d60: 6976 6520 6469 7363 6f76 6572 7920 7072  ive discovery pr
+00009d70: 6f74 6f63 6f6c 2061 6e64 2066 6f75 6e64  otocol and found
+00009d80: 6174 696f 6e61 6c20 776f 726b 2074 6f20  ational work to 
+00009d90: 7375 7070 6f72 7420 6f74 6865 7220 636f  support other co
+00009da0: 6d6d 756e 6963 6174 696f 6e20 7072 6f74  mmunication prot
+00009db0: 6f63 6f6c 732c 2074 6861 6e6b 7320 746f  ocols, thanks to
+00009dc0: 2040 7364 6239 3639 362e 0d0a 2a20 5265   @sdb9696...* Re
+00009dd0: 6c69 6162 696c 6974 7920 696d 7072 6f76  liability improv
+00009de0: 656d 656e 7473 2062 7920 6176 6f69 6469  ements by avoidi
+00009df0: 6e67 206f 7665 7266 6c6f 7769 6e67 2064  ng overflowing d
+00009e00: 6576 6963 6520 6275 6666 6572 732c 2074  evice buffers, t
+00009e10: 6861 6e6b 7320 746f 2040 636f 6272 7961  hanks to @cobrya
+00009e20: 6e30 352e 0d0a 2a20 4f70 7469 6d69 7a61  n05...* Optimiza
+00009e30: 7469 6f6e 7320 666f 7220 646f 776e 7374  tions for downst
+00009e40: 7265 616d 2064 6576 6963 6520 6163 6365  ream device acce
+00009e50: 7373 6573 2c20 7468 616e 6b73 2074 6f20  sses, thanks to 
+00009e60: 4062 6472 6163 6f2e 0d0a 2a20 5375 7070  @bdraco...* Supp
+00009e70: 6f72 7420 666f 7220 626f 7468 2070 7964  ort for both pyd
+00009e80: 616e 7469 6320 7631 2061 6e64 2076 322e  antic v1 and v2.
+00009e90: 0d0a 0d0a 4173 2061 6c77 6179 732c 2073  ....As always, s
+00009ea0: 6565 2074 6865 2066 756c 6c20 6368 616e  ee the full chan
+00009eb0: 6765 6c6f 6720 666f 7220 6465 7461 696c  gelog for detail
+00009ec0: 732e 0a0a 2a2a 496d 706c 656d 656e 7465  s...**Implemente
+00009ed0: 6420 656e 6861 6e63 656d 656e 7473 3a2a  d enhancements:*
+00009ee0: 2a0a 0a2d 2041 6464 2061 2063 6f6e 6e65  *..- Add a conne
+00009ef0: 6374 5c5f 7369 6e67 6c65 206d 6574 686f  ct\_single metho
+00009f00: 6420 746f 2044 6973 636f 7665 7220 746f  d to Discover to
+00009f10: 2061 766f 6964 2074 6865 206e 6565 6420   avoid the need 
+00009f20: 666f 7220 5544 5020 5b5c 2335 3238 5d28  for UDP [\#528](
+00009f30: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00009f40: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00009f50: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00009f60: 3532 3829 2028 4062 6472 6163 6f29 0a2d  528) (@bdraco).-
+00009f70: 2050 6172 7365 2066 6561 7475 7265 7320   Parse features 
+00009f80: 6f6e 6c79 2064 7572 696e 6720 7570 6461  only during upda
+00009f90: 7465 7320 5b5c 2335 3237 5d28 6874 7470  tes [\#527](http
+00009fa0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00009fb0: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+00009fc0: 6e2d 6b61 7361 2f70 756c 6c2f 3532 3729  n-kasa/pull/527)
+00009fd0: 2028 4062 6472 6163 6f29 0a2d 2053 686f   (@bdraco).- Sho
+00009fe0: 7720 616e 2065 7272 6f72 2069 6620 626f  w an error if bo
+00009ff0: 7468 202d 2d61 6c69 6173 2061 6e64 202d  th --alias and -
+0000a000: 2d68 6f73 7420 6172 6520 6465 6669 6e65  -host are define
+0000a010: 6420 5b5c 2335 3133 5d28 6874 7470 733a  d [\#513](https:
+0000a020: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+0000a030: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+0000a040: 6b61 7361 2f70 756c 6c2f 3531 3329 2028  kasa/pull/513) (
+0000a050: 4072 7974 696c 6168 7469 290a 2d20 4164  @rytilahti).- Ad
+0000a060: 6420 706c 756d 6269 6e67 2066 6f72 2070  d plumbing for p
+0000a070: 6173 7369 6e67 2063 7265 6465 6e74 6961  assing credentia
+0000a080: 6c73 2074 6f20 6465 7669 6365 7320 5b5c  ls to devices [\
+0000a090: 2335 3037 5d28 6874 7470 733a 2f2f 6769  #507](https://gi
 0000a0a0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
 0000a0b0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-0000a0c0: 2f69 7373 7565 732f 3130 3129 0a2d 2054  /issues/101).- T
-0000a0d0: 7279 696e 6720 746f 2067 6574 2065 7874  rying to get ext
-0000a0e0: 656e 6465 6420 6c69 6768 7473 7472 6970  ended lightstrip
-0000a0f0: 2066 756e 6374 696f 6e61 6c69 7479 205b   functionality [
-0000a100: 5c23 3130 305d 2868 7474 7073 3a2f 2f67  \#100](https://g
-0000a110: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-0000a120: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-0000a130: 612f 6973 7375 6573 2f31 3030 290a 2d20  a/issues/100).- 
-0000a140: 4361 6e20 7468 6520 4853 3130 3520 6265  Can the HS105 be
-0000a150: 2063 6f6e 7472 6f6c 6c65 6420 7769 7468   controlled with
-0000a160: 6f75 7420 696e 7465 726e 6574 3f20 5b5c  out internet? [\
-0000a170: 2337 325d 2868 7474 7073 3a2f 2f67 6974  #72](https://git
-0000a180: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-0000a190: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-0000a1a0: 6973 7375 6573 2f37 3229 0a0a 2a2a 4d65  issues/72)..**Me
-0000a1b0: 7267 6564 2070 756c 6c20 7265 7175 6573  rged pull reques
-0000a1c0: 7473 3a2a 2a0a 0a2d 2050 7265 7061 7265  ts:**..- Prepare
-0000a1d0: 2030 2e35 2e30 205b 5c23 3334 325d 2868   0.5.0 [\#342](h
-0000a1e0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000a1f0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-0000a200: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f33  thon-kasa/pull/3
-0000a210: 3432 2920 2840 7279 7469 6c61 6874 6929  42) (@rytilahti)
-0000a220: 0a2d 2041 6464 2066 6978 7475 7265 7320  .- Add fixtures 
-0000a230: 666f 7220 6b6c 3432 3020 5b5c 2333 3339  for kl420 [\#339
-0000a240: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000a250: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-0000a260: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-0000a270: 6c2f 3333 3929 2028 4062 6472 6163 6f29  l/339) (@bdraco)
-0000a280: 0a0a 2323 205b 302e 342e 335d 2868 7474  ..## [0.4.3](htt
-0000a290: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0000a2a0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-0000a2b0: 6f6e 2d6b 6173 612f 7472 6565 2f30 2e34  on-kasa/tree/0.4
-0000a2c0: 2e33 2920 2832 3032 322d 3034 2d30 3529  .3) (2022-04-05)
-0000a2d0: 0a0a 5b46 756c 6c20 4368 616e 6765 6c6f  ..[Full Changelo
-0000a2e0: 675d 2868 7474 7073 3a2f 2f67 6974 6875  g](https://githu
-0000a2f0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-0000a300: 612f 7079 7468 6f6e 2d6b 6173 612f 636f  a/python-kasa/co
-0000a310: 6d70 6172 652f 302e 342e 322e 2e2e 302e  mpare/0.4.2...0.
-0000a320: 342e 3329 0a0a 2a2a 4669 7865 6420 6275  4.3)..**Fixed bu
-0000a330: 6773 3a2a 2a0a 0a2d 2044 6976 6964 6520  gs:**..- Divide 
-0000a340: 6279 207a 6572 6f20 7768 656e 2048 5333  by zero when HS3
-0000a350: 3030 2070 6f77 6572 7374 7269 7020 6973  00 powerstrip is
-0000a360: 2064 6973 636f 7665 7265 6420 5b5c 2332   discovered [\#2
-0000a370: 3932 5d28 6874 7470 733a 2f2f 6769 7468  92](https://gith
-0000a380: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-0000a390: 7361 2f70 7974 686f 6e2d 6b61 7361 2f69  sa/python-kasa/i
-0000a3a0: 7373 7565 732f 3239 3229 0a2d 2045 6e73  ssues/292).- Ens
-0000a3b0: 7572 6520 6275 6c62 2073 7461 7465 2069  ure bulb state i
-0000a3c0: 7320 7265 7374 6f72 6564 2077 6865 6e20  s restored when 
-0000a3d0: 7475 726e 696e 6720 6261 636b 206f 6e20  turning back on 
-0000a3e0: 5b5c 2333 3330 5d28 6874 7470 733a 2f2f  [\#330](https://
-0000a3f0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-0000a400: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-0000a410: 7361 2f70 756c 6c2f 3333 3029 2028 4062  sa/pull/330) (@b
-0000a420: 6472 6163 6f29 0a0a 2a2a 436c 6f73 6564  draco)..**Closed
-0000a430: 2069 7373 7565 733a 2a2a 0a0a 2d20 4b4c   issues:**..- KL
-0000a440: 3432 304c 3520 636f 6e74 726f 6c73 205b  420L5 controls [
-0000a450: 5c23 3332 375d 2868 7474 7073 3a2f 2f67  \#327](https://g
-0000a460: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-0000a470: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-0000a480: 612f 6973 7375 6573 2f33 3237 290a 0a2a  a/issues/327)..*
-0000a490: 2a4d 6572 6765 6420 7075 6c6c 2072 6571  *Merged pull req
-0000a4a0: 7565 7374 733a 2a2a 0a0a 2d20 5265 6c65  uests:**..- Rele
-0000a4b0: 6173 6520 302e 342e 3320 5b5c 2333 3332  ase 0.4.3 [\#332
-0000a4c0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000a4d0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-0000a4e0: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-0000a4f0: 6c2f 3333 3229 2028 4072 7974 696c 6168  l/332) (@rytilah
-0000a500: 7469 290a 2d20 5570 6461 7465 2070 7265  ti).- Update pre
-0000a510: 2d63 6f6d 6d69 7420 686f 6f6b 7320 746f  -commit hooks to
-0000a520: 2066 6978 2062 6c61 636b 2069 6e20 4349   fix black in CI
-0000a530: 205b 5c23 3333 315d 2868 7474 7073 3a2f   [\#331](https:/
-0000a540: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-0000a550: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-0000a560: 6173 612f 7075 6c6c 2f33 3331 2920 2840  asa/pull/331) (@
-0000a570: 7279 7469 6c61 6874 6929 0a2d 2046 6978  rytilahti).- Fix
-0000a580: 2074 6573 745c 5f64 6570 7265 6361 7465   test\_deprecate
-0000a590: 645c 5f74 7970 6520 7374 616c 6c69 6e67  d\_type stalling
-0000a5a0: 205b 5c23 3332 355d 2868 7474 7073 3a2f   [\#325](https:/
-0000a5b0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-0000a5c0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-0000a5d0: 6173 612f 7075 6c6c 2f33 3235 2920 2840  asa/pull/325) (@
-0000a5e0: 6264 7261 636f 290a 0a23 2320 5b30 2e34  bdraco)..## [0.4
-0000a5f0: 2e32 5d28 6874 7470 733a 2f2f 6769 7468  .2](https://gith
-0000a600: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-0000a610: 7361 2f70 7974 686f 6e2d 6b61 7361 2f74  sa/python-kasa/t
-0000a620: 7265 652f 302e 342e 3229 2028 3230 3232  ree/0.4.2) (2022
-0000a630: 2d30 332d 3231 290a 0a5b 4675 6c6c 2043  -03-21)..[Full C
-0000a640: 6861 6e67 656c 6f67 5d28 6874 7470 733a  hangelog](https:
-0000a650: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-0000a660: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-0000a670: 6b61 7361 2f63 6f6d 7061 7265 2f30 2e34  kasa/compare/0.4
-0000a680: 2e31 2e2e 2e30 2e34 2e32 290a 0a2a 2a49  .1...0.4.2)..**I
-0000a690: 6d70 6c65 6d65 6e74 6564 2065 6e68 616e  mplemented enhan
-0000a6a0: 6365 6d65 6e74 733a 2a2a 0a0a 2d20 416c  cements:**..- Al
-0000a6b0: 6c6f 7720 656e 7669 726f 6e6d 656e 7420  low environment 
-0000a6c0: 7661 7269 6162 6c65 7320 666f 7220 6469  variables for di
-0000a6d0: 7363 6f76 6572 7920 7461 7267 6574 2c20  scovery target, 
-0000a6e0: 6465 7669 6365 2074 7970 6520 616e 6420  device type and 
-0000a6f0: 6465 6275 6720 5b5c 2333 3133 5d28 6874  debug [\#313](ht
-0000a700: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000a710: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-0000a720: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3331  hon-kasa/pull/31
-0000a730: 3329 2028 4072 7974 696c 6168 7469 290a  3) (@rytilahti).
-0000a740: 2d20 4164 6420 2769 6e74 6572 6e61 6c5c  - Add 'internal\
-0000a750: 5f73 7461 7465 2720 746f 2072 6574 7572  _state' to retur
-0000a760: 6e20 7468 6520 7265 7375 6c74 7320 6672  n the results fr
-0000a770: 6f6d 2074 6865 206c 6173 7420 7570 6461  om the last upda
-0000a780: 7465 2071 7565 7279 205b 5c23 3330 365d  te query [\#306]
-0000a790: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000a7a0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-0000a7b0: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
-0000a7c0: 2f33 3036 2920 2840 7279 7469 6c61 6874  /306) (@rytilaht
-0000a7d0: 6929 0a2d 2044 726f 7020 6d69 6372 6f73  i).- Drop micros
-0000a7e0: 6563 6f6e 6420 7072 6563 6973 696f 6e20  econd precision 
-0000a7f0: 666f 7220 6f6e 5c5f 7369 6e63 6520 5b5c  for on\_since [\
-0000a800: 2332 3936 5d28 6874 7470 733a 2f2f 6769  #296](https://gi
-0000a810: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-0000a820: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-0000a830: 2f70 756c 6c2f 3239 3629 2028 4072 7974  /pull/296) (@ryt
-0000a840: 696c 6168 7469 290a 2d20 4164 6420 6566  ilahti).- Add ef
-0000a850: 6665 6374 2073 7570 706f 7274 2066 6f72  fect support for
-0000a860: 206c 6967 6874 2073 7472 6970 7320 5b5c   light strips [\
-0000a870: 2332 3933 5d28 6874 7470 733a 2f2f 6769  #293](https://gi
-0000a880: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-0000a890: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-0000a8a0: 2f70 756c 6c2f 3239 3329 2028 4062 6472  /pull/293) (@bdr
-0000a8b0: 6163 6f29 0a0a 2a2a 4669 7865 6420 6275  aco)..**Fixed bu
-0000a8c0: 6773 3a2a 2a0a 0a2d 2054 7970 6545 7272  gs:**..- TypeErr
-0000a8d0: 6f72 3a20 5c5f 5c5f 696e 6974 5c5f 5c5f  or: \_\_init\_\_
-0000a8e0: 5c28 5c29 2067 6f74 2061 6e20 756e 6578  \(\) got an unex
-0000a8f0: 7065 6374 6564 206b 6579 776f 7264 2061  pected keyword a
-0000a900: 7267 756d 656e 7420 2770 6163 6b61 6765  rgument 'package
-0000a910: 5c5f 6e61 6d65 2720 5b5c 2333 3131 5d28  \_name' [\#311](
-0000a920: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000a930: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-0000a940: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
-0000a950: 732f 3331 3129 0a2d 2052 756e 7469 6d65  s/311).- Runtime
-0000a960: 4572 726f 723a 2045 7665 6e74 206c 6f6f  Error: Event loo
-0000a970: 7020 6973 2063 6c6f 7365 6420 6f6e 2057  p is closed on W
-0000a980: 534c 205b 5c23 3239 345d 2868 7474 7073  SL [\#294](https
-0000a990: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-0000a9a0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-0000a9b0: 2d6b 6173 612f 6973 7375 6573 2f32 3934  -kasa/issues/294
-0000a9c0: 290a 2d20 446f 6e27 7420 6372 6173 6820  ).- Don't crash 
-0000a9d0: 6f6e 2064 6576 6963 6573 206e 6f74 2072  on devices not r
-0000a9e0: 6570 6f72 7469 6e67 2066 6561 7475 7265  eporting feature
-0000a9f0: 7320 5b5c 2333 3137 5d28 6874 7470 733a  s [\#317](https:
-0000aa00: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-0000aa10: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-0000aa20: 6b61 7361 2f70 756c 6c2f 3331 3729 2028  kasa/pull/317) (
-0000aa30: 4072 7974 696c 6168 7469 290a 0a2a 2a43  @rytilahti)..**C
-0000aa40: 6c6f 7365 6420 6973 7375 6573 3a2a 2a0a  losed issues:**.
-0000aa50: 0a2d 2053 6d61 7274 4465 7669 6365 4578  .- SmartDeviceEx
-0000aa60: 6365 7074 696f 6e3a 2043 6f6d 6d75 6e69  ception: Communi
-0000aa70: 6361 7469 6f6e 2065 7272 6f72 206f 6e20  cation error on 
-0000aa80: 7379 7374 656d 3a73 6574 5c5f 7265 6c61  system:set\_rela
-0000aa90: 795c 5f73 7461 7465 205b 5c23 3330 395d  y\_state [\#309]
-0000aaa0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000aab0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-0000aac0: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
-0000aad0: 6573 2f33 3039 290a 2d20 4164 6420 5375  es/309).- Add Su
-0000aae0: 7070 6f72 743a 2045 5332 304d 2061 6e64  pport: ES20M and
-0000aaf0: 204b 5332 3030 4d20 6d6f 7469 6f6e 2f6c   KS200M motion/l
-0000ab00: 6967 6874 2073 7769 7463 6865 7320 5b5c  ight switches [\
-0000ab10: 2333 3038 5d28 6874 7470 733a 2f2f 6769  #308](https://gi
-0000ab20: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-0000ab30: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-0000ab40: 2f69 7373 7565 732f 3330 3829 0a2d 204e  /issues/308).- N
-0000ab50: 6577 2070 726f 626c 656d 2077 6974 6820  ew problem with 
-0000ab60: 696e 7374 616c 6c69 6e67 206f 6e20 5562  installing on Ub
-0000ab70: 756e 7475 2032 302e 3034 2e33 204c 5453  untu 20.04.3 LTS
-0000ab80: 205b 5c23 3330 355d 2868 7474 7073 3a2f   [\#305](https:/
-0000ab90: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-0000aba0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-0000abb0: 6173 612f 6973 7375 6573 2f33 3035 290a  asa/issues/305).
-0000abc0: 2d20 4b65 7945 7272 6f72 3a20 2765 6d65  - KeyError: 'eme
-0000abd0: 7465 7227 2077 6865 6e20 6469 7363 6f76  ter' when discov
-0000abe0: 6572 696e 6720 5b5c 2333 3032 5d28 6874  ering [\#302](ht
-0000abf0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000ac00: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-0000ac10: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
-0000ac20: 3330 3229 0a2d 2052 756e 7469 6d65 4572  302).- RuntimeEr
-0000ac30: 726f 723a 2045 7665 6e74 206c 6f6f 7020  ror: Event loop 
-0000ac40: 6973 2063 6c6f 7365 6420 205b 5c23 3239  is closed  [\#29
-0000ac50: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
-0000ac60: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-0000ac70: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
-0000ac80: 7375 6573 2f32 3931 290a 2d20 7072 6f76  sues/291).- prov
-0000ac90: 6973 696f 6e69 6e67 2066 6f72 6d61 7420  isioning format 
-0000aca0: 5b5c 2332 3930 5d28 6874 7470 733a 2f2f  [\#290](https://
-0000acb0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-0000acc0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-0000acd0: 7361 2f69 7373 7565 732f 3239 3029 0a2d  sa/issues/290).-
-0000ace0: 2046 6978 2043 4920 7075 626c 6973 6869   Fix CI publishi
-0000acf0: 6e67 206f 6e20 7079 7069 205b 5c23 3232  ng on pypi [\#22
-0000ad00: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
-0000ad10: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-0000ad20: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
-0000ad30: 7375 6573 2f32 3232 290a 2d20 4c45 4420  sues/222).- LED 
-0000ad40: 7374 7269 7073 2065 6666 6563 7473 2061  strips effects a
-0000ad50: 7265 206e 6f74 2073 7570 706f 7274 6564  re not supported
-0000ad60: 205c 2877 6173 204c 4544 7320 6973 206e   \(was LEDs is n
-0000ad70: 6f74 2074 7572 6e69 6e67 206f 6e20 6166  ot turning on af
-0000ad80: 7465 7220 7377 6974 6368 696e 6720 6f6e  ter switching on
-0000ad90: 5c29 205b 5c23 3139 315d 2868 7474 7073  \) [\#191](https
-0000ada0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-0000adb0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-0000adc0: 2d6b 6173 612f 6973 7375 6573 2f31 3931  -kasa/issues/191
-0000add0: 290a 0a2a 2a4d 6572 6765 6420 7075 6c6c  )..**Merged pull
-0000ade0: 2072 6571 7565 7374 733a 2a2a 0a0a 2d20   requests:**..- 
-0000adf0: 5265 6c65 6173 6520 302e 342e 3220 5b5c  Release 0.4.2 [\
-0000ae00: 2333 3231 5d28 6874 7470 733a 2f2f 6769  #321](https://gi
-0000ae10: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-0000ae20: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-0000ae30: 2f70 756c 6c2f 3332 3129 2028 4072 7974  /pull/321) (@ryt
-0000ae40: 696c 6168 7469 290a 2d20 4164 6420 7079  ilahti).- Add py
-0000ae50: 7570 6772 6164 6520 746f 2043 4920 7275  upgrade to CI ru
-0000ae60: 6e73 205b 5c23 3331 345d 2868 7474 7073  ns [\#314](https
-0000ae70: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-0000ae80: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-0000ae90: 2d6b 6173 612f 7075 6c6c 2f33 3134 2920  -kasa/pull/314) 
-0000aea0: 2840 7279 7469 6c61 6874 6929 0a2d 2044  (@rytilahti).- D
-0000aeb0: 6570 656e 6420 6f6e 2061 7379 6e63 636c  epend on asynccl
-0000aec0: 6963 6b20 5c3e 3d20 3820 5b5c 2333 3132  ick \>= 8 [\#312
-0000aed0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000aee0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-0000aef0: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-0000af00: 6c2f 3331 3229 2028 4072 7974 696c 6168  l/312) (@rytilah
-0000af10: 7469 290a 2d20 4775 6172 6420 656d 6574  ti).- Guard emet
-0000af20: 6572 2061 6363 6573 7365 7320 746f 2061  er accesses to a
-0000af30: 766f 6964 206b 6579 6572 726f 7273 205b  void keyerrors [
-0000af40: 5c23 3330 345d 2868 7474 7073 3a2f 2f67  \#304](https://g
-0000af50: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-0000af60: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-0000af70: 612f 7075 6c6c 2f33 3034 2920 2840 7279  a/pull/304) (@ry
-0000af80: 7469 6c61 6874 6929 0a2d 2063 6c69 3a20  tilahti).- cli: 
-0000af90: 636c 6561 6e75 7020 6469 7363 6f76 6572  cleanup discover
-0000afa0: 2c20 6665 7463 6820 7570 6461 7465 2070  , fetch update p
-0000afb0: 7269 6f72 2064 6576 6963 6520 6163 6365  rior device acce
-0000afc0: 7373 205b 5c23 3330 335d 2868 7474 7073  ss [\#303](https
-0000afd0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-0000afe0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-0000aff0: 2d6b 6173 612f 7075 6c6c 2f33 3033 2920  -kasa/pull/303) 
-0000b000: 2840 7279 7469 6c61 6874 6929 0a2d 2046  (@rytilahti).- F
-0000b010: 6978 2075 6e73 6166 6520 5c5f 5c5f 6465  ix unsafe \_\_de
-0000b020: 6c5c 5f5c 5f20 696e 2054 504c 696e 6b53  l\_\_ in TPLinkS
-0000b030: 6d61 7274 486f 6d65 5072 6f74 6f63 6f6c  martHomeProtocol
-0000b040: 205b 5c23 3330 305d 2868 7474 7073 3a2f   [\#300](https:/
-0000b050: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-0000b060: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-0000b070: 6173 612f 7075 6c6c 2f33 3030 2920 2840  asa/pull/300) (@
-0000b080: 6264 7261 636f 290a 2d20 496d 7072 6f76  bdraco).- Improv
-0000b090: 6520 7479 7069 6e67 2066 6f72 2070 726f  e typing for pro
-0000b0a0: 746f 636f 6c20 636c 6173 7320 5b5c 2332  tocol class [\#2
-0000b0b0: 3839 5d28 6874 7470 733a 2f2f 6769 7468  89](https://gith
-0000b0c0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-0000b0d0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-0000b0e0: 756c 6c2f 3238 3929 2028 4072 7974 696c  ull/289) (@rytil
-0000b0f0: 6168 7469 290a 2d20 4164 6465 6420 6120  ahti).- Added a 
-0000b100: 6669 7874 7572 6520 6669 6c65 2066 6f72  fixture file for
-0000b110: 204b 5332 3230 4d20 5b5c 2332 3733 5d28   KS220M [\#273](
-0000b120: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000b130: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-0000b140: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
-0000b150: 3237 3329 2028 406d 7262 6574 7461 290a  273) (@mrbetta).
-0000b160: 0a23 2320 5b30 2e34 2e31 5d28 6874 7470  .## [0.4.1](http
-0000b170: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-0000b180: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-0000b190: 6e2d 6b61 7361 2f74 7265 652f 302e 342e  n-kasa/tree/0.4.
-0000b1a0: 3129 2028 3230 3232 2d30 312d 3134 290a  1) (2022-01-14).
-0000b1b0: 0a5b 4675 6c6c 2043 6861 6e67 656c 6f67  .[Full Changelog
-0000b1c0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000b1d0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-0000b1e0: 2f70 7974 686f 6e2d 6b61 7361 2f63 6f6d  /python-kasa/com
-0000b1f0: 7061 7265 2f30 2e34 2e30 2e2e 2e30 2e34  pare/0.4.0...0.4
-0000b200: 2e31 290a 0a2a 2a49 6d70 6c65 6d65 6e74  .1)..**Implement
-0000b210: 6564 2065 6e68 616e 6365 6d65 6e74 733a  ed enhancements:
-0000b220: 2a2a 0a0a 2d20 4164 6420 2d2d 7479 7065  **..- Add --type
-0000b230: 206f 7074 696f 6e20 746f 2063 6c69 205b   option to cli [
-0000b240: 5c23 3236 395d 2868 7474 7073 3a2f 2f67  \#269](https://g
-0000b250: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-0000b260: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-0000b270: 612f 7075 6c6c 2f32 3639 2920 2840 7279  a/pull/269) (@ry
-0000b280: 7469 6c61 6874 6929 0a2d 204d 696e 6f72  tilahti).- Minor
-0000b290: 2069 6d70 726f 7665 6d65 6e74 7320 746f   improvements to
-0000b2a0: 206f 6e62 6f61 7264 696e 6720 646f 6320   onboarding doc 
-0000b2b0: 5b5c 2332 3634 5d28 6874 7470 733a 2f2f  [\#264](https://
-0000b2c0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-0000b2d0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-0000b2e0: 7361 2f70 756c 6c2f 3236 3429 2028 4072  sa/pull/264) (@r
-0000b2f0: 7974 696c 6168 7469 290a 2d20 4164 6420  ytilahti).- Add 
-0000b300: 6669 7874 7572 6520 6669 6c65 2066 6f72  fixture file for
-0000b310: 204b 4c31 3335 205b 5c23 3236 335d 2868   KL135 [\#263](h
-0000b320: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000b330: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-0000b340: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f32  thon-kasa/pull/2
-0000b350: 3633 2920 2840 4572 696b 5347 726f 7373  63) (@ErikSGross
-0000b360: 290a 2d20 4164 6420 4b4c 3133 3520 636f  ).- Add KL135 co
-0000b370: 6c6f 7220 7465 6d70 6572 6174 7572 6520  lor temperature 
-0000b380: 7261 6e67 6520 5b5c 2332 3536 5d28 6874  range [\#256](ht
-0000b390: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000b3a0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-0000b3b0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3235  hon-kasa/pull/25
-0000b3c0: 3629 2028 4072 7974 696c 6168 7469 290a  6) (@rytilahti).
-0000b3d0: 2d20 4164 6420 7079 2e74 7970 6564 2074  - Add py.typed t
-0000b3e0: 6f20 666c 6167 2074 6861 7420 7468 6520  o flag that the 
-0000b3f0: 7061 636b 6167 6520 6973 2074 7970 6564  package is typed
-0000b400: 205b 5c23 3235 315d 2868 7474 7073 3a2f   [\#251](https:/
-0000b410: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-0000b420: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-0000b430: 6173 612f 7075 6c6c 2f32 3531 2920 2840  asa/pull/251) (@
-0000b440: 7279 7469 6c61 6874 6929 0a2d 2041 6464  rytilahti).- Add
-0000b450: 2073 6372 6970 7420 746f 2063 6865 636b   script to check
-0000b460: 2073 7570 706f 7274 6564 2064 6576 6963   supported devic
-0000b470: 6573 2c20 7570 6461 7465 2052 4541 444d  es, update READM
-0000b480: 4520 5b5c 2332 3432 5d28 6874 7470 733a  E [\#242](https:
-0000b490: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-0000b4a0: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-0000b4b0: 6b61 7361 2f70 756c 6c2f 3234 3229 2028  kasa/pull/242) (
-0000b4c0: 4072 7974 696c 6168 7469 290a 2d20 4164  @rytilahti).- Ad
-0000b4d0: 6420 7065 7266 7465 7374 2074 6f20 6465  d perftest to de
-0000b4e0: 7674 6f6f 6c73 205b 5c23 3233 365d 2868  vtools [\#236](h
-0000b4f0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000b500: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-0000b510: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f32  thon-kasa/pull/2
-0000b520: 3336 2920 2840 7279 7469 6c61 6874 6929  36) (@rytilahti)
-0000b530: 0a2d 2041 6464 204b 5034 3031 2055 5320  .- Add KP401 US 
-0000b540: 6669 7874 7572 6520 5b5c 2332 3334 5d28  fixture [\#234](
-0000b550: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000b560: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-0000b570: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
-0000b580: 3233 3429 2028 4062 6472 6163 6f29 0a2d  234) (@bdraco).-
-0000b590: 2041 6464 204b 4c36 3020 5553 204b 5031   Add KL60 US KP1
-0000b5a0: 3035 2055 4b20 6669 7874 7572 6520 5b5c  05 UK fixture [\
-0000b5b0: 2332 3333 5d28 6874 7470 733a 2f2f 6769  #233](https://gi
-0000b5c0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-0000b5d0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-0000b5e0: 2f70 756c 6c2f 3233 3329 2028 4062 6472  /pull/233) (@bdr
-0000b5f0: 6163 6f29 0a2d 204d 616b 6520 636c 6920  aco).- Make cli 
-0000b600: 696e 7465 7266 6163 6520 6d6f 7265 2063  interface more c
-0000b610: 6f6e 7369 7374 656e 7420 5b5c 2332 3332  onsistent [\#232
-0000b620: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000b630: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-0000b640: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-0000b650: 6c2f 3233 3229 2028 4072 7974 696c 6168  l/232) (@rytilah
-0000b660: 7469 290a 2d20 4164 6420 4b4c 3430 302c  ti).- Add KL400,
-0000b670: 204b 4c35 3020 6669 7874 7572 6573 205b   KL50 fixtures [
-0000b680: 5c23 3233 315d 2868 7474 7073 3a2f 2f67  \#231](https://g
-0000b690: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-0000b6a0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-0000b6b0: 612f 7075 6c6c 2f32 3331 2920 2840 6264  a/pull/231) (@bd
-0000b6c0: 7261 636f 290a 2d20 4164 6420 6669 7874  raco).- Add fixt
-0000b6d0: 7572 6520 666f 7220 6e65 7765 7220 4b50  ure for newer KP
-0000b6e0: 3430 3020 6669 726d 7761 7265 205b 5c23  400 firmware [\#
-0000b6f0: 3232 375d 2868 7474 7073 3a2f 2f67 6974  227](https://git
-0000b700: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-0000b710: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-0000b720: 7075 6c6c 2f32 3237 2920 2840 6264 7261  pull/227) (@bdra
-0000b730: 636f 290a 2d20 5377 6974 6368 2074 6f20  co).- Switch to 
-0000b740: 706f 6574 7279 2d63 6f72 6520 5b5c 2332  poetry-core [\#2
-0000b750: 3236 5d28 6874 7470 733a 2f2f 6769 7468  26](https://gith
-0000b760: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-0000b770: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-0000b780: 756c 6c2f 3232 3629 2028 4066 6162 6166  ull/226) (@fabaf
-0000b790: 6629 0a2d 2041 6464 2066 6978 7475 7265  f).- Add fixture
-0000b7a0: 7320 666f 7220 4c42 3131 302c 204b 4c31  s for LB110, KL1
-0000b7b0: 3130 2c20 4550 3430 2c20 4b4c 3433 302c  10, EP40, KL430,
-0000b7c0: 204b 5031 3135 205b 5c23 3232 345d 2868   KP115 [\#224](h
-0000b7d0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000b7e0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-0000b7f0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f32  thon-kasa/pull/2
-0000b800: 3234 2920 2840 6264 7261 636f 290a 0a2a  24) (@bdraco)..*
-0000b810: 2a46 6978 6564 2062 7567 733a 2a2a 0a0a  *Fixed bugs:**..
-0000b820: 2d20 4469 7363 6f76 6572 7920 6f6e 2057  - Discovery on W
-0000b830: 534c 2072 6573 756c 7473 2069 6e20 4f53  SL results in OS
-0000b840: 4572 726f 723a 205c 5b45 7272 6e6f 2032  Error: \[Errno 2
-0000b850: 325c 5d20 496e 7661 6c69 6420 6172 6775  2\] Invalid argu
-0000b860: 6d65 6e74 205b 5c23 3234 365d 2868 7474  ment [\#246](htt
-0000b870: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0000b880: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-0000b890: 6f6e 2d6b 6173 612f 6973 7375 6573 2f32  on-kasa/issues/2
-0000b8a0: 3436 290a 2d20 4e65 7720 6669 726d 7761  46).- New firmwa
-0000b8b0: 7265 2066 6f72 2048 5331 3033 2062 6c6f  re for HS103 blo
-0000b8c0: 636b 696e 6720 6c6f 6361 6c20 6163 6365  cking local acce
-0000b8d0: 7373 3f20 5b5c 2334 325d 2868 7474 7073  ss? [\#42](https
-0000b8e0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-0000b8f0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-0000b900: 2d6b 6173 612f 6973 7375 6573 2f34 3229  -kasa/issues/42)
-0000b910: 0a2d 2050 696e 206d 6973 7475 6e65 2074  .- Pin mistune t
-0000b920: 6f20 5c3c 322e 302e 3020 746f 2066 6978  o \<2.0.0 to fix
-0000b930: 2064 6f63 2062 7569 6c64 7320 5b5c 2332   doc builds [\#2
-0000b940: 3730 5d28 6874 7470 733a 2f2f 6769 7468  70](https://gith
-0000b950: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-0000b960: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-0000b970: 756c 6c2f 3237 3029 2028 4072 7974 696c  ull/270) (@rytil
-0000b980: 6168 7469 290a 2d20 4361 7463 6820 6578  ahti).- Catch ex
-0000b990: 6365 7074 696f 6e73 2072 6169 7365 6420  ceptions raised 
-0000b9a0: 6f6e 2075 6e6b 6e6f 776e 2064 6576 6963  on unknown devic
-0000b9b0: 6573 2064 7572 696e 6720 6469 7363 6f76  es during discov
-0000b9c0: 6572 7920 5b5c 2332 3430 5d28 6874 7470  ery [\#240](http
-0000b9d0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-0000b9e0: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-0000b9f0: 6e2d 6b61 7361 2f70 756c 6c2f 3234 3029  n-kasa/pull/240)
-0000ba00: 2028 4072 7974 696c 6168 7469 290a 0a2a   (@rytilahti)..*
-0000ba10: 2a43 6c6f 7365 6420 6973 7375 6573 3a2a  *Closed issues:*
-0000ba20: 2a0a 0a2d 2043 6f6e 7472 6f6c 2064 6576  *..- Control dev
-0000ba30: 6963 6520 7769 7468 2061 6c69 6173 2076  ice with alias v
-0000ba40: 6961 2070 7974 686f 6e20 6170 693f 205b  ia python api? [
-0000ba50: 5c23 3238 355d 2868 7474 7073 3a2f 2f67  \#285](https://g
-0000ba60: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-0000ba70: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-0000ba80: 612f 6973 7375 6573 2f32 3835 290a 2d20  a/issues/285).- 
-0000ba90: 4361 6e27 7420 696e 7374 616c 6c20 7573  Can't install us
-0000baa0: 696e 6720 7069 7020 696e 7374 616c 6c20  ing pip install 
-0000bab0: 7079 7468 6f6e 2d6b 6173 6120 5b5c 2332  python-kasa [\#2
-0000bac0: 3535 5d28 6874 7470 733a 2f2f 6769 7468  55](https://gith
-0000bad0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-0000bae0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f69  sa/python-kasa/i
-0000baf0: 7373 7565 732f 3235 3529 0a2d 204b 6173  ssues/255).- Kas
-0000bb00: 6120 536d 6172 7420 4275 6c62 204b 4c31  a Smart Bulb KL1
-0000bb10: 3335 202d 2055 6e6b 6e6f 776e 2063 6f6c  35 - Unknown col
-0000bb20: 6f72 2074 656d 7065 7261 7475 7265 2072  or temperature r
-0000bb30: 616e 6765 2065 7272 6f72 205b 5c23 3235  ange error [\#25
-0000bb40: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
-0000bb50: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-0000bb60: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
-0000bb70: 7375 6573 2f32 3532 290a 2d20 4b4c 3430  sues/252).- KL40
-0000bb80: 3020 5375 7070 6f72 7420 5b5c 2332 3437  0 Support [\#247
-0000bb90: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000bba0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-0000bbb0: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
-0000bbc0: 7565 732f 3234 3729 0a2d 2043 6c6f 7564  ues/247).- Cloud
-0000bbd0: 2073 7570 706f 7274 3f20 5b5c 2332 3435   support? [\#245
-0000bbe0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000bbf0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-0000bc00: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
-0000bc10: 7565 732f 3234 3529 0a2d 2053 7570 706f  ues/245).- Suppo
-0000bc20: 7274 2066 6f72 206b 7034 3031 205b 5c23  rt for kp401 [\#
-0000bc30: 3234 315d 2868 7474 7073 3a2f 2f67 6974  241](https://git
-0000bc40: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-0000bc50: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-0000bc60: 6973 7375 6573 2f32 3431 290a 2d20 4c42  issues/241).- LB
-0000bc70: 3133 3020 4275 6c62 2073 746f 7070 6564  130 Bulb stopped
-0000bc80: 2077 6f72 6b69 6e67 205b 5c23 3233 375d   working [\#237]
-0000bc90: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000bca0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-0000bcb0: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
-0000bcc0: 6573 2f32 3337 290a 2d20 556e 6162 6c65  es/237).- Unable
-0000bcd0: 2074 6f20 636f 6e73 7461 6e74 6c79 2071   to constantly q
-0000bce0: 7565 7279 2062 756c 6220 696e 206c 6f6f  uery bulb in loo
-0000bcf0: 7020 5b5c 2332 3235 5d28 6874 7470 733a  p [\#225](https:
+0000a0c0: 2f70 756c 6c2f 3530 3729 2028 4073 6462  /pull/507) (@sdb
+0000a0d0: 3936 3936 290a 2d20 4164 6420 7375 7070  9696).- Add supp
+0000a0e0: 6f72 7420 666f 7220 7079 6461 6e74 6963  ort for pydantic
+0000a0f0: 2076 3220 7573 696e 6720 7631 2073 6869   v2 using v1 shi
+0000a100: 6d73 205b 5c23 3530 345d 2868 7474 7073  ms [\#504](https
+0000a110: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+0000a120: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+0000a130: 2d6b 6173 612f 7075 6c6c 2f35 3034 2920  -kasa/pull/504) 
+0000a140: 2840 7279 7469 6c61 6874 6929 0a2d 2053  (@rytilahti).- S
+0000a150: 706c 6974 2071 7565 7269 6573 2074 6f20  plit queries to 
+0000a160: 6176 6f69 6420 6f76 6572 666c 6f77 696e  avoid overflowin
+0000a170: 6720 6465 7669 6365 2062 7566 6665 7273  g device buffers
+0000a180: 205b 5c23 3530 325d 2868 7474 7073 3a2f   [\#502](https:/
+0000a190: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+0000a1a0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+0000a1b0: 6173 612f 7075 6c6c 2f35 3032 2920 2840  asa/pull/502) (@
+0000a1c0: 636f 6272 7961 6e30 3529 0a2d 2041 6464  cobryan05).- Add
+0000a1d0: 2074 6f67 676c 6520 636f 6d6d 616e 6420   toggle command 
+0000a1e0: 746f 2063 6c69 205b 5c23 3439 385d 2868  to cli [\#498](h
+0000a1f0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000a200: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+0000a210: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f34  thon-kasa/pull/4
+0000a220: 3938 2920 2840 6e6f 726d 616e 7229 0a2d  98) (@normanr).-
+0000a230: 2041 6464 2073 7570 706f 7274 2066 6f72   Add support for
+0000a240: 2061 6c74 6572 6e61 7469 7665 2064 6973   alternative dis
+0000a250: 636f 7665 7279 2070 726f 746f 636f 6c20  covery protocol 
+0000a260: 5c28 3230 3030 322f 7564 705c 2920 5b5c  \(20002/udp\) [\
+0000a270: 2334 3838 5d28 6874 7470 733a 2f2f 6769  #488](https://gi
+0000a280: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+0000a290: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+0000a2a0: 2f70 756c 6c2f 3438 3829 2028 4073 6462  /pull/488) (@sdb
+0000a2b0: 3936 3936 290a 2d20 4164 6420 6469 7363  9696).- Add disc
+0000a2c0: 6f76 6572 7920 7469 6d65 6f75 7420 7061  overy timeout pa
+0000a2d0: 7261 6d65 7465 7220 5b5c 2334 3836 5d28  rameter [\#486](
+0000a2e0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0000a2f0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+0000a300: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+0000a310: 3438 3629 2028 4073 6462 3936 3936 290a  486) (@sdb9696).
+0000a320: 2d20 4164 6420 6465 7674 6f6f 6c73 2073  - Add devtools s
+0000a330: 6372 6970 7420 746f 2063 7265 6174 6520  cript to create 
+0000a340: 6d6f 6475 6c65 2066 6978 7475 7265 7320  module fixtures 
+0000a350: 5b5c 2334 3034 5d28 6874 7470 733a 2f2f  [\#404](https://
+0000a360: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+0000a370: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+0000a380: 7361 2f70 756c 6c2f 3430 3429 2028 4072  sa/pull/404) (@r
+0000a390: 7974 696c 6168 7469 290a 2d20 4d61 6b65  ytilahti).- Make
+0000a3a0: 2074 696d 656f 7574 2061 646a 7573 7461   timeout adjusta
+0000a3b0: 626c 6520 5b5c 2334 3934 5d28 6874 7470  ble [\#494](http
+0000a3c0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+0000a3d0: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+0000a3e0: 6e2d 6b61 7361 2f70 756c 6c2f 3439 3429  n-kasa/pull/494)
+0000a3f0: 2028 4062 6472 6163 6f29 0a0a 2a2a 4669   (@bdraco)..**Fi
+0000a400: 7865 6420 6275 6773 3a2a 2a0a 0a2d 2046  xed bugs:**..- F
+0000a410: 6978 206f 6e5c 5f73 696e 6365 2066 6f72  ix on\_since for
+0000a420: 2073 6d61 7274 7374 7269 7020 736f 636b   smartstrip sock
+0000a430: 6574 7320 5b5c 2335 3239 5d28 6874 7470  ets [\#529](http
+0000a440: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+0000a450: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+0000a460: 6e2d 6b61 7361 2f70 756c 6c2f 3532 3929  n-kasa/pull/529)
+0000a470: 2028 4072 7974 696c 6168 7469 290a 2d20   (@rytilahti).- 
+0000a480: 4669 7820 6576 6572 7920 6f74 6865 7220  Fix every other 
+0000a490: 7175 6572 7920 7472 6965 7320 746f 2066  query tries to f
+0000a4a0: 6574 6368 206b 6e6f 776e 2075 6e73 7570  etch known unsup
+0000a4b0: 706f 7274 6564 2066 6561 7475 7265 7320  ported features 
+0000a4c0: 5b5c 2335 3230 5d28 6874 7470 733a 2f2f  [\#520](https://
+0000a4d0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+0000a4e0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+0000a4f0: 7361 2f70 756c 6c2f 3532 3029 2028 4062  sa/pull/520) (@b
+0000a500: 6472 6163 6f29 0a0a 2a2a 446f 6375 6d65  draco)..**Docume
+0000a510: 6e74 6174 696f 6e20 7570 6461 7465 733a  ntation updates:
+0000a520: 2a2a 0a0a 2d20 4d61 726b 204b 5332 7b32  **..- Mark KS2{2
+0000a530: 307d 4d20 6173 2070 6172 7469 616c 6c79  0}M as partially
+0000a540: 2073 7570 706f 7274 6564 205b 5c23 3530   supported [\#50
+0000a550: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
+0000a560: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+0000a570: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+0000a580: 6c6c 2f35 3038 2920 2840 6c73 6368 7765  ll/508) (@lschwe
+0000a590: 6973 7329 0a2d 2044 6f63 756d 656e 7420  iss).- Document 
+0000a5a0: 636c 6920 746f 6f6c 202d 2d74 6172 6765  cli tool --targe
+0000a5b0: 7420 666f 7220 6469 7363 6f76 6572 7920  t for discovery 
+0000a5c0: 5b5c 2334 3937 5d28 6874 7470 733a 2f2f  [\#497](https://
+0000a5d0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+0000a5e0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+0000a5f0: 7361 2f70 756c 6c2f 3439 3729 2028 4072  sa/pull/497) (@r
+0000a600: 7974 696c 6168 7469 290a 0a2a 2a43 6c6f  ytilahti)..**Clo
+0000a610: 7365 6420 6973 7375 6573 3a2a 2a0a 0a2d  sed issues:**..-
+0000a620: 2045 7272 6f72 2072 756e 6e69 6e67 206b   Error running k
+0000a630: 6173 6120 636f 6d6d 616e 6420 6f6e 2074  asa command on t
+0000a640: 6865 2052 6173 7062 6572 7279 2050 4920  he Raspberry PI 
+0000a650: 5b5c 2335 3235 5d28 6874 7470 733a 2f2f  [\#525](https://
+0000a660: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+0000a670: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+0000a680: 7361 2f69 7373 7565 732f 3532 3529 0a2d  sa/issues/525).-
+0000a690: 2049 6e73 7461 6c6c 6174 696f 6e20 5072   Installation Pr
+0000a6a0: 6f62 6c65 6d73 205c 2850 7974 686f 6e20  oblems \(Python 
+0000a6b0: 5665 7273 696f 6e3f 5c29 205b 5c23 3532  Version?\) [\#52
+0000a6c0: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
+0000a6d0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+0000a6e0: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
+0000a6f0: 7375 6573 2f35 3233 290a 2d20 5768 6174  sues/523).- What
+0000a700: 2061 7265 2074 6865 2075 6e69 7473 2069   are the units i
+0000a710: 6e20 7468 6520 656d 6574 6572 2072 6561  n the emeter rea
+0000a720: 6469 6e67 733f 205b 5c23 3531 345d 2868  dings? [\#514](h
+0000a730: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000a740: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+0000a750: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
+0000a760: 2f35 3134 290a 2d20 5365 7420 416c 6961  /514).- Set Alia
+0000a770: 7320 7669 6120 436f 6d6d 616e 6420 4c69  s via Command Li
+0000a780: 6e65 205b 5c23 3531 315d 2868 7474 7073  ne [\#511](https
+0000a790: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+0000a7a0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+0000a7b0: 2d6b 6173 612f 6973 7375 6573 2f35 3131  -kasa/issues/511
+0000a7c0: 290a 2d20 486f 7720 646f 2049 206b 6e6f  ).- How do I kno
+0000a7d0: 7720 6966 206d 7920 6465 7669 6365 2073  w if my device s
+0000a7e0: 7570 706f 7274 7320 656d 6574 6572 3f20  upports emeter? 
+0000a7f0: 5b5c 2335 3130 5d28 6874 7470 733a 2f2f  [\#510](https://
+0000a800: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+0000a810: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+0000a820: 7361 2f69 7373 7565 732f 3531 3029 0a2d  sa/issues/510).-
+0000a830: 2047 6574 7469 6e67 2049 6e76 616c 6964   Getting Invalid
+0000a840: 204b 6579 4572 726f 7220 7768 656e 2067   KeyError when g
+0000a850: 6574 7469 6e67 2073 7973 696e 666f 206f  etting sysinfo o
+0000a860: 6e20 616e 2045 5034 3020 6465 7669 6365  n an EP40 device
+0000a870: 205b 5c23 3530 305d 2868 7474 7073 3a2f   [\#500](https:/
+0000a880: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+0000a890: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+0000a8a0: 6173 612f 6973 7375 6573 2f35 3030 290a  asa/issues/500).
+0000a8b0: 2d20 5275 6e6e 696e 6720 6b61 7361 2064  - Running kasa d
+0000a8c0: 6973 636f 7665 7220 6f6e 2073 7562 6e65  iscover on subne
+0000a8d0: 7420 6272 6f61 6463 6173 7473 206f 6e6c  t broadcasts onl
+0000a8e0: 7920 5b5c 2334 3936 5d28 6874 7470 733a  y [\#496](https:
+0000a8f0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+0000a900: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+0000a910: 6b61 7361 2f69 7373 7565 732f 3439 3629  kasa/issues/496)
+0000a920: 0a2d 2046 6169 6c65 6420 746f 2064 6973  .- Failed to dis
+0000a930: 636f 7665 7220 6b61 7361 2073 7769 7463  cover kasa switc
+0000a940: 6873 206f 6e20 7468 6520 6e65 7477 6f72  hs on the networ
+0000a950: 6b20 5b5c 2334 3935 5d28 6874 7470 733a  k [\#495](https:
+0000a960: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+0000a970: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+0000a980: 6b61 7361 2f69 7373 7565 732f 3439 3529  kasa/issues/495)
+0000a990: 0a2d 205c 5b46 6561 7475 7265 2052 6571  .- \[Feature Req
+0000a9a0: 7565 7374 5c5d 2041 6464 2061 2074 6f67  uest\] Add a tog
+0000a9b0: 676c 6520 636f 6d6d 616e 6420 5b5c 2334  gle command [\#4
+0000a9c0: 3932 5d28 6874 7470 733a 2f2f 6769 7468  92](https://gith
+0000a9d0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+0000a9e0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f69  sa/python-kasa/i
+0000a9f0: 7373 7565 732f 3439 3229 0a2d 205c 5b46  ssues/492).- \[F
+0000aa00: 6561 7475 7265 2052 6571 7565 7374 5c5d  eature Request\]
+0000aa10: 2050 7964 616e 7469 6320 322e 302b 2053   Pydantic 2.0+ S
+0000aa20: 7570 706f 7274 205b 5c23 3439 315d 2868  upport [\#491](h
+0000aa30: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000aa40: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+0000aa50: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
+0000aa60: 2f34 3931 290a 2d20 5375 7070 6f72 7420  /491).- Support 
+0000aa70: 666f 7220 4550 3130 2050 6c75 6720 5b5c  for EP10 Plug [\
+0000aa80: 2331 3730 5d28 6874 7470 733a 2f2f 6769  #170](https://gi
+0000aa90: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+0000aaa0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+0000aab0: 2f69 7373 7565 732f 3137 3029 0a2d 205c  /issues/170).- \
+0000aac0: 5b52 6571 7565 7374 5c5d 204e 6577 2072  [Request\] New r
+0000aad0: 656c 6561 7365 2074 6f20 7069 703f 205b  elease to pip? [
+0000aae0: 5c23 3531 385d 2868 7474 7073 3a2f 2f67  \#518](https://g
+0000aaf0: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+0000ab00: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+0000ab10: 612f 6973 7375 6573 2f35 3138 290a 0a2a  a/issues/518)..*
+0000ab20: 2a4d 6572 6765 6420 7075 6c6c 2072 6571  *Merged pull req
+0000ab30: 7565 7374 733a 2a2a 0a0a 2d20 5265 6c65  uests:**..- Rele
+0000ab40: 6173 6520 302e 352e 3420 5b5c 2335 3336  ase 0.5.4 [\#536
+0000ab50: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000ab60: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+0000ab70: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+0000ab80: 6c2f 3533 3629 2028 4072 7974 696c 6168  l/536) (@rytilah
+0000ab90: 7469 290a 2d20 5573 6520 7275 6666 2061  ti).- Use ruff a
+0000aba0: 6e64 2072 7566 6620 666f 726d 6174 205b  nd ruff format [
+0000abb0: 5c23 3533 345d 2868 7474 7073 3a2f 2f67  \#534](https://g
+0000abc0: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+0000abd0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+0000abe0: 612f 7075 6c6c 2f35 3334 2920 2840 7279  a/pull/534) (@ry
+0000abf0: 7469 6c61 6874 6929 0a2d 2041 6464 2070  tilahti).- Add p
+0000ac00: 7974 686f 6e33 2e31 3220 616e 6420 7079  ython3.12 and py
+0000ac10: 7079 2d33 2e31 3020 746f 2043 4920 5b5c  py-3.10 to CI [\
+0000ac20: 2335 3332 5d28 6874 7470 733a 2f2f 6769  #532](https://gi
+0000ac30: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+0000ac40: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+0000ac50: 2f70 756c 6c2f 3533 3229 2028 4072 7974  /pull/532) (@ryt
+0000ac60: 696c 6168 7469 290a 2d20 5573 6520 7472  ilahti).- Use tr
+0000ac70: 7573 7465 6420 7075 626c 6973 6865 7220  usted publisher 
+0000ac80: 666f 7220 7075 626c 6973 6869 6e67 2074  for publishing t
+0000ac90: 6f20 7079 7069 205b 5c23 3533 315d 2868  o pypi [\#531](h
+0000aca0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000acb0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+0000acc0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f35  thon-kasa/pull/5
+0000acd0: 3331 2920 2840 7279 7469 6c61 6874 6929  31) (@rytilahti)
+0000ace0: 0a2d 2052 656d 6f76 6520 636f 6465 2074  .- Remove code t
+0000acf0: 6f20 6465 7465 6374 2065 7665 6e74 206c  o detect event l
+0000ad00: 6f6f 7020 6368 616e 6765 205b 5c23 3532  oop change [\#52
+0000ad10: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
+0000ad20: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+0000ad30: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+0000ad40: 6c6c 2f35 3236 2920 2840 6264 7261 636f  ll/526) (@bdraco
+0000ad50: 290a 2d20 436f 6e76 6572 7420 7265 6164  ).- Convert read
+0000ad60: 7468 6564 6f63 7320 636f 6e66 6967 2074  thedocs config t
+0000ad70: 6f20 7632 205b 5c23 3530 355d 2868 7474  o v2 [\#505](htt
+0000ad80: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000ad90: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+0000ada0: 6f6e 2d6b 6173 612f 7075 6c6c 2f35 3035  on-kasa/pull/505
+0000adb0: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
+0000adc0: 2041 6464 206e 6577 2048 5331 3030 5c28   Add new HS100\(
+0000add0: 554b 5c29 2066 6978 7475 7265 205b 5c23  UK\) fixture [\#
+0000ade0: 3438 395d 2868 7474 7073 3a2f 2f67 6974  489](https://git
+0000adf0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+0000ae00: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+0000ae10: 7075 6c6c 2f34 3839 2920 2840 7364 6239  pull/489) (@sdb9
+0000ae20: 3639 3629 0a2d 2055 7064 6174 6520 7079  696).- Update py
+0000ae30: 7072 6f6a 6563 742e 746f 6d6c 2069 736f  project.toml iso
+0000ae40: 7274 2070 726f 6669 6c65 2c20 6465 7620  rt profile, dev 
+0000ae50: 6772 6f75 7020 6865 6164 6572 2061 6e64  group header and
+0000ae60: 2070 6f65 7472 792e 6c6f 636b 205b 5c23   poetry.lock [\#
+0000ae70: 3438 375d 2868 7474 7073 3a2f 2f67 6974  487](https://git
+0000ae80: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+0000ae90: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+0000aea0: 7075 6c6c 2f34 3837 2920 2840 7364 6239  pull/487) (@sdb9
+0000aeb0: 3639 3629 0a0a 2323 205b 302e 352e 335d  696)..## [0.5.3]
+0000aec0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000aed0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+0000aee0: 7079 7468 6f6e 2d6b 6173 612f 7472 6565  python-kasa/tree
+0000aef0: 2f30 2e35 2e33 2920 2832 3032 332d 3037  /0.5.3) (2023-07
+0000af00: 2d32 3329 0a0a 5b46 756c 6c20 4368 616e  -23)..[Full Chan
+0000af10: 6765 6c6f 675d 2868 7474 7073 3a2f 2f67  gelog](https://g
+0000af20: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+0000af30: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+0000af40: 612f 636f 6d70 6172 652f 302e 352e 322e  a/compare/0.5.2.
+0000af50: 2e2e 302e 352e 3329 0a0a 5468 6973 2072  ..0.5.3)..This r
+0000af60: 656c 6561 7365 2061 6464 7320 7375 7070  elease adds supp
+0000af70: 6f72 7420 666f 7220 6465 6669 6e69 6e67  ort for defining
+0000af80: 2074 6865 2064 6576 6963 6520 706f 7274   the device port
+0000af90: 2061 6e64 2069 6e74 726f 6475 6365 7320   and introduces 
+0000afa0: 6465 7065 6e64 656e 6379 206f 6e20 6173  dependency on as
+0000afb0: 796e 632d 7469 6d65 6f75 7420 7768 6963  ync-timeout whic
+0000afc0: 6820 696d 7072 6f76 6573 2074 696d 656f  h improves timeo
+0000afd0: 7574 2068 616e 646c 696e 672e 0a0a 2a2a  ut handling...**
+0000afe0: 496d 706c 656d 656e 7465 6420 656e 6861  Implemented enha
+0000aff0: 6e63 656d 656e 7473 3a2a 2a0a 0a2d 204d  ncements:**..- M
+0000b000: 616b 6520 6465 7669 6365 2070 6f72 7420  ake device port 
+0000b010: 636f 6e66 6967 7572 6162 6c65 205b 5c23  configurable [\#
+0000b020: 3437 315d 2868 7474 7073 3a2f 2f67 6974  471](https://git
+0000b030: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+0000b040: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+0000b050: 7075 6c6c 2f34 3731 2920 2840 6b61 7270  pull/471) (@karp
+0000b060: 6163 6829 0a0a 2a2a 4669 7865 6420 6275  ach)..**Fixed bu
+0000b070: 6773 3a2a 2a0a 0a2d 2052 6570 6c61 6365  gs:**..- Replace
+0000b080: 2061 7379 6e63 696f 2e77 6169 745c 5f66   asyncio.wait\_f
+0000b090: 6f72 2077 6974 6820 6173 796e 632d 7469  or with async-ti
+0000b0a0: 6d65 6f75 7420 5b5c 2334 3830 5d28 6874  meout [\#480](ht
+0000b0b0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000b0c0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+0000b0d0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3438  hon-kasa/pull/48
+0000b0e0: 3029 2028 4062 6472 6163 6f29 0a0a 2a2a  0) (@bdraco)..**
+0000b0f0: 4d65 7267 6564 2070 756c 6c20 7265 7175  Merged pull requ
+0000b100: 6573 7473 3a2a 2a0a 0a2d 2052 656c 6561  ests:**..- Relea
+0000b110: 7365 2030 2e35 2e33 205b 5c23 3438 355d  se 0.5.3 [\#485]
+0000b120: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000b130: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+0000b140: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+0000b150: 2f34 3835 2920 2840 7279 7469 6c61 6874  /485) (@rytilaht
+0000b160: 6929 0a2d 2041 6464 2074 6573 7473 2066  i).- Add tests f
+0000b170: 6f72 204b 5032 3030 205b 5c23 3438 335d  or KP200 [\#483]
+0000b180: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000b190: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+0000b1a0: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+0000b1b0: 2f34 3833 2920 2840 6264 7261 636f 290a  /483) (@bdraco).
+0000b1c0: 2d20 5570 6461 7465 2070 7979 616d 6c20  - Update pyyaml 
+0000b1d0: 746f 2066 6978 2043 4920 5b5c 2334 3832  to fix CI [\#482
+0000b1e0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000b1f0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+0000b200: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+0000b210: 6c2f 3438 3229 2028 4062 6472 6163 6f29  l/482) (@bdraco)
+0000b220: 0a0a 2323 205b 302e 352e 325d 2868 7474  ..## [0.5.2](htt
+0000b230: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000b240: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+0000b250: 6f6e 2d6b 6173 612f 7472 6565 2f30 2e35  on-kasa/tree/0.5
+0000b260: 2e32 2920 2832 3032 332d 3037 2d30 3229  .2) (2023-07-02)
+0000b270: 0a0a 5b46 756c 6c20 4368 616e 6765 6c6f  ..[Full Changelo
+0000b280: 675d 2868 7474 7073 3a2f 2f67 6974 6875  g](https://githu
+0000b290: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+0000b2a0: 612f 7079 7468 6f6e 2d6b 6173 612f 636f  a/python-kasa/co
+0000b2b0: 6d70 6172 652f 302e 352e 312e 2e2e 302e  mpare/0.5.1...0.
+0000b2c0: 352e 3229 0a0a 4265 7369 6465 7320 736f  5.2)..Besides so
+0000b2d0: 6d65 2073 6d61 6c6c 2069 6d70 726f 7665  me small improve
+0000b2e0: 6d65 6e74 732c 2074 6869 7320 7265 6c65  ments, this rele
+0000b2f0: 6173 653a 0d0a 2a20 4164 6473 206f 7074  ase:..* Adds opt
+0000b300: 696f 6e61 6c20 6465 7065 6e64 656e 6379  ional dependency
+0000b310: 2066 6f72 2066 6f72 2060 6f72 6a73 6f6e   for for `orjson
+0000b320: 6020 616e 6420 606b 6173 612d 6372 7970  ` and `kasa-cryp
+0000b330: 7460 2074 6f20 7370 6565 642d 7570 2070  t` to speed-up p
+0000b340: 726f 746f 636f 6c20 6861 6e64 6c69 6e67  rotocol handling
+0000b350: 2062 7920 616e 206f 7264 6572 206f 6620   by an order of 
+0000b360: 6d61 676e 6974 7564 652e 0d0a 2a20 4472  magnitude...* Dr
+0000b370: 6f70 7320 5079 7468 6f6e 2033 2e37 2073  ops Python 3.7 s
+0000b380: 7570 706f 7274 2061 7320 6974 2069 7320  upport as it is 
+0000b390: 6e6f 206c 6f6e 6765 7220 6d61 696e 7461  no longer mainta
+0000b3a0: 696e 6564 2e0a 0a2a 2a42 7265 616b 696e  ined...**Breakin
+0000b3b0: 6720 6368 616e 6765 733a 2a2a 0a0a 2d20  g changes:**..- 
+0000b3c0: 4472 6f70 2070 7974 686f 6e20 332e 3720  Drop python 3.7 
+0000b3d0: 7375 7070 6f72 7420 5b5c 2334 3535 5d28  support [\#455](
+0000b3e0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0000b3f0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+0000b400: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+0000b410: 3435 3529 2028 4072 7974 696c 6168 7469  455) (@rytilahti
+0000b420: 290a 0a2a 2a49 6d70 6c65 6d65 6e74 6564  )..**Implemented
+0000b430: 2065 6e68 616e 6365 6d65 6e74 733a 2a2a   enhancements:**
+0000b440: 0a0a 2d20 5573 6520 6f72 6a73 6f6e 2077  ..- Use orjson w
+0000b450: 6865 6e20 616c 7265 6164 7920 696e 7374  hen already inst
+0000b460: 616c 6c65 6420 6f72 2077 6974 6820 7370  alled or with sp
+0000b470: 6565 6475 7073 2065 7874 7261 205b 5c23  eedups extra [\#
+0000b480: 3436 365d 2868 7474 7073 3a2f 2f67 6974  466](https://git
+0000b490: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+0000b4a0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+0000b4b0: 7075 6c6c 2f34 3636 2920 2840 6264 7261  pull/466) (@bdra
+0000b4c0: 636f 290a 2d20 4164 6420 6f70 7469 6f6e  co).- Add option
+0000b4d0: 616c 206b 6173 612d 6372 7970 7420 6465  al kasa-crypt de
+0000b4e0: 7065 6e64 656e 6379 2066 6f72 2073 7065  pendency for spe
+0000b4f0: 6564 7570 7320 5b5c 2334 3634 5d28 6874  edups [\#464](ht
+0000b500: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000b510: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+0000b520: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3436  hon-kasa/pull/46
+0000b530: 3429 2028 4062 6472 6163 6f29 0a2d 2041  4) (@bdraco).- A
+0000b540: 6464 2069 6e61 6374 6976 6974 7920 7365  dd inactivity se
+0000b550: 7474 696e 6720 666f 7220 7468 6520 6d6f  tting for the mo
+0000b560: 7469 6f6e 206d 6f64 756c 6520 5b5c 2334  tion module [\#4
+0000b570: 3533 5d28 6874 7470 733a 2f2f 6769 7468  53](https://gith
+0000b580: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+0000b590: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+0000b5a0: 756c 6c2f 3435 3329 2028 4072 7974 696c  ull/453) (@rytil
+0000b5b0: 6168 7469 290a 2d20 4164 6420 6d65 7468  ahti).- Add meth
+0000b5c0: 6f64 7320 746f 2063 6f6e 6669 6775 7265  ods to configure
+0000b5d0: 2064 696d 6d65 7220 7365 7474 696e 6773   dimmer settings
+0000b5e0: 205b 5c23 3432 395d 2868 7474 7073 3a2f   [\#429](https:/
+0000b5f0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+0000b600: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+0000b610: 6173 612f 7075 6c6c 2f34 3239 2920 2840  asa/pull/429) (@
+0000b620: 7279 7469 6c61 6874 6929 0a0a 2a2a 4669  rytilahti)..**Fi
+0000b630: 7865 6420 6275 6773 3a2a 2a0a 0a2d 2052  xed bugs:**..- R
+0000b640: 6571 7565 7374 2066 6f72 204b 5034 3035  equest for KP405
+0000b650: 2053 7570 706f 7274 202d 2044 696d 6d61   Support - Dimma
+0000b660: 626c 6520 506c 7567 205b 5c23 3436 395d  ble Plug [\#469]
+0000b670: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000b680: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+0000b690: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
+0000b6a0: 6573 2f34 3639 290a 2d20 4973 7375 6520  es/469).- Issue 
+0000b6b0: 7072 696e 7469 6e67 2064 6576 6963 6520  printing device 
+0000b6c0: 696e 206f 6e5c 5f64 6973 636f 7665 7265  in on\_discovere
+0000b6d0: 643a 2070 7964 616e 7469 632e 6572 726f  d: pydantic.erro
+0000b6e0: 725c 5f77 7261 7070 6572 732e 5661 6c69  r\_wrappers.Vali
+0000b6f0: 6461 7469 6f6e 4572 726f 723a 2033 2076  dationError: 3 v
+0000b700: 616c 6964 6174 696f 6e20 6572 726f 7273  alidation errors
+0000b710: 2066 6f72 2053 6d61 7274 4275 6c62 5072   for SmartBulbPr
+0000b720: 6573 6574 205b 5c23 3433 395d 2868 7474  eset [\#439](htt
+0000b730: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000b740: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+0000b750: 6f6e 2d6b 6173 612f 6973 7375 6573 2f34  on-kasa/issues/4
+0000b760: 3339 290a 2d20 506f 7373 6962 6c65 2066  39).- Possible f
+0000b770: 6972 6d77 6172 6520 6973 7375 6520 7769  irmware issue wi
+0000b780: 7468 204b 4c31 3235 205c 2831 2e30 2e37  th KL125 \(1.0.7
+0000b790: 2042 7569 6c64 2032 3131 3030 3920 5265   Build 211009 Re
+0000b7a0: 6c2e 3137 3230 3434 5c29 205b 5c23 3334  l.172044\) [\#34
+0000b7b0: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
+0000b7c0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+0000b7d0: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
+0000b7e0: 7375 6573 2f33 3435 290a 2d20 4578 636c  sues/345).- Excl
+0000b7f0: 7564 6520 7175 6572 7969 6e67 2063 6572  ude querying cer
+0000b800: 7461 696e 206d 6f64 756c 6573 2066 6f72  tain modules for
+0000b810: 204b 4c31 3235 5c28 5553 5c29 2077 6869   KL125\(US\) whi
+0000b820: 6368 2063 6175 7365 2063 7261 7368 6573  ch cause crashes
+0000b830: 2020 5b5c 2334 3531 5d28 6874 7470 733a    [\#451](https:
+0000b840: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+0000b850: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+0000b860: 6b61 7361 2f70 756c 6c2f 3435 3129 2028  kasa/pull/451) (
+0000b870: 4062 7269 616e 7468 6564 6176 6973 290a  @brianthedavis).
+0000b880: 2d20 5265 7475 726e 2072 6573 756c 7420  - Return result 
+0000b890: 6f62 6a65 6374 7320 666f 7220 636c 6920  objects for cli 
+0000b8a0: 6469 7363 6f76 6572 2061 6e64 2069 6d70  discover and imp
+0000b8b0: 6c69 6369 7420 2773 7461 7465 2720 5b5c  licit 'state' [\
+0000b8c0: 2334 3436 5d28 6874 7470 733a 2f2f 6769  #446](https://gi
+0000b8d0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+0000b8e0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+0000b8f0: 2f70 756c 6c2f 3434 3629 2028 4072 7974  /pull/446) (@ryt
+0000b900: 696c 6168 7469 290a 2d20 416c 6c6f 7720  ilahti).- Allow 
+0000b910: 6566 6665 6374 2070 7265 7365 7473 2073  effect presets s
+0000b920: 6565 6e20 6f6e 206c 6967 6874 2073 7472  een on light str
+0000b930: 6970 7320 5b5c 2334 3430 5d28 6874 7470  ips [\#440](http
+0000b940: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+0000b950: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+0000b960: 6e2d 6b61 7361 2f70 756c 6c2f 3434 3029  n-kasa/pull/440)
+0000b970: 2028 4072 7974 696c 6168 7469 290a 0a2a   (@rytilahti)..*
+0000b980: 2a43 6c6f 7365 6420 6973 7375 6573 3a2a  *Closed issues:*
+0000b990: 2a0a 0a2d 2050 6f77 6572 7368 656c 6c20  *..- Powershell 
+0000b9a0: 7665 7273 696f 6e3f 205b 5c23 3436 315d  version? [\#461]
+0000b9b0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000b9c0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+0000b9d0: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
+0000b9e0: 6573 2f34 3631 290a 2d20 4164 6420 6073  es/461).- Add `s
+0000b9f0: 6574 5f63 6f6c 645f 7469 6d65 6020 746f  et_cold_time` to
+0000ba00: 204d 6f74 696f 6e20 6d6f 6475 6c65 205b   Motion module [
+0000ba10: 5c23 3435 325d 2868 7474 7073 3a2f 2f67  \#452](https://g
+0000ba20: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+0000ba30: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+0000ba40: 612f 6973 7375 6573 2f34 3532 290a 2d20  a/issues/452).- 
+0000ba50: 4469 7363 6f76 6572 2e64 6973 636f 7665  Discover.discove
+0000ba60: 725c 285c 2920 6f6e 6c79 2072 6574 7572  r\(\) only retur
+0000ba70: 6e69 6e67 2069 7020 6164 7265 7373 206f  ning ip adress o
+0000ba80: 6e20 6570 3130 206f 7574 6c65 7420 5b5c  n ep10 outlet [\
+0000ba90: 2334 3437 5d28 6874 7470 733a 2f2f 6769  #447](https://gi
+0000baa0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+0000bab0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+0000bac0: 2f69 7373 7565 732f 3434 3729 0a2d 2051  /issues/447).- Q
+0000bad0: 7565 7279 2063 7572 7265 6e74 2077 6966  uery current wif
+0000bae0: 6920 636f 6e66 6967 3f20 5b5c 2334 3435  i config? [\#445
+0000baf0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000bb00: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+0000bb10: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
+0000bb20: 7565 732f 3434 3529 0a2d 2062 756c 622e  ues/445).- bulb.
+0000bb30: 7475 726e 5c5f 6f66 6620 6d61 6b69 6e67  turn\_off making
+0000bb40: 2064 6576 6963 6520 756e 6469 7363 6f76   device undiscov
+0000bb50: 6572 6162 6c65 205b 5c23 3434 345d 2868  erable [\#444](h
+0000bb60: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000bb70: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+0000bb80: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
+0000bb90: 2f34 3434 290a 2d20 6265 7374 2070 7269  /444).- best pri
+0000bba0: 7661 6379 2070 7261 6374 6963 6573 2066  vacy practices f
+0000bbb0: 6f72 204b 6173 6120 6465 7669 6365 7320  or Kasa devices 
+0000bbc0: 5b5c 2334 3338 5d28 6874 7470 733a 2f2f  [\#438](https://
+0000bbd0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+0000bbe0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+0000bbf0: 7361 2f69 7373 7565 732f 3433 3829 0a2d  sa/issues/438).-
+0000bc00: 2041 6363 6573 7320 6465 7669 6365 2066   Access device f
+0000bc10: 726f 6d20 6469 6666 6572 656e 7420 6e65  rom different ne
+0000bc20: 7477 6f72 6b20 5b5c 2334 3234 5d28 6874  twork [\#424](ht
+0000bc30: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000bc40: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+0000bc50: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
+0000bc60: 3432 3429 0a2d 204c 6f74 7320 6f66 2074  424).- Lots of t
+0000bc70: 6573 7420 6661 696c 7572 6520 7769 7468  est failure with
+0000bc80: 2030 2e35 2e30 205b 5c23 3431 315d 2868   0.5.0 [\#411](h
+0000bc90: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000bca0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+0000bcb0: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
+0000bcc0: 2f34 3131 290a 0a2a 2a4d 6572 6765 6420  /411)..**Merged 
+0000bcd0: 7075 6c6c 2072 6571 7565 7374 733a 2a2a  pull requests:**
+0000bce0: 0a0a 2d20 5265 6c65 6173 6520 302e 352e  ..- Release 0.5.
+0000bcf0: 3220 5b5c 2334 3735 5d28 6874 7470 733a  2 [\#475](https:
 0000bd00: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
 0000bd10: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-0000bd20: 6b61 7361 2f69 7373 7565 732f 3232 3529  kasa/issues/225)
-0000bd30: 0a2d 2048 5331 3033 3a20 556e 6162 6c65  .- HS103: Unable
-0000bd40: 2074 6f20 7175 6572 7920 7468 6520 6465   to query the de
-0000bd50: 7669 6365 3a20 756e 7061 636b 2072 6571  vice: unpack req
-0000bd60: 7569 7265 7320 6120 6275 6666 6572 206f  uires a buffer o
-0000bd70: 6620 3420 6279 7465 7320 5b5c 2331 3837  f 4 bytes [\#187
-0000bd80: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000bd90: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-0000bda0: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
-0000bdb0: 7565 732f 3138 3729 0a2d 2048 656c 7020  ues/187).- Help 
-0000bdc0: 7265 7175 6573 7420 2d20 7175 6572 7920  request - query 
-0000bdd0: 7661 6c75 6520 5b5c 2331 3731 5d28 6874  value [\#171](ht
-0000bde0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000bdf0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-0000be00: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
-0000be10: 3137 3129 0a2d 2043 616e 2774 2044 6973  171).- Can't Dis
-0000be20: 636f 7665 7220 4465 7669 6365 7320 5b5c  cover Devices [\
-0000be30: 2331 3634 5d28 6874 7470 733a 2f2f 6769  #164](https://gi
-0000be40: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-0000be50: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-0000be60: 2f69 7373 7565 732f 3136 3429 0a2d 2043  /issues/164).- C
-0000be70: 6f6e 6375 7272 656e 6379 2070 6572 666f  oncurrency perfo
-0000be80: 726d 616e 6365 2071 7565 7374 696f 6e20  rmance question 
-0000be90: 5b5c 2331 3130 5d28 6874 7470 733a 2f2f  [\#110](https://
-0000bea0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-0000beb0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-0000bec0: 7361 2f69 7373 7565 732f 3131 3029 0a2d  sa/issues/110).-
-0000bed0: 2044 6566 696e 6520 7468 6520 706f 7274   Define the port
-0000bee0: 2062 7920 7365 6c66 3f20 5b5c 2331 3038   by self? [\#108
-0000bef0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000bf00: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-0000bf10: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
-0000bf20: 7565 732f 3130 3829 0a2d 2043 6f6e 7665  ues/108).- Conve
-0000bf30: 7274 2068 6f6d 6561 7373 6973 7461 6e74  rt homeassistant
-0000bf40: 2069 6e74 6567 7261 7469 6f6e 2074 6f20   integration to 
-0000bf50: 7573 6520 7468 6520 6c69 6272 6172 7920  use the library 
-0000bf60: 5b5c 2339 5d28 6874 7470 733a 2f2f 6769  [\#9](https://gi
-0000bf70: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-0000bf80: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-0000bf90: 2f69 7373 7565 732f 3929 0a0a 2a2a 4d65  /issues/9)..**Me
-0000bfa0: 7267 6564 2070 756c 6c20 7265 7175 6573  rged pull reques
-0000bfb0: 7473 3a2a 2a0a 0a2d 2050 7265 7061 7265  ts:**..- Prepare
-0000bfc0: 2030 2e34 2e31 205b 5c23 3238 385d 2868   0.4.1 [\#288](h
-0000bfd0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000bfe0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-0000bff0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f32  thon-kasa/pull/2
-0000c000: 3838 2920 2840 7279 7469 6c61 6874 6929  88) (@rytilahti)
-0000c010: 0a2d 2050 7562 6c69 7368 2074 6f20 7079  .- Publish to py
-0000c020: 7069 206f 6e20 6769 7468 7562 2072 656c  pi on github rel
-0000c030: 6561 7365 2070 7562 6c69 7368 6564 205b  ease published [
-0000c040: 5c23 3238 375d 2868 7474 7073 3a2f 2f67  \#287](https://g
-0000c050: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-0000c060: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-0000c070: 612f 7075 6c6c 2f32 3837 2920 2840 7279  a/pull/287) (@ry
-0000c080: 7469 6c61 6874 6929 0a2d 2052 656c 6178  tilahti).- Relax
-0000c090: 2061 7379 6e63 636c 6963 6b20 7665 7273   asyncclick vers
-0000c0a0: 696f 6e20 7265 7175 6972 656d 656e 7420  ion requirement 
-0000c0b0: 5b5c 2332 3836 5d28 6874 7470 733a 2f2f  [\#286](https://
-0000c0c0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-0000c0d0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-0000c0e0: 7361 2f70 756c 6c2f 3238 3629 2028 4072  sa/pull/286) (@r
-0000c0f0: 7974 696c 6168 7469 290a 2d20 446f 206e  ytilahti).- Do n
-0000c100: 6f74 2063 7261 7368 206f 6e20 6469 7363  ot crash on disc
-0000c110: 6f76 6572 7920 6f6e 2057 534c 205b 5c23  overy on WSL [\#
-0000c120: 3238 335d 2868 7474 7073 3a2f 2f67 6974  283](https://git
-0000c130: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-0000c140: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-0000c150: 7075 6c6c 2f32 3833 2920 2840 7279 7469  pull/283) (@ryti
-0000c160: 6c61 6874 6929 0a2d 2041 6464 2070 7974  lahti).- Add pyt
-0000c170: 686f 6e20 332e 3130 2074 6f20 4349 205b  hon 3.10 to CI [
-0000c180: 5c23 3237 395d 2868 7474 7073 3a2f 2f67  \#279](https://g
-0000c190: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-0000c1a0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-0000c1b0: 612f 7075 6c6c 2f32 3739 2920 2840 7279  a/pull/279) (@ry
-0000c1c0: 7469 6c61 6874 6929 0a2d 2055 7365 2063  tilahti).- Use c
-0000c1d0: 6f64 6563 6f76 2d61 6374 696f 6e40 7632  odecov-action@v2
-0000c1e0: 2066 6f72 2043 4920 5b5c 2332 3737 5d28   for CI [\#277](
-0000c1f0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000c200: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-0000c210: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
-0000c220: 3237 3729 2028 4072 7974 696c 6168 7469  277) (@rytilahti
-0000c230: 290a 2d20 4164 6420 636f 7665 7261 6765  ).- Add coverage
-0000c240: 5c5b 746f 6d6c 5c5d 2064 6570 656e 6465  \[toml\] depende
-0000c250: 6e63 7920 746f 2066 6978 2063 6f76 6572  ncy to fix cover
-0000c260: 6167 6520 6f6e 2043 4920 5b5c 2332 3731  age on CI [\#271
-0000c270: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000c280: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-0000c290: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-0000c2a0: 6c2f 3237 3129 2028 4072 7974 696c 6168  l/271) (@rytilah
-0000c2b0: 7469 290a 2d20 416c 6c6f 7720 7075 626c  ti).- Allow publ
-0000c2c0: 6973 6820 6f6e 2074 6573 7420 7079 7069  ish on test pypi
-0000c2d0: 2077 6f72 6b66 6c6f 7720 746f 2066 6169   workflow to fai
-0000c2e0: 6c20 5b5c 2332 3438 5d28 6874 7470 733a  l [\#248](https:
-0000c2f0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-0000c300: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-0000c310: 6b61 7361 2f70 756c 6c2f 3234 3829 2028  kasa/pull/248) (
-0000c320: 4072 7974 696c 6168 7469 290a 0a23 2320  @rytilahti)..## 
-0000c330: 5b30 2e34 2e30 5d28 6874 7470 733a 2f2f  [0.4.0](https://
-0000c340: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-0000c350: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-0000c360: 7361 2f74 7265 652f 302e 342e 3029 2028  sa/tree/0.4.0) (
-0000c370: 3230 3231 2d30 392d 3237 290a 0a5b 4675  2021-09-27)..[Fu
-0000c380: 6c6c 2043 6861 6e67 656c 6f67 5d28 6874  ll Changelog](ht
-0000c390: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000c3a0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-0000c3b0: 686f 6e2d 6b61 7361 2f63 6f6d 7061 7265  hon-kasa/compare
-0000c3c0: 2f30 2e34 2e30 2e70 7265 302e 2e2e 302e  /0.4.0.pre0...0.
-0000c3d0: 342e 3029 0a0a 2a2a 496d 706c 656d 656e  4.0)..**Implemen
-0000c3e0: 7465 6420 656e 6861 6e63 656d 656e 7473  ted enhancements
-0000c3f0: 3a2a 2a0a 0a2d 204b 4c34 3330 2073 7570  :**..- KL430 sup
-0000c400: 706f 7274 205b 5c23 3637 5d28 6874 7470  port [\#67](http
-0000c410: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-0000c420: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-0000c430: 6e2d 6b61 7361 2f69 7373 7565 732f 3637  n-kasa/issues/67
-0000c440: 290a 2d20 496d 7072 6f76 6520 7265 7472  ).- Improve retr
-0000c450: 7920 6c6f 6769 6320 666f 7220 6469 7363  y logic for disc
-0000c460: 6f76 6572 792c 206d 6573 7361 6769 6e67  overy, messaging
-0000c470: 205c 2877 6173 3a20 4861 6e64 6c65 2065   \(was: Handle e
-0000c480: 6d70 7479 2072 6573 706f 6e73 6573 5c29  mpty responses\)
-0000c490: 205b 5c23 3338 5d28 6874 7470 733a 2f2f   [\#38](https://
-0000c4a0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-0000c4b0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-0000c4c0: 7361 2f69 7373 7565 732f 3338 290a 2d20  sa/issues/38).- 
-0000c4d0: 4669 7820 6c6f 636b 2062 6569 6e67 2075  Fix lock being u
-0000c4e0: 6e65 7870 6563 7465 646c 7920 7265 7365  nexpectedly rese
-0000c4f0: 7420 6f6e 2063 6c6f 7365 205b 5c23 3231  t on close [\#21
-0000c500: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
-0000c510: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-0000c520: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-0000c530: 6c6c 2f32 3138 2920 2840 6264 7261 636f  ll/218) (@bdraco
-0000c540: 290a 2d20 4176 6f69 6420 6361 6c6c 696e  ).- Avoid callin
-0000c550: 6720 7066 6f72 6d61 7420 756e 6c65 7373  g pformat unless
-0000c560: 2064 6562 7567 206c 6f67 6769 6e67 2069   debug logging i
-0000c570: 7320 656e 6162 6c65 6420 5b5c 2332 3137  s enabled [\#217
-0000c580: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000c590: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-0000c5a0: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-0000c5b0: 6c2f 3231 3729 2028 4062 6472 6163 6f29  l/217) (@bdraco)
-0000c5c0: 0a2d 204b 6565 7020 636f 6e6e 6563 7469  .- Keep connecti
-0000c5d0: 6f6e 206f 7065 6e20 616e 6420 6c6f 636b  on open and lock
-0000c5e0: 2074 6f20 7072 6576 656e 7420 6475 706c   to prevent dupl
-0000c5f0: 6963 6174 6520 7265 7175 6573 7473 205b  icate requests [
-0000c600: 5c23 3231 335d 2868 7474 7073 3a2f 2f67  \#213](https://g
-0000c610: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-0000c620: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-0000c630: 612f 7075 6c6c 2f32 3133 2920 2840 6264  a/pull/213) (@bd
-0000c640: 7261 636f 290a 2d20 496d 7072 6f76 6520  raco).- Improve 
-0000c650: 656d 6574 6572 7374 6174 7573 2041 5049  emeterstatus API
-0000c660: 2c20 6d6f 7665 2069 6e74 6f20 6f77 6e20  , move into own 
-0000c670: 6d6f 6475 6c65 205b 5c23 3230 355d 2868  module [\#205](h
-0000c680: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000c690: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-0000c6a0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f32  thon-kasa/pull/2
-0000c6b0: 3035 2920 2840 7279 7469 6c61 6874 6929  05) (@rytilahti)
-0000c6c0: 0a2d 2041 766f 6964 2074 656d 7020 6172  .- Avoid temp ar
-0000c6d0: 7261 7920 6475 7269 6e67 2065 6e63 7279  ray during encry
-0000c6e0: 7074 2061 6e64 2064 6563 7279 7074 205b  pt and decrypt [
-0000c6f0: 5c23 3230 345d 2868 7474 7073 3a2f 2f67  \#204](https://g
-0000c700: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-0000c710: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-0000c720: 612f 7075 6c6c 2f32 3034 2920 2840 6264  a/pull/204) (@bd
-0000c730: 7261 636f 290a 2d20 4164 6420 656d 6574  raco).- Add emet
-0000c740: 6572 2073 7570 706f 7274 2066 6f72 2073  er support for s
-0000c750: 7472 6970 2073 6f63 6b65 7473 205b 5c23  trip sockets [\#
-0000c760: 3230 335d 2868 7474 7073 3a2f 2f67 6974  203](https://git
-0000c770: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-0000c780: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-0000c790: 7075 6c6c 2f32 3033 2920 2840 6264 7261  pull/203) (@bdra
-0000c7a0: 636f 290a 2d20 4164 6420 6f77 6e20 6465  co).- Add own de
-0000c7b0: 7669 6365 2074 7970 6520 666f 7220 736d  vice type for sm
-0000c7c0: 6172 7473 7472 6970 2063 6869 6c64 7265  artstrip childre
-0000c7d0: 6e20 5b5c 2332 3031 5d28 6874 7470 733a  n [\#201](https:
-0000c7e0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-0000c7f0: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-0000c800: 6b61 7361 2f70 756c 6c2f 3230 3129 2028  kasa/pull/201) (
-0000c810: 4072 7974 696c 6168 7469 290a 2d20 6275  @rytilahti).- bu
-0000c820: 6c62 3a20 616c 6c6f 7720 7365 745c 5f68  lb: allow set\_h
-0000c830: 7376 2077 6974 686f 7574 2076 2c20 6164  sv without v, ad
-0000c840: 6420 6661 6c6c 6261 636b 2063 7420 7261  d fallback ct ra
-0000c850: 6e67 6520 5b5c 2332 3030 5d28 6874 7470  nge [\#200](http
-0000c860: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-0000c870: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-0000c880: 6e2d 6b61 7361 2f70 756c 6c2f 3230 3029  n-kasa/pull/200)
-0000c890: 2028 4072 7974 696c 6168 7469 290a 2d20   (@rytilahti).- 
-0000c8a0: 496d 7072 6f76 6520 6275 6c62 2073 7570  Improve bulb sup
-0000c8b0: 706f 7274 205c 2861 6c69 6173 2c20 7469  port \(alias, ti
-0000c8c0: 6d65 2073 6574 7469 6e67 735c 2920 5b5c  me settings\) [\
-0000c8d0: 2331 3938 5d28 6874 7470 733a 2f2f 6769  #198](https://gi
-0000c8e0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-0000c8f0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-0000c900: 2f70 756c 6c2f 3139 3829 2028 4072 7974  /pull/198) (@ryt
-0000c910: 696c 6168 7469 290a 2d20 496d 7072 6f76  ilahti).- Improv
-0000c920: 6520 7465 7374 696e 6720 6861 726e 6573  e testing harnes
-0000c930: 7320 746f 2061 6c6c 6f77 2074 6573 7473  s to allow tests
-0000c940: 206f 6e20 7265 616c 2064 6576 6963 6573   on real devices
-0000c950: 205b 5c23 3139 375d 2868 7474 7073 3a2f   [\#197](https:/
-0000c960: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-0000c970: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-0000c980: 6173 612f 7075 6c6c 2f31 3937 2920 2840  asa/pull/197) (@
-0000c990: 7279 7469 6c61 6874 6929 0a2d 2063 6c69  rytilahti).- cli
-0000c9a0: 3a20 6164 6420 6875 6d61 6e2d 6672 6965  : add human-frie
-0000c9b0: 6e64 6c79 2070 7269 6e74 6f75 7420 7768  ndly printout wh
-0000c9c0: 656e 2063 616c 6c69 6e67 2074 656d 7065  en calling tempe
-0000c9d0: 7261 7475 7265 206f 6e20 6e6f 6e2d 7375  rature on non-su
-0000c9e0: 7070 6f72 7465 6420 6465 7669 6365 7320  pported devices 
-0000c9f0: 5b5c 2331 3936 5d28 6874 7470 733a 2f2f  [\#196](https://
-0000ca00: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-0000ca10: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-0000ca20: 7361 2f70 756c 6c2f 3139 3629 2028 404a  sa/pull/196) (@J
-0000ca30: 6179 6465 6e52 4129 0a2d 2027 496e 7465  aydenRA).- 'Inte
-0000ca40: 7266 6163 6527 2070 6172 616d 6574 6572  rface' parameter
-0000ca50: 2061 6464 6564 2074 6f20 6469 7363 6f76   added to discov
-0000ca60: 6572 7920 7072 6f63 6573 7320 5b5c 2337  ery process [\#7
-0000ca70: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
-0000ca80: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-0000ca90: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-0000caa0: 6c6c 2f37 3929 2028 4064 6d69 7472 7965  ll/79) (@dmitrye
-0000cab0: 6c6a 290a 2d20 4164 6420 7375 7070 6f72  lj).- Add suppor
-0000cac0: 7420 666f 7220 6c69 6768 7473 7472 6970  t for lightstrip
-0000cad0: 7320 5c28 4b4c 3433 305c 2920 5b5c 2337  s \(KL430\) [\#7
-0000cae0: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
-0000caf0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-0000cb00: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-0000cb10: 6c6c 2f37 3429 2028 4072 7974 696c 6168  ll/74) (@rytilah
-0000cb20: 7469 290a 0a2a 2a46 6978 6564 2062 7567  ti)..**Fixed bug
-0000cb30: 733a 2a2a 0a0a 2d20 4b4c 3433 303a 2054  s:**..- KL430: T
-0000cb40: 6872 6f77 2065 7272 6f72 2066 6f72 2044  hrow error for D
-0000cb50: 6576 6963 6520 7370 6563 6966 6963 2069  evice specific i
-0000cb60: 6e66 6f72 6d61 7469 6f6e 205b 5c23 3138  nformation [\#18
-0000cb70: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
-0000cb80: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-0000cb90: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
-0000cba0: 7375 6573 2f31 3839 290a 2d20 6055 6e61  sues/189).- `Una
-0000cbb0: 626c 6520 746f 2066 696e 6420 6120 7661  ble to find a va
-0000cbc0: 6c75 6520 666f 7220 2763 7572 7265 6e74  lue for 'current
-0000cbd0: 2760 2065 7272 6f72 2077 6865 6e20 6174  '` error when at
-0000cbe0: 7465 6d70 7469 6e67 2074 6f20 7175 6572  tempting to quer
-0000cbf0: 7920 4b4c 3132 3520 6275 6c62 2065 6d65  y KL125 bulb eme
-0000cc00: 7465 7220 5b5c 2331 3432 5d28 6874 7470  ter [\#142](http
-0000cc10: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-0000cc20: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-0000cc30: 6e2d 6b61 7361 2f69 7373 7565 732f 3134  n-kasa/issues/14
-0000cc40: 3229 0a2d 2060 556e 6b6e 6f77 6e20 636f  2).- `Unknown co
-0000cc50: 6c6f 7220 7465 6d70 6572 6174 7572 6520  lor temperature 
-0000cc60: 7261 6e67 6560 2065 7272 6f72 2077 6865  range` error whe
-0000cc70: 6e20 6174 7465 6d70 7469 6e67 2074 6f20  n attempting to 
-0000cc80: 7175 6572 7920 4b4c 3132 3520 6275 6c62  query KL125 bulb
-0000cc90: 2073 7461 7465 205b 5c23 3134 315d 2868   state [\#141](h
-0000cca0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000ccb0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-0000ccc0: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
-0000ccd0: 2f31 3431 290a 2d20 4853 3330 3020 4368  /141).- HS300 Ch
-0000cce0: 696c 6472 656e 2070 6c75 6773 2068 6176  ildren plugs hav
-0000ccf0: 6520 656d 6574 6572 205b 5c23 3634 5d28  e emeter [\#64](
-0000cd00: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000cd10: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-0000cd20: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
-0000cd30: 732f 3634 290a 2d20 6475 6d70 5c5f 6465  s/64).- dump\_de
-0000cd40: 7669 6e66 6f3a 2068 616e 646c 6520 6c61  vinfo: handle la
-0000cd50: 7469 7475 6465 2f6c 6f6e 6769 7475 6465  titude/longitude
-0000cd60: 206b 6579 7320 7072 6f70 6572 6c79 205b   keys properly [
-0000cd70: 5c23 3137 355d 2868 7474 7073 3a2f 2f67  \#175](https://g
-0000cd80: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-0000cd90: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-0000cda0: 612f 7075 6c6c 2f31 3735 2920 2840 7279  a/pull/175) (@ry
-0000cdb0: 7469 6c61 6874 6929 0a2d 2053 696d 706c  tilahti).- Simpl
-0000cdc0: 6966 7920 6469 7363 6f76 6572 7920 7175  ify discovery qu
-0000cdd0: 6572 792c 2072 6566 6163 746f 7220 6475  ery, refactor du
-0000cde0: 6d70 2d64 6576 696e 666f 205b 5c23 3134  mp-devinfo [\#14
-0000cdf0: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
-0000ce00: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-0000ce10: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-0000ce20: 6c6c 2f31 3437 2920 2840 7279 7469 6c61  ll/147) (@rytila
-0000ce30: 6874 6929 0a2d 2052 6574 7572 6e20 4e6f  hti).- Return No
-0000ce40: 6e65 2069 6e73 7465 6164 206f 6620 7261  ne instead of ra
-0000ce50: 6973 696e 6720 616e 2065 7863 6570 7469  ising an excepti
-0000ce60: 6f6e 206f 6e20 6d69 7373 696e 672c 2076  on on missing, v
-0000ce70: 616c 6964 2065 6d65 7465 7220 6b65 7973  alid emeter keys
-0000ce80: 205b 5c23 3134 365d 2868 7474 7073 3a2f   [\#146](https:/
-0000ce90: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-0000cea0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-0000ceb0: 6173 612f 7075 6c6c 2f31 3436 2920 2840  asa/pull/146) (@
-0000cec0: 7279 7469 6c61 6874 6929 0a2d 2053 696d  rytilahti).- Sim
-0000ced0: 706c 6966 7920 6465 7669 6365 2063 6c61  plify device cla
-0000cee0: 7373 2064 6574 6563 7469 6f6e 2066 6f72  ss detection for
-0000cef0: 2064 6973 636f 7665 7279 2c20 6669 7820   discovery, fix 
-0000cf00: 6861 7264 636f 6465 6420 7469 6d65 6f75  hardcoded timeou
-0000cf10: 7420 5b5c 2331 3132 5d28 6874 7470 733a  t [\#112](https:
-0000cf20: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-0000cf30: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-0000cf40: 6b61 7361 2f70 756c 6c2f 3131 3229 2028  kasa/pull/112) (
-0000cf50: 4072 7974 696c 6168 7469 290a 2d20 5570  @rytilahti).- Up
-0000cf60: 6461 7465 2063 6c69 2e70 7920 746f 2061  date cli.py to a
-0000cf70: 6464 7265 7373 7320 6372 6173 6820 6f6e  ddresss crash on
-0000cf80: 2079 6561 722f 6d6f 6e74 6820 6361 6c6c   year/month call
-0000cf90: 7320 616e 6420 696d 7072 6f76 6520 6f75  s and improve ou
-0000cfa0: 7470 7574 2066 6f72 6d61 7474 696e 6720  tput formatting 
-0000cfb0: 5b5c 2331 3033 5d28 6874 7470 733a 2f2f  [\#103](https://
-0000cfc0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-0000cfd0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-0000cfe0: 7361 2f70 756c 6c2f 3130 3329 2028 4042  sa/pull/103) (@B
-0000cff0: 756f 6e67 696f 726e 6f54 6578 6173 290a  uongiornoTexas).
-0000d000: 0a2a 2a44 6f63 756d 656e 7461 7469 6f6e  .**Documentation
-0000d010: 2075 7064 6174 6573 3a2a 2a0a 0a2d 2044   updates:**..- D
-0000d020: 6973 636f 7665 7220 646f 6573 206e 6f74  iscover does not
-0000d030: 2073 7570 706f 7274 2073 7065 6369 6679   support specify
-0000d040: 696e 6720 6e65 7477 6f72 6b20 696e 7465  ing network inte
-0000d050: 7266 6163 6520 5b5c 2331 3637 5d28 6874  rface [\#167](ht
-0000d060: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000d070: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-0000d080: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
-0000d090: 3136 3729 0a2d 2041 6464 2061 6269 6c69  167).- Add abili
-0000d0a0: 7479 2074 6f20 636f 6e74 726f 6c20 696e  ty to control in
-0000d0b0: 6469 7669 6475 616c 2073 6f63 6b65 7473  dividual sockets
-0000d0c0: 206f 6e20 4b50 3430 3020 5b5c 2331 3231   on KP400 [\#121
-0000d0d0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000d0e0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-0000d0f0: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
-0000d100: 7565 732f 3132 3129 0a2d 2049 6d70 726f  ues/121).- Impro
-0000d110: 7665 2070 6f65 7472 7920 7573 6167 6520  ve poetry usage 
-0000d120: 646f 6375 6d65 6e74 6174 696f 6e20 5b5c  documentation [\
-0000d130: 2336 305d 2868 7474 7073 3a2f 2f67 6974  #60](https://git
-0000d140: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-0000d150: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-0000d160: 6973 7375 6573 2f36 3029 0a2d 2049 6d70  issues/60).- Imp
-0000d170: 726f 7665 2063 6c69 2064 6f63 756d 656e  rove cli documen
-0000d180: 7461 7469 6f6e 2066 6f72 2062 756c 6273  tation for bulbs
-0000d190: 2061 6e64 2070 6f77 6572 2073 7472 6970   and power strip
-0000d1a0: 7320 5b5c 2331 3233 5d28 6874 7470 733a  s [\#123](https:
-0000d1b0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-0000d1c0: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-0000d1d0: 6b61 7361 2f70 756c 6c2f 3132 3329 2028  kasa/pull/123) (
-0000d1e0: 4072 7974 696c 6168 7469 290a 0a2a 2a43  @rytilahti)..**C
-0000d1f0: 6c6f 7365 6420 6973 7375 6573 3a2a 2a0a  losed issues:**.
-0000d200: 0a2d 2044 6562 7567 206c 6f67 6769 6e67  .- Debug logging
-0000d210: 2069 6e20 7072 6f74 6f63 6f6c 2e70 7920   in protocol.py 
-0000d220: 6973 2074 6865 206d 616a 6f72 6974 7920  is the majority 
-0000d230: 6f66 2074 6865 2065 7865 6375 7469 6f6e  of the execution
-0000d240: 2074 696d 6520 5b5c 2332 3136 5d28 6874   time [\#216](ht
-0000d250: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000d260: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-0000d270: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
-0000d280: 3231 3629 0a2d 2046 6561 7475 7265 2052  216).- Feature R
-0000d290: 6571 7565 7374 202d 2054 6f67 676c 6520  equest - Toggle 
-0000d2a0: 436f 6d6d 616e 6420 5b5c 2331 3838 5d28  Command [\#188](
-0000d2b0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000d2c0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-0000d2d0: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
-0000d2e0: 732f 3138 3829 0a2d 2049 7320 4974 2043  s/188).- Is It C
-0000d2f0: 6f6d 7061 7469 626c 6520 5769 7468 2048  ompatible With H
-0000d300: 5331 3035 3f20 5b5c 2331 3836 5d28 6874  S105? [\#186](ht
-0000d310: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000d320: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-0000d330: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
-0000d340: 3138 3629 0a2d 2043 616e 6e6f 7420 7573  186).- Cannot us
-0000d350: 6520 736f 6d65 2066 756e 6374 696f 6e73  e some functions
-0000d360: 2077 6974 6820 4b50 3330 3320 5b5c 2331   with KP303 [\#1
-0000d370: 3831 5d28 6874 7470 733a 2f2f 6769 7468  81](https://gith
-0000d380: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-0000d390: 7361 2f70 7974 686f 6e2d 6b61 7361 2f69  sa/python-kasa/i
-0000d3a0: 7373 7565 732f 3138 3129 0a2d 2048 656c  ssues/181).- Hel
-0000d3b0: 7020 6e65 6564 6564 202d 2061 7761 6974  p needed - await
-0000d3c0: 696e 6720 6761 6d65 2020 5b5c 2331 3739  ing game  [\#179
-0000d3d0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000d3e0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-0000d3f0: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
-0000d400: 7565 732f 3137 3929 0a2d 2056 6572 7369  ues/179).- Versi
-0000d410: 6f6e 2069 6e63 6f6e 7369 7374 656e 6379  on inconsistency
-0000d420: 2062 6574 7765 656e 2043 4c49 2061 6e64   between CLI and
-0000d430: 2070 6970 205b 5c23 3137 375d 2868 7474   pip [\#177](htt
-0000d440: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0000d450: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-0000d460: 6f6e 2d6b 6173 612f 6973 7375 6573 2f31  on-kasa/issues/1
-0000d470: 3737 290a 2d20 5265 6c65 6173 6520 302e  77).- Release 0.
-0000d480: 342e 302e 6465 7633 3f20 5b5c 2331 3639  4.0.dev3? [\#169
-0000d490: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000d4a0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-0000d4b0: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
-0000d4c0: 7565 732f 3136 3929 0a2d 2041 6674 6572  ues/169).- After
-0000d4d0: 2069 6e73 7461 6c6c 696e 672c 2063 6f6d   installing, com
-0000d4e0: 6d61 6e64 2060 6b61 7361 6020 6e6f 7420  mand `kasa` not 
-0000d4f0: 666f 756e 6420 5b5c 2331 3635 5d28 6874  found [\#165](ht
-0000d500: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000d510: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-0000d520: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
-0000d530: 3136 3529 0a2d 2043 616e 2774 2063 6f6d  165).- Can't com
-0000d540: 6d61 6e64 206f 7220 7175 6572 7920 4853  mand or query HS
-0000d550: 3230 3020 7635 2073 7769 7463 6820 5b5c  200 v5 switch [\
-0000d560: 2331 3631 5d28 6874 7470 733a 2f2f 6769  #161](https://gi
-0000d570: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-0000d580: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-0000d590: 2f69 7373 7565 732f 3136 3129 0a2d 204b  /issues/161).- K
-0000d5a0: 4c34 3330 2063 6175 7369 6e67 2022 6e6f  L430 causing "no
-0000d5b0: 6e2d 6865 7861 6465 6369 6d61 6c20 6e75  n-hexadecimal nu
-0000d5c0: 6d62 6572 2066 6f75 6e64 2069 6e20 6672  mber found in fr
-0000d5d0: 6f6d 6865 785c 285c 2920 6172 6720 6174  omhex\(\) arg at
-0000d5e0: 2070 6f73 6974 696f 6e20 3222 2065 7272   position 2" err
-0000d5f0: 6f72 2069 6e20 736d 6172 7464 6576 6963  or in smartdevic
-0000d600: 652e 7079 205b 5c23 3135 395d 2868 7474  e.py [\#159](htt
-0000d610: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0000d620: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-0000d630: 6f6e 2d6b 6173 612f 6973 7375 6573 2f31  on-kasa/issues/1
-0000d640: 3539 290a 2d20 4361 6e74 2067 6574 2073  59).- Cant get s
-0000d650: 6d61 7274 2073 7472 6970 2063 6869 6c64  mart strip child
-0000d660: 7265 6e20 746f 2077 6f72 6b20 5b5c 2331  ren to work [\#1
-0000d670: 3434 5d28 6874 7470 733a 2f2f 6769 7468  44](https://gith
-0000d680: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-0000d690: 7361 2f70 7974 686f 6e2d 6b61 7361 2f69  sa/python-kasa/i
-0000d6a0: 7373 7565 732f 3134 3429 0a2d 2060 6b61  ssues/144).- `ka
-0000d6b0: 7361 202d 2d68 6f73 7420 3139 322e 3136  sa --host 192.16
-0000d6c0: 382e 312e 3637 2077 6966 6920 6a6f 696e  8.1.67 wifi join
-0000d6d0: 203c 7373 6964 3e60 2064 6f65 7320 6e6f   <ssid>` does no
-0000d6e0: 7420 6368 616e 6765 206e 6574 776f 726b  t change network
-0000d6f0: 205b 5c23 3133 395d 2868 7474 7073 3a2f   [\#139](https:/
-0000d700: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-0000d710: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-0000d720: 6173 612f 6973 7375 6573 2f31 3339 290a  asa/issues/139).
-0000d730: 2d20 506f 6574 7279 2072 6574 7572 6e73  - Poetry returns
-0000d740: 2065 7272 6f72 2077 6865 6e20 696e 7374   error when inst
-0000d750: 616c 6c69 6e67 2064 6570 656e 6465 6e63  alling dependenc
-0000d760: 6965 7320 5b5c 2331 3331 5d28 6874 7470  ies [\#131](http
-0000d770: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-0000d780: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-0000d790: 6e2d 6b61 7361 2f69 7373 7565 732f 3133  n-kasa/issues/13
-0000d7a0: 3129 0a2d 2027 6b61 7361 2077 6966 6920  1).- 'kasa wifi 
-0000d7b0: 7363 616e 2720 7261 6973 6573 2052 756e  scan' raises Run
-0000d7c0: 7469 6d65 4572 726f 7220 5b5c 2331 3237  timeError [\#127
-0000d7d0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000d7e0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-0000d7f0: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
-0000d800: 7565 732f 3132 3729 0a2d 2052 756e 7469  ues/127).- Runti
-0000d810: 6d65 2045 7272 6f72 2077 6865 6e20 4920  me Error when I 
-0000d820: 6578 6563 7574 6520 4b61 7361 2065 6d65  execute Kasa eme
-0000d830: 7465 7220 636f 6d6d 616e 6420 5b5c 2331  ter command [\#1
-0000d840: 3234 5d28 6874 7470 733a 2f2f 6769 7468  24](https://gith
-0000d850: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-0000d860: 7361 2f70 7974 686f 6e2d 6b61 7361 2f69  sa/python-kasa/i
-0000d870: 7373 7565 732f 3132 3429 0a2d 2048 5331  ssues/124).- HS1
-0000d880: 3035 5c28 5553 5c29 2048 5720 352e 302f  05\(US\) HW 5.0/
-0000d890: 5357 2031 2e30 2e32 204e 6f74 2057 6f72  SW 1.0.2 Not Wor
-0000d8a0: 6b69 6e67 205b 5c23 3131 395d 2868 7474  king [\#119](htt
-0000d8b0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0000d8c0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-0000d8d0: 6f6e 2d6b 6173 612f 6973 7375 6573 2f31  on-kasa/issues/1
-0000d8e0: 3139 290a 2d20 5450 4c49 4e4b 2048 5331  19).- TPLINK HS1
-0000d8f0: 3030 2066 6972 6d77 6172 6520 342e 3120  00 firmware 4.1 
-0000d900: 6e6f 206c 6f6e 6765 7220 6861 7320 5443  no longer has TC
-0000d910: 5020 3939 3939 2061 7661 696c 6162 6c65  P 9999 available
-0000d920: 205b 5c23 3131 345d 2868 7474 7073 3a2f   [\#114](https:/
-0000d930: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-0000d940: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-0000d950: 6173 612f 6973 7375 6573 2f31 3134 290a  asa/issues/114).
-0000d960: 2d20 4853 3131 305c 2855 4b5c 2920 6e6f  - HS110\(UK\) no
-0000d970: 7420 6469 7363 6f76 6572 6162 6c65 205b  t discoverable [
-0000d980: 5c23 3131 335d 2868 7474 7073 3a2f 2f67  \#113](https://g
-0000d990: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-0000d9a0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-0000d9b0: 612f 6973 7375 6573 2f31 3133 290a 2d20  a/issues/113).- 
-0000d9c0: 5374 6f70 7069 6e67 204b 6173 6120 536d  Stopping Kasa Sm
-0000d9d0: 6172 7444 6576 6963 6573 2066 726f 6d20  artDevices from 
-0000d9e0: 7068 6f6e 696e 6720 686f 6d65 205b 5c23  phoning home [\#
-0000d9f0: 3131 315d 2868 7474 7073 3a2f 2f67 6974  111](https://git
-0000da00: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-0000da10: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-0000da20: 6973 7375 6573 2f31 3131 290a 2d20 372e  issues/111).- 7.
-0000da30: 312e 3220 5570 6461 7465 2074 6f20 6173  1.2 Update to as
-0000da40: 796e 6363 6c69 636b 2062 7265 616b 7320  yncclick breaks 
-0000da50: 6769 7468 7562 2069 6e73 7461 6c6c 206f  github install o
-0000da60: 6620 7079 7468 6f6e 2d6b 6173 6120 5b5c  f python-kasa [\
-0000da70: 2331 3036 5d28 6874 7470 733a 2f2f 6769  #106](https://gi
-0000da80: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-0000da90: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-0000daa0: 2f69 7373 7565 732f 3130 3629 0a2d 2054  /issues/106).- T
-0000dab0: 5020 4c69 6e6b 2044 696d 6d65 7220 7377  P Link Dimmer sw
-0000dac0: 6974 6368 205c 2848 5332 3230 5c29 2068  itch \(HS220\) h
-0000dad0: 6172 6477 6172 6520 7665 7273 696f 6e20  ardware version 
-0000dae0: 322e 3020 6e6f 7420 6265 696e 6720 6469  2.0 not being di
-0000daf0: 7363 6f76 6572 6564 205b 5c23 3130 355d  scovered [\#105]
-0000db00: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000db10: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-0000db20: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
-0000db30: 6573 2f31 3035 290a 2d20 636c 6920 656d  es/105).- cli em
-0000db40: 6574 6572 2079 6561 7220 616e 6420 6d6f  eter year and mo
-0000db50: 6e74 6820 6675 6e63 7469 6f6e 7320 6661  nth functions fa
-0000db60: 696c 205b 5c23 3130 325d 2868 7474 7073  il [\#102](https
-0000db70: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-0000db80: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-0000db90: 2d6b 6173 612f 6973 7375 6573 2f31 3032  -kasa/issues/102
-0000dba0: 290a 2d20 686f 7720 746f 206b 6e6f 7720  ).- how to know 
-0000dbb0: 7468 6520 6475 7261 7469 6f6e 2066 6f72  the duration for
-0000dbc0: 2077 6869 6368 2074 6865 2070 6c75 6720   which the plug 
-0000dbd0: 7761 7320 4f4e 3f20 5b5c 2339 395d 2868  was ON? [\#99](h
-0000dbe0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000dbf0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-0000dc00: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
-0000dc10: 2f39 3929 0a2d 2070 726f 626c 656d 2063  /99).- problem c
-0000dc20: 6f6e 7472 6f6c 6c69 6e67 2074 6865 2073  ontrolling the s
-0000dc30: 6d61 7274 706c 7567 2074 6872 6f75 6768  martplug through
-0000dc40: 2061 2063 6f6e 7472 6f6c 6c65 7220 5b5c   a controller [\
-0000dc50: 2339 385d 2868 7474 7073 3a2f 2f67 6974  #98](https://git
-0000dc60: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-0000dc70: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-0000dc80: 6973 7375 6573 2f39 3829 0a2d 2075 6e61  issues/98).- una
-0000dc90: 626c 6520 746f 2069 6e73 7461 6c6c 205b  ble to install [
-0000dca0: 5c23 3937 5d28 6874 7470 733a 2f2f 6769  \#97](https://gi
-0000dcb0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-0000dcc0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-0000dcd0: 2f69 7373 7565 732f 3937 290a 2d20 496e  /issues/97).- In
-0000dce0: 7374 616c 6c20 6f6e 2055 6275 6e74 7520  stall on Ubuntu 
-0000dcf0: 3138 2e30 3420 6e6f 206c 7563 6b20 5b5c  18.04 no luck [\
-0000dd00: 2339 365d 2868 7474 7073 3a2f 2f67 6974  #96](https://git
-0000dd10: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-0000dd20: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-0000dd30: 6973 7375 6573 2f39 3629 0a2d 2069 7373  issues/96).- iss
-0000dd40: 7565 2077 6974 6820 696e 7374 616c 6c61  ue with installa
-0000dd50: 7469 6f6e 205b 5c23 3935 5d28 6874 7470  tion [\#95](http
-0000dd60: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-0000dd70: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-0000dd80: 6e2d 6b61 7361 2f69 7373 7565 732f 3935  n-kasa/issues/95
-0000dd90: 290a 2d20 5275 6e6e 696e 6720 7669 6120  ).- Running via 
-0000dda0: 4372 6f6e 7461 6220 5b5c 2339 325d 2868  Crontab [\#92](h
-0000ddb0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000ddc0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-0000ddd0: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
-0000dde0: 2f39 3229 0a2d 2049 7373 7565 7320 7769  /92).- Issues wi
-0000ddf0: 7468 2073 6574 7570 205b 5c23 3931 5d28  th setup [\#91](
-0000de00: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000de10: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-0000de20: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
-0000de30: 732f 3931 290a 2d20 4920 646f 6e27 7420  s/91).- I don't 
-0000de40: 7079 7468 6f6e 2e2e 2e20 686f 7720 646f  python... how do
-0000de50: 2049 206d 616b 6520 7468 6973 2065 7865   I make this exe
-0000de60: 6375 7461 626c 653f 205b 5c23 3838 5d28  cutable? [\#88](
-0000de70: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000de80: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-0000de90: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
-0000dea0: 732f 3838 290a 2d20 496d 706f 7274 4572  s/88).- ImportEr
-0000deb0: 726f 723a 2063 616e 6e6f 7420 696d 706f  ror: cannot impo
-0000dec0: 7274 206e 616d 6520 2773 6d61 7274 706c  rt name 'smartpl
-0000ded0: 7567 2720 5b5c 2338 375d 2868 7474 7073  ug' [\#87](https
-0000dee0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-0000def0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-0000df00: 2d6b 6173 612f 6973 7375 6573 2f38 3729  -kasa/issues/87)
-0000df10: 0a2d 2053 7570 706f 7274 2066 6f72 2050  .- Support for P
-0000df20: 3130 3020 536d 6172 7420 506c 7567 205b  100 Smart Plug [
-0000df30: 5c23 3833 5d28 6874 7470 733a 2f2f 6769  \#83](https://gi
-0000df40: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-0000df50: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-0000df60: 2f69 7373 7565 732f 3833 290a 2d20 6e6f  /issues/83).- no
-0000df70: 7420 6162 6c65 2074 6f20 7069 7020 696e  t able to pip in
-0000df80: 7374 616c 6c20 7468 6520 6c69 6272 6172  stall the librar
-0000df90: 7920 5b5c 2338 325d 2868 7474 7073 3a2f  y [\#82](https:/
-0000dfa0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-0000dfb0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-0000dfc0: 6173 612f 6973 7375 6573 2f38 3229 0a2d  asa/issues/82).-
-0000dfd0: 2044 6973 636f 7665 722e 6469 7363 6f76   Discover.discov
-0000dfe0: 6572 5c28 5c29 2061 6464 2073 656c 6563  er\(\) add selec
-0000dff0: 7469 6e67 206e 6574 776f 726b 2069 6e74  ting network int
-0000e000: 6572 6661 6365 205c 5b70 756c 6c20 7265  erface \[pull re
-0000e010: 7175 6573 745c 5d20 5b5c 2337 385d 2868  quest\] [\#78](h
-0000e020: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000e030: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-0000e040: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
-0000e050: 2f37 3829 0a2d 204c 4231 3030 2075 6e61  /78).- LB100 una
-0000e060: 626c 6520 746f 2074 7572 6e20 6f6e 206f  ble to turn on o
-0000e070: 7220 6f66 6620 7468 6520 6c69 6768 7473  r off the lights
-0000e080: 205b 5c23 3638 5d28 6874 7470 733a 2f2f   [\#68](https://
-0000e090: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-0000e0a0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-0000e0b0: 7361 2f69 7373 7565 732f 3638 290a 2d20  sa/issues/68).- 
-0000e0c0: 7379 735c 5f69 6e66 6f20 6e6f 7420 4e6f  sys\_info not No
-0000e0d0: 6e65 2066 6169 6c73 2061 7373 6572 7469  ne fails asserti
-0000e0e0: 6f6e 205b 5c23 3535 5d28 6874 7470 733a  on [\#55](https:
-0000e0f0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-0000e100: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-0000e110: 6b61 7361 2f69 7373 7565 732f 3535 290a  kasa/issues/55).
-0000e120: 2d20 5570 6c6f 6164 2070 7265 2d72 656c  - Upload pre-rel
-0000e130: 6561 7365 2074 6f20 7079 7069 2066 6f72  ease to pypi for
-0000e140: 2065 6173 6965 7220 7465 7374 696e 6720   easier testing 
-0000e150: 5b5c 2331 375d 2868 7474 7073 3a2f 2f67  [\#17](https://g
-0000e160: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-0000e170: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-0000e180: 612f 6973 7375 6573 2f31 3729 0a0a 2a2a  a/issues/17)..**
-0000e190: 4d65 7267 6564 2070 756c 6c20 7265 7175  Merged pull requ
-0000e1a0: 6573 7473 3a2a 2a0a 0a2d 2052 656c 6561  ests:**..- Relea
-0000e1b0: 7365 2030 2e34 2e30 205b 5c23 3232 315d  se 0.4.0 [\#221]
-0000e1c0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000e1d0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-0000e1e0: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
-0000e1f0: 2f32 3231 2920 2840 7279 7469 6c61 6874  /221) (@rytilaht
-0000e200: 6929 0a2d 2041 6464 2067 6974 6875 6220  i).- Add github 
-0000e210: 776f 726b 666c 6f77 2066 6f72 2070 7970  workflow for pyp
-0000e220: 6920 7075 626c 6973 6869 6e67 205b 5c23  i publishing [\#
-0000e230: 3232 305d 2868 7474 7073 3a2f 2f67 6974  220](https://git
-0000e240: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-0000e250: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-0000e260: 7075 6c6c 2f32 3230 2920 2840 7279 7469  pull/220) (@ryti
-0000e270: 6c61 6874 6929 0a2d 2041 6464 2068 6f73  lahti).- Add hos
-0000e280: 7420 696e 666f 726d 6174 696f 6e20 746f  t information to
-0000e290: 2070 726f 746f 636f 6c20 6465 6275 6720   protocol debug 
-0000e2a0: 6c6f 6773 205b 5c23 3231 395d 2868 7474  logs [\#219](htt
-0000e2b0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0000e2c0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-0000e2d0: 6f6e 2d6b 6173 612f 7075 6c6c 2f32 3139  on-kasa/pull/219
-0000e2e0: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
-0000e2f0: 2052 656c 6561 7365 2030 2e34 2e30 2e64   Release 0.4.0.d
-0000e300: 6576 3520 5b5c 2332 3135 5d28 6874 7470  ev5 [\#215](http
-0000e310: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-0000e320: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-0000e330: 6e2d 6b61 7361 2f70 756c 6c2f 3231 3529  n-kasa/pull/215)
-0000e340: 2028 4072 7974 696c 6168 7469 290a 2d20   (@rytilahti).- 
-0000e350: 4164 6420 4b4c 3133 3020 6669 7874 7572  Add KL130 fixtur
-0000e360: 652c 2069 6e69 7469 616c 206c 6967 6874  e, initial light
-0000e370: 7374 7269 7020 7465 7374 7320 5b5c 2332  strip tests [\#2
-0000e380: 3134 5d28 6874 7470 733a 2f2f 6769 7468  14](https://gith
-0000e390: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-0000e3a0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-0000e3b0: 756c 6c2f 3231 3429 2028 4072 7974 696c  ull/214) (@rytil
-0000e3c0: 6168 7469 290a 2d20 436c 6561 6e75 7020  ahti).- Cleanup 
-0000e3d0: 6469 7363 6f76 6572 7920 2620 6164 6420  discovery & add 
-0000e3e0: 7465 7374 7320 5b5c 2332 3132 5d28 6874  tests [\#212](ht
-0000e3f0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000e400: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-0000e410: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3231  hon-kasa/pull/21
-0000e420: 3229 2028 4072 7974 696c 6168 7469 290a  2) (@rytilahti).
-0000e430: 2d20 5265 6c65 6173 6520 302e 342e 302e  - Release 0.4.0.
-0000e440: 6465 7634 205b 5c23 3231 305d 2868 7474  dev4 [\#210](htt
-0000e450: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0000e460: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-0000e470: 6f6e 2d6b 6173 612f 7075 6c6c 2f32 3130  on-kasa/pull/210
-0000e480: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
-0000e490: 204d 6f72 6520 4349 2066 6978 6573 205b   More CI fixes [
-0000e4a0: 5c23 3230 385d 2868 7474 7073 3a2f 2f67  \#208](https://g
-0000e4b0: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-0000e4c0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-0000e4d0: 612f 7075 6c6c 2f32 3038 2920 2840 7279  a/pull/208) (@ry
-0000e4e0: 7469 6c61 6874 6929 0a2d 2046 6978 2043  tilahti).- Fix C
-0000e4f0: 4920 6465 7020 696e 7374 616c 6c61 7469  I dep installati
-0000e500: 6f6e 205b 5c23 3230 375d 2868 7474 7073  on [\#207](https
-0000e510: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-0000e520: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-0000e530: 2d6b 6173 612f 7075 6c6c 2f32 3037 2920  -kasa/pull/207) 
-0000e540: 2840 7279 7469 6c61 6874 6929 0a2d 2055  (@rytilahti).- U
-0000e550: 7365 2067 6974 6875 6220 6163 7469 6f6e  se github action
-0000e560: 7320 696e 7374 6561 6420 6f66 2061 7a75  s instead of azu
-0000e570: 7265 2070 6970 656c 696e 6573 205b 5c23  re pipelines [\#
-0000e580: 3230 365d 2868 7474 7073 3a2f 2f67 6974  206](https://git
-0000e590: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-0000e5a0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-0000e5b0: 7075 6c6c 2f32 3036 2920 2840 7279 7469  pull/206) (@ryti
-0000e5c0: 6c61 6874 6929 0a2d 2041 6464 204b 5031  lahti).- Add KP1
-0000e5d0: 3135 2066 6978 7475 7265 205b 5c23 3230  15 fixture [\#20
-0000e5e0: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
-0000e5f0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-0000e600: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-0000e610: 6c6c 2f32 3032 2920 2840 7279 7469 6c61  ll/202) (@rytila
-0000e620: 6874 6929 0a2d 2050 6572 666f 726d 2069  hti).- Perform i
-0000e630: 6e69 7469 616c 2075 7064 6174 6520 6f6e  nitial update on
-0000e640: 6c79 2075 7369 6e67 2074 6865 2073 7973  ly using the sys
-0000e650: 696e 666f 2071 7565 7279 205b 5c23 3139  info query [\#19
-0000e660: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
-0000e670: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-0000e680: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-0000e690: 6c6c 2f31 3939 2920 2840 7279 7469 6c61  ll/199) (@rytila
-0000e6a0: 6874 6929 0a2d 2041 6464 2072 6561 6c20  hti).- Add real 
-0000e6b0: 6b61 7361 204b 4c34 3330 5c28 554e 5c29  kasa KL430\(UN\)
-0000e6c0: 2064 6576 6963 6520 6475 6d70 205b 5c23   device dump [\#
-0000e6d0: 3139 325d 2868 7474 7073 3a2f 2f67 6974  192](https://git
-0000e6e0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-0000e6f0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-0000e700: 7075 6c6c 2f31 3932 2920 2840 6970 726f  pull/192) (@ipro
-0000e710: 6461 6e6f 7662 6729 0a2d 2055 7365 206c  danovbg).- Use l
-0000e720: 6573 7320 7374 7269 6374 206d 6174 6368  ess strict match
-0000e730: 6572 2066 6f72 206b 6c34 3330 2063 6f6c  er for kl430 col
-0000e740: 6f72 2074 656d 7065 7261 7475 7265 205b  or temperature [
-0000e750: 5c23 3139 305d 2868 7474 7073 3a2f 2f67  \#190](https://g
-0000e760: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-0000e770: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-0000e780: 612f 7075 6c6c 2f31 3930 2920 2840 7279  a/pull/190) (@ry
-0000e790: 7469 6c61 6874 6929 0a2d 2041 6464 2045  tilahti).- Add E
-0000e7a0: 5031 305c 2855 535c 2920 312e 3020 312e  P10\(US\) 1.0 1.
-0000e7b0: 302e 3220 6669 7874 7572 6520 5b5c 2331  0.2 fixture [\#1
-0000e7c0: 3734 5d28 6874 7470 733a 2f2f 6769 7468  74](https://gith
-0000e7d0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-0000e7e0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-0000e7f0: 756c 6c2f 3137 3429 2028 406e 6272 6577  ull/174) (@nbrew
-0000e800: 290a 2d20 5072 6570 6172 6520 302e 342e  ).- Prepare 0.4.
-0000e810: 302e 6465 7633 205b 5c23 3137 325d 2868  0.dev3 [\#172](h
-0000e820: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000e830: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-0000e840: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f31  thon-kasa/pull/1
-0000e850: 3732 2920 2840 7279 7469 6c61 6874 6929  72) (@rytilahti)
-0000e860: 0a2d 2041 6464 2061 206e 6f74 6520 6162  .- Add a note ab
-0000e870: 6f75 7420 7573 696e 6720 7468 6520 6469  out using the di
-0000e880: 7363 6f76 6572 7920 7461 7267 6574 2070  scovery target p
-0000e890: 6172 616d 6574 6572 205b 5c23 3136 385d  arameter [\#168]
-0000e8a0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000e8b0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-0000e8c0: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
-0000e8d0: 2f31 3638 2920 2840 6c65 616e 6472 6f72  /168) (@leandror
-0000e8e0: 656f 7829 0a2d 2053 696d 706c 6966 7920  eox).- Simplify 
-0000e8f0: 6d61 6320 6164 6472 6573 7320 6861 6e64  mac address hand
-0000e900: 6c69 6e67 205b 5c23 3136 325d 2868 7474  ling [\#162](htt
-0000e910: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0000e920: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
-0000e930: 6f6e 2d6b 6173 612f 7075 6c6c 2f31 3632  on-kasa/pull/162
-0000e940: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
-0000e950: 2041 6464 6564 204b 4c31 3235 2061 6e64   Added KL125 and
-0000e960: 2048 5332 3030 2066 6978 7475 7265 2064   HS200 fixture d
-0000e970: 756d 7073 2061 6e64 2075 7064 6174 6564  umps and updated
-0000e980: 2074 6573 7473 2074 6f20 7275 6e20 6f6e   tests to run on
-0000e990: 206e 6577 2066 6f72 6d61 7420 5b5c 2331   new format [\#1
-0000e9a0: 3630 5d28 6874 7470 733a 2f2f 6769 7468  60](https://gith
-0000e9b0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-0000e9c0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-0000e9d0: 756c 6c2f 3136 3029 2028 4062 7269 616e  ull/160) (@brian
-0000e9e0: 7468 6564 6176 6973 290a 2d20 4164 6420  thedavis).- Add 
-0000e9f0: 4b4c 3132 3520 6275 6c62 2064 6566 696e  KL125 bulb defin
-0000ea00: 6974 696f 6e20 5b5c 2331 3433 5d28 6874  ition [\#143](ht
-0000ea10: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000ea20: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-0000ea30: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3134  hon-kasa/pull/14
-0000ea40: 3329 2028 406d 6461 726e 6f6c 290a 2d20  3) (@mdarnol).- 
-0000ea50: 5245 4144 4d45 2e6d 643a 2041 6464 206c  README.md: Add l
-0000ea60: 696e 6b20 746f 204d 5154 5420 696e 7465  ink to MQTT inte
-0000ea70: 7266 6163 6520 666f 7220 7079 7468 6f6e  rface for python
-0000ea80: 2d6b 6173 6120 5b5c 2331 3430 5d28 6874  -kasa [\#140](ht
-0000ea90: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000eaa0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-0000eab0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3134  hon-kasa/pull/14
-0000eac0: 3029 2028 4066 6c61 7669 6f2d 6665 726e  0) (@flavio-fern
-0000ead0: 616e 6465 7329 0a2d 2046 6978 2064 6f63  andes).- Fix doc
-0000eae0: 756d 656e 7461 7469 6f6e 206f 6e20 536d  umentation on Sm
-0000eaf0: 6172 7420 7374 7269 7073 205b 5c23 3133  art strips [\#13
-0000eb00: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
-0000eb10: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-0000eb20: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-0000eb30: 6c6c 2f31 3336 2920 2840 666c 6176 696f  ll/136) (@flavio
-0000eb40: 2d66 6572 6e61 6e64 6573 290a 2d20 6164  -fernandes).- ad
-0000eb50: 6420 7461 706f 206c 696e 6b2c 2066 6978  d tapo link, fix
-0000eb60: 2074 706c 696e 6b2d 736d 6172 7468 6f6d   tplink-smarthom
-0000eb70: 652d 7369 6d75 6c61 746f 7220 6c69 6e6b  e-simulator link
-0000eb80: 205b 5c23 3133 335d 2868 7474 7073 3a2f   [\#133](https:/
-0000eb90: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-0000eba0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-0000ebb0: 6173 612f 7075 6c6c 2f31 3333 2920 2840  asa/pull/133) (@
-0000ebc0: 7279 7469 6c61 6874 6929 0a2d 204c 6576  rytilahti).- Lev
-0000ebd0: 6572 6167 6520 6461 7461 2066 726f 6d20  erage data from 
-0000ebe0: 5544 5020 6469 7363 6f76 6572 7920 746f  UDP discovery to
-0000ebf0: 2069 6e69 7469 616c 697a 6520 6465 7669   initialize devi
-0000ec00: 6365 2073 7472 7563 7475 7265 205b 5c23  ce structure [\#
-0000ec10: 3133 325d 2868 7474 7073 3a2f 2f67 6974  132](https://git
-0000ec20: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-0000ec30: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-0000ec40: 7075 6c6c 2f31 3332 2920 2840 646c 6565  pull/132) (@dlee
-0000ec50: 316a 3129 0a2d 2052 656c 6561 7365 2030  1j1).- Release 0
-0000ec60: 2e34 2e30 2e64 6576 3220 5b5c 2331 3138  .4.0.dev2 [\#118
-0000ec70: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000ec80: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-0000ec90: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-0000eca0: 6c2f 3131 3829 2028 4072 7974 696c 6168  l/118) (@rytilah
-0000ecb0: 7469 290a 2d20 4164 6420 4853 3232 3020  ti).- Add HS220 
-0000ecc0: 6877 2032 2e30 2066 6978 7475 7265 205b  hw 2.0 fixture [
-0000ecd0: 5c23 3130 375d 2868 7474 7073 3a2f 2f67  \#107](https://g
-0000ece0: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-0000ecf0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-0000ed00: 612f 7075 6c6c 2f31 3037 2920 2840 6170  a/pull/107) (@ap
-0000ed10: 706c 6567 7572 7529 0a2d 2050 696e 2064  pleguru).- Pin d
-0000ed20: 6570 656e 6465 6e63 6965 7320 6f6e 206d  ependencies on m
-0000ed30: 616a 6f72 2076 6572 7369 6f6e 732c 2061  ajor versions, a
-0000ed40: 6464 2070 6f65 7472 792e 6c6f 636b 205b  dd poetry.lock [
-0000ed50: 5c23 3934 5d28 6874 7470 733a 2f2f 6769  \#94](https://gi
-0000ed60: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-0000ed70: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-0000ed80: 2f70 756c 6c2f 3934 2920 2840 7279 7469  /pull/94) (@ryti
-0000ed90: 6c61 6874 6929 0a2d 2052 656c 6561 7365  lahti).- Release
-0000eda0: 2030 2e34 2e30 2e64 6576 3120 5b5c 2339   0.4.0.dev1 [\#9
-0000edb0: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
-0000edc0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-0000edd0: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-0000ede0: 6c6c 2f39 3329 2028 4072 7974 696c 6168  ll/93) (@rytilah
-0000edf0: 7469 290a 2d20 6164 6420 6120 736d 616c  ti).- add a smal
-0000ee00: 6c20 6578 616d 706c 6520 7363 7269 7074  l example script
-0000ee10: 2074 6f20 7368 6f77 206c 6962 7261 7279   to show library
-0000ee20: 2075 7361 6765 205b 5c23 3930 5d28 6874   usage [\#90](ht
-0000ee30: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000ee40: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-0000ee50: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3930  hon-kasa/pull/90
-0000ee60: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
-0000ee70: 2061 6464 202e 7265 6164 7468 6564 6f63   add .readthedoc
-0000ee80: 732e 796d 6c20 7265 7175 6972 6564 2066  s.yml required f
-0000ee90: 6f72 2070 6f65 7472 7920 6275 696c 6473  or poetry builds
-0000eea0: 205b 5c23 3839 5d28 6874 7470 733a 2f2f   [\#89](https://
-0000eeb0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-0000eec0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-0000eed0: 7361 2f70 756c 6c2f 3839 2920 2840 7279  sa/pull/89) (@ry
-0000eee0: 7469 6c61 6874 6929 0a2d 2049 6d70 726f  tilahti).- Impro
-0000eef0: 7665 2069 6e73 7461 6c6c 6174 696f 6e20  ve installation 
-0000ef00: 696e 7374 7275 6374 696f 6e73 205b 5c23  instructions [\#
-0000ef10: 3836 5d28 6874 7470 733a 2f2f 6769 7468  86](https://gith
-0000ef20: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-0000ef30: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-0000ef40: 756c 6c2f 3836 2920 2840 7279 7469 6c61  ull/86) (@rytila
-0000ef50: 6874 6929 0a2d 2063 6c69 3a20 4669 7820  hti).- cli: Fix 
-0000ef60: 696e 636f 7272 6563 7420 7573 6520 6f66  incorrect use of
-0000ef70: 2061 7379 6e63 696f 2e72 756e 2066 6f72   asyncio.run for
-0000ef80: 2074 656d 7065 7261 7475 7265 2063 6f6d   temperature com
-0000ef90: 6d61 6e64 205b 5c23 3835 5d28 6874 7470  mand [\#85](http
-0000efa0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-0000efb0: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-0000efc0: 6e2d 6b61 7361 2f70 756c 6c2f 3835 2920  n-kasa/pull/85) 
-0000efd0: 2840 7279 7469 6c61 6874 6929 0a2d 2041  (@rytilahti).- A
-0000efe0: 6464 2070 6172 7365 5c5f 7063 6170 2074  dd parse\_pcap t
-0000eff0: 6f20 6465 7674 6f6f 6c73 2c20 696d 7072  o devtools, impr
-0000f000: 6f76 6520 7265 6164 6d65 206f 6e20 636f  ove readme on co
-0000f010: 6e74 7269 6275 7469 6e67 205b 5c23 3834  ntributing [\#84
-0000f020: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000f030: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-0000f040: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-0000f050: 6c2f 3834 2920 2840 7279 7469 6c61 6874  l/84) (@rytilaht
-0000f060: 6929 0a2d 2041 6464 202d 2d74 7261 6e73  i).- Add --trans
-0000f070: 6974 696f 6e20 746f 2062 756c 622d 7370  ition to bulb-sp
-0000f080: 6563 6966 6963 2063 6c69 2063 6f6d 6d61  ecific cli comma
-0000f090: 6e64 732c 2066 6978 2074 7572 6e5c 5f7b  nds, fix turn\_{
-0000f0a0: 6f6e 2c6f 6666 7d20 7369 676e 6174 7572  on,off} signatur
-0000f0b0: 6573 205b 5c23 3831 5d28 6874 7470 733a  es [\#81](https:
-0000f0c0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-0000f0d0: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-0000f0e0: 6b61 7361 2f70 756c 6c2f 3831 2920 2840  kasa/pull/81) (@
-0000f0f0: 7279 7469 6c61 6874 6929 0a2d 2049 6d70  rytilahti).- Imp
-0000f100: 726f 7665 2062 756c 6220 4150 492c 2066  rove bulb API, f
-0000f110: 6f72 6365 2074 7572 6e20 6f6e 2066 6f72  orce turn on for
-0000f120: 2061 6c6c 206c 6967 6874 2063 6861 6e67   all light chang
-0000f130: 6573 2061 7320 6f66 666c 696e 6520 6368  es as offline ch
-0000f140: 616e 6765 7320 6172 6520 6e6f 7420 7375  anges are not su
-0000f150: 7070 6f72 7465 6420 5b5c 2337 365d 2868  pported [\#76](h
-0000f160: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000f170: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-0000f180: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f37  thon-kasa/pull/7
-0000f190: 3629 2028 4072 7974 696c 6168 7469 290a  6) (@rytilahti).
-0000f1a0: 2d20 5369 6d70 6c69 6679 2041 5049 2064  - Simplify API d
-0000f1b0: 6f63 756d 656e 7461 7469 6f6e 2062 7920  ocumentation by 
-0000f1c0: 7573 696e 6720 646f 6374 6573 7473 205b  using doctests [
-0000f1d0: 5c23 3733 5d28 6874 7470 733a 2f2f 6769  \#73](https://gi
-0000f1e0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-0000f1f0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-0000f200: 2f70 756c 6c2f 3733 2920 2840 7279 7469  /pull/73) (@ryti
-0000f210: 6c61 6874 6929 0a2d 2042 756c 6273 3a20  lahti).- Bulbs: 
-0000f220: 616c 6c6f 7720 7370 6563 6966 7969 6e67  allow specifying
-0000f230: 2074 7261 6e73 6974 696f 6e20 666f 7220   transition for 
-0000f240: 7374 6174 6520 6368 616e 6765 7320 5b5c  state changes [\
-0000f250: 2337 305d 2868 7474 7073 3a2f 2f67 6974  #70](https://git
-0000f260: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-0000f270: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-0000f280: 7075 6c6c 2f37 3029 2028 4072 7974 696c  pull/70) (@rytil
-0000f290: 6168 7469 290a 2d20 4164 6420 7472 616e  ahti).- Add tran
-0000f2a0: 7369 7469 6f6e 2073 7570 706f 7274 2066  sition support f
-0000f2b0: 6f72 2053 6d61 7274 4469 6d6d 6572 205b  or SmartDimmer [
-0000f2c0: 5c23 3639 5d28 6874 7470 733a 2f2f 6769  \#69](https://gi
-0000f2d0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-0000f2e0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-0000f2f0: 2f70 756c 6c2f 3639 2920 2840 636f 6e6e  /pull/69) (@conn
-0000f300: 6f72 7072 6f63 746f 7229 0a0a 2323 205b  orproctor)..## [
-0000f310: 302e 342e 302e 7072 6530 5d28 6874 7470  0.4.0.pre0](http
-0000f320: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-0000f330: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-0000f340: 6e2d 6b61 7361 2f74 7265 652f 302e 342e  n-kasa/tree/0.4.
-0000f350: 302e 7072 6530 2920 2832 3032 302d 3035  0.pre0) (2020-05
-0000f360: 2d32 3729 0a0a 5b46 756c 6c20 4368 616e  -27)..[Full Chan
-0000f370: 6765 6c6f 675d 2868 7474 7073 3a2f 2f67  gelog](https://g
-0000f380: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-0000f390: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-0000f3a0: 612f 636f 6d70 6172 652f 302e 332e 352e  a/compare/0.3.5.
-0000f3b0: 2e2e 302e 342e 302e 7072 6530 290a 0a2a  ..0.4.0.pre0)..*
-0000f3c0: 2a49 6d70 6c65 6d65 6e74 6564 2065 6e68  *Implemented enh
-0000f3d0: 616e 6365 6d65 6e74 733a 2a2a 0a0a 2d20  ancements:**..- 
-0000f3e0: 4164 6420 636f 6d6d 616e 6473 2074 6f20  Add commands to 
-0000f3f0: 636f 6e74 726f 6c20 7468 6520 7769 6669  control the wifi
-0000f400: 2073 6574 7469 6e67 7320 5b5c 2334 355d   settings [\#45]
-0000f410: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000f420: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-0000f430: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
-0000f440: 2f34 3529 2028 4072 7974 696c 6168 7469  /45) (@rytilahti
-0000f450: 290a 0a2a 2a46 6978 6564 2062 7567 733a  )..**Fixed bugs:
-0000f460: 2a2a 0a0a 2d20 4853 5620 636c 6920 636f  **..- HSV cli co
-0000f470: 6d6d 616e 6420 6e6f 7420 776f 726b 696e  mmand not workin
-0000f480: 6720 5b5c 2334 335d 2868 7474 7073 3a2f  g [\#43](https:/
-0000f490: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-0000f4a0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-0000f4b0: 6173 612f 6973 7375 6573 2f34 3329 0a0a  asa/issues/43)..
-0000f4c0: 2a2a 436c 6f73 6564 2069 7373 7565 733a  **Closed issues:
-0000f4d0: 2a2a 0a0a 2d20 5075 6c6c 2072 6571 7565  **..- Pull reque
-0000f4e0: 7374 205c 2335 3420 6272 6f6b 6520 696e  st \#54 broke in
-0000f4f0: 7374 616c 6c65 723f 205b 5c23 3636 5d28  staller? [\#66](
-0000f500: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000f510: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-0000f520: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
-0000f530: 732f 3636 290a 2d20 5246 433a 2072 656d  s/66).- RFC: rem
-0000f540: 6f76 6520 696d 706c 6963 6974 2075 7064  ove implicit upd
-0000f550: 6174 6573 2061 6674 6572 2073 7461 7465  ates after state
-0000f560: 2063 6861 6e67 6573 3f20 5b5c 2336 315d   changes? [\#61]
-0000f570: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000f580: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-0000f590: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
-0000f5a0: 6573 2f36 3129 0a2d 2048 6f77 2074 6f20  es/61).- How to 
-0000f5b0: 696e 7374 616c 6c3f 205b 5c23 3537 5d28  install? [\#57](
-0000f5c0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000f5d0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-0000f5e0: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
-0000f5f0: 732f 3537 290a 2d20 5265 7175 6573 7420  s/57).- Request 
-0000f600: 616c 6c20 6e65 6365 7373 6172 7920 696e  all necessary in
-0000f610: 666f 726d 6174 696f 6e20 6475 7269 6e67  formation during
-0000f620: 2075 7064 6174 655c 285c 2920 5b5c 2335   update\(\) [\#5
-0000f630: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
-0000f640: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-0000f650: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
-0000f660: 7375 6573 2f35 3329 0a2d 2048 5331 3037  sues/53).- HS107
-0000f670: 2053 7570 706f 7274 205b 5c23 3337 5d28   Support [\#37](
-0000f680: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000f690: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-0000f6a0: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
-0000f6b0: 732f 3337 290a 2d20 5365 7061 7261 7465  s/37).- Separate
-0000f6c0: 2064 696d 6d65 722d 7265 6c61 7465 6420   dimmer-related 
-0000f6d0: 636f 6465 2066 726f 6d20 736d 6172 7470  code from smartp
-0000f6e0: 6c75 6720 636c 6173 7320 5b5c 2333 335d  lug class [\#33]
-0000f6f0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000f700: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-0000f710: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
-0000f720: 6573 2f33 3329 0a2d 2041 6464 204d 6163  es/33).- Add Mac
-0000f730: 204f 5358 2061 6e64 2057 696e 646f 7773   OSX and Windows
-0000f740: 2066 6f72 2043 4920 5b5c 2333 305d 2868   for CI [\#30](h
-0000f750: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000f760: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-0000f770: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
-0000f780: 2f33 3029 0a2d 204b 5033 3033 5c28 554b  /30).- KP303\(UK
-0000f790: 5c29 2064 6f65 7320 6e6f 7420 7061 7373  \) does not pass
-0000f7a0: 2063 6865 636b 2077 6974 6820 7079 7465   check with pyte
-0000f7b0: 7374 205b 5c23 3237 5d28 6874 7470 733a  st [\#27](https:
-0000f7c0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
-0000f7d0: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
-0000f7e0: 6b61 7361 2f69 7373 7565 732f 3237 290a  kasa/issues/27).
-0000f7f0: 2d20 5265 6d6f 7665 2073 796e 6320 696e  - Remove sync in
-0000f800: 7465 7266 6163 6520 7772 6170 7065 7220  terface wrapper 
-0000f810: 5b5c 2331 325d 2868 7474 7073 3a2f 2f67  [\#12](https://g
-0000f820: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-0000f830: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-0000f840: 612f 6973 7375 6573 2f31 3229 0a2d 204d  a/issues/12).- M
-0000f850: 6173 7320 636c 6f73 6520 7079 6873 3130  ass close pyhs10
-0000f860: 3020 6973 7375 6573 2061 6e64 2050 5273  0 issues and PRs
-0000f870: 205b 5c23 3131 5d28 6874 7470 733a 2f2f   [\#11](https://
-0000f880: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-0000f890: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-0000f8a0: 7361 2f69 7373 7565 732f 3131 290a 2d20  sa/issues/11).- 
-0000f8b0: 5570 6461 7465 2072 6561 646d 6520 5b5c  Update readme [\
-0000f8c0: 2331 305d 2868 7474 7073 3a2f 2f67 6974  #10](https://git
-0000f8d0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-0000f8e0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-0000f8f0: 6973 7375 6573 2f31 3029 0a2d 2041 6464  issues/10).- Add
-0000f900: 2063 6f6e 7472 6962 7574 696f 6e20 6775   contribution gu
-0000f910: 6964 656c 696e 6573 2061 6e64 2069 6e73  idelines and ins
-0000f920: 7472 7563 7469 6f6e 7320 5b5c 2338 5d28  tructions [\#8](
-0000f930: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000f940: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-0000f950: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
-0000f960: 732f 3829 0a2d 2043 6f6e 7665 7274 2064  s/8).- Convert d
-0000f970: 6973 636f 7665 7279 2074 6f20 7573 6520  iscovery to use 
-0000f980: 6173 796e 6369 6f20 5b5c 2337 5d28 6874  asyncio [\#7](ht
-0000f990: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000f9a0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-0000f9b0: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
-0000f9c0: 3729 0a2d 2050 7974 686f 6e20 5665 7273  7).- Python Vers
-0000f9d0: 696f 6e3f 205b 5c23 345d 2868 7474 7073  ion? [\#4](https
-0000f9e0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-0000f9f0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-0000fa00: 2d6b 6173 612f 6973 7375 6573 2f34 290a  -kasa/issues/4).
-0000fa10: 2d20 4669 7820 6661 696c 696e 6720 7465  - Fix failing te
-0000fa20: 7374 733a 204b 6579 4572 726f 723a 2027  sts: KeyError: '
-0000fa30: 7265 6c61 795c 5f73 7461 7465 2720 5b5c  relay\_state' [\
-0000fa40: 2332 5d28 6874 7470 733a 2f2f 6769 7468  #2](https://gith
-0000fa50: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-0000fa60: 7361 2f70 7974 686f 6e2d 6b61 7361 2f69  sa/python-kasa/i
-0000fa70: 7373 7565 732f 3229 0a0a 2a2a 4d65 7267  ssues/2)..**Merg
-0000fa80: 6564 2070 756c 6c20 7265 7175 6573 7473  ed pull requests
-0000fa90: 3a2a 2a0a 0a2d 2041 6464 2072 6574 7269  :**..- Add retri
-0000faa0: 6573 2074 6f20 7072 6f74 6f63 6f6c 2071  es to protocol q
-0000fab0: 7565 7269 6573 205b 5c23 3635 5d28 6874  ueries [\#65](ht
-0000fac0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000fad0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-0000fae0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3635  hon-kasa/pull/65
-0000faf0: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
-0000fb00: 2047 656e 6572 616c 2063 6c65 616e 7570   General cleanup
-0000fb10: 7320 616c 6c20 6172 6f75 6e64 205c 286a  s all around \(j
-0000fb20: 616e 6974 6f72 696e 675c 2920 5b5c 2336  anitoring\) [\#6
-0000fb30: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
-0000fb40: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-0000fb50: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-0000fb60: 6c6c 2f36 3329 2028 4072 7974 696c 6168  ll/63) (@rytilah
-0000fb70: 7469 290a 2d20 496d 7072 6f76 6520 6469  ti).- Improve di
-0000fb80: 6d6d 6572 2073 7570 706f 7274 205b 5c23  mmer support [\#
-0000fb90: 3632 5d28 6874 7470 733a 2f2f 6769 7468  62](https://gith
-0000fba0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
-0000fbb0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
-0000fbc0: 756c 6c2f 3632 2920 2840 7279 7469 6c61  ull/62) (@rytila
-0000fbd0: 6874 6929 0a2d 204f 7074 696d 697a 6520  hti).- Optimize 
-0000fbe0: 492f 4f20 6163 6365 7373 205b 5c23 3539  I/O access [\#59
-0000fbf0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000fc00: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-0000fc10: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-0000fc20: 6c2f 3539 2920 2840 7279 7469 6c61 6874  l/59) (@rytilaht
-0000fc30: 6929 0a2d 2052 656d 6f76 6520 756e 6e65  i).- Remove unne
-0000fc40: 6365 7373 6172 7920 662d 7374 7269 6e67  cessary f-string
-0000fc50: 2064 6566 696e 6974 696f 6e20 746f 206d   definition to m
-0000fc60: 616b 6520 7465 7374 7320 7061 7373 205b  ake tests pass [
-0000fc70: 5c23 3538 5d28 6874 7470 733a 2f2f 6769  \#58](https://gi
-0000fc80: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-0000fc90: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-0000fca0: 2f70 756c 6c2f 3538 2920 2840 7279 7469  /pull/58) (@ryti
-0000fcb0: 6c61 6874 6929 0a2d 2043 6f6e 7665 7274  lahti).- Convert
-0000fcc0: 2074 6f20 7573 6520 706f 6574 7279 2026   to use poetry &
-0000fcd0: 2070 7970 726f 6a65 6374 2e74 6f6d 6c20   pyproject.toml 
-0000fce0: 666f 7220 6465 7020 2620 6275 696c 6420  for dep & build 
-0000fcf0: 6d61 6e61 6765 6d65 6e74 205b 5c23 3534  management [\#54
-0000fd00: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000fd10: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-0000fd20: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-0000fd30: 6c2f 3534 2920 2840 7279 7469 6c61 6874  l/54) (@rytilaht
-0000fd40: 6929 0a2d 2041 6464 2066 6978 7475 7265  i).- Add fixture
-0000fd50: 2066 6f72 204b 4c36 3020 5b5c 2335 325d   for KL60 [\#52]
-0000fd60: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000fd70: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
-0000fd80: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
-0000fd90: 2f35 3229 2028 4072 7974 696c 6168 7469  /52) (@rytilahti
-0000fda0: 290a 2d20 4967 6e6f 7265 2044 3230 3220  ).- Ignore D202 
-0000fdb0: 7768 6572 6520 6e65 6365 7373 6172 7920  where necessary 
-0000fdc0: 5b5c 2335 305d 2868 7474 7073 3a2f 2f67  [\#50](https://g
-0000fdd0: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-0000fde0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-0000fdf0: 612f 7075 6c6c 2f35 3029 2028 4072 7974  a/pull/50) (@ryt
-0000fe00: 696c 6168 7469 290a 2d20 5375 7070 6f72  ilahti).- Suppor
-0000fe10: 7420 7769 6669 2073 6361 6e20 2620 6a6f  t wifi scan & jo
-0000fe20: 696e 2066 6f72 2062 756c 6273 2075 7369  in for bulbs usi
-0000fe30: 6e67 2061 2064 6966 6665 7265 6e74 2069  ng a different i
-0000fe40: 6e74 6572 6661 6365 205b 5c23 3439 5d28  nterface [\#49](
-0000fe50: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000fe60: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-0000fe70: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
-0000fe80: 3439 2920 2840 7279 7469 6c61 6874 6929  49) (@rytilahti)
-0000fe90: 0a2d 2052 6574 7572 6e20 6f6e 5c5f 7369  .- Return on\_si
-0000fea0: 6e63 6520 6f6e 6c79 2077 6865 6e20 6974  nce only when it
-0000feb0: 7320 6176 6169 6c61 626c 6520 616e 6420  s available and 
-0000fec0: 7468 6520 6465 7669 6365 2069 7320 6f6e  the device is on
-0000fed0: 205b 5c23 3438 5d28 6874 7470 733a 2f2f   [\#48](https://
-0000fee0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-0000fef0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-0000ff00: 7361 2f70 756c 6c2f 3438 2920 2840 7279  sa/pull/48) (@ry
-0000ff10: 7469 6c61 6874 6929 0a2d 2041 6c6c 6f77  tilahti).- Allow
-0000ff20: 2030 2062 7269 6768 746e 6573 7320 666f   0 brightness fo
-0000ff30: 7220 736d 6172 7464 696d 6d65 7220 5b5c  r smartdimmer [\
-0000ff40: 2334 375d 2868 7474 7073 3a2f 2f67 6974  #47](https://git
-0000ff50: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-0000ff60: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-0000ff70: 7075 6c6c 2f34 3729 2028 4072 7974 696c  pull/47) (@rytil
-0000ff80: 6168 7469 290a 2d20 6173 796e 632b 2b2c  ahti).- async++,
-0000ff90: 2073 6d61 6c6c 2070 6f77 6572 7374 7269   small powerstri
-0000ffa0: 7020 696d 7072 6f76 656d 656e 7473 205b  p improvements [
-0000ffb0: 5c23 3436 5d28 6874 7470 733a 2f2f 6769  \#46](https://gi
-0000ffc0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-0000ffd0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-0000ffe0: 2f70 756c 6c2f 3436 2920 2840 7279 7469  /pull/46) (@ryti
-0000fff0: 6c61 6874 6929 0a2d 2043 6865 636b 2066  lahti).- Check f
-00010000: 6f72 2065 6d65 7465 7220 7375 7070 6f72  or emeter suppor
-00010010: 7420 6f6e 2070 6f77 6572 2073 7472 6970  t on power strip
-00010020: 732f 6d75 6c74 6970 6c65 2070 6c75 6720  s/multiple plug 
-00010030: 6f75 746c 6574 7320 5b5c 2334 315d 2868  outlets [\#41](h
-00010040: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00010050: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
-00010060: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f34  thon-kasa/pull/4
-00010070: 3129 2028 4061 636d 6179 290a 2d20 5265  1) (@acmay).- Re
-00010080: 6d6f 7665 2075 6e6e 6563 6573 7361 7279  move unnecessary
-00010090: 2063 6163 6865 205b 5c23 3430 5d28 6874   cache [\#40](ht
-000100a0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000100b0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-000100c0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3430  hon-kasa/pull/40
-000100d0: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
-000100e0: 2041 6464 2069 6e20 736f 6d65 206e 6577   Add in some new
-000100f0: 2064 6576 6963 6520 7479 7065 7320 5b5c   device types [\
-00010100: 2333 395d 2868 7474 7073 3a2f 2f67 6974  #39](https://git
-00010110: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-00010120: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-00010130: 7075 6c6c 2f33 3929 2028 4061 636d 6179  pull/39) (@acmay
-00010140: 290a 2d20 4164 6420 7465 7374 2066 6978  ).- Add test fix
-00010150: 7475 7265 2066 6f72 204b 4c31 3330 205b  ture for KL130 [
-00010160: 5c23 3335 5d28 6874 7470 733a 2f2f 6769  \#35](https://gi
-00010170: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-00010180: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-00010190: 2f70 756c 6c2f 3335 2920 2840 6264 7261  /pull/35) (@bdra
-000101a0: 636f 290a 2d20 4d6f 7665 2064 696d 6d65  co).- Move dimme
-000101b0: 7220 7375 7070 6f72 7420 746f 2069 7473  r support to its
-000101c0: 206f 776e 2063 6c61 7373 205b 5c23 3334   own class [\#34
-000101d0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-000101e0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-000101f0: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-00010200: 6c2f 3334 2920 2840 7279 7469 6c61 6874  l/34) (@rytilaht
-00010210: 6929 0a2d 2046 6978 2061 7a75 7265 2070  i).- Fix azure p
-00010220: 6970 656c 696e 6520 6261 6467 6520 5b5c  ipeline badge [\
-00010230: 2333 325d 2868 7474 7073 3a2f 2f67 6974  #32](https://git
-00010240: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
-00010250: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
-00010260: 7075 6c6c 2f33 3229 2028 4072 7974 696c  pull/32) (@rytil
-00010270: 6168 7469 290a 2d20 456e 6162 6c65 2057  ahti).- Enable W
-00010280: 696e 646f 7773 2026 204f 5358 2062 7569  indows & OSX bui
-00010290: 6c64 7320 5b5c 2333 315d 2868 7474 7073  lds [\#31](https
-000102a0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-000102b0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-000102c0: 2d6b 6173 612f 7075 6c6c 2f33 3129 2028  -kasa/pull/31) (
-000102d0: 4072 7974 696c 6168 7469 290a 2d20 4465  @rytilahti).- De
-000102e0: 7065 6e64 206f 6e20 7079 332e 372b 2066  pend on py3.7+ f
-000102f0: 6f72 2074 6f78 2c20 6164 6420 7079 7468  or tox, add pyth
-00010300: 6f6e 2033 2e38 2074 6f20 617a 7572 6520  on 3.8 to azure 
-00010310: 7069 7065 6c69 6e65 2074 6172 6765 7473  pipeline targets
-00010320: 205b 5c23 3239 5d28 6874 7470 733a 2f2f   [\#29](https://
-00010330: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-00010340: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-00010350: 7361 2f70 756c 6c2f 3239 2920 2840 7279  sa/pull/29) (@ry
-00010360: 7469 6c61 6874 6929 0a2d 2041 6464 204b  tilahti).- Add K
-00010370: 5033 3033 2074 6f20 7468 6520 6c69 7374  P303 to the list
-00010380: 206f 6620 706f 7765 7273 7472 6970 7320   of powerstrips 
-00010390: 5b5c 2332 385d 2868 7474 7073 3a2f 2f67  [\#28](https://g
-000103a0: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-000103b0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-000103c0: 612f 7075 6c6c 2f32 3829 2028 4072 7974  a/pull/28) (@ryt
-000103d0: 696c 6168 7469 290a 2d20 4d6f 7665 2063  ilahti).- Move c
-000103e0: 6869 6c64 2073 6f63 6b65 7420 6861 6e64  hild socket hand
-000103f0: 6c69 6e67 2074 6f20 6974 7320 6f77 6e20  ling to its own 
-00010400: 536d 6172 7453 7472 6970 506c 7567 2063  SmartStripPlug c
-00010410: 6c61 7373 205b 5c23 3236 5d28 6874 7470  lass [\#26](http
-00010420: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-00010430: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-00010440: 6e2d 6b61 7361 2f70 756c 6c2f 3236 2920  n-kasa/pull/26) 
-00010450: 2840 7279 7469 6c61 6874 6929 0a2d 2041  (@rytilahti).- A
-00010460: 6464 696e 6720 4b50 3330 3320 746f 2073  dding KP303 to s
-00010470: 7570 706f 7274 6564 2064 6576 6963 6573  upported devices
-00010480: 205b 5c23 3235 5d28 6874 7470 733a 2f2f   [\#25](https://
-00010490: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
-000104a0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
-000104b0: 7361 2f70 756c 6c2f 3235 2920 2840 6570  sa/pull/25) (@ep
-000104c0: 6963 616c 6578 290a 2d20 7573 6520 7079  icalex).- use py
-000104d0: 7465 7374 6d61 726b 2074 6f20 6176 6f69  testmark to avoi
-000104e0: 6420 7265 7065 6174 696e 6720 6173 796e  d repeating asyn
-000104f0: 6369 6f20 6d61 726b 205b 5c23 3234 5d28  cio mark [\#24](
-00010500: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00010510: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
-00010520: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
-00010530: 3234 2920 2840 7279 7469 6c61 6874 6929  24) (@rytilahti)
-00010540: 0a2d 2043 6c65 616e 7570 2063 6f6e 7374  .- Cleanup const
-00010550: 7275 6374 6f72 7320 6279 2072 656d 6f76  ructors by remov
-00010560: 696e 6720 696f 6c6f 6f70 2061 6e64 2070  ing ioloop and p
-00010570: 726f 746f 636f 6c20 6172 6775 6d65 6e74  rotocol argument
-00010580: 7320 5b5c 2332 335d 2868 7474 7073 3a2f  s [\#23](https:/
-00010590: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-000105a0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-000105b0: 6173 612f 7075 6c6c 2f32 3329 2028 4072  asa/pull/23) (@r
-000105c0: 7974 696c 6168 7469 290a 2d20 4164 6420  ytilahti).- Add 
-000105d0: 5c28 736f 6d65 5c29 2074 6573 7473 2074  \(some\) tests t
-000105e0: 6f20 7468 6520 636c 6920 746f 6f6c 205b  o the cli tool [
-000105f0: 5c23 3232 5d28 6874 7470 733a 2f2f 6769  \#22](https://gi
-00010600: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-00010610: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-00010620: 2f70 756c 6c2f 3232 2920 2840 7279 7469  /pull/22) (@ryti
-00010630: 6c61 6874 6929 0a2d 2054 6573 7420 6167  lahti).- Test ag
-00010640: 6169 6e73 7420 7468 6520 6e65 776c 7920  ainst the newly 
-00010650: 6164 6465 6420 6465 7669 6365 2066 6978  added device fix
-00010660: 7475 7265 7320 205b 5c23 3231 5d28 6874  tures  [\#21](ht
-00010670: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00010680: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
-00010690: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3231  hon-kasa/pull/21
-000106a0: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
-000106b0: 206d 6f76 6520 7465 7374 696e 6720 7265   move testing re
-000106c0: 7173 2074 6f20 7265 7175 6972 656d 656e  qs to requiremen
-000106d0: 7473 5c5f 7465 7374 2e74 7874 2c20 6164  ts\_test.txt, ad
-000106e0: 6420 7079 7465 7374 2d61 7379 6e63 696f  d pytest-asyncio
-000106f0: 2066 6f72 2070 6970 656c 696e 6573 205b   for pipelines [
-00010700: 5c23 3230 5d28 6874 7470 733a 2f2f 6769  \#20](https://gi
-00010710: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
-00010720: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
-00010730: 2f70 756c 6c2f 3230 2920 2840 7279 7469  /pull/20) (@ryti
-00010740: 6c61 6874 6929 0a2d 2052 656d 6f76 6520  lahti).- Remove 
-00010750: 756e 7573 6564 2073 6176 6520 6f70 7469  unused save opti
-00010760: 6f6e 2061 6e64 2061 6464 2073 6372 7562  on and add scrub
-00010770: 6269 6e67 205b 5c23 3139 5d28 6874 7470  bing [\#19](http
-00010780: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-00010790: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-000107a0: 6e2d 6b61 7361 2f70 756c 6c2f 3139 2920  n-kasa/pull/19) 
-000107b0: 2840 5468 6547 6172 6465 6e4d 6f6e 6b65  (@TheGardenMonke
-000107c0: 7929 0a2d 2041 6464 2072 6561 6c20 6b61  y).- Add real ka
-000107d0: 7361 2064 6576 6963 6520 6475 6d70 7320  sa device dumps 
-000107e0: 5b5c 2331 385d 2868 7474 7073 3a2f 2f67  [\#18](https://g
-000107f0: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-00010800: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-00010810: 612f 7075 6c6c 2f31 3829 2028 4054 6865  a/pull/18) (@The
-00010820: 4761 7264 656e 4d6f 6e6b 6579 290a 2d20  GardenMonkey).- 
-00010830: 4669 7820 6475 6d70 2d64 6973 636f 7665  Fix dump-discove
-00010840: 7220 746f 2075 7365 2061 7379 6e63 696f  r to use asyncio
-00010850: 2e72 756e 205b 5c23 3136 5d28 6874 7470  .run [\#16](http
-00010860: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-00010870: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
-00010880: 6e2d 6b61 7361 2f70 756c 6c2f 3136 2920  n-kasa/pull/16) 
-00010890: 2840 7279 7469 6c61 6874 6929 0a2d 2041  (@rytilahti).- A
-000108a0: 6464 2064 6576 6963 655c 5f69 6420 7072  dd device\_id pr
-000108b0: 6f70 6572 7479 2c20 7265 6e61 6d65 2063  operty, rename c
-000108c0: 6f6e 7465 7874 2074 6f20 6368 696c 645c  ontext to child\
-000108d0: 5f69 6420 5b5c 2331 355d 2868 7474 7073  _id [\#15](https
-000108e0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-000108f0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-00010900: 2d6b 6173 612f 7075 6c6c 2f31 3529 2028  -kasa/pull/15) (
-00010910: 4072 7974 696c 6168 7469 290a 2d20 5265  @rytilahti).- Re
-00010920: 6d6f 7665 2073 796e 6320 696e 7465 7266  move sync interf
-00010930: 6163 652c 2061 6464 2061 7379 6e63 696f  ace, add asyncio
-00010940: 2064 6973 636f 7665 7279 205b 5c23 3134   discovery [\#14
-00010950: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00010960: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
-00010970: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
-00010980: 6c2f 3134 2920 2840 7279 7469 6c61 6874  l/14) (@rytilaht
-00010990: 6929 0a2d 2052 656d 6f76 6520 2d2d 6970  i).- Remove --ip
-000109a0: 2077 6869 6368 2077 6173 206a 7573 7420   which was just 
-000109b0: 616e 2061 6c69 6173 2074 6f20 2d2d 686f  an alias to --ho
-000109c0: 7374 205b 5c23 365d 2868 7474 7073 3a2f  st [\#6](https:/
-000109d0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
-000109e0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
-000109f0: 6173 612f 7075 6c6c 2f36 2920 2840 7279  asa/pull/6) (@ry
-00010a00: 7469 6c61 6874 6929 0a2d 2053 6574 206d  tilahti).- Set m
-00010a10: 696e 696d 756d 2072 6571 7569 7265 6d65  inimum requireme
-00010a20: 6e74 2074 6f20 7079 7468 6f6e 2033 2e37  nt to python 3.7
-00010a30: 205b 5c23 355d 2868 7474 7073 3a2f 2f67   [\#5](https://g
-00010a40: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
-00010a50: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
-00010a60: 612f 7075 6c6c 2f35 2920 2840 7279 7469  a/pull/5) (@ryti
-00010a70: 6c61 6874 6929 0a2d 2063 6861 6e67 6520  lahti).- change 
-00010a80: 4944 206f 6620 417a 7572 6520 5069 7065  ID of Azure Pipe
-00010a90: 6c69 6e65 205b 5c23 335d 2868 7474 7073  line [\#3](https
-00010aa0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
-00010ab0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
-00010ac0: 2d6b 6173 612f 7075 6c6c 2f33 2920 2840  -kasa/pull/3) (@
-00010ad0: 6261 736e 696a 686f 6c74 290a 2d20 4d61  basnijholt).- Ma
-00010ae0: 7373 2072 656e 616d 6520 746f 205c 2870  ss rename to \(p
-00010af0: 7974 686f 6e2d 5c29 6b61 7361 205b 5c23  ython-\)kasa [\#
-00010b00: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
-00010b10: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
-00010b20: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
-00010b30: 6c6c 2f31 2920 2840 7279 7469 6c61 6874  ll/1) (@rytilaht
-00010b40: 6929 0a0a 4869 7374 6f72 6963 616c 2070  i)..Historical p
-00010b50: 7948 5331 3030 2063 6861 6e67 656c 6f67  yHS100 changelog
-00010b60: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
-00010b70: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a30  =============..0
-00010b80: 2e33 2e35 2028 3230 3139 2d30 342d 3133  .3.5 (2019-04-13
-00010b90: 290a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a  ).------------..
-00010ba0: 2d20 4669 7820 666f 7220 536d 6172 7453  - Fix for SmartS
-00010bb0: 7472 6970 2072 6570 7220 2823 3136 3929  trip repr (#169)
-00010bc0: 205b 416c 6578 5d0a 0a20 202a 2041 6464   [Alex]..  * Add
-00010bd0: 6564 2075 6e69 7420 7465 7374 7320 666f  ed unit tests fo
-00010be0: 7220 7265 7072 2e0a 0a20 202a 2046 6978  r repr...  * Fix
-00010bf0: 2072 6570 7220 666f 7220 536d 6172 7453   repr for SmartS
-00010c00: 7472 6970 2e0a 0a20 2046 6978 6573 2023  trip...  Fixes #
-00010c10: 3136 350a 0a2d 2053 6d61 7274 7374 7269  165..- Smartstri
-00010c20: 703a 2072 6574 7572 6e20 6f6e 5f73 696e  p: return on_sin
-00010c30: 6365 2073 7461 7465 2069 6e66 6f72 6d61  ce state informa
-00010c40: 7469 6f6e 206f 6e6c 7920 7768 656e 2074  tion only when t
-00010c50: 6865 2073 6f63 6b65 7420 6973 206f 6e20  he socket is on 
-00010c60: 2823 3136 3129 205b 5465 656d 7520 525d  (#161) [Teemu R]
-00010c70: 0a0a 2020 2a20 536d 6172 7473 7472 6970  ..  * Smartstrip
-00010c80: 3a20 7265 7475 726e 206f 6e5f 7369 6e63  : return on_sinc
-00010c90: 6520 7374 6174 6520 696e 666f 726d 6174  e state informat
-00010ca0: 696f 6e20 6f6e 6c79 2077 6865 6e20 7468  ion only when th
-00010cb0: 6520 736f 636b 6574 2069 7320 6f6e 0a0a  e socket is on..
-00010cc0: 2020 4669 7865 7320 2331 3630 0a0a 2020    Fixes #160..  
-00010cd0: 2a20 6164 6420 7072 6f70 6572 2063 6c69  * add proper cli
-00010ce0: 2070 7269 6e74 6f75 7420 666f 7220 6873   printout for hs
-00010cf0: 3330 3020 6368 696c 6420 736f 636b 6574  300 child socket
-00010d00: 730a 0a20 202a 2069 7465 7261 7465 206f  s..  * iterate o
-00010d10: 7665 7220 7261 6e67 652c 206e 6f74 2061  ver range, not a
-00010d20: 6e20 696e 7465 6765 720a 0a2d 2042 756c  n integer..- Bul
-00010d30: 623a 2061 6464 2074 6865 2074 656d 7065  b: add the tempe
-00010d40: 7261 7475 7265 2072 616e 6765 2074 6f20  rature range to 
-00010d50: 7374 6174 655f 696e 666f 726d 6174 696f  state_informatio
-00010d60: 6e2c 2069 6e66 6f72 6d20 7468 6520 7573  n, inform the us
-00010d70: 6572 2069 6620 7468 6520 696e 666f 2069  er if the info i
-00010d80: 7320 6d69 7373 696e 6720 7768 656e 2063  s missing when c
-00010d90: 616c 6c69 6e67 2074 656d 7065 7261 7475  alling temperatu
-00010da0: 7265 2028 2331 3633 2920 5b54 6565 6d75  re (#163) [Teemu
-00010db0: 2052 5d0a 0a2d 2046 6978 2044 6973 636f   R]..- Fix Disco
-00010dc0: 7665 7223 6469 7363 6f76 6572 2069 6e63  ver#discover inc
-00010dd0: 6f72 7265 6374 2064 6f63 756d 656e 7461  orrect documenta
-00010de0: 7469 6f6e 2028 2331 3539 2920 5b47 656f  tion (#159) [Geo
-00010df0: 7267 6920 4b69 7269 6368 6b6f 765d 0a0a  rgi Kirichkov]..
-00010e00: 2020 5468 6520 646f 6375 6d65 6e74 6174    The documentat
-00010e10: 696f 6e20 7374 6174 6573 2074 6865 2074  ion states the t
-00010e20: 696d 656f 7574 2064 6566 6175 6c74 7320  imeout defaults 
-00010e30: 746f 2035 2073 6563 6f6e 6473 2c20 6275  to 5 seconds, bu
-00010e40: 7420 696e 2074 6865 2064 6566 696e 6974  t in the definit
-00010e50: 696f 6e20 6f66 2074 6865 206d 6574 686f  ion of the metho
-00010e60: 6420 7469 6d65 6f75 7420 6973 2073 6574  d timeout is set
-00010e70: 2074 6f20 330a 0a2d 2041 6464 206b 656c   to 3..- Add kel
-00010e80: 7669 6e20 7261 6e67 6520 666f 7220 4b4c  vin range for KL
-00010e90: 3133 3020 2823 3135 3629 205b 6469 6573  130 (#156) [dies
-00010ea0: 656c 7261 6262 6974 5d0a 0a20 202a 2041  elrabbit]..  * A
-00010eb0: 6464 206b 656c 7669 6e20 7261 6e67 6520  dd kelvin range 
-00010ec0: 666f 7220 4b4c 3133 3020 286e 6577 2063  for KL130 (new c
-00010ed0: 6f6c 6f72 2062 756c 6229 0a0a 2020 2a20  olor bulb)..  * 
-00010ee0: 4164 6420 6b65 6c76 696e 2072 616e 6765  Add kelvin range
-00010ef0: 2066 6f72 204b 4c31 3230 0a0a 2020 556e   for KL120..  Un
-00010f00: 6162 6c65 2074 6f20 7465 7374 2074 6869  able to test thi
-00010f10: 7320 7065 7273 6f6e 616c 6c79 2061 7320  s personally as 
-00010f20: 4920 646f 6e27 7420 6861 7665 2074 6869  I don't have thi
-00010f30: 7320 6275 6c62 2e0a 0a2d 2041 6464 204c  s bulb...- Add L
-00010f40: 4232 3330 2e20 5b54 6565 6d75 2052 5d0a  B230. [Teemu R].
-00010f50: 0a20 2057 6f72 6b73 2061 6363 6f72 6469  .  Works accordi
-00010f60: 6e67 2074 6f20 6874 7470 733a 2f2f 6769  ng to https://gi
-00010f70: 7468 7562 2e63 6f6d 2f68 6f6d 652d 6173  thub.com/home-as
-00010f80: 7369 7374 616e 742f 686f 6d65 2d61 7373  sistant/home-ass
-00010f90: 6973 7461 6e74 2e69 6f2f 7075 6c6c 2f38  istant.io/pull/8
-00010fa0: 3039 300a 0a2d 2041 6464 204b 4c20 7365  090..- Add KL se
-00010fb0: 7269 6573 206f 6620 6275 6c62 732e 205b  ries of bulbs. [
-00010fc0: 5465 656d 7520 525d 0a0a 2020 776f 726b  Teemu R]..  work
-00010fd0: 7320 6163 636f 7264 696e 6720 746f 2068  s according to h
-00010fe0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00010ff0: 6d2f 686f 6d65 2d61 7373 6973 7461 6e74  m/home-assistant
-00011000: 2f68 6f6d 652d 6173 7369 7374 616e 742e  /home-assistant.
-00011010: 696f 2f70 756c 6c2f 3831 3334 0a0a 0a30  io/pull/8134...0
-00011020: 2e33 2e34 2028 3230 3139 2d30 312d 3136  .3.4 (2019-01-16
-00011030: 290a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a  ).------------..
-00011040: 5468 6572 6520 6172 6520 7477 6f20 6e6f  There are two no
-00011050: 7461 626c 6520 6368 616e 6765 7320 2861  table changes (a
-00011060: 6e64 206f 7468 6572 2073 6d61 6c6c 2066  nd other small f
-00011070: 6978 6573 2920 696e 2074 6869 7320 6d69  ixes) in this mi
-00011080: 6e6f 7220 7265 6c65 6173 6520 7468 616e  nor release than
-00011090: 6b73 2074 6f20 6f75 7220 636f 6e74 7269  ks to our contri
-000110a0: 6275 746f 7273 3a0a 0a2a 2053 7570 706f  butors:..* Suppo
-000110b0: 7274 2066 6f72 2048 5333 3030 2073 6d61  rt for HS300 sma
-000110c0: 7274 7374 7269 7020 2874 6861 6e6b 7320  rtstrip (thanks 
-000110d0: 746f 206a 696d 626f 6361 2129 0a2a 2054  to jimboca!).* T
-000110e0: 6865 2068 7565 2072 616e 6765 2066 6f72  he hue range for
-000110f0: 206c 6967 6874 2062 756c 6273 2069 7320   light bulbs is 
-00011100: 6669 7865 6420 2874 6861 6e6b 7320 746f  fixed (thanks to
-00011110: 206e 6b6f 6e6f 7069 6e73 6b69 2c20 416e   nkonopinski, An
-00011120: 6e69 6b61 204a 6163 6f62 7320 616e 6420  nika Jacobs and 
-00011130: 4a6f 6520 5a61 6368 2129 0a0a 0a2d 2055  Joe Zach!)...- U
-00011140: 7064 6174 6564 2076 616c 6964 2072 616e  pdated valid ran
-00011150: 6765 2074 6f20 3336 3020 2877 6974 6820  ge to 360 (with 
-00011160: 7061 7373 696e 6720 7465 7374 7329 2028  passing tests) (
-00011170: 2331 3533 2920 5b41 6e6e 696b 6120 4a61  #153) [Annika Ja
-00011180: 636f 6273 2c20 5a61 6320 4b6f 6368 5d0a  cobs, Zac Koch].
-00011190: 0a20 202a 2055 7064 6174 6564 2076 616c  .  * Updated val
-000111a0: 6964 2072 616e 6765 2074 6f20 3336 300a  id range to 360.
-000111b0: 0a20 2077 6974 6820 6974 2073 6574 2074  .  with it set t
-000111c0: 6f20 3335 3920 6974 2077 696c 6c20 6e6f  o 359 it will no
-000111d0: 7420 7368 6f77 2074 6865 2063 6f6c 6f72  t show the color
-000111e0: 2072 6564 2e20 4a75 7374 2074 6573 7465   red. Just teste
-000111f0: 6420 7468 6973 2077 6974 6820 6120 6275  d this with a bu
-00011200: 6464 6965 7320 6275 6c62 202d 2073 616d  ddies bulb - sam
-00011210: 6520 6d6f 6465 6c2f 6677 0a20 2068 7474  e model/fw.  htt
-00011220: 7073 3a2f 2f69 6d67 7572 2e63 6f6d 2f61  ps://imgur.com/a
-00011230: 2f6b 534e 5a49 754c 0a0a 2d20 4164 6420  /kSNZIuL..- Add 
-00011240: 7375 7070 6f72 7420 666f 7220 4853 3330  support for HS30
-00011250: 3020 706f 7765 7220 7374 7269 7020 2823  0 power strip (#
-00011260: 3133 3729 205b 6a69 6d62 6f63 615d 0a0a  137) [jimboca]..
-00011270: 2d20 4164 6420 4853 3130 3320 746f 2072  - Add HS103 to r
-00011280: 6561 646d 652e 205b 5465 656d 7520 525d  eadme. [Teemu R]
-00011290: 0a0a 2d20 4176 6f69 6420 2772 6566 6572  ..- Avoid 'refer
-000112a0: 656e 6365 6420 6265 666f 7265 2061 7373  enced before ass
-000112b0: 6967 6e6d 656e 7427 2065 7863 6570 7469  ignment' excepti
-000112c0: 6f6e 2028 2331 3530 2920 5b4b 6576 726f  on (#150) [Kevro
-000112d0: 6e20 5265 6573 5d0a 0a2d 2043 6c69 3a20  n Rees]..- Cli: 
-000112e0: 7368 6f77 2061 6e20 6572 726f 7220 666f  show an error fo
-000112f0: 7220 696e 636f 7272 6563 7420 6873 7620  r incorrect hsv 
-00011300: 7661 6c75 6573 2028 2331 3432 2920 5b41  values (#142) [A
-00011310: 6e6e 696b 6120 4a61 636f 6273 5d0a 0a20  nnika Jacobs].. 
-00011320: 2052 6169 7369 6e67 2061 6e20 6578 6365   Raising an exce
-00011330: 7074 696f 6e20 6966 2061 6e20 696e 636f  ption if an inco
-00011340: 6d70 6c65 7465 2048 5356 2063 6f6c 6f75  mplete HSV colou
-00011350: 7220 6973 2070 726f 7669 6465 642e 0a0a  r is provided...
-00011360: 2d20 4164 6420 6120 2252 6576 6965 7765  - Add a "Reviewe
-00011370: 6420 6279 2048 6f75 6e64 2220 6261 6467  d by Hound" badg
-00011380: 6520 2823 3133 3929 205b 5363 6f74 7420  e (#139) [Scott 
-00011390: 416c 6265 7274 736f 6e5d 0a0a 2d20 4368  Albertson]..- Ch
-000113a0: 616e 6765 2076 616c 6964 2068 7565 2072  ange valid hue r
-000113b0: 616e 6765 2074 6f20 302d 3335 3920 2866  ange to 0-359 (f
-000113c0: 6978 6573 2023 3133 3029 2c20 7570 6461  ixes #130), upda
-000113d0: 7465 2052 4541 444d 452e 6d64 2026 2074  te README.md & t
-000113e0: 6573 740a 2020 2823 3134 3029 205b 416e  est.  (#140) [An
-000113f0: 6e69 6b61 204a 6163 6f62 732c 206e 6b6f  nika Jacobs, nko
-00011400: 6e6f 7069 6e73 6b69 5d0a 0a20 2054 6573  nopinski]..  Tes
-00011410: 7465 6420 6f6e 204c 4231 3330 2845 5529  ted on LB130(EU)
-00011420: 2068 6172 6477 6172 6520 312e 302c 2066   hardware 1.0, f
-00011430: 6972 6d77 6172 6520 312e 382e 3620 4275  irmware 1.8.6 Bu
-00011440: 696c 6420 3138 3038 3039 2052 656c 2e30  ild 180809 Rel.0
-00011450: 3931 3635 390a 0a2d 2052 656d 6f76 6520  91659..- Remove 
-00011460: 6465 7072 6563 6174 6564 2069 6465 6e74  deprecated ident
-00011470: 6966 792c 2074 6869 7320 6861 7320 6265  ify, this has be
-00011480: 656e 2064 6570 7265 6361 7465 6420 666f  en deprecated fo
-00011490: 7220 6c6f 6e67 2065 6e6f 7567 682e 0a20  r long enough.. 
-000114a0: 2028 2331 3336 2920 5b54 6565 6d75 2052   (#136) [Teemu R
-000114b0: 5d0a 0a20 202a 2052 656d 6f76 6520 6465  ]..  * Remove de
-000114c0: 7072 6563 6174 6564 2069 6465 6e74 6966  precated identif
-000114d0: 792c 2074 6869 7320 6861 7320 6265 656e  y, this has been
-000114e0: 2064 6570 7265 6361 7465 6420 666f 7220   deprecated for 
-000114f0: 6c6f 6e67 2065 6e6f 7567 682e 0a0a 2d20  long enough...- 
-00011500: 4164 6420 6d69 7373 6564 2074 6573 7420  Add missed test 
-00011510: 666f 7220 696e 7661 6c69 6420 7479 7065  for invalid type
-00011520: 732e 205b 5465 656d 7520 525d 0a0a 2d20  s. [Teemu R]..- 
-00011530: 5570 6461 7465 2052 4541 444d 4520 746f  Update README to
-00011540: 2069 6e63 6c75 6465 206d 656e 7469 6f6e   include mention
-00011550: 2061 626f 7574 2068 7332 3230 2e20 5b54   about hs220. [T
-00011560: 6565 6d75 2052 5d0a 0a2d 2041 6464 2074  eemu R]..- Add t
-00011570: 6573 7473 2061 6e64 2070 7265 7474 7920  ests and pretty 
-00011580: 6f75 7470 7574 2066 6f72 2048 5332 3230  output for HS220
-00011590: 2c20 6669 7820 6d69 6e6f 7220 6973 7375  , fix minor issu
-000115a0: 6573 2069 6e20 7465 7374 732e 0a20 205b  es in tests..  [
-000115b0: 5465 656d 7520 525d 0a0a 2d20 4164 6420  Teemu R]..- Add 
-000115c0: 7265 626f 6f74 2063 6f6d 6d61 6e64 2074  reboot command t
-000115d0: 6f20 7265 7374 6172 7420 7468 6520 6465  o restart the de
-000115e0: 7669 6365 2028 2331 3239 2920 5b54 6565  vice (#129) [Tee
-000115f0: 6d75 2052 5d0a 0a0a 302e 332e 3320 2832  mu R]...0.3.3 (2
-00011600: 3031 382d 3039 2d30 3629 0a2d 2d2d 2d2d  018-09-06).-----
-00011610: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a54  -------------..T
-00011620: 6869 7320 7265 6c65 6173 6520 636f 6e74  his release cont
-00011630: 6169 6e73 2061 2062 7265 616b 696e 6720  ains a breaking 
-00011640: 6368 616e 6765 2066 6f72 2068 7376 2073  change for hsv s
-00011650: 6574 7465 722c 2077 6869 6368 2069 7320  etter, which is 
-00011660: 6368 616e 6765 6420 746f 2061 6363 6570  changed to accep
-00011670: 740a 7468 6520 6e65 7720 6272 6967 6874  t.the new bright
-00011680: 6e65 7373 2076 616c 7565 2069 6e20 7065  ness value in pe
-00011690: 7263 656e 7461 6765 2069 6e73 7465 6164  rcentage instead
-000116a0: 206f 6620 616e 2069 6e74 6567 6572 2062   of an integer b
-000116b0: 6574 7765 656e 2031 2061 6e64 2032 3535  etween 1 and 255
-000116c0: 2e0a 0a54 6865 2061 6c69 6173 2073 7570  ...The alias sup
-000116d0: 706f 7274 2068 6173 2062 6565 6e20 6578  port has been ex
-000116e0: 7465 6e64 6564 2074 6f20 616c 6c6f 7720  tended to allow 
-000116f0: 6368 616e 6769 6e67 2074 6865 2061 6c69  changing the ali
-00011700: 6173 2c20 6173 2077 656c 6c20 6173 2061  as, as well as a
-00011710: 6363 6573 7369 6e67 0a74 6865 2064 6576  ccessing.the dev
-00011720: 6963 6520 7573 696e 6720 6974 2028 7769  ice using it (wi
-00011730: 7468 6f75 7420 7370 6563 6966 7969 6e67  thout specifying
-00011740: 2061 6e20 4950 2061 6464 7265 7373 206f   an IP address o
-00011750: 7220 6120 686f 7374 6e61 6d65 292c 2077  r a hostname), w
-00011760: 6869 6368 2063 616e 2062 650a 7573 6566  hich can be.usef
-00011770: 756c 2069 6e20 736f 6d65 2073 6574 7570  ul in some setup
-00011780: 732e 2046 7572 7468 6572 6d6f 7265 2075  s. Furthermore u
-00011790: 7466 382d 656e 636f 6465 6420 616c 6961  tf8-encoded alia
-000117a0: 7365 7320 6172 6520 6e6f 7720 6861 6e64  ses are now hand
-000117b0: 6c65 6420 636f 7272 6563 746c 792e 0a0a  led correctly...
-000117c0: 2d20 4669 7820 6275 6720 7468 6174 2063  - Fix bug that c
-000117d0: 6861 6e67 6564 2062 7269 6768 746e 6573  hanged brightnes
-000117e0: 7320 6174 2065 6163 6820 4853 5620 7570  s at each HSV up
-000117f0: 6461 7465 2028 2331 3234 2920 5b53 6562  date (#124) [Seb
-00011800: 6173 7469 616e 2054 656d 706c 5d0a 0a20  astian Templ].. 
-00011810: 202a 2046 6978 2062 7567 2074 6861 7420   * Fix bug that 
-00011820: 6368 616e 6765 6420 6272 6967 6874 6e65  changed brightne
-00011830: 7373 2061 7420 6561 6368 2068 7376 2075  ss at each hsv u
-00011840: 7064 6174 650a 0a20 2054 6865 2048 5356  pdate..  The HSV
-00011850: 2073 6574 7465 7220 7368 6f75 6c64 2061   setter should a
-00011860: 6363 6570 7420 6120 7065 7263 656e 7461  ccept a percenta
-00011870: 6765 2066 6f72 2074 6865 2062 7269 6768  ge for the brigh
-00011880: 746e 6573 730a 2020 7661 6c75 6520 6275  tness.  value bu
-00011890: 7420 6163 7475 616c 6c79 2061 7373 756d  t actually assum
-000118a0: 6564 2074 6865 2062 7269 6768 746e 6573  ed the brightnes
-000118b0: 7320 746f 2062 6520 696e 2061 6273 6f6c  s to be in absol
-000118c0: 7574 6520 7661 6c75 6573 0a20 2062 6574  ute values.  bet
-000118d0: 7765 656e 2031 2061 6e64 2032 3535 2e0a  ween 1 and 255..
-000118e0: 2020 5468 6973 2072 6573 756c 7465 6420    This resulted 
-000118f0: 696e 2062 7269 6768 746e 6573 7320 7265  in brightness re
-00011900: 6475 6374 696f 6e73 2061 7420 6561 6368  ductions at each
-00011910: 2048 5356 2075 7064 6174 652c 2069 6e0a   HSV update, in.
-00011920: 2020 7374 6570 7320 6f66 2031 3030 2520    steps of 100% 
-00011930: 2d3e 2031 3030 2f32 3535 3d33 3925 202d  -> 100/255=39% -
-00011940: 3e20 3339 2f32 3535 3d31 3525 202d 3e20  > 39/255=15% -> 
-00011950: 2e2e 2e20 2873 6565 2061 6c73 6f0a 2020  ... (see also.  
-00011960: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00011970: 6f6d 2f68 6f6d 652d 6173 7369 7374 616e  om/home-assistan
-00011980: 742f 686f 6d65 2d61 7373 6973 7461 6e74  t/home-assistant
-00011990: 2f69 7373 7565 732f 3135 3538 322c 0a20  /issues/15582,. 
-000119a0: 2077 6865 7265 2049 206f 7269 6769 6e61   where I origina
-000119b0: 6c6c 7920 7265 706f 7274 6564 2074 6869  lly reported thi
-000119c0: 7320 6275 6729 2e0a 0a20 202a 204d 6f64  s bug)...  * Mod
-000119d0: 6966 7920 4853 5620 7072 6f70 6572 7479  ify HSV property
-000119e0: 2074 6f20 7265 7475 726e 2062 7269 6768   to return brigh
-000119f0: 746e 6573 7320 696e 2070 6572 6365 6e74  tness in percent
-00011a00: 0a0a 2020 5377 6974 6368 2066 726f 6d20  ..  Switch from 
-00011a10: 7265 706f 7274 6564 2062 7269 6768 746e  reported brightn
-00011a20: 6573 7320 7661 6c75 6573 206f 6620 312e  ess values of 1.
-00011a30: 2e32 3535 2074 6f20 7065 7263 656e 7461  .255 to percenta
-00011a40: 6765 0a20 2076 616c 7565 732c 2066 6f72  ge.  values, for
-00011a50: 2063 6f6e 7369 7374 656e 6379 2077 6974   consistency wit
-00011a60: 6820 7468 6520 6170 6964 6f63 2061 6e64  h the apidoc and
-00011a70: 2038 3736 3164 6438 2e0a 0a20 202a 2041   8761dd8...  * A
-00011a80: 6464 2063 6865 636b 7320 616e 6420 7465  dd checks and te
-00011a90: 7374 7320 666f 7220 7468 6520 6873 7620  sts for the hsv 
-00011aa0: 7365 7474 6572 0a0a 2020 2d20 6d61 6b65  setter..  - make
-00011ab0: 2073 7572 6520 7468 6174 206e 6577 2028   sure that new (
-00011ac0: 6875 652c 2073 6174 7572 6174 696f 6e2c  hue, saturation,
-00011ad0: 2062 7269 6768 746e 6573 7329 2076 616c   brightness) val
-00011ae0: 7565 7320 6172 650a 2020 2020 7769 7468  ues are.    with
-00011af0: 696e 2074 6865 6972 2076 616c 6964 2072  in their valid r
-00011b00: 616e 6765 7320 2830 2e2e 3235 352c 2030  anges (0..255, 0
-00011b10: 2e2e 3130 302c 2030 2e2e 3130 3029 2061  ..100, 0..100) a
-00011b20: 6e64 2072 6169 7365 0a20 2020 2053 6d61  nd raise.    Sma
-00011b30: 7274 4465 7669 6365 4578 6365 7074 696f  rtDeviceExceptio
-00011b40: 6e20 6966 2074 6865 7920 6172 6520 6e6f  n if they are no
-00011b50: 740a 2020 2d20 6164 6420 7465 7374 2066  t.  - add test f
-00011b60: 756e 6374 696f 6e20 666f 7220 7468 6520  unction for the 
-00011b70: 6873 7620 7365 7474 6572 0a0a 2d20 416c  hsv setter..- Al
-00011b80: 6c6f 7720 7573 696e 6720 616c 6961 7320  low using alias 
-00011b90: 696e 7374 6561 6420 6f66 2049 5020 6164  instead of IP ad
-00011ba0: 6472 6573 7320 6f72 2068 6f73 746e 616d  dress or hostnam
-00011bb0: 6520 2823 3132 3729 205b 6b77 617a 656c  e (#127) [kwazel
-00011bc0: 5d0a 0a20 202a 2041 6464 6564 206f 7074  ]..  * Added opt
-00011bd0: 696f 6e20 746f 2063 6f6e 7472 6f6c 2064  ion to control d
-00011be0: 6576 6963 6573 2062 7920 6465 7669 6365  evices by device
-00011bf0: 206e 616d 650a 0a20 202a 2073 6574 2075   name..  * set u
-00011c00: 6e75 7365 6420 6970 2061 6464 7265 7373  nused ip address
-00011c10: 2074 6f20 646f 6e74 2d63 6172 650a 0a20   to dont-care.. 
-00011c20: 202a 2073 7065 6e64 206c 6573 7320 7469   * spend less ti
-00011c30: 6d65 2064 6973 636f 7665 7269 6e67 2062  me discovering b
-00011c40: 7920 6465 7669 6365 6e61 6d65 2c20 7265  y devicename, re
-00011c50: 6d6f 7665 6420 636f 6d6d 616e 640a 0a20  moved command.. 
-00011c60: 202a 2063 6f6e 7369 7374 656e 7420 7573   * consistent us
-00011c70: 6520 6f66 2061 6c69 6173 2069 6e73 7465  e of alias inste
-00011c80: 6164 206f 6620 6465 7669 6365 206e 616d  ad of device nam
-00011c90: 650a 0a20 202a 2070 726f 6365 7373 6564  e..  * processed
-00011ca0: 2072 6576 6965 7720 636f 6d6d 656e 7473   review comments
-00011cb0: 0a0a 2020 2a20 5265 7475 726e 2077 6865  ..  * Return whe
-00011cc0: 6e20 6e6f 2064 6576 6963 6520 7769 7468  n no device with
-00011cd0: 2061 6c69 6173 2068 6173 2062 6565 6e20   alias has been 
-00011ce0: 666f 756e 640a 0a2d 2041 6464 2027 616c  found..- Add 'al
-00011cf0: 6961 7327 2063 6f6d 6d61 6e64 2066 6f72  ias' command for
-00011d00: 2071 7565 7279 696e 6720 616e 6420 7365   querying and se
-00011d10: 7474 696e 6720 7468 6520 616c 6961 7320  tting the alias 
-00011d20: 2823 3132 3629 205b 5465 656d 7520 525d  (#126) [Teemu R]
-00011d30: 0a0a 2020 2a20 6164 6420 2761 6c69 6173  ..  * add 'alias
-00011d40: 2720 636f 6d6d 616e 6420 666f 7220 7175  ' command for qu
-00011d50: 6572 7969 6e67 2061 6e64 2073 6574 7469  erying and setti
-00011d60: 6e67 2074 6865 2061 6c69 6173 0a0a 2020  ng the alias..  
-00011d70: 2a20 6361 6c63 756c 6174 6520 636f 7665  * calculate cove
-00011d80: 7261 6765 206f 6e6c 7920 6f6e 206c 6962  rage only on lib
-00011d90: 7261 7279 2066 696c 6573 2c20 652e 672e  rary files, e.g.
-00011da0: 2c20 6967 6e6f 7269 6e67 2063 6c69 2061  , ignoring cli a
-00011db0: 6e64 2074 6573 7420 6669 6c65 730a 0a20  nd test files.. 
-00011dc0: 202a 2072 656d 6f76 6520 7079 3334 2061   * remove py34 a
-00011dd0: 6e64 2061 6464 2070 7933 370a 0a20 202a  nd add py37..  *
-00011de0: 2072 6561 6464 2070 7933 332c 2072 656d   readd py33, rem
-00011df0: 6f76 6520 6974 2066 726f 6d20 7472 6176  ove it from trav
-00011e00: 6973 2061 7320 6974 2073 6565 6d73 2074  is as it seems t
-00011e10: 6f20 6265 2061 2074 7261 7669 7320 6c69  o be a travis li
-00011e20: 6d69 7461 7469 6f6e 206f 6e6c 790a 0a20  mitation only.. 
-00011e30: 202a 2075 7365 2078 656e 6961 6c20 6469   * use xenial di
-00011e40: 7374 2066 6f72 2074 7261 7669 732c 2072  st for travis, r
-00011e50: 6567 756c 6172 2064 6f65 7320 6e6f 7420  egular does not 
-00011e60: 7375 7070 6f72 7420 7079 3337 2e2e 0a0a  support py37....
-00011e70: 2d20 5375 7070 6f72 7420 556e 6963 6f64  - Support Unicod
-00011e80: 6520 7374 7269 6e67 7320 696e 2065 6e63  e strings in enc
-00011e90: 7279 7074 2f64 6563 7279 7074 2028 2331  rypt/decrypt (#1
-00011ea0: 3235 2920 5b41 6e64 6572 7320 4d65 6c63  25) [Anders Melc
-00011eb0: 6869 6f72 7365 6e5d 0a0a 0a30 2e33 2e32  hiorsen]...0.3.2
-00011ec0: 2028 3230 3138 2d30 362d 3137 290a 2d2d   (2018-06-17).--
-00011ed0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00011ee0: 0a0a 2d20 4164 6420 6275 6c62 2076 616c  ..- Add bulb val
-00011ef0: 6964 2074 656d 7065 7261 7475 7265 2072  id temperature r
-00011f00: 616e 6765 2028 2331 3232 2920 5b54 6869  ange (#122) [Thi
-00011f10: 6261 756c 7420 436f 6865 6e5d 0a0a 0a30  bault Cohen]...0
-00011f20: 2e33 2e31 2028 3230 3138 2d30 362d 3136  .3.1 (2018-06-16
-00011f30: 290a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ).--------------
-00011f40: 2d2d 2d2d 0a0a 5468 6973 2072 656c 6561  ----..This relea
-00011f50: 7365 2061 6464 7320 6120 6665 7720 696d  se adds a few im
-00011f60: 7072 6f76 656d 656e 7473 2c20 6d6f 7374  provements, most
-00011f70: 2069 6d70 6f72 7461 6e74 6c79 3a0a 0a2a   importantly:..*
-00011f80: 2065 6d65 7465 7220 7375 7070 6f72 7420   emeter support 
-00011f90: 666f 7220 6e65 7720 4853 3131 3020 6861  for new HS110 ha
-00011fa0: 7264 7761 7265 2f66 6972 6d77 6172 6520  rdware/firmware 
-00011fb0: 7265 7669 7369 6f6e 2e0a 0a2a 2048 5332  revision...* HS2
-00011fc0: 3230 2073 7570 706f 7274 7320 6e6f 7720  20 supports now 
-00011fd0: 6469 6d6d 696e 672e 0a0a 4272 6561 6b69  dimming...Breaki
-00011fe0: 6e67 2063 6861 6e67 6573 3a0a 0a2a 2067  ng changes:..* g
-00011ff0: 6574 5f65 6d65 7465 725f 6461 696c 7920  et_emeter_daily 
-00012000: 2620 6765 745f 656d 6574 6572 5f6d 6f6e  & get_emeter_mon
-00012010: 7468 6c79 2077 696c 6c20 7265 706f 7274  thly will report
-00012020: 2062 6163 6b20 696e 206b 7768 206f 6e20   back in kwh on 
-00012030: 6275 6c62 732c 206d 616b 696e 6720 7468  bulbs, making th
-00012040: 6520 4150 4920 636f 6e73 6973 7465 6e74  e API consistent
-00012050: 2077 6974 6820 7468 6520 736d 6172 7420   with the smart 
-00012060: 706c 7567 732e 0a0a 2d20 4669 7820 656d  plugs...- Fix em
-00012070: 6574 6572 2073 7570 706f 7274 2066 6f72  eter support for
-00012080: 206e 6577 6572 2048 5331 3130 2066 6972   newer HS110 fir
-00012090: 6d77 6172 6573 2028 2331 3037 2920 5b54  mwares (#107) [T
-000120a0: 6565 6d75 2052 5d0a 0a20 202a 2041 6464  eemu R]..  * Add
-000120b0: 2073 7570 706f 7274 2066 6f72 206e 6577   support for new
-000120c0: 2d73 7479 6c65 2065 6d65 7465 720a 0a20  -style emeter.. 
-000120d0: 2054 6869 7320 636f 6d6d 6974 2061 6464   This commit add
-000120e0: 7320 6120 7374 7261 6967 6874 666f 7277  s a straightforw
-000120f0: 6172 6420 6469 6374 2d65 7874 656e 6469  ard dict-extendi
-00012100: 6e67 2063 6f6e 7461 696e 6572 2c0a 2020  ng container,.  
-00012110: 7768 6963 6820 636f 6e76 6572 7473 2062  which converts b
-00012120: 6574 7765 656e 2074 6865 206f 6c64 2061  etween the old a
-00012130: 6e64 206e 6577 206b 6579 7320 6f66 2074  nd new keys of t
-00012140: 6865 2067 6574 5f65 6d65 7465 725f 7265  he get_emeter_re
-00012150: 616c 7469 6d65 2829 0a20 2046 7572 7468  altime().  Furth
-00012160: 6572 6d6f 7265 2074 6865 2075 6e69 7420  ermore the unit 
-00012170: 7465 7374 7320 6172 6520 636f 6e76 6572  tests are conver
-00012180: 7465 6420 746f 2062 6173 6520 6f6e 2048  ted to base on H
-00012190: 5331 3030 0a20 2069 6e73 7465 6164 206f  S100.  instead o
-000121a0: 6620 4853 3131 302e 0a0a 2020 5468 6973  f HS110...  This
-000121b0: 2069 7320 7468 6520 6669 7273 7420 7374   is the first st
-000121c0: 6570 2074 6f20 6669 7820 2331 3033 2c20  ep to fix #103, 
-000121d0: 6f74 6865 7220 656d 6574 6572 2d75 7369  other emeter-usi
-000121e0: 6e67 2066 756e 6374 696f 6e61 6c69 7479  ng functionality
-000121f0: 0a20 2068 6173 206e 6f74 2079 6574 2062  .  has not yet b
-00012200: 6565 6e20 636f 6e76 6572 7465 642c 206f  een converted, o
-00012210: 6e6c 7920 6765 7474 696e 6720 7468 6520  nly getting the 
-00012220: 6375 7272 656e 7420 636f 6e73 756d 7074  current consumpt
-00012230: 696f 6e2e 0a0a 2020 2a20 6669 7820 6120  ion...  * fix a 
-00012240: 636f 7570 6c65 206f 6620 6c69 6e74 696e  couple of lintin
-00012250: 6720 6973 7375 6573 0a0a 2020 2a20 436f  g issues..  * Co
-00012260: 6e76 6572 7420 6e65 772d 7374 796c 6520  nvert new-style 
-00012270: 656d 6574 6572 2076 616c 7565 7320 616c  emeter values al
-00012280: 736f 2066 6f72 2067 6574 5f65 6d65 7465  so for get_emete
-00012290: 725f 6461 696c 7928 2920 616e 6420 6765  r_daily() and ge
-000122a0: 745f 656d 6574 6572 5f6d 6f6e 7468 6c79  t_emeter_monthly
-000122b0: 2829 0a0a 2020 2a20 4164 6473 2061 206e  ()..  * Adds a n
-000122c0: 6577 2027 6b77 6827 2070 6172 616d 6574  ew 'kwh' paramet
-000122d0: 6572 2066 6f72 2074 686f 7365 2063 616c  er for those cal
-000122e0: 6c73 2c20 7768 6963 6820 6465 6661 756c  ls, which defaul
-000122f0: 7473 2074 6f20 5472 7565 0a20 202a 2054  ts to True.  * T
-00012300: 6869 7320 6368 616e 6765 7320 7468 6520  his changes the 
-00012310: 6265 6861 7669 6f72 206f 6620 6275 6c62  behavior of bulb
-00012320: 7320 656d 6574 6572 2072 6570 6f72 7469  s emeter reporti
-00012330: 6e67 2c20 7573 6520 4661 6c73 6520 6966  ng, use False if
-00012340: 2079 6f75 2070 7265 6665 7220 7468 6520   you prefer the 
-00012350: 7072 6563 6973 6572 2076 616c 7565 730a  preciser values.
-00012360: 0a2d 2055 7064 6174 6520 7079 7069 2064  .- Update pypi d
-00012370: 6573 6372 6970 7469 6f6e 2028 2331 3032  escription (#102
-00012380: 2920 5b54 6565 6d75 2052 5d0a 0a20 202a  ) [Teemu R]..  *
-00012390: 2075 7064 6174 6520 7079 7069 2064 6573   update pypi des
-000123a0: 6372 6970 7469 6f6e 0a0a 2020 2a20 6164  cription..  * ad
-000123b0: 6420 7761 6c6c 2073 7769 7463 6865 730a  d wall switches.
-000123c0: 0a2d 2055 7064 6174 6520 736d 6172 7470  .- Update smartp
-000123d0: 6c75 672e 7079 2074 6f20 7375 7070 6f72  lug.py to suppor
-000123e0: 7420 6469 6d6d 696e 6720 696e 2048 5332  t dimming in HS2
-000123f0: 3230 2028 2331 3135 2920 5b4a 7343 6869  20 (#115) [JsChi
-00012400: 5375 7266 5d0a 0a20 202a 2055 7064 6174  Surf]..  * Updat
-00012410: 6520 736d 6172 7470 6c75 672e 7079 2074  e smartplug.py t
-00012420: 6f20 7375 7070 6f72 7420 6469 6d6d 696e  o support dimmin
-00012430: 6720 696e 2048 5332 3230 0a0a 2020 5377  g in HS220..  Sw
-00012440: 6974 6368 2066 756e 6374 696f 6e73 2065  itch functions e
-00012450: 7373 656e 7469 616c 6c79 2061 7320 6120  ssentially as a 
-00012460: 2270 6c75 6722 2077 6974 6820 7468 6520  "plug" with the 
-00012470: 6164 6469 7469 6f6e 2074 6f20 7375 7070  addition to supp
-00012480: 6f72 7420 666f 7220 6469 6d6d 696e 672c  ort for dimming,
-00012490: 2066 6f72 2077 6869 6368 2063 616e 2062   for which can b
-000124a0: 6520 7465 7374 2066 6f72 2062 7920 7665  e test for by ve
-000124b0: 7269 6679 696e 6720 6578 6973 7465 6e63  rifying existenc
-000124c0: 6520 6f66 0a27 6272 6967 6874 6e65 7373  e of.'brightness
-000124d0: 2720 6172 7261 7920 7661 6c75 652e 0a0a  ' array value...
-000124e0: 2020 2a20 4174 7465 6d70 7420 6174 2075    * Attempt at u
-000124f0: 7064 6174 6573 2074 6f20 7061 7373 2076  pdates to pass v
-00012500: 616c 6964 6174 6f72 0a0a 2020 2a20 4d61  alidator..  * Ma
-00012510: 7962 6520 7468 6973 2074 696d 653f 2020  ybe this time?  
-00012520: 3a2d 290a 0a20 202a 2041 6464 206d 6f72  :-)..  * Add mor
-00012530: 6520 6465 7461 696c 2074 6f20 636f 6d6d  e detail to comm
-00012540: 656e 7420 626c 6f63 6b73 0a0a 2020 4d61  ent blocks..  Ma
-00012550: 6b65 2063 6c65 6172 2069 6e20 7265 7175  ke clear in requ
-00012560: 6573 7473 2066 6f72 2063 7572 7265 6e74  ests for current
-00012570: 2062 7269 6768 746e 6573 7320 6c65 7665   brightness leve
-00012580: 6c20 7468 6520 6578 7065 6374 6564 2072  l the expected r
-00012590: 6574 7572 6e20 7661 6c75 6573 2c20 616e  eturn values, an
-000125a0: 6420 6e6f 7465 2074 6861 7420 6c69 6768  d note that ligh
-000125b0: 7420 7769 6c6c 2074 7572 6e20 6f6e 2077  t will turn on w
-000125c0: 6865 6e20 7365 7474 696e 6720 6120 6272  hen setting a br
-000125d0: 6967 6874 6e65 7373 0a6c 6576 656c 2c20  ightness.level, 
-000125e0: 6966 206e 6f74 2061 6c72 6561 6479 206f  if not already o
-000125f0: 6e2e 2020 5468 6973 206d 616b 6573 2063  n.  This makes c
-00012600: 6c65 6172 2074 6861 7420 6120 7374 6174  lear that a stat
-00012610: 6520 6368 616e 6765 2072 6571 7565 7374  e change request
-00012620: 2028 7475 726e 5f6f 6e29 2064 6f65 7320   (turn_on) does 
-00012630: 4e4f 5420 6861 7665 2074 6f20 6265 206d  NOT have to be m
-00012640: 6164 6520 6669 7273 7420 7768 656e 2073  ade first when s
-00012650: 6574 7469 6e67 2062 7269 6768 746e 6573  etting brightnes
-00012660: 732e 0a0a 2020 2a20 5570 6461 7465 2073  s...  * Update s
-00012670: 6d61 7274 706c 7567 2e70 790a 0a20 202a  martplug.py..  *
-00012680: 2055 7064 6174 6520 736d 6172 7470 6c75   Update smartplu
-00012690: 672e 7079 0a0a 2020 4669 7865 7320 2331  g.py..  Fixes #1
-000126a0: 3134 0a0a 2d20 4164 6420 7079 7468 6f6e  14..- Add python
-000126b0: 5f72 6571 7569 7265 7320 666f 7220 3e3d  _requires for >=
-000126c0: 2033 2e34 2e20 5b54 6565 6d75 2052 7974   3.4. [Teemu Ryt
-000126d0: 696c 6168 7469 5d0a 0a2d 2041 6464 2068  ilahti]..- Add h
-000126e0: 7332 3130 2e20 5b54 6565 6d75 2052 5d0a  s210. [Teemu R].
-000126f0: 0a20 2042 6173 6564 206f 6e20 7573 6572  .  Based on user
-00012700: 2072 6570 6f72 743a 2068 7474 7073 3a2f   report: https:/
-00012710: 2f63 6f6d 6d75 6e69 7479 2e68 6f6d 652d  /community.home-
-00012720: 6173 7369 7374 616e 742e 696f 2f74 2f74  assistant.io/t/t
-00012730: 702d 6c69 6e6b 2d68 7332 3130 2d33 2d77  p-link-hs210-3-w
-00012740: 6179 2d6b 6974 2f33 3937 3632 2f36 0a0a  ay-kit/39762/6..
-00012750: 2d20 4164 6420 7375 7070 6f72 7420 666f  - Add support fo
-00012760: 7220 444e 5320 686f 7374 206e 616d 6573  r DNS host names
-00012770: 2028 2331 3034 2920 5b4b 2048 656e 7269   (#104) [K Henri
-00012780: 6b73 736f 6e5d 0a0a 2d20 5573 6520 6469  ksson]..- Use di
-00012790: 7265 6374 2064 6576 6963 6520 7479 7065  rect device type
-000127a0: 2064 6973 636f 7665 7279 2066 6f72 2064   discovery for d
-000127b0: 6576 6963 6573 2028 2331 3036 2920 5b4b  evices (#106) [K
-000127c0: 2048 656e 7269 6b73 736f 6e5d 0a0a 2020   Henriksson]..  
-000127d0: 5468 6973 2069 7320 6d6f 7265 2065 6666  This is more eff
-000127e0: 6963 6965 6e74 2074 6861 6e20 656e 756d  icient than enum
-000127f0: 6572 6174 696e 6720 616c 6c20 6465 7669  erating all devi
-00012800: 6365 7320 616e 6420 6368 6563 6b69 6e67  ces and checking
-00012810: 2074 6865 2049 502e 0a0a 2d20 436c 693a   the IP...- Cli:
-00012820: 2061 6464 2027 7469 6d65 2720 636f 6d6d   add 'time' comm
-00012830: 616e 6420 746f 2067 6574 2074 6865 2063  and to get the c
-00012840: 7572 7265 6e74 2074 696d 6520 6672 6f6d  urrent time from
-00012850: 2074 6865 2064 6576 6963 652e 0a20 205b   the device..  [
-00012860: 5465 656d 7520 5279 7469 6c61 6874 695d  Teemu Rytilahti]
-00012870: 0a0a 2d20 4372 6561 7465 6420 6120 646f  ..- Created a do
-00012880: 636b 6572 2066 696c 6520 746f 2061 6964  cker file to aid
-00012890: 2064 6576 2073 6574 7570 2028 2339 3929   dev setup (#99)
-000128a0: 205b 5468 6553 6d6f 6b69 6e67 476e 755d   [TheSmokingGnu]
-000128b0: 0a0a 2020 2a20 6372 6561 7465 6420 6120  ..  * created a 
-000128c0: 646f 636b 6572 2066 696c 6520 746f 2061  docker file to a
-000128d0: 6964 2064 6576 2073 6574 7570 0a0a 2020  id dev setup..  
-000128e0: 2a20 6669 7865 6420 7265 7669 6577 2063  * fixed review c
-000128f0: 6f6d 6d65 6e74 7320 696e 2052 4541 444d  omments in READM
-00012900: 4520 616e 6420 446f 636b 6572 6669 6c65  E and Dockerfile
-00012910: 0a0a 2020 2a20 7265 7669 6577 2063 6f6d  ..  * review com
-00012920: 6d65 6e74 7320 746f 2073 696d 706c 6966  ments to simplif
-00012930: 7920 7468 6520 646f 636b 6572 2072 756e  y the docker run
-00012940: 2063 6f6d 6d61 6e64 0a0a 0a30 2e33 2e30   command...0.3.0
-00012950: 2028 3230 3137 2d30 392d 3134 290a 2d2d   (2017-09-14).--
-00012960: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00012970: 0a0a 5468 6973 2069 7320 7468 6520 6669  ..This is the fi
-00012980: 7273 7420 7265 6c65 6173 6520 6166 7465  rst release afte
-00012990: 7220 6120 7768 696c 6520 616e 6420 6169  r a while and ai
-000129a0: 6d73 2074 6f20 696d 7072 6f76 6520 7468  ms to improve th
-000129b0: 6520 726f 6275 7374 6e65 7373 2061 6c6c  e robustness all
-000129c0: 2d61 726f 756e 642e 0a54 6f20 6d61 6b65  -around..To make
-000129d0: 2074 6869 7320 6861 7070 656e 2077 6520   this happen we 
-000129e0: 6861 7665 2064 6563 6964 6564 2074 6f20  have decided to 
-000129f0: 6272 6561 6b20 7468 6520 4150 4920 616e  break the API an
-00012a00: 6420 6472 6f70 2074 6865 2073 7570 706f  d drop the suppo
-00012a10: 7274 2066 6f72 2050 7974 686f 6e20 322e  rt for Python 2.
-00012a20: 0a0a 4150 4920 6272 6561 6b3a 0a20 2020  ..API break:.   
-00012a30: 202a 2050 7974 686f 6e32 2073 7570 706f   * Python2 suppo
-00012a40: 7274 2068 6173 2062 6565 6e20 6472 6f70  rt has been drop
-00012a50: 7065 642e 0a20 2020 202a 2070 7948 5331  ped..    * pyHS1
-00012a60: 3030 2f70 7948 5331 3030 2e70 7920 6861  00/pyHS100.py ha
-00012a70: 7320 6265 656e 2073 706c 6974 7465 6420  s been splitted 
-00012a80: 746f 2073 6d61 7274 6465 7669 6365 2e70  to smartdevice.p
-00012a90: 792c 2073 6d61 7274 706c 7567 2e70 7920  y, smartplug.py 
-00012aa0: 616e 6420 736d 6172 7462 756c 622e 7079  and smartbulb.py
-00012ab0: 2c20 6e6f 206f 6e65 2073 686f 756c 6420  , no one should 
-00012ac0: 6861 7665 2065 7665 7220 6163 6365 7373  have ever access
-00012ad0: 6564 2074 6865 7365 2064 6972 6563 746c  ed these directl
-00012ae0: 7920 7468 6f75 6768 2e0a 2020 2020 2a20  y though..    * 
-00012af0: 536d 6172 7450 6c75 6745 7863 6570 7469  SmartPlugExcepti
-00012b00: 6f6e 2069 7320 6e6f 206d 6f72 652c 2053  on is no more, S
-00012b10: 6d61 7274 4465 7669 6365 4578 6365 7074  martDeviceExcept
-00012b20: 696f 6e20 6973 2075 7365 6420 6279 2062  ion is used by b
-00012b30: 6f74 6820 536d 6172 7450 6c75 6720 616e  oth SmartPlug an
-00012b40: 6420 536d 6172 7442 756c 620a 2020 2020  d SmartBulb.    
-00012b50: 2a20 4469 7363 6f76 6572 7920 6861 7320  * Discovery has 
-00012b60: 6265 656e 206d 6f76 6564 2066 726f 6d20  been moved from 
-00012b70: 5450 4c69 6e6b 536d 6172 7448 6f6d 6550  TPLinkSmartHomeP
-00012b80: 726f 746f 636f 6c20 696e 746f 2069 7473  rotocol into its
-00012b90: 206f 776e 2063 6c61 7373 2066 6f72 2065   own class for e
-00012ba0: 6173 6965 7220 3372 6420 7061 7274 7920  asier 3rd party 
-00012bb0: 7573 652e 0a20 2020 202a 2053 6d61 7274  use..    * Smart
-00012bc0: 4465 7669 6365 2773 2069 6465 6e74 6966  Device's identif
-00012bd0: 7928 2920 616e 6420 6066 6561 7475 7265  y() and `feature
-00012be0: 7360 2077 696c 6c20 656d 6974 2061 2077  s` will emit a w
-00012bf0: 6172 6e69 6e67 2077 6865 6e20 7573 6564  arning when used
-00012c00: 2e20 5468 6573 6520 7769 6c6c 206c 696b  . These will lik
-00012c10: 656c 7920 6265 2064 726f 7070 6564 206f  ely be dropped o
-00012c20: 7220 7265 7669 7365 6420 696e 2074 6865  r revised in the
-00012c30: 2066 7574 7572 6520 616e 6420 7468 6569   future and thei
-00012c40: 7220 7573 6520 7368 6f75 6c64 2062 6520  r use should be 
-00012c50: 6176 6f69 6465 642e 0a0a 4f74 6865 7220  avoided...Other 
-00012c60: 6368 616e 6765 733a 0a0a 2020 2020 2a20  changes:..    * 
-00012c70: 434c 4920 746f 6f6c 2073 7570 706f 7274  CLI tool support
-00012c80: 7320 6465 7669 6365 2064 6973 636f 7665  s device discove
-00012c90: 7279 2061 6e64 2069 7320 7573 6162 6c65  ry and is usable
-00012ca0: 2077 6974 686f 7574 2073 7065 6369 6679   without specify
-00012cb0: 696e 6720 6465 7669 6365 2074 7970 6520  ing device type 
-00012cc0: 6f72 2049 5020 666f 7220 7465 7374 696e  or IP for testin
-00012cd0: 670a 2020 2020 2a20 434c 4920 746f 6f6c  g.    * CLI tool
-00012ce0: 2073 7570 706f 7274 7320 6368 616e 6769   supports changi
-00012cf0: 6e67 2062 756c 622d 7370 6563 6966 6963  ng bulb-specific
-00012d00: 2073 6574 7469 6e67 730a 2020 2020 2a20   settings.    * 
-00012d10: 4c69 6272 6172 7920 7375 7070 6f72 7420  Library support 
-00012d20: 2620 756e 6974 2074 6573 7473 2061 7265  & unit tests are
-00012d30: 2065 7874 656e 6465 6420 746f 2063 6f76   extended to cov
-00012d40: 6572 206d 6f72 6520 6465 7669 6365 732e  er more devices.
-00012d50: 0a20 2020 2020 2020 2d20 5375 7070 6f72  .       - Suppor
-00012d60: 7465 6420 706c 7567 733a 2048 5331 3030  ted plugs: HS100
-00012d70: 2c20 4853 3130 352c 2048 5331 3130 0a20  , HS105, HS110. 
-00012d80: 2020 2020 2020 2d20 5375 7070 6f72 7465        - Supporte
-00012d90: 6420 7377 6974 6368 6573 3a20 4853 3230  d switches: HS20
-00012da0: 300a 2020 2020 2020 202d 2053 7570 706f  0.       - Suppo
-00012db0: 7274 6564 2062 756c 6273 3a20 4c42 3130  rted bulbs: LB10
-00012dc0: 302c 204c 4231 3130 2c20 4c42 3132 302c  0, LB110, LB120,
-00012dd0: 204c 4231 3330 0a0a 2d20 4275 6d70 2074   LB130..- Bump t
-00012de0: 6865 2076 6572 7369 6f6e 2e20 5b54 6565  he version. [Tee
-00012df0: 6d75 2052 7974 696c 6168 7469 5d0a 0a2d  mu Rytilahti]..-
-00012e00: 2052 6576 6973 6520 5245 4144 4d45 2c20   Revise README, 
-00012e10: 6669 7865 7320 2338 362e 205b 5465 656d  fixes #86. [Teem
-00012e20: 7520 5279 7469 6c61 6874 695d 0a0a 2d20  u Rytilahti]..- 
-00012e30: 5570 6461 7465 2074 6865 2063 6861 6e67  Update the chang
-00012e40: 656c 6f67 2e20 5b54 6565 6d75 2052 7974  elog. [Teemu Ryt
-00012e50: 696c 6168 7469 5d0a 0a2d 204c 6f63 616c  ilahti]..- Local
-00012e60: 2074 6573 7420 636c 6561 6e20 2823 3936   test clean (#96
-00012e70: 2920 5b53 6561 6e20 476f 6c6c 7363 6865  ) [Sean Gollsche
-00012e80: 7773 6b79 5d0a 0a20 202a 2041 6464 2069  wsky]..  * Add i
-00012e90: 676e 6f72 6573 2066 6f72 2077 6f72 6b69  gnores for worki
-00012ea0: 6e67 2063 6f76 6572 6167 652f 746f 782f  ng coverage/tox/
-00012eb0: 4944 4520 6669 6c65 732e 0a0a 2020 2a20  IDE files...  * 
-00012ec0: 416c 6c6f 7720 746f 7820 6e6f 7420 746f  Allow tox not to
-00012ed0: 2066 6169 6c20 6966 2070 7974 686f 6e20   fail if python 
-00012ee0: 7665 7273 696f 6e20 6973 206e 6f74 2061  version is not a
-00012ef0: 7661 696c 6162 6c65 2e0a 0a2d 204d 6f76  vailable...- Mov
-00012f00: 6520 536d 6172 7444 6576 6963 6545 7863  e SmartDeviceExc
-00012f10: 6570 7469 6f6e 2074 6f20 536d 6172 7444  eption to SmartD
-00012f20: 6576 6963 652c 2061 6e64 2072 656d 6f76  evice, and remov
-00012f30: 6520 7479 7065 732e 7079 2063 6f6d 706c  e types.py compl
-00012f40: 6574 e280 a60a 2020 2823 3935 2920 5b54  et....  (#95) [T
-00012f50: 6565 6d75 2052 5d0a 0a20 202a 206d 6f76  eemu R]..  * mov
-00012f60: 6520 536d 6172 7444 6576 6963 6545 7863  e SmartDeviceExc
-00012f70: 6570 7469 6f6e 2074 6f20 536d 6172 7444  eption to SmartD
-00012f80: 6576 6963 652c 2061 6e64 2072 656d 6f76  evice, and remov
-00012f90: 6520 7479 7065 732e 7079 2063 6f6d 706c  e types.py compl
-00012fa0: 6574 656c 792e 2066 6978 6573 2023 3934  etely. fixes #94
-00012fb0: 0a0a 2020 2a20 646f 206e 6f74 2069 6d70  ..  * do not imp
-00012fc0: 6f72 7420 736b 6970 4966 2061 6e79 6d6f  ort skipIf anymo
-00012fd0: 7265 0a0a 2d20 4d6f 7665 2068 6173 5f65  re..- Move has_e
-00012fe0: 6d65 7465 7220 696d 706c 656d 656e 7461  meter implementa
-00012ff0: 7469 6f6e 2066 726f 6d20 536d 6172 7444  tion from SmartD
-00013000: 6576 6963 6520 746f 2053 6d61 7274 506c  evice to SmartPl
-00013010: 7567 2c20 6176 6f69 640a 2020 7573 696e  ug, avoid.  usin
-00013020: 6720 6665 6174 7572 6573 2829 2069 6e74  g features() int
-00013030: 6572 6e61 6c6c 7920 2823 3933 2920 5b54  ernally (#93) [T
-00013040: 6565 6d75 2052 5d0a 0a20 202a 206d 6f76  eemu R]..  * mov
-00013050: 6520 6861 735f 656d 6574 6572 2069 6d70  e has_emeter imp
-00013060: 6c65 6d65 6e74 6174 696f 6e20 6672 6f6d  lementation from
-00013070: 2053 6d61 7274 4465 7669 6365 2074 6f20   SmartDevice to 
-00013080: 536d 6172 7450 6c75 672c 2061 766f 6964  SmartPlug, avoid
-00013090: 2075 7369 6e67 2066 6561 7475 7265 7328   using features(
-000130a0: 2920 696e 7465 726e 616c 6c79 0a0a 2020  ) internally..  
-000130b0: 2a20 6164 6420 7374 6163 6b6c 6576 656c  * add stacklevel
-000130c0: 2074 6f20 6465 7072 6563 6174 696f 6e20   to deprecation 
-000130d0: 7761 726e 696e 6773 2074 6f20 7365 6520  warnings to see 
-000130e0: 7768 6572 6520 7468 6579 2061 7265 2072  where they are r
-000130f0: 6561 6c6c 7920 6361 6c6c 6564 0a0a 2020  eally called..  
-00013100: 2a20 6d61 6b65 2074 6573 7473 2070 6173  * make tests pas
-00013110: 7320 6f6e 2061 2072 6561 6c20 6465 7669  s on a real devi
-00013120: 6365 2e20 6966 2050 4c55 475f 4950 2069  ce. if PLUG_IP i
-00013130: 7320 6e6f 7420 4e6f 6e65 2c20 7468 6520  s not None, the 
-00013140: 7465 7374 7320 7769 6c6c 2062 6520 7275  tests will be ru
-00013150: 6e20 6f6e 2061 2064 6576 6963 6520 6174  n on a device at
-00013160: 2074 6865 2064 6566 696e 6564 2049 5020   the defined IP 
-00013170: 6164 6472 6573 730a 0a2d 2041 6464 2074  address..- Add t
-00013180: 7970 696e 6720 6869 6e74 7320 746f 206d  yping hints to m
-00013190: 616b 6520 6974 2065 6173 6965 7220 666f  ake it easier fo
-000131a0: 7220 3372 6420 7061 7274 7920 6465 7665  r 3rd party deve
-000131b0: 6c6f 7065 7273 2074 6f20 7573 6520 7468  lopers to use th
-000131c0: 650a 2020 6c69 6272 6172 7920 2823 3930  e.  library (#90
-000131d0: 2920 5b54 6565 6d75 2052 5d0a 0a20 202a  ) [Teemu R]..  *
-000131e0: 2061 6464 2074 7970 696e 6720 6869 6e74   add typing hint
-000131f0: 7320 746f 206d 616b 6520 6974 2065 6173  s to make it eas
-00013200: 6965 7220 666f 7220 3372 6420 7061 7274  ier for 3rd part
-00013210: 7920 6465 7665 6c6f 7065 7273 2074 6f20  y developers to 
-00013220: 7573 6520 7468 6520 6c69 6272 6172 790a  use the library.
-00013230: 0a20 202a 2072 656d 6f76 6520 756e 7573  .  * remove unus
-00013240: 6564 2064 6576 6963 6574 7970 6520 656e  ed devicetype en
-00013250: 756d 2074 6f20 7375 7070 6f72 7420 7079  um to support py
-00013260: 7468 6f6e 332e 330a 0a20 202a 2061 6464  thon3.3..  * add
-00013270: 2070 7974 686f 6e20 332e 3320 746f 2074   python 3.3 to t
-00013280: 7261 7669 7320 616e 6420 746f 782c 2069  ravis and tox, i
-00013290: 6e73 7461 6c6c 2074 7970 696e 6720 6d6f  nstall typing mo
-000132a0: 6475 6c65 2069 6e20 7365 7475 702e 7079  dule in setup.py
-000132b0: 0a2d 2045 7865 6375 7465 2063 6f76 6572  .- Execute cover
-000132c0: 616c 6c73 206f 6e6c 7920 6f6e 2074 7261  alls only on tra
-000132d0: 7669 732c 2066 6978 6573 2023 3834 2028  vis, fixes #84 (
-000132e0: 2339 3129 205b 5465 656d 7520 525d 0a0a  #91) [Teemu R]..
-000132f0: 2d20 4d61 6b65 2066 6c61 6b65 3820 7061  - Make flake8 pa
-00013300: 7373 2062 7920 736f 6d65 2072 6577 6f72  ss by some rewor
-00013310: 6469 6e67 2e20 5b54 6565 6d75 2052 7974  ding. [Teemu Ryt
-00013320: 696c 6168 7469 5d0a 0a2d 204d 616b 6520  ilahti]..- Make 
-00013330: 686f 756e 6420 6120 6269 7420 6d6f 7265  hound a bit more
-00013340: 2068 6170 7069 6572 2e20 5b54 6565 6d75   happier. [Teemu
-00013350: 2052 7974 696c 6168 7469 5d0a 0a2d 2044   Rytilahti]..- D
-00013360: 6570 7265 6361 7465 2066 6561 7475 7265  eprecate feature
-00013370: 7320 616e 6420 6964 656e 7469 6679 2c20  s and identify, 
-00013380: 7573 6520 7374 6174 655f 696e 666f 726d  use state_inform
-00013390: 6174 696f 6e20 696e 205f 5f72 6570 725f  ation in __repr_
-000133a0: 5f20 696e 7374 6561 6420 6f66 2069 6465  _ instead of ide
-000133b0: 6e74 6966 792e 205b 5465 656d 7520 5279  ntify. [Teemu Ry
-000133c0: 7469 6c61 6874 695d 0a0a 2d20 4669 7820  tilahti]..- Fix 
-000133d0: 736d 6172 7462 756c 6220 6873 7620 646f  smartbulb hsv do
-000133e0: 6375 6d65 6e74 6174 696f 6e2c 2076 616c  cumentation, val
-000133f0: 7565 7320 6172 6520 6465 6772 6565 7320  ues are degrees 
-00013400: 616e 6420 7065 7263 656e 7461 6765 7320  and percentages 
-00013410: 696e 7374 6561 6420 6f66 2030 2d32 3535  instead of 0-255
-00013420: 2e20 5b54 6565 6d75 2052 7974 696c 6168  . [Teemu Rytilah
-00013430: 7469 5d0a 0a2d 2041 6e6f 7468 6572 2074  ti]..- Another t
-00013440: 7279 2c20 6a75 7374 2077 6974 6820 6d6f  ry, just with mo
-00013450: 6475 6c65 206e 616d 652e 205b 5465 656d  dule name. [Teem
-00013460: 7520 5279 7469 6c61 6874 695d 0a0a 2d20  u Rytilahti]..- 
-00013470: 4d61 6b65 2074 6f78 2072 756e 2070 7974  Make tox run pyt
-00013480: 6573 742d 636f 762c 2061 6464 2063 6f76  est-cov, add cov
-00013490: 6572 616c 6c73 2e20 5b54 6565 6d75 2052  eralls. [Teemu R
-000134a0: 7974 696c 6168 7469 5d0a 0a2d 2050 7265  ytilahti]..- Pre
-000134b0: 7665 6e74 2066 6169 6c75 7265 2069 6620  vent failure if 
-000134c0: 6465 7669 6365 2773 2073 7973 696e 666f  device's sysinfo
-000134d0: 2064 6f65 7320 6e6f 7420 6861 7665 2061   does not have a
-000134e0: 2022 6665 6174 7572 6522 2061 7474 7269   "feature" attri
-000134f0: 6275 7465 2e20 2823 3737 2920 5b53 6561  bute. (#77) [Sea
-00013500: 6e20 476f 6c6c 7363 6865 7773 6b79 5d0a  n Gollschewsky].
-00013510: 0a2d 2041 6c6c 6f77 204e 6f6e 6520 666f  .- Allow None fo
-00013520: 7220 7273 7369 2c20 6164 6420 6120 6d69  r rssi, add a mi
-00013530: 7373 696e 6720 6e65 776c 696e 6520 746f  ssing newline to
-00013540: 2066 616b 6573 2e70 792e 205b 5465 656d   fakes.py. [Teem
-00013550: 7520 5279 7469 6c61 6874 695d 0a0a 2d20  u Rytilahti]..- 
-00013560: 4164 6420 6873 3130 3020 7465 7374 732e  Add hs100 tests.
-00013570: 205b 5465 656d 7520 5279 7469 6c61 6874   [Teemu Rytilaht
-00013580: 695d 0a0a 2d20 4d61 6b65 2074 6573 7473  i]..- Make tests
-00013590: 2074 6f20 7465 7374 2061 6761 696e 7374   to test against
-000135a0: 2061 6c6c 206b 6e6f 776e 2064 6576 6963   all known devic
-000135b0: 6520 7661 7269 616e 7473 2e20 5b54 6565  e variants. [Tee
-000135c0: 6d75 2052 7974 696c 6168 7469 5d0a 0a2d  mu Rytilahti]..-
-000135d0: 2052 656d 6f76 6520 756e 7573 6564 2074   Remove unused t
-000135e0: 706c 696e 6b73 6d61 7274 686f 6d65 7072  plinksmarthomepr
-000135f0: 6f74 6f63 6f6c 2069 6d70 6f72 742e 205b  otocol import. [
-00013600: 5465 656d 7520 5279 7469 6c61 6874 695d  Teemu Rytilahti]
-00013610: 0a0a 2d20 4669 7820 6873 3130 3520 6d61  ..- Fix hs105 ma
-00013620: 6320 746f 2070 6173 7320 7468 6520 7465  c to pass the te
-00013630: 7374 2c20 7772 6170 2073 7973 696e 666f  st, wrap sysinfo
-00013640: 5f6c 6231 3130 2070 726f 7065 726c 7920  _lb110 properly 
-00013650: 696e 7369 6465 2027 7379 7374 656d 2720  inside 'system' 
-00013660: 5b54 6565 6d75 2052 7974 696c 6168 7469  [Teemu Rytilahti
-00013670: 5d0a 0a2d 2052 6574 7572 6e20 4e6f 6e65  ]..- Return None
-00013680: 2069 6e73 7465 6164 206f 6620 4661 6c73   instead of Fals
-00013690: 6520 666f 7220 656d 6574 6572 2072 656c  e for emeter rel
-000136a0: 6174 6564 2061 6374 696f 6e73 2e20 5b54  ated actions. [T
-000136b0: 6565 6d75 2052 7974 696c 6168 7469 5d0a  eemu Rytilahti].
-000136c0: 0a2d 2057 7261 7020 7379 7369 6e66 6f20  .- Wrap sysinfo 
-000136d0: 746f 2064 6566 6175 6c74 6469 6374 2074  to defaultdict t
-000136e0: 6f20 7265 7475 726e 204e 6f6e 6520 666f  o return None fo
-000136f0: 7220 6b65 7973 2077 6869 6368 2064 6f20  r keys which do 
-00013700: 6e6f 7420 6578 6973 742c 206d 616b 6573  not exist, makes
-00013710: 2075 6e73 7570 706f 7274 6564 206b 6579   unsupported key
-00013720: 7320 6e6f 7420 746f 2066 6169 6c20 6861  s not to fail ha
-00013730: 7264 2028 2337 3229 205b 5465 656d 7520  rd (#72) [Teemu 
-00013740: 525d 0a0a 2d20 4164 6420 6873 3130 3020  R]..- Add hs100 
-00013750: 6578 616d 706c 6520 746f 2066 616b 6573  example to fakes
-00013760: 2e70 792c 2074 6861 6e6b 7320 746f 2053  .py, thanks to S
-00013770: 656d 616e 7431 6b61 206f 6e20 2336 3720  emant1ka on #67 
-00013780: 2823 3734 2920 5b54 6565 6d75 2052 5d0a  (#74) [Teemu R].
-00013790: 0a2d 2044 6973 636f 7665 7220 7265 6661  .- Discover refa
-000137a0: 6374 6f72 696e 672c 2065 6e68 616e 6365  ctoring, enhance
-000137b0: 6d65 6e74 7320 746f 2074 6865 2063 6c69  ments to the cli
-000137c0: 2074 6f6f 6c20 2823 3731 2920 5b54 6565   tool (#71) [Tee
-000137d0: 6d75 2052 5d0a 0a20 202a 2044 6973 636f  mu R]..  * Disco
-000137e0: 7665 7220 7265 6661 6374 6f72 696e 672c  ver refactoring,
-000137f0: 2065 6e68 616e 6365 6d65 6e74 7320 746f   enhancements to
-00013800: 2074 6865 2063 6c69 2074 6f6f 6c0a 0a20   the cli tool.. 
-00013810: 202a 2044 6973 636f 7665 7220 7472 6965   * Discover trie
-00013820: 7320 746f 2064 6574 6563 7420 7468 6520  s to detect the 
-00013830: 7479 7065 206f 6620 7468 6520 6465 7669  type of the devi
-00013840: 6365 2066 726f 6d20 7379 7369 6e66 6f20  ce from sysinfo 
-00013850: 7265 7370 6f6e 7365 0a20 202a 2044 6973  response.  * Dis
-00013860: 636f 7665 722e 6469 7363 6f76 6572 2829  cover.discover()
-00013870: 2072 6574 7572 6e73 2061 6e20 4950 2061   returns an IP a
-00013880: 6464 7265 7373 206b 6579 6564 2064 6963  ddress keyed dic
-00013890: 7469 6f6e 6172 792c 0a20 2020 2076 616c  tionary,.    val
-000138a0: 7565 7320 6172 6520 696e 6974 6961 6c69  ues are initiali
-000138b0: 7a65 6420 696e 7374 616e 6365 7320 6f66  zed instances of
-000138c0: 2074 6865 2061 7574 6f6d 6174 6963 616c   the automatical
-000138d0: 6c79 2064 6574 6563 7465 6420 6465 7669  ly detected devi
-000138e0: 6365 2074 7970 652e 0a0a 2020 2a20 5768  ce type...  * Wh
-000138f0: 656e 206e 6f20 4950 2069 7320 6769 7665  en no IP is give
-00013900: 6e2c 2061 7574 6f64 6574 6563 7420 616c  n, autodetect al
-00013910: 6c20 7375 7070 6f72 7465 6420 6465 7669  l supported devi
-00013920: 6365 7320 616e 6420 7072 696e 7420 6f75  ces and print ou
-00013930: 7420 7468 6569 7220 7374 6174 6573 0a20  t their states. 
-00013940: 202a 2057 6865 6e20 6f6e 6c79 2049 5020   * When only IP 
-00013950: 6275 7420 6e6f 2074 7970 6520 6973 2067  but no type is g
-00013960: 6976 656e 2c20 6175 746f 6465 7465 6374  iven, autodetect
-00013970: 2074 7970 6520 616e 6420 6d61 6b65 2061   type and make a
-00013980: 2063 616c 6c20 6261 7365 6420 6f6e 2074   call based on t
-00013990: 6861 7420 696e 666f 726d 6174 696f 6e2e  hat information.
-000139a0: 0a20 2020 202a 204f 6e65 2063 616e 2064  .    * One can d
-000139b0: 6566 696e 6520 2d2d 6275 6c62 206f 7220  efine --bulb or 
-000139c0: 2d2d 706c 7567 2074 6f20 736b 6970 2074  --plug to skip t
-000139d0: 6865 2064 6574 6563 7469 6f6e 2e0a 0a20  he detection... 
-000139e0: 202a 2072 656e 616d 6564 2070 7948 5331   * renamed pyHS1
-000139f0: 3030 2e70 7920 2d3e 2073 6d61 7274 6465  00.py -> smartde
-00013a00: 7669 6365 2e70 790a 0a20 202a 2053 6d61  vice.py..  * Sma
-00013a10: 7274 506c 7567 4578 6365 7074 696f 6e20  rtPlugException 
-00013a20: 2d3e 2053 6d61 7274 4465 7669 6365 4578  -> SmartDeviceEx
-00013a30: 6365 7074 696f 6e20 696e 2063 6f6d 6d65  ception in comme
-00013a40: 6e74 730a 0a20 202a 2066 6978 206d 6963  nts..  * fix mic
-00013a50: 5f74 7970 6520 6368 6563 6b0a 0a20 202a  _type check..  *
-00013a60: 206d 616b 6520 7469 6d65 2829 2072 6574   make time() ret
-00013a70: 7572 6e20 4e6f 6e65 206f 6e20 6661 696c  urn None on fail
-00013a80: 7572 6520 6173 2077 6520 646f 6e27 7420  ure as we don't 
-00013a90: 6b6e 6f77 2077 6869 6368 2064 6576 6963  know which devic
-00013aa0: 6573 2073 7570 706f 7274 2067 6574 7469  es support getti
-00013ab0: 6e67 2074 6865 2074 696d 6520 616e 6420  ng the time and 
-00013ac0: 6974 2773 2075 7365 6420 696e 2074 6865  it's used in the
-00013ad0: 2063 6c69 2074 6f6f 6c0a 0a20 202a 2068   cli tool..  * h
-00013ae0: 775f 696e 666f 3a20 6368 6563 6b20 6966  w_info: check if
-00013af0: 206b 6579 2065 7869 7374 7320 6265 666f   key exists befo
-00013b00: 7265 2061 6363 6573 7369 6e67 2069 742c  re accessing it,
-00013b10: 2061 6464 206d 6963 5f6d 6163 2061 6e64   add mic_mac and
-00013b20: 206d 6963 5f74 7970 650a 0a20 202a 2043   mic_type..  * C
-00013b30: 6865 636b 2066 6f72 206d 6963 5f6d 6163  heck for mic_mac
-00013b40: 206f 6e20 6d61 632c 2062 6173 6564 206f   on mac, based o
-00013b50: 6e20 776f 726b 2062 7920 6b64 7363 686c  n work by kdschl
-00013b60: 6f65 7373 6572 206f 6e20 6973 7375 6520  oesser on issue 
-00013b70: 2335 390a 0a20 202a 206d 616b 6520 686f  #59..  * make ho
-00013b80: 756e 6420 6861 7070 792c 205f 5f69 6e69  und happy, __ini
-00013b90: 745f 5f20 6f6e 2053 6d61 7274 4465 7669  t__ on SmartDevi
-00013ba0: 6365 2063 616e 6e6f 7420 6572 726f 7220  ce cannot error 
-00013bb0: 6f75 7420 736f 2072 656d 6f76 696e 6720  out so removing 
-00013bc0: 2772 6169 7365 7327 2064 6f63 756d 656e  'raises' documen
-00013bd0: 7461 7469 6f6e 0a0a 2d20 4164 6420 4c42  tation..- Add LB
-00013be0: 3131 3020 7379 7369 6e66 6f20 2823 3735  110 sysinfo (#75
-00013bf0: 2920 5b53 6561 6e20 476f 6c6c 7363 6865  ) [Sean Gollsche
-00013c00: 7773 6b79 5d0a 0a20 202a 2041 6464 204c  wsky]..  * Add L
-00013c10: 4231 3130 2073 7973 696e 666f 0a0a 2020  B110 sysinfo..  
-00013c20: 2a20 4c69 6e74 696e 672e 0a0a 2d20 4164  * Linting...- Ad
-00013c30: 6420 4070 6173 735f 6465 7620 746f 2068  d @pass_dev to h
-00013c40: 7376 2c20 6164 6a75 7374 2072 616e 6765  sv, adjust range
-00013c50: 7320 2823 3730 2920 5b54 6565 6d75 2052  s (#70) [Teemu R
-00013c60: 5d0a 0a20 202a 2061 6464 2040 7061 7373  ]..  * add @pass
-00013c70: 5f64 6576 2074 6f20 6873 7620 636f 6d6d  _dev to hsv comm
-00013c80: 616e 642c 2069 7420 7761 7320 616c 7761  and, it was alwa
-00013c90: 7973 2062 726f 6b65 6e0a 0a20 202a 2048  ys broken..  * H
-00013ca0: 7565 2067 6f65 7320 7570 2074 6f20 3336  ue goes up to 36
-00013cb0: 302c 2073 6174 7572 6174 696f 6e20 616e  0, saturation an
-00013cc0: 6420 7661 6c75 6520 6172 6520 7570 2074  d value are up t
-00013cd0: 6f20 3130 3028 2529 0a0a 2d20 4578 7472  o 100(%)..- Extr
-00013ce0: 6163 7420 7368 6172 6564 2074 7970 6573  act shared types
-00013cf0: 2028 6578 6365 7074 696f 6e73 2c20 656e   (exceptions, en
-00013d00: 756d 7329 2c20 6164 6420 6d6f 6475 6c65  ums), add module
-00013d10: 206c 6576 656c 2064 6f63 2c20 7265 6e61   level doc, rena
-00013d20: 6d65 2065 7863 6570 7469 6f6e 2074 6f20  me exception to 
-00013d30: 6265 2067 656e 6572 6963 2e20 5b54 6565  be generic. [Tee
-00013d40: 6d75 2052 7974 696c 6168 7469 5d0a 0a2d  mu Rytilahti]..-
-00013d50: 2041 6464 2063 6865 636b 2074 6f20 656e   Add check to en
-00013d60: 7375 7265 2064 6576 6963 6573 2077 6974  sure devices wit
-00013d70: 6820 6c61 742f 6c6f 6e20 7769 7468 2060  h lat/lon with `
-00013d80: 5f69 6020 7375 6666 6978 2061 7265 2073  _i` suffix are s
-00013d90: 7570 706f 7274 6564 2028 2335 3429 2028  upported (#54) (
-00013da0: 2335 3629 205b 4d61 7474 204c 6542 7275  #56) [Matt LeBru
-00013db0: 6e5d 0a0a 2020 2a20 4164 6420 6368 6563  n]..  * Add chec
-00013dc0: 6b20 746f 2065 6e73 7572 6520 6465 7669  k to ensure devi
-00013dd0: 6365 7320 7769 7468 206c 6174 2f6c 6f6e  ces with lat/lon
-00013de0: 2077 6974 6820 605f 6960 2073 7566 6669   with `_i` suffi
-00013df0: 7820 6172 6520 7375 7070 6f72 7465 6420  x are supported 
-00013e00: 2823 3534 290a 0a20 202a 2041 6464 202e  (#54)..  * Add .
-00013e10: 6769 7469 676e 6f72 6520 666f 7220 706f  gitignore for po
-00013e20: 7374 6572 6974 790a 0a2d 2047 656e 6572  sterity..- Gener
-00013e30: 616c 697a 6520 736d 6172 7464 6576 6963  alize smartdevic
-00013e40: 6520 636c 6173 7320 616e 6420 6164 6420  e class and add 
-00013e50: 6275 6c62 2073 7570 706f 7274 2066 6f72  bulb support for
-00013e60: 2074 6865 2063 6c69 2074 6f6f 6c20 2823   the cli tool (#
-00013e70: 3530 2920 5b54 6565 6d75 2052 5d0a 0a20  50) [Teemu R].. 
-00013e80: 2046 6978 6573 2023 3438 2061 6e64 2023   Fixes #48 and #
-00013e90: 3531 2e20 5468 6520 6261 7369 6320 6675  51. The basic fu
-00013ea0: 6e63 7469 6f6e 616c 6974 7920 7368 6f75  nctionality shou
-00013eb0: 6c64 2077 6f72 6b20 6f6e 2061 6c6c 2074  ld work on all t
-00013ec0: 7970 6573 206f 6620 7375 7070 6f72 7465  ypes of supporte
-00013ed0: 6420 6465 7669 6365 732c 2066 6f72 2062  d devices, for b
-00013ee0: 756c 6220 7370 6563 6966 6963 2063 6f6d  ulb specific com
-00013ef0: 6d61 6e64 7320 6974 2069 7320 6375 7272  mands it is curr
-00013f00: 656e 746c 7920 6e65 6365 7373 6172 7920  ently necessary 
-00013f10: 746f 2073 7065 6369 6679 2060 6060 2d2d  to specify ```--
-00013f20: 6275 6c62 6060 602e 0a0a 2d20 5265 6661  bulb```...- Refa
-00013f30: 6374 6f72 2061 6e64 2064 726f 7020 7079  ctor and drop py
-00013f40: 3220 7375 7070 6f72 7420 2823 3439 2920  2 support (#49) 
-00013f50: 5b54 6565 6d75 2052 5d0a 0a20 202a 206d  [Teemu R]..  * m
-00013f60: 6f76 6520 6973 5f6f 6666 2070 726f 7065  ove is_off prope
-00013f70: 7274 7920 746f 2053 6d61 7274 4465 7669  rty to SmartDevi
-00013f80: 6365 2c20 696d 706c 656d 656e 7420 6973  ce, implement is
-00013f90: 5f6f 6e20 666f 7220 6275 6c62 2061 6e64  _on for bulb and
-00013fa0: 2075 7365 2069 740a 0a20 202a 2072 6566   use it..  * ref
-00013fb0: 6163 746f 7220 6279 206d 6f76 696e 6720  actor by moving 
-00013fc0: 736d 6172 7462 756c 6220 616e 6420 736d  smartbulb and sm
-00013fd0: 6172 7470 6c75 6720 746f 2074 6865 6972  artplug to their
-00013fe0: 206f 776e 2063 6c61 7373 6573 0a0a 2020   own classes..  
-00013ff0: 2a20 6472 6f70 2070 7974 686f 6e32 2063  * drop python2 c
-00014000: 6f6d 7061 7469 6269 6c69 7479 2c20 6d61  ompatibility, ma
-00014010: 6b65 2066 6c61 6b65 3820 6861 7070 790a  ke flake8 happy.
-00014020: 0a20 202a 2074 7261 7669 733a 2072 656d  .  * travis: rem
-00014030: 6f76 6520 322e 372c 2061 6464 2033 2e36  ove 2.7, add 3.6
-00014040: 0a0a 302e 322e 342e 3220 2832 3031 372d  ..0.2.4.2 (2017-
-00014050: 3034 2d30 3829 0a2d 2d2d 2d2d 2d2d 2d2d  04-08).---------
-00014060: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 2d20 4164  -----------.- Ad
-00014070: 6420 696e 7374 616c 6c61 7469 6f6e 2072  d installation r
-00014080: 6571 7569 7265 6d65 6e74 2066 6f72 2066  equirement for f
-00014090: 7574 7572 6520 7061 636b 6167 652e 205b  uture package. [
-000140a0: 5465 656d 7520 5279 7469 6c61 6874 695d  Teemu Rytilahti]
-000140b0: 0a0a 302e 322e 342e 3120 2832 3031 372d  ..0.2.4.1 (2017-
-000140c0: 3033 2d32 3629 0a2d 2d2d 2d2d 2d2d 2d2d  03-26).---------
-000140d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 2d20 436c  -----------.- Cl
-000140e0: 693a 2064 6973 706c 6179 2061 6e20 6572  i: display an er
-000140f0: 726f 7220 6966 206e 6f20 6970 2069 7320  ror if no ip is 
-00014100: 6769 7665 6e2e 205b 5465 656d 7520 5279  given. [Teemu Ry
-00014110: 7469 6c61 6874 695d 0a0a 0a30 2e32 2e34  tilahti]...0.2.4
-00014120: 2028 3230 3137 2d30 332d 3236 290a 2d2d   (2017-03-26).--
-00014130: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00014140: 0a0a 2d20 4164 6420 6e65 7720 636c 6965  ..- Add new clie
-00014150: 6e74 2074 6f6f 6c20 2823 3432 2920 5b54  nt tool (#42) [T
-00014160: 6565 6d75 2052 5d0a 0a20 202a 2041 6464  eemu R]..  * Add
-00014170: 206e 6577 2063 6c69 656e 7420 746f 6f6c   new client tool
-00014180: 0a0a 2020 4166 7465 7220 696e 7374 616c  ..  After instal
-00014190: 6c69 6e67 2074 6865 2070 6163 6b61 6765  ling the package
-000141a0: 2070 7968 7331 3030 2063 6f6d 6d61 6e64   pyhs100 command
-000141b0: 2d6c 696e 6520 746f 6f6c 2063 616e 2062  -line tool can b
-000141c0: 6520 7573 6564 0a20 2074 6f20 636f 6e74  e used.  to cont
-000141d0: 726f 6c20 7468 6520 706c 7567 2e0a 0a20  rol the plug... 
-000141e0: 2053 6565 202d 2d68 656c 7020 666f 7220   See --help for 
-000141f0: 6974 7320 7573 6167 652c 206d 6f73 7420  its usage, most 
-00014200: 6f66 2074 6865 2066 6561 7475 7265 7320  of the features 
-00014210: 666f 7220 706c 7567 7320 6172 6520 696d  for plugs are im
-00014220: 706c 656d 656e 7465 642c 0a20 2073 6f6d  plemented,.  som
-00014230: 6520 6f66 2074 6865 2073 6861 7265 6420  e of the shared 
-00014240: 6675 6e63 7469 6f6e 616c 6974 7920 776f  functionality wo
-00014250: 726b 7320 666f 7220 6275 6c62 7320 746f  rks for bulbs to
-00014260: 6f2e 0a0a 2020 2a20 4164 6420 6469 7363  o...  * Add disc
-00014270: 6f76 6572 2063 6f6d 6d61 6e64 0a0a 2020  over command..  
-00014280: 2a20 4465 6c65 7465 206f 6c64 2065 7861  * Delete old exa
-00014290: 6d70 6c65 732c 2074 6865 2063 6c69 2077  mples, the cli w
-000142a0: 6f72 6b73 2061 7320 616e 2065 7861 6d70  orks as an examp
-000142b0: 6c65 2077 656c 6c20 656e 6f75 6768 0a0a  le well enough..
-000142c0: 2d20 4967 6e6f 7265 204f 5345 7272 6f72  - Ignore OSError
-000142d0: 206f 6e20 736f 636b 6574 2e73 6875 7464   on socket.shutd
-000142e0: 6f77 6e28 2920 5b54 6565 6d75 2052 7974  own() [Teemu Ryt
-000142f0: 696c 6168 7469 5d0a 0a20 2054 6869 7320  ilahti]..  This 
-00014300: 6669 7865 7320 2332 3220 616e 6420 6f62  fixes #22 and ob
-00014310: 736f 6c65 7465 7320 5052 2023 3233 2e0a  soletes PR #23..
-00014320: 2d20 5365 7420 636f 6c6f 7220 7465 6d70  - Set color temp
-00014330: 2074 6f20 3020 7768 656e 2074 7279 696e   to 0 when tryin
-00014340: 6720 746f 2063 6861 6e67 6520 636f 6c6f  g to change colo
-00014350: 7220 2823 3336 2920 5b70 6574 6531 3435  r (#36) [pete145
-00014360: 305d 0a0a 2020 2a20 7365 7420 636f 6c6f  0]..  * set colo
-00014370: 7220 7465 6d70 2074 6f20 3020 7768 656e  r temp to 0 when
-00014380: 2074 7279 696e 6720 746f 2063 6861 6e67   trying to chang
-00014390: 6520 636f 6c6f 720a 0a20 202a 2063 6861  e color..  * cha
-000143a0: 6e67 6564 2074 6162 7320 746f 2073 7061  nged tabs to spa
-000143b0: 6365 730a 0a2d 2041 6464 2063 6861 6e67  ces..- Add chang
-000143c0: 656c 6f67 2026 2061 6464 202e 6769 7463  elog & add .gitc
-000143d0: 6861 6e67 656c 6f67 2e72 6320 2823 3238  hangelog.rc (#28
-000143e0: 2920 5b54 6565 6d75 2052 5d0a 0a20 2054  ) [Teemu R]..  T
-000143f0: 6869 7320 636f 6d6d 6974 7320 6164 6473  his commits adds
-00014400: 202e 6769 7463 6861 6e67 656c 6f67 2e72   .gitchangelog.r
-00014410: 6320 666f 7220 6368 616e 6765 6c6f 6720  c for changelog 
-00014420: 6765 6e65 7261 7469 6f6e 2e0a 2020 546f  generation..  To
-00014430: 2067 656e 6572 6174 652c 2073 696d 706c   generate, simpl
-00014440: 7920 7275 6e20 6769 7463 6861 6e67 656c  y run gitchangel
-00014450: 6f67 2e0a 0a2d 2044 6973 636f 7665 723a  og...- Discover:
-00014460: 2043 6174 6368 2073 6f63 6b65 742e 7469   Catch socket.ti
-00014470: 6d65 6f75 7420 616e 6420 6465 6275 6720  meout and debug 
-00014480: 6c6f 6720 6974 2028 2333 3429 205b 5465  log it (#34) [Te
-00014490: 656d 7520 525d 0a0a 2020 4669 7865 7320  emu R]..  Fixes 
-000144a0: 2333 330a 0a2d 2041 6464 2066 6c61 6b65  #33..- Add flake
-000144b0: 3820 746f 2074 6f78 2c20 6469 7361 626c  8 to tox, disabl
-000144c0: 6520 7161 206f 6e20 7079 4853 3130 302f  e qa on pyHS100/
-000144d0: 5f5f 696e 6974 5f5f 2e70 792c 2066 6978  __init__.py, fix
-000144e0: 2070 7932 370a 2020 636f 6d70 6174 6962   py27.  compatib
-000144f0: 696c 6974 7920 2823 3331 2920 5b54 6565  ility (#31) [Tee
-00014500: 6d75 2052 5d0a 0a2d 2041 6464 2073 7570  mu R]..- Add sup
-00014510: 706f 7274 2066 6f72 2054 502d 4c69 6e6b  port for TP-Link
-00014520: 2073 6d61 7274 6275 6c62 7320 2823 3330   smartbulbs (#30
-00014530: 2920 5b4d 6174 7468 6577 2047 6172 7265  ) [Matthew Garre
-00014540: 7474 5d0a 0a20 202a 2041 6464 2073 7570  tt]..  * Add sup
-00014550: 706f 7274 2066 6f72 206e 6577 2d73 7479  port for new-sty
-00014560: 6c65 2070 726f 746f 636f 6c0a 0a20 204e  le protocol..  N
-00014570: 6577 6572 2064 6576 6963 6573 2028 696e  ewer devices (in
-00014580: 636c 7564 696e 6720 6d79 204c 4231 3330  cluding my LB130
-00014590: 2920 7365 656d 2074 6f20 696e 636c 7564  ) seem to includ
-000145a0: 6520 7468 6520 7265 7175 6573 7420 6c65  e the request le
-000145b0: 6e67 7468 2069 6e0a 2020 7468 6520 7072  ngth in.  the pr
-000145c0: 6576 696f 7573 6c79 2065 6d70 7479 206d  eviously empty m
-000145d0: 6573 7361 6765 2068 6561 6465 722c 2061  essage header, a
-000145e0: 6e64 2069 676e 6f72 6520 7265 7175 6573  nd ignore reques
-000145f0: 7473 2074 6861 7420 6c61 636b 2069 742e  ts that lack it.
-00014600: 2054 6865 790a 2020 616c 736f 2064 6f6e   They.  also don
-00014610: 2774 2073 656e 6420 616e 2065 6d70 7479  't send an empty
-00014620: 2070 6163 6b65 7420 6173 2074 6865 2066   packet as the f
-00014630: 696e 616c 2070 6172 7420 6f66 2061 2072  inal part of a r
-00014640: 6573 706f 6e73 652c 2077 6869 6368 2063  esponse, which c
-00014650: 616e 0a20 206c 6561 6420 746f 2068 616e  an.  lead to han
-00014660: 6773 2e20 4164 6420 7375 7070 6f72 7420  gs. Add support 
-00014670: 666f 7220 7468 6973 2c20 7769 7468 206c  for this, with l
-00014680: 7563 6b20 6e6f 7420 6272 6561 6b69 6e67  uck not breaking
-00014690: 2065 7869 7374 696e 6720 6465 7669 6365   existing device
-000146a0: 730a 2020 696e 2074 6865 2070 726f 6365  s.  in the proce
-000146b0: 7373 2e0a 0a20 202a 2046 6978 2074 6573  ss...  * Fix tes
-000146c0: 7473 0a0a 2020 5765 206e 6f77 2069 6e63  ts..  We now inc
-000146d0: 6c75 6465 2074 6865 2072 6571 7565 7374  lude the request
-000146e0: 206c 656e 6774 6820 696e 2074 6865 2065   length in the e
-000146f0: 6e63 7279 7074 6564 2070 6163 6b65 7420  ncrypted packet 
-00014700: 6865 6164 6572 2c20 736f 2073 7472 6970  header, so strip
-00014710: 0a20 2074 6865 2068 6561 6465 7220 7261  .  the header ra
-00014720: 7468 6572 2074 6861 6e20 6173 7375 6d69  ther than assumi
-00014730: 6e67 2074 6861 7420 6974 2773 206a 7573  ng that it's jus
-00014740: 7420 7a65 726f 6573 2e0a 0a20 202a 2043  t zeroes...  * C
-00014750: 7265 6174 6520 6120 536d 6172 7444 6576  reate a SmartDev
-00014760: 6963 6520 7061 7265 6e74 2063 6c61 7373  ice parent class
-00014770: 0a0a 2020 4164 6420 6120 6765 6e65 7269  ..  Add a generi
-00014780: 6320 536d 6172 7444 6576 6963 6520 636c  c SmartDevice cl
-00014790: 6173 7320 7468 6174 2053 6d61 7274 506c  ass that SmartPl
-000147a0: 7567 2063 616e 2069 6e68 6572 6974 2066  ug can inherit f
-000147b0: 726f 6d2c 2069 6e0a 2020 7072 6570 6172  rom, in.  prepar
-000147c0: 6174 696f 6e20 666f 7220 6164 6469 6e67  ation for adding
-000147d0: 2073 7570 706f 7274 2066 6f72 206f 7468   support for oth
-000147e0: 6572 2064 6576 6963 6520 7479 7065 732e  er device types.
-000147f0: 0a0a 2020 2a20 4164 6420 7375 7070 6f72  ..  * Add suppor
-00014800: 7420 666f 7220 5450 2d4c 696e 6b20 736d  t for TP-Link sm
-00014810: 6172 7462 756c 6273 0a0a 2020 5468 6573  artbulbs..  Thes
-00014820: 6520 6275 6c62 7320 7573 6520 7468 6520  e bulbs use the 
-00014830: 7361 6d65 2070 726f 746f 636f 6c20 6173  same protocol as
-00014840: 2074 6865 2073 6d61 7274 2070 6c75 6773   the smart plugs
-00014850: 2c20 6275 7420 6861 7665 2061 6464 6974  , but have addit
-00014860: 696f 6e61 6c0a 2020 636f 6d6d 616e 6473  ional.  commands
-00014870: 2066 6f72 2063 6f6e 7472 6f6c 6c69 6e67   for controlling
-00014880: 2062 756c 622d 7370 6563 6966 6963 2066   bulb-specific f
-00014890: 6561 7475 7265 732e 2049 6e20 6164 6469  eatures. In addi
-000148a0: 7469 6f6e 2c20 7468 6520 6275 6c62 730a  tion, the bulbs.
-000148b0: 2020 6861 7665 2074 6865 6972 2065 6d65    have their eme
-000148c0: 7465 7220 756e 6465 7220 6120 6469 6666  ter under a diff
-000148d0: 6572 656e 7420 7461 7267 6574 2061 6e64  erent target and
-000148e0: 2072 6574 7572 6e20 7265 7370 6f6e 7365   return response
-000148f0: 7320 7468 6174 0a20 2069 6e63 6c75 6465  s that.  include
-00014900: 2074 6865 2065 6e65 7267 7920 756e 6974   the energy unit
-00014910: 2069 6e20 7468 6520 6b65 7920 6e61 6d65   in the key name
-00014920: 732e 0a0a 2020 2a20 4164 6420 7465 7374  s...  * Add test
-00014930: 7320 666f 7220 6275 6c62 730a 0a20 204e  s for bulbs..  N
-00014940: 6f74 2065 6e74 6972 656c 7920 636f 6d70  ot entirely comp
-00014950: 7265 6865 6e73 6976 652c 2062 7574 2068  rehensive, but h
-00014960: 6173 2070 7265 7474 7920 6d75 6368 2074  as pretty much t
-00014970: 6865 2073 616d 6520 6c65 7665 6c20 6f66  he same level of
-00014980: 2074 6573 7469 6e67 0a20 2061 7320 706c   testing.  as pl
-00014990: 7567 730a 0a0a 302e 322e 3320 2832 3031  ugs...0.2.3 (201
-000149a0: 372d 3031 2d31 3129 0a2d 2d2d 2d2d 2d2d  7-01-11).-------
-000149b0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d 2041  -----------..- A
-000149c0: 6464 202e 6769 7463 686e 6167 656c 6f67  dd .gitchnagelog
-000149d0: 2e72 6320 666f 7220 6368 616e 6765 6c6f  .rc for changelo
-000149e0: 6720 6765 6e65 7261 7469 6f6e 2e20 746f  g generation. to
-000149f0: 2067 656e 6572 6174 652c 2073 696d 706c   generate, simpl
-00014a00: 790a 2020 696e 7374 616c 6c20 616e 6420  y.  install and 
-00014a10: 7275 6e20 6769 7463 6861 6e67 656c 6f67  run gitchangelog
-00014a20: 2e20 5b54 6565 6d75 2052 7974 696c 6168  . [Teemu Rytilah
-00014a30: 7469 5d0a 0a2d 2056 6572 7369 6f6e 2062  ti]..- Version b
-00014a40: 756d 702e 205b 4761 6467 6574 5265 6163  ump. [GadgetReac
-00014a50: 746f 725d 0a0a 2d20 496e 6974 6961 6c20  tor]..- Initial 
-00014a60: 7374 6570 7320 746f 2072 656d 6f76 6520  steps to remove 
-00014a70: 6361 6368 696e 6720 2823 3236 2920 5b54  caching (#26) [T
-00014a80: 6565 6d75 2052 5d0a 0a20 2054 6869 7320  eemu R]..  This 
-00014a90: 636f 6d6d 6974 2072 656d 6f76 6573 2063  commit removes c
-00014aa0: 6163 6869 6e67 206f 6620 7379 7369 6e66  aching of sysinf
-00014ab0: 6f20 746f 2061 766f 6964 0a20 2069 6e63  o to avoid.  inc
-00014ac0: 6f6e 7369 7374 656e 7420 7374 6174 6573  onsistent states
-00014ad0: 2061 7320 6465 7363 7269 6265 6420 696e   as described in
-00014ae0: 2069 7373 7565 2023 3134 2e0a 0a20 2045   issue #14...  E
-00014af0: 6163 6820 616e 2065 7665 7279 2061 6363  ach an every acc
-00014b00: 6573 7320 666f 7220 7072 6f70 6572 7469  ess for properti
-00014b10: 6573 2077 696c 6c20 6361 7573 6520 6120  es will cause a 
-00014b20: 7265 7175 6573 740a 2020 746f 2062 6520  request.  to be 
-00014b30: 6d61 6465 2074 6f20 7468 6520 6465 7669  made to the devi
-00014b40: 6365 2e20 546f 2061 766f 6964 2074 6869  ce. To avoid thi
-00014b50: 732c 2075 7365 7220 6f66 2074 6865 206c  s, user of the l
-00014b60: 6962 7261 7279 0a20 206d 6179 2077 616e  ibrary.  may wan
-00014b70: 7420 746f 2061 6363 6573 7320 7379 735f  t to access sys_
-00014b80: 696e 666f 2829 2064 6972 6563 746c 7920  info() directly 
-00014b90: 696e 7374 6561 6420 6f66 2075 7369 6e67  instead of using
-00014ba0: 2074 6865 2068 656c 7065 7273 2e0a 0a20   the helpers... 
-00014bb0: 2043 7572 7265 6e74 6c79 2073 7973 5f69   Currently sys_i
-00014bc0: 6e66 6f28 2920 7265 7475 726e 7320 7261  nfo() returns ra
-00014bd0: 7720 6a73 6f6e 206f 626a 6563 7420 7768  w json object wh
-00014be0: 6572 652d 6173 2068 656c 7065 7273 2064  ere-as helpers d
-00014bf0: 6f0a 2020 7061 7273 6520 696e 666f 726d  o.  parse inform
-00014c00: 6174 696f 6e20 666f 7220 6561 7369 6572  ation for easier
-00014c10: 2063 6f6e 7375 6d70 7469 6f6e 3b20 6375   consumption; cu
-00014c20: 7272 656e 7420 7374 6174 6520 6973 206a  rrent state is j
-00014c30: 7573 7420 746f 0a20 2070 726f 7669 6465  ust to.  provide
-00014c40: 2061 2050 6f43 2068 6f77 2069 7420 6c6f   a PoC how it lo
-00014c50: 6f6b 7320 636f 6d70 6172 6564 2074 6f20  oks compared to 
-00014c60: 6861 7669 6e67 2061 6e20 6163 7469 7665  having an active
-00014c70: 2075 7064 6174 6528 290a 2020 666f 7220   update().  for 
-00014c80: 6665 7463 6869 6e67 2074 6865 2069 6e66  fetching the inf
-00014c90: 6f2e 0a0a 2d20 4d61 6b65 2074 6573 7473  o...- Make tests
-00014ca0: 2072 756e 6e61 626c 6520 7769 7468 6f75   runnable withou
-00014cb0: 7420 6465 7669 6365 2028 2332 3429 205b  t device (#24) [
-00014cc0: 5465 656d 7520 525d 0a0a 2020 2a20 4d61  Teemu R]..  * Ma
-00014cd0: 6b65 2074 6573 7473 2072 756e 6e61 626c  ke tests runnabl
-00014ce0: 6520 7769 7468 6f75 7420 6465 7669 6365  e without device
-00014cf0: 0a0a 2020 4164 6473 2070 7265 6c69 6d69  ..  Adds prelimi
-00014d00: 6e61 7279 2073 7570 706f 7274 2066 6f72  nary support for
-00014d10: 2066 616b 6520 6465 7669 6365 732c 2074   fake devices, t
-00014d20: 6861 6e6b 7320 746f 0a20 2068 6f76 6565  hanks to.  hovee
-00014d30: 6d61 6e27 7320 7379 7369 6e66 6f73 2066  man's sysinfos f
-00014d40: 726f 6d20 6973 7375 6520 2331 342c 0a20  rom issue #14,. 
-00014d50: 206d 616b 696e 6720 7275 6e6e 696e 6720   making running 
-00014d60: 7465 7374 7320 706f 7373 6962 6c65 2077  tests possible w
-00014d70: 6974 686f 7574 2061 2064 6576 6963 652e  ithout a device.
-00014d80: 0a0a 2020 4174 2074 6865 206d 6f6d 656e  ..  At the momen
-00014d90: 7420 7765 2068 6176 6520 6f6e 6c79 2048  t we have only H
-00014da0: 5331 3130 2061 6e64 2048 5332 3030 2069  S110 and HS200 i
-00014db0: 6e66 6f73 2061 7661 696c 6162 6c65 2c20  nfos available, 
-00014dc0: 616e 6420 7465 7374 730a 2020 6172 6520  and tests.  are 
-00014dd0: 6375 7272 656e 746c 7920 7275 6e20 6f6e  currently run on
-00014de0: 6c79 2061 6761 696e 7374 2048 5331 3130  ly against HS110
-00014df0: 2064 6174 612e 0a0a 2020 2a20 4d61 6b65   data...  * Make
-00014e00: 2074 6573 7473 2070 7932 3720 636f 6d70   tests py27 comp
-00014e10: 6174 6962 6c65 0a0a 2d20 4164 6420 6465  atible..- Add de
-00014e20: 7669 6365 2064 6973 636f 7665 7279 2028  vice discovery (
-00014e30: 2332 3529 205b 5465 656d 7520 525d 0a0a  #25) [Teemu R]..
-00014e40: 2020 2a20 6164 6420 2875 6e74 6573 7465    * add (unteste
-00014e50: 6429 2064 6973 636f 7665 7220 6d6f 6465  d) discover mode
-00014e60: 0a0a 2020 2a20 4b65 6570 2064 6973 636f  ..  * Keep disco
-00014e70: 7665 7279 2061 6e64 206e 6f72 6d61 6c20  very and normal 
-00014e80: 636f 6d6d 756e 6963 6174 696f 6e20 7365  communication se
-00014e90: 7061 7261 7465 2c20 7570 7065 7263 6173  parate, uppercas
-00014ea0: 6520 6d61 6769 6320 636f 6e73 7473 0a0a  e magic consts..
-00014eb0: 2020 5468 6973 2073 6570 6561 7261 7465    This sepearate
-00014ec0: 7320 7468 6520 6561 726c 6965 7220 7465  s the earlier te
-00014ed0: 7374 2063 6f64 6520 666f 7220 6469 7363  st code for disc
-00014ee0: 6f76 6572 696e 6720 6465 7669 6365 732c  overing devices,
-00014ef0: 0a20 2061 6e64 2061 6464 7320 3520 7365  .  and adds 5 se
-00014f00: 6320 7469 6d65 6f75 7420 666f 7220 6761  c timeout for ga
-00014f10: 7468 6572 696e 6720 7265 7370 6f6e 7365  thering response
-00014f20: 7320 6672 6f6d 2070 6f74 656e 7469 616c  s from potential
-00014f30: 2064 6576 6963 6573 2e0a 0a20 2054 6869   devices...  Thi
-00014f40: 7320 636f 6d6d 6974 2061 6c73 6f20 7570  s commit also up
-00014f50: 7065 7263 6173 6573 206d 6167 6963 2063  percases magic c
-00014f60: 6f6e 7374 616e 7473 2e0a 0a20 2044 6973  onstants...  Dis
-00014f70: 636f 7665 7279 2026 2063 6f6d 6d75 6e69  covery & communi
-00014f80: 6361 7469 6f6e 2074 6573 7465 6420 7769  cation tested wi
-00014f90: 7468 2048 5331 3130 2e0a 0a20 202a 2075  th HS110...  * u
-00014fa0: 7064 6174 6520 7265 6164 6d65 2077 6974  pdate readme wit
-00014fb0: 6820 6578 616d 706c 6520 686f 7720 746f  h example how to
-00014fc0: 2064 6973 636f 7665 7220 6465 7669 6365   discover device
-00014fd0: 732c 2070 6570 3869 6679 0a0a 2d20 4164  s, pep8ify..- Ad
-00014fe0: 6420 7469 6d65 6f75 7420 746f 2071 7565  d timeout to que
-00014ff0: 7279 2028 2331 3929 205b 4175 7374 696e  ry (#19) [Austin
-00015000: 5d0a 0a2d 2052 6566 6163 746f 7220 2620  ]..- Refactor & 
-00015010: 6164 6420 756e 6974 7465 7374 7320 666f  add unittests fo
-00015020: 7220 616c 6d6f 7374 2061 6c6c 2066 756e  r almost all fun
-00015030: 6374 696f 6e61 6c69 7479 2c20 6164 6420  ctionality, add 
-00015040: 746f 7820 666f 720a 2020 7275 6e6e 696e  tox for.  runnin
-00015050: 6720 7465 7374 7320 6f6e 2070 7932 3720  g tests on py27 
-00015060: 616e 6420 7079 3335 2028 2331 3729 205b  and py35 (#17) [
-00015070: 5465 656d 7520 525d 0a0a 2020 2a20 5265  Teemu R]..  * Re
-00015080: 6661 6374 6f72 2026 2061 6464 2075 6e69  factor & add uni
-00015090: 7474 6573 7473 2066 6f72 2061 6c6d 6f73  ttests for almos
-000150a0: 7420 616c 6c20 6675 6e63 7469 6f6e 616c  t all functional
-000150b0: 6974 792c 2061 6464 2074 6f78 2066 6f72  ity, add tox for
-000150c0: 2072 756e 6e69 6e67 2074 6573 7473 206f   running tests o
-000150d0: 6e20 7079 3237 2061 6e64 2070 7933 350a  n py27 and py35.
-000150e0: 0a20 2054 6869 7320 636f 6d6d 6974 2061  .  This commit a
-000150f0: 6464 7320 756e 6974 2074 6573 7473 2066  dds unit tests f
-00015100: 6f72 2063 7572 7265 6e74 2061 7069 2066  or current api f
-00015110: 756e 6374 696f 6e61 6c69 7479 2e0a 2020  unctionality..  
-00015120: 2d20 6375 7272 656e 746c 7920 6e6f 206d  - currently no m
-00015130: 6f63 6b69 6e67 2c20 616c 6c20 7465 7374  ocking, all test
-00015140: 7320 6172 6520 7275 6e20 6f6e 2074 6865  s are run on the
-00015150: 2064 6576 6963 652e 0a20 202d 2074 6865   device..  - the
-00015160: 206c 6962 7261 7279 2069 7320 6e6f 7720   library is now 
-00015170: 636f 6d70 6174 6962 6c65 2077 6974 6820  compatible with 
-00015180: 7079 7468 6f6e 2032 2e37 2061 6e64 2070  python 2.7 and p
-00015190: 7974 686f 6e20 332e 352c 2075 7365 2074  ython 3.5, use t
-000151a0: 6f78 2066 6f72 2074 6573 7473 0a20 202d  ox for tests.  -
-000151b0: 2073 6368 656d 6120 6368 6563 6b73 2061   schema checks a
-000151c0: 7265 2064 6f6e 6520 7769 7468 2076 6f6c  re done with vol
-000151d0: 7570 7475 6f75 730a 0a20 2072 6566 6163  uptuous..  refac
-000151e0: 746f 7269 6e67 3a0a 2020 2d20 7072 6f74  toring:.  - prot
-000151f0: 6f63 6f6c 2069 7320 7365 7061 7261 7465  ocol is separate
-00015200: 6420 696e 746f 2069 7473 206f 776e 2066  d into its own f
-00015210: 696c 652c 2073 6d61 7274 706c 7567 2061  ile, smartplug a
-00015220: 6461 7074 6564 2074 6f20 7265 6365 6976  dapted to receiv
-00015230: 6520 7072 6f74 6f63 6f6c 2077 6f72 6b65  e protocol worke
-00015240: 7220 6173 2070 6172 616d 6574 6572 2e0a  r as parameter..
-00015250: 2020 2d20 636c 6561 6e65 6420 7570 2074    - cleaned up t
-00015260: 6865 2069 6e69 7469 616c 697a 6174 696f  he initializatio
-00015270: 6e20 726f 7574 696e 652c 2069 6e69 7469  n routine, initi
-00015280: 616c 697a 6174 696f 6e20 6973 2064 6f6e  alization is don
-00015290: 6520 6f6e 2075 7365 2c20 6e6f 7420 6f6e  e on use, not on
-000152a0: 2063 7265 6174 696f 6e20 6f66 2073 6d61   creation of sma
-000152b0: 7274 706c 7567 0a20 202d 2061 6464 6564  rtplug.  - added
-000152c0: 206d 6f64 656c 2061 6e64 2066 6561 7475   model and featu
-000152d0: 7265 7320 7072 6f70 6572 7469 6573 2c20  res properties, 
-000152e0: 6964 656e 7469 7479 206b 6570 7420 666f  identity kept fo
-000152f0: 7220 6261 636b 7761 7264 7320 636f 6d70  r backwards comp
-00015300: 6174 6962 696c 6974 790a 2020 2d20 6e6f  atibility.  - no
-00015310: 206d 6f72 6520 7374 6f72 696e 6720 6f66   more storing of
-00015320: 206c 6f63 616c 2076 6172 6961 626c 6573   local variables
-00015330: 206f 7574 7369 6465 205f 7379 735f 696e   outside _sys_in
-00015340: 666f 2c20 7061 7665 7320 6120 7761 7920  fo, paves a way 
-00015350: 746f 2068 616e 646c 6520 7374 6174 6520  to handle state 
-00015360: 6368 616e 6765 7320 7361 6e65 6c79 2028  changes sanely (
-00015370: 7769 7468 6f75 7420 636f 6d70 6c65 7465  without complete
-00015380: 2072 6569 6e69 7469 616c 697a 6174 696f   reinitializatio
-00015390: 6e29 0a0a 2020 2a20 4669 7820 4349 2077  n)..  * Fix CI w
-000153a0: 6172 6e69 6e67 732c 2072 656d 6f76 6520  arnings, remove 
-000153b0: 756e 7573 6564 206c 6566 746f 7665 7220  unused leftover 
-000153c0: 636f 6465 0a0a 2020 2a20 5265 6e61 6d65  code..  * Rename
-000153d0: 205f 696e 6974 6961 6c69 7a65 2074 6f20   _initialize to 
-000153e0: 5f66 6574 6368 5f73 7973 696e 666f 2c20  _fetch_sysinfo, 
-000153f0: 6173 2074 6861 7427 7320 7768 6174 2069  as that's what i
-00015400: 7420 646f 6573 2e0a 0a20 202a 2065 7861  t does...  * exa
-00015410: 6d70 6c65 732e 636c 693a 2066 6978 2069  mples.cli: fix i
-00015420: 6465 6e74 6966 7920 6361 6c6c 2c20 7072  dentify call, pr
-00015430: 6574 7479 7072 696e 7420 7379 7369 6e66  ettyprint sysinf
-00015440: 6f2c 2075 7064 6174 6520 7265 6164 6d65  o, update readme
-00015450: 2077 6869 6368 2068 6164 2066 616c 7365   which had false
-00015460: 2066 6f72 6d61 7420 666f 7220 6c65 6420   format for led 
-00015470: 7365 7474 696e 670a 0a20 202a 2041 6464  setting..  * Add
-00015480: 2074 6f78 2d74 7261 7669 7320 666f 7220   tox-travis for 
-00015490: 6175 746f 6d61 7465 6420 7465 7374 696e  automated testin
-000154a0: 672e 0a0a 302e 322e 3220 2832 3031 362d  g...0.2.2 (2016-
-000154b0: 3132 2d31 3329 0a2d 2d2d 2d2d 2d2d 2d2d  12-13).---------
-000154c0: 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d 2056 6572  ---------..- Ver
-000154d0: 7369 6f6e 2062 756d 7020 2823 3136 2920  sion bump (#16) 
-000154e0: 5b47 656f 7267 6920 4b69 7269 6368 6b6f  [Georgi Kirichko
-000154f0: 765d 0a0a 2d20 5265 6164 2061 6c6c 2064  v]..- Read all d
-00015500: 6174 6120 6672 6f6d 2074 6865 2064 6576  ata from the dev
-00015510: 6963 652c 2064 6973 6162 6c65 2064 6f75  ice, disable dou
-00015520: 626c 652d 656e 636f 6469 6e67 2c20 696d  ble-encoding, im
-00015530: 706c 656d 656e 7420 6d6f 7265 0a20 2041  plement more.  A
-00015540: 5049 732c 2072 6566 6163 746f 7220 7175  PIs, refactor qu
-00015550: 6572 7969 6e67 2c20 7570 6461 7465 2052  erying, update R
-00015560: 4541 444d 4520 2823 3131 2920 5b54 6565  EADME (#11) [Tee
-00015570: 6d75 2052 5d0a 0a20 202a 2052 6561 6420  mu R]..  * Read 
-00015580: 6672 6f6d 2073 6f63 6b65 7420 756e 7469  from socket unti
-00015590: 6c20 6e6f 2064 6174 6120 6176 6169 6c61  l no data availa
-000155a0: 626c 652c 2064 6973 6162 6c65 2064 6f75  ble, disable dou
-000155b0: 626c 6520 7374 7269 6e67 2065 6e63 6f64  ble string encod
-000155c0: 696e 670a 0a20 2048 5331 3130 2073 656e  ing..  HS110 sen
-000155d0: 6473 2073 6f6d 6574 696d 6573 2064 6174  ds sometimes dat
-000155e0: 6167 7261 6d73 2069 6e20 6368 756e 6b73  agrams in chunks
-000155f0: 2065 7370 6563 6961 6c6c 7920 666f 7220   especially for 
-00015600: 6765 745f 6461 7973 7461 742c 0a20 2074  get_daystat,.  t
-00015610: 6869 7320 7061 7463 6820 6d61 6b65 7320  his patch makes 
-00015620: 6974 2074 6f20 7265 6164 2075 6e74 696c  it to read until
-00015630: 2074 6865 7265 2069 7320 6e6f 206d 6f72   there is no mor
-00015640: 6520 6461 7461 2074 6f20 6265 2072 6561  e data to be rea
-00015650: 642e 0a0a 2020 4173 206a 736f 6e2e 6475  d...  As json.du
-00015660: 6d70 7328 2920 646f 6573 204a 534f 4e20  mps() does JSON 
-00015670: 656e 636f 6469 6e67 2061 6c72 6561 6479  encoding already
-00015680: 2c20 7468 6572 6527 7320 6e6f 206e 6565  , there's no nee
-00015690: 6420 746f 2073 7472 2829 0a20 2074 6865  d to str().  the
-000156a0: 2079 6561 7220 6f72 206d 6f6e 7468 2065   year or month e
-000156b0: 6974 6865 722e 0a0a 2020 2a20 4164 6420  ither...  * Add 
-000156c0: 636c 692e 7079 2c20 6120 7369 6d70 6c65  cli.py, a simple
-000156d0: 2073 6372 6970 7420 746f 2071 7565 7279   script to query
-000156e0: 2064 6576 6963 6573 2066 6f72 2064 6562   devices for deb
-000156f0: 7567 6769 6e67 2070 7572 706f 7365 732e  ugging purposes.
-00015700: 0a0a 2020 2a20 616c 6c6f 7720 6561 7369  ..  * allow easi
-00015710: 6572 2069 6d70 6f72 7469 6e67 2077 6974  er importing wit
-00015720: 6820 6672 6f6d 2070 7948 5331 3030 2069  h from pyHS100 i
-00015730: 6d70 6f72 7420 536d 6172 7450 6c75 670a  mport SmartPlug.
-00015740: 0a20 202a 206d 6f76 6520 636c 692e 7079  .  * move cli.py
-00015750: 2074 6f20 6578 616d 706c 6573 2c20 6164   to examples, ad
-00015760: 6420 7368 6f72 7420 7573 6167 6520 696e  d short usage in
-00015770: 746f 2052 4541 444d 452e 6d64 0a0a 2020  to README.md..  
-00015780: 2a20 496d 706c 656d 656e 7420 6d6f 7265  * Implement more
-00015790: 2061 7661 696c 6162 6c65 2041 5049 732c   available APIs,
-000157a0: 2072 6566 6163 746f 7220 7175 6572 7969   refactor queryi
-000157b0: 6e67 2063 6f64 652e 0a0a 2020 5468 6973  ng code...  This
-000157c0: 2063 6f6d 6d69 7420 6164 6473 2061 6363   commit adds acc
-000157d0: 6573 7320 746f 206e 6577 2070 726f 7065  ess to new prope
-000157e0: 7274 6965 732c 2062 6f74 6820 7265 6164  rties, both read
-000157f0: 2026 2077 7269 7465 2c20 2077 6869 6c65   & write,  while
-00015800: 206b 6565 7069 6e67 2074 6865 206f 6c64   keeping the old
-00015810: 206f 6e65 2028 6d6f 7374 6c79 2920 696e   one (mostly) in
-00015820: 7461 6374 2e0a 2020 5175 6572 7969 6e67  tact..  Querying
-00015830: 2069 7320 7265 6661 6374 6f72 6564 2074   is refactored t
-00015840: 6f20 6265 2064 6f6e 6520 696e 7369 6465  o be done inside
-00015850: 205f 7175 6572 795f 6865 6c70 6572 2829   _query_helper()
-00015860: 206d 6574 686f 642c 0a20 2077 6869 6368   method,.  which
-00015870: 2075 6e77 7261 7073 2072 6573 756c 7473   unwraps results
-00015880: 2061 7574 6f6d 6174 6963 616c 6c79 2061   automatically a
-00015890: 6e64 2072 6973 6573 2053 6d61 7274 506c  nd rises SmartPl
-000158a0: 7567 4578 6365 7074 696f 6e28 2920 696e  ugException() in
-000158b0: 2063 6173 6520 6f66 2065 7272 6f72 732e   case of errors.
-000158c0: 0a20 2045 7272 6f72 7320 6172 6520 746f  .  Errors are to
-000158d0: 2062 6520 6861 6e64 6c65 6420 6279 2063   be handled by c
-000158e0: 6c69 656e 7473 2e0a 0a20 204e 6577 2066  lients...  New f
-000158f0: 6561 7475 7265 733a 0a20 202a 2053 6574  eatures:.  * Set
-00015900: 7469 6e67 2064 6576 6963 6520 616c 6961  ting device alia
-00015910: 7320 2870 6c75 672e 616c 6961 7320 3d20  s (plug.alias = 
-00015920: 226e 616d 6522 290a 2020 2a20 6c65 6420  "name").  * led 
-00015930: 7265 6164 2026 2077 7269 7465 0a20 202a  read & write.  *
-00015940: 2069 636f 6e20 7265 6164 2028 646f 6573   icon read (does
-00015950: 6e27 7420 7365 656d 2074 6f20 7265 7475  n't seem to retu
-00015960: 726e 2061 6e79 7468 696e 6720 7769 7468  rn anything with
-00015970: 6f75 7420 636c 6f75 6420 7375 7070 6f72  out cloud suppor
-00015980: 7420 6174 206c 6561 7374 292c 2077 7269  t at least), wri
-00015990: 7465 2041 5049 2069 7320 6e6f 7420 6b6e  te API is not kn
-000159a0: 6f77 6e2c 2074 6872 6f77 7320 616e 2065  own, throws an e
-000159b0: 7863 6570 7469 6f6e 2063 7572 7265 6e74  xception current
-000159c0: 6c79 0a20 202a 2074 696d 6520 7265 6164  ly.  * time read
-000159d0: 2028 7265 7475 726e 7320 6461 7465 7469   (returns dateti
-000159e0: 6d65 292c 2074 696d 6520 7772 6974 6520  me), time write 
-000159f0: 696d 706c 656d 656e 7465 642c 2062 7574  implemented, but
-00015a00: 206e 6f74 2077 6f72 6b69 6e67 2065 7665   not working eve
-00015a10: 6e20 7768 656e 206e 6f20 6572 726f 7220  n when no error 
-00015a20: 6973 2072 6574 7572 6e65 6420 6672 6f6d  is returned from
-00015a30: 2074 6865 2064 6576 6963 650a 2020 2a20   the device.  * 
-00015a40: 7469 6d65 7a6f 6e65 2072 6561 640a 2020  timezone read.  
-00015a50: 2a20 6d61 6320 7265 6164 2026 2077 7269  * mac read & wri
-00015a60: 7465 2c20 7772 6974 696e 6720 6973 2075  te, writing is u
-00015a70: 6e74 6573 7465 6420 666f 7220 6e6f 772e  ntested for now.
-00015a80: 0a0a 2020 5072 6f70 6572 7469 6573 2066  ..  Properties f
-00015a90: 6f72 2065 6173 6965 7220 6163 6365 7373  or easier access
-00015aa0: 3a0a 2020 2a20 6877 5f69 6e66 6f3a 2072  :.  * hw_info: r
-00015ab0: 6574 7572 6e20 6877 2d73 7065 6369 6669  eturn hw-specifi
-00015ac0: 6320 656c 656d 656e 7473 2066 726f 6d20  c elements from 
-00015ad0: 7379 7369 6e66 6f0a 2020 2a20 6f6e 5f73  sysinfo.  * on_s
-00015ae0: 696e 6365 3a20 7072 6574 7479 2d70 7269  ince: pretty-pri
-00015af0: 6e74 6564 2066 726f 6d20 7379 7369 6e66  nted from sysinf
-00015b00: 6f0a 2020 2a20 6c6f 6361 7469 6f6e 3a20  o.  * location: 
-00015b10: 6c61 7469 7475 6465 2061 6e64 206c 6f6e  latitude and lon
-00015b20: 6769 7475 6564 2066 726f 6d20 7379 7369  gitued from sysi
-00015b30: 6e66 6f0a 2020 2a20 7273 7369 3a20 7273  nfo.  * rssi: rs
-00015b40: 7369 2066 726f 6d20 7379 7369 6e66 6f0a  si from sysinfo.
-00015b50: 0a20 202a 2055 7064 6174 6520 5245 4144  .  * Update READ
-00015b60: 4d45 2e6d 6420 7769 7468 2065 7861 6d70  ME.md with examp
-00015b70: 6c65 7320 6f66 2061 7661 696c 6162 6c65  les of available
-00015b80: 2066 6561 7475 7265 732e 0a0a 2020 2a20   features...  * 
-00015b90: 4861 6e64 6c65 2063 6f6d 6d65 6e74 7320  Handle comments 
-00015ba0: 6672 6f6d 206d 7765 696e 656c 740a 0a20  from mweinelt.. 
-00015bb0: 202a 2052 6566 6163 746f 7220 7374 6174   * Refactor stat
-00015bc0: 6520 6861 6e64 6c69 6e67 2c20 7573 6520  e handling, use 
-00015bd0: 626f 6f6c 6561 6e73 2069 6e73 7465 6164  booleans instead
-00015be0: 206f 6620 7374 7269 6e67 730a 0a20 202a   of strings..  *
-00015bf0: 2046 6978 2069 7373 7565 7320 7261 6973   Fix issues rais
-00015c00: 6564 2064 7572 696e 6720 7468 6520 7265  ed during the re
-00015c10: 7669 6577 2e0a 0a20 2046 6f6c 6c6f 7769  view...  Followi
-00015c20: 6e67 2069 7373 7565 7320 6172 6520 6164  ng issues are ad
-00015c30: 6472 6573 7365 6420 6279 2074 6869 7320  dressed by this 
-00015c40: 636f 6d6d 6974 3a0a 2020 2a20 416c 6c20  commit:.  * All 
-00015c50: 4150 4920 6973 206d 6f72 6520 6f72 206c  API is more or l
-00015c60: 6573 7320 636f 6d6d 656e 7465 6420 2869  ess commented (i
-00015c70: 6e63 6c75 6469 6e67 2072 6574 7572 6e20  ncluding return 
-00015c80: 7479 7065 732c 2065 7863 6570 7469 6f6e  types, exception
-00015c90: 732c 202e 2e29 0a20 202a 2043 6f6e 7665  s, ..).  * Conve
-00015ca0: 7274 6564 2073 7461 7465 2074 6f20 7573  rted state to us
-00015cb0: 650a 2020 2a20 4164 6465 6420 7072 6f70  e.  * Added prop
-00015cc0: 6572 7469 6573 2069 735f 6f6e 2c20 6973  erties is_on, is
-00015cd0: 5f6f 6666 2066 6f72 2074 686f 7365 2077  _off for those w
-00015ce0: 686f 2064 6f6e 2774 2077 616e 7420 746f  ho don't want to
-00015cf0: 2063 6865 636b 2061 6761 696e 7374 2073   check against s
-00015d00: 7472 696e 6773 2e0a 2020 2a20 4861 6e64  trings..  * Hand
-00015d10: 6c65 6420 6d6f 7374 2069 7373 7565 7320  led most issues 
-00015d20: 7265 706f 7274 6564 2062 7920 7079 6c69  reported by pyli
-00015d30: 6e74 2e0a 2020 2a20 4164 6a75 7374 6564  nt..  * Adjusted
-00015d40: 205f 7175 6572 795f 6865 6c70 6572 2829   _query_helper()
-00015d50: 2074 6f20 7374 7269 7020 6f66 6620 6572   to strip off er
-00015d60: 725f 636f 6465 2066 726f 6d20 7468 6520  r_code from the 
-00015d70: 7265 7375 6c74 206f 626a 6563 742e 0a20  result object.. 
-00015d80: 202a 2046 6978 6564 2062 726f 6b65 6e20   * Fixed broken 
-00015d90: 666f 726d 6174 2829 2073 796e 7461 7820  format() syntax 
-00015da0: 666f 7220 7374 7269 6e67 2066 6f72 6d61  for string forma
-00015db0: 7474 696e 6773 2e0a 0a20 202a 2046 6978  ttings...  * Fix
-00015dc0: 2063 6920 776f 6573 2070 6c75 7320 6f6e   ci woes plus on
-00015dd0: 6520 7479 706f 2e0a 0a20 202a 2044 6f20  e typo...  * Do 
-00015de0: 696e 6974 6961 6c69 7a61 7469 6f6e 2061  initialization a
-00015df0: 6674 6572 2063 6861 6e67 696e 6720 6465  fter changing de
-00015e00: 7669 6365 2070 726f 7065 7274 6965 732c  vice properties,
-00015e10: 2066 6978 206e 6974 732e 0a0a 2d20 436f   fix nits...- Co
-00015e20: 6e73 7461 6e74 7320 7769 6c6c 2062 6520  nstants will be 
-00015e30: 7374 6174 6963 206d 656d 6265 7273 206f  static members o
-00015e40: 6620 536d 6172 7450 6c75 672e 205b 4d61  f SmartPlug. [Ma
-00015e50: 7274 696e 2057 6569 6e65 6c74 5d0a 0a2d  rtin Weinelt]..-
-00015e60: 2053 6574 2075 7020 686f 756e 642d 6369   Set up hound-ci
-00015e70: 2e20 5b4d 6172 7469 6e20 5765 696e 656c  . [Martin Weinel
-00015e80: 745d 0a0a 2d20 4e6f 726d 616c 697a 6520  t]..- Normalize 
-00015e90: 646f 6373 7472 696e 6773 2c20 6164 6472  docstrings, addr
-00015ea0: 6573 7320 666c 616b 6538 2026 2070 796c  ess flake8 & pyl
-00015eb0: 696e 7420 7265 636f 6d6d 656e 6461 7469  int recommendati
-00015ec0: 6f6e 732e 205b 4d61 7274 696e 0a20 2057  ons. [Martin.  W
-00015ed0: 6569 6e65 6c74 5d0a 0a2d 2050 726f 7065  einelt]..- Prope
-00015ee0: 726c 7920 6465 7465 6374 2061 6476 6572  rly detect adver
-00015ef0: 7469 7365 6420 6665 6174 7572 6573 2c20  tised features, 
-00015f00: 6578 706f 7365 2061 6c69 6173 2e20 5b4d  expose alias. [M
-00015f10: 6172 7469 6e20 5765 696e 656c 745d 0a0a  artin Weinelt]..
-00015f20: 2d20 4578 7465 726e 616c 697a 6520 7468  - Externalize th
-00015f30: 6520 5450 2d4c 696e 6b20 536d 6172 7420  e TP-Link Smart 
-00015f40: 486f 6d65 2050 726f 746f 636f 6c2e 205b  Home Protocol. [
-00015f50: 4d61 7274 696e 2057 6569 6e65 6c74 5d0a  Martin Weinelt].
-00015f60: 0a2d 2048 5332 3030 2073 7570 706f 7274  .- HS200 support
-00015f70: 2e20 5b47 6164 6765 7452 6561 6374 6f72  . [GadgetReactor
-00015f80: 5d0a 0a20 2055 7064 6174 6520 7665 7273  ]..  Update vers
-00015f90: 696f 6e20 746f 2072 6566 6c65 6374 206c  ion to reflect l
-00015fa0: 6174 6573 7420 6368 616e 6765 730a 0a2d  atest changes..-
-00015fb0: 2041 6464 696e 6720 696e 2073 7570 706f   Adding in suppo
-00015fc0: 7274 2066 6f72 2074 6865 2048 5332 3030  rt for the HS200
-00015fd0: 2057 616c 6c20 7377 6974 6368 2072 6566   Wall switch ref
-00015fe0: 6572 656e 6369 6e67 2069 7373 7565 7320  erencing issues 
-00015ff0: 2823 3429 2c0a 2020 7369 6d70 6c69 6679  (#4),.  simplify
-00016000: 696e 6720 6d6f 6465 6c20 6465 7465 726d  ing model determ
-00016010: 696e 6174 696f 6e2e 205b 5374 6570 6865  ination. [Stephe
-00016020: 6e20 4d61 6767 6172 645d 0a0a 2d20 4164  n Maggard]..- Ad
-00016030: 6469 6e67 2069 6e20 7375 7070 6f72 7420  ding in support 
-00016040: 666f 7220 7468 6520 4853 3230 3020 5761  for the HS200 Wa
-00016050: 6c6c 2073 7769 7463 6820 7265 6665 7265  ll switch refere
-00016060: 6e63 696e 6720 6973 7375 6573 2028 2334  ncing issues (#4
-00016070: 292c 0a20 2073 696d 706c 6966 7969 6e67  ),.  simplifying
-00016080: 206d 6f64 656c 2064 6574 6572 6d69 6e61   model determina
-00016090: 7469 6f6e 2e20 5b53 7465 7068 656e 204d  tion. [Stephen M
-000160a0: 6167 6761 7264 5d0a 0a2d 2041 6464 696e  aggard]..- Addin
-000160b0: 6720 696e 2073 7570 706f 7274 2066 6f72  g in support for
-000160c0: 2074 6865 2048 5332 3030 2057 616c 6c20   the HS200 Wall 
-000160d0: 7377 6974 6368 2072 6566 6572 656e 6369  switch referenci
-000160e0: 6e67 2069 7373 7565 7320 2823 3429 0a20  ng issues (#4). 
-000160f0: 205b 5374 6570 6865 6e20 4d61 6767 6172   [Stephen Maggar
-00016100: 645d 0a0a 2d20 5265 6661 6374 6f72 7320  d]..- Refactors 
-00016110: 7374 6174 6520 7072 6f70 6572 7479 2074  state property t
-00016120: 6f20 7573 6520 6765 745f 696e 666f 2829  o use get_info()
-00016130: 2061 6e64 2072 656d 6f76 6573 2068 7331   and removes hs1
-00016140: 3030 5f73 7461 7475 7328 290a 2020 5b47  00_status().  [G
-00016150: 656f 7267 6920 4b69 7269 6368 6b6f 765d  eorgi Kirichkov]
-00016160: 0a0a 2d20 4164 6473 206d 6f64 656c 2063  ..- Adds model c
-00016170: 6865 636b 2074 6f20 6375 7272 656e 745f  heck to current_
-00016180: 636f 6e73 756d 7074 696f 6e28 2920 616e  consumption() an
-00016190: 6420 7265 6d6f 7665 7320 7768 6974 6573  d removes whites
-000161a0: 7061 6365 2e0a 2020 5b47 656f 7267 6920  pace..  [Georgi 
-000161b0: 4b69 7269 6368 6b6f 765d 0a0a 2d20 4669  Kirichkov]..- Fi
-000161c0: 7865 7320 696e 6465 6e74 6174 696f 6e20  xes indentation 
-000161d0: 616e 6420 7265 6d6f 7665 7320 6578 7472  and removes extr
-000161e0: 6120 7768 6974 6573 7061 6365 732e 205b  a whitespaces. [
-000161f0: 4765 6f72 6769 204b 6972 6963 686b 6f76  Georgi Kirichkov
-00016200: 5d0a 0a2d 2055 7064 6174 6520 7365 7475  ]..- Update setu
-00016210: 702e 7079 2e20 5b47 6164 6765 7452 6561  p.py. [GadgetRea
-00016220: 6374 6f72 5d0a 0a2d 2055 7064 6174 6520  ctor]..- Update 
-00016230: 4c49 4345 4e53 452e 205b 4761 6467 6574  LICENSE. [Gadget
-00016240: 5265 6163 746f 725d 0a0a 2020 5570 6461  Reactor]..  Upda
-00016250: 7465 6420 746f 2047 504c 7633 2028 696e  ted to GPLv3 (in
-00016260: 7374 6561 6420 6f66 206a 7573 7420 636f  stead of just co
-00016270: 7079 2061 6e64 2070 6173 7469 6e67 290a  py and pasting).
-00016280: 0a30 2e32 2e30 2028 3230 3136 2d31 302d  .0.2.0 (2016-10-
-00016290: 3137 290a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  17).------------
-000162a0: 2d2d 2d2d 2d2d 0a0a 2d20 4275 6d70 7320  ------..- Bumps 
-000162b0: 7468 6520 6d6f 6475 6c65 2076 6572 7369  the module versi
-000162c0: 6f6e 2074 6f20 302e 322e 302e 205b 4765  on to 0.2.0. [Ge
-000162d0: 6f72 6769 204b 6972 6963 686b 6f76 5d0a  orgi Kirichkov].
-000162e0: 0a2d 2041 6464 7320 6164 6469 7469 6f6e  .- Adds addition
-000162f0: 616c 2063 6f6d 6d65 6e74 732c 2066 6f72  al comments, for
-00016300: 2062 6574 7465 7220 636f 6d70 6c69 616e   better complian
-00016310: 6365 2077 6974 6820 7468 6520 4170 6163  ce with the Apac
-00016320: 6865 0a20 206c 6963 656e 7365 2e20 5b47  he.  license. [G
-00016330: 656f 7267 6920 4b69 7269 6368 6b6f 765d  eorgi Kirichkov]
-00016340: 0a0a 2d20 4d61 6b65 7320 7468 6520 736f  ..- Makes the so
-00016350: 636b 6574 2073 656e 6469 6e67 2063 6f64  cket sending cod
-00016360: 6520 636f 6d70 6174 6962 6c65 2077 6974  e compatible wit
-00016370: 6820 626f 7468 2050 7974 686f 6e20 3220  h both Python 2 
-00016380: 616e 6420 7079 7468 6f6e 0a20 2033 2e20  and python.  3. 
-00016390: 5b47 656f 7267 6920 4b69 7269 6368 6b6f  [Georgi Kirichko
-000163a0: 765d 0a0a 2020 4164 6473 2061 2073 6875  v]..  Adds a shu
-000163b0: 7464 6f77 6e20 746f 2074 6865 2073 6f63  tdown to the soc
-000163c0: 6b65 7420 7573 6564 2074 6f20 7365 6e64  ket used to send
-000163d0: 2063 6f6d 6d61 6e64 730a 0a2d 2052 6566   commands..- Ref
-000163e0: 6163 746f 7273 2073 7461 7465 2829 2074  actors state() t
-000163f0: 6f20 7573 6520 7475 726e 5f6f 6e28 2920  o use turn_on() 
-00016400: 616e 6420 7475 726e 5f6f 6666 2829 205b  and turn_off() [
-00016410: 4765 6f72 6769 204b 6972 6963 686b 6f76  Georgi Kirichkov
-00016420: 5d0a 0a2d 2041 6464 7320 456e 6572 6779  ]..- Adds Energy
-00016430: 204d 6574 6572 2063 6f6d 6d61 6e64 7320   Meter commands 
-00016440: 6176 6169 6c61 626c 6520 6f6e 2074 6865  available on the
-00016450: 2054 502d 4c69 6e6b 2048 5331 3130 2e20   TP-Link HS110. 
-00016460: 5b47 656f 7267 690a 2020 4b69 7269 6368  [Georgi.  Kirich
-00016470: 6b6f 765d 0a0a 2020 416c 736f 2061 6464  kov]..  Also add
-00016480: 7320 7475 726e 5f6f 6e28 2920 616e 6420  s turn_on() and 
-00016490: 7475 726e 5f6f 6666 2829 2063 6f6d 6d61  turn_off() comma
-000164a0: 6e64 7320 746f 2073 7570 706c 656d 656e  nds to supplemen
-000164b0: 7420 7468 6520 7374 6174 650a 0a2d 2055  t the state..- U
-000164c0: 7064 6174 6520 7079 4853 3130 302e 7079  pdate pyHS100.py
-000164d0: 2e20 5b47 6164 6765 7452 6561 6374 6f72  . [GadgetReactor
-000164e0: 5d0a 0a2d 2055 7064 6174 6520 5f5f 696e  ]..- Update __in
-000164f0: 6974 5f5f 2e70 792e 205b 4761 6467 6574  it__.py. [Gadget
-00016500: 5265 6163 746f 725d 0a0a 2d20 5570 6461  Reactor]..- Upda
-00016510: 7465 205f 5f69 6e69 745f 5f2e 7079 2e20  te __init__.py. 
-00016520: 5b47 6164 6765 7452 6561 6374 6f72 5d0a  [GadgetReactor].
-00016530: 0a30 2e31 2e32 2028 3230 3136 2d30 372d  .0.1.2 (2016-07-
-00016540: 3039 290a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  09).------------
-00016550: 2d2d 2d2d 2d2d 0a0a 2d20 302e 312e 322e  ------..- 0.1.2.
-00016560: 205b 4761 6467 6574 5265 6163 746f 725d   [GadgetReactor]
-00016570: 0a0a 2d20 5570 6461 7465 2073 6574 7570  ..- Update setup
-00016580: 2e70 792e 205b 4761 6467 6574 5265 6163  .py. [GadgetReac
-00016590: 746f 725d 0a0a 2d20 5570 6461 7465 2073  tor]..- Update s
-000165a0: 6574 7570 2e70 792e 205b 4761 6467 6574  etup.py. [Gadget
-000165b0: 5265 6163 746f 725d 0a0a 2d20 4465 6c65  Reactor]..- Dele
-000165c0: 7465 2070 7948 5331 3030 2e70 792e 205b  te pyHS100.py. [
-000165d0: 4761 6467 6574 5265 6163 746f 725d 0a0a  GadgetReactor]..
-000165e0: 2d20 4372 6561 7465 2070 7948 5331 3030  - Create pyHS100
-000165f0: 2e70 792e 205b 4761 6467 6574 5265 6163  .py. [GadgetReac
-00016600: 746f 725d 0a0a 2d20 4372 6561 7465 205f  tor]..- Create _
-00016610: 5f69 6e69 745f 5f2e 7079 2e20 5b47 6164  _init__.py. [Gad
-00016620: 6765 7452 6561 6374 6f72 5d0a 0a2d 2043  getReactor]..- C
-00016630: 7265 6174 6520 7365 7475 702e 7079 2e20  reate setup.py. 
-00016640: 5b47 6164 6765 7452 6561 6374 6f72 5d0a  [GadgetReactor].
-00016650: 0a2d 2043 7265 6174 6520 7079 4853 3130  .- Create pyHS10
-00016660: 302e 7079 2e20 5b47 6164 6765 7452 6561  0.py. [GadgetRea
-00016670: 6374 6f72 5d0a 0a2d 2049 6e69 7469 616c  ctor]..- Initial
-00016680: 2063 6f6d 6d69 742e 205b 4761 6467 6574   commit. [Gadget
-00016690: 5265 6163 746f 725d 0a0a 0a5c 2a20 2a54  Reactor]...\* *T
-000166a0: 6869 7320 4368 616e 6765 6c6f 6720 7761  his Changelog wa
-000166b0: 7320 6175 746f 6d61 7469 6361 6c6c 7920  s automatically 
-000166c0: 6765 6e65 7261 7465 6420 6279 205b 6769  generated by [gi
-000166d0: 7468 7562 5f63 6861 6e67 656c 6f67 5f67  thub_changelog_g
-000166e0: 656e 6572 6174 6f72 5d28 6874 7470 733a  enerator](https:
-000166f0: 2f2f 6769 7468 7562 2e63 6f6d 2f67 6974  //github.com/git
-00016700: 6875 622d 6368 616e 6765 6c6f 672d 6765  hub-changelog-ge
-00016710: 6e65 7261 746f 722f 6769 7468 7562 2d63  nerator/github-c
-00016720: 6861 6e67 656c 6f67 2d67 656e 6572 6174  hangelog-generat
-00016730: 6f72 292a 0a                             or)*.
+0000bd20: 6b61 7361 2f70 756c 6c2f 3437 3529 2028  kasa/pull/475) (
+0000bd30: 4072 7974 696c 6168 7469 290a 2d20 4164  @rytilahti).- Ad
+0000bd40: 6420 6265 6e63 686d 6172 6b73 2066 6f72  d benchmarks for
+0000bd50: 2073 7065 6564 7570 7320 5b5c 2334 3733   speedups [\#473
+0000bd60: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000bd70: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+0000bd80: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+0000bd90: 6c2f 3437 3329 2028 4062 6472 6163 6f29  l/473) (@bdraco)
+0000bda0: 0a2d 2041 6464 2066 6978 7475 7265 2066  .- Add fixture f
+0000bdb0: 6f72 204b 5034 3035 2053 6d61 7274 2044  or KP405 Smart D
+0000bdc0: 696d 6d65 7220 506c 7567 205b 5c23 3437  immer Plug [\#47
+0000bdd0: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
+0000bde0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+0000bdf0: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+0000be00: 6c6c 2f34 3730 2920 2840 7869 6e75 6431  ll/470) (@xinud1
+0000be10: 3930 290a 2d20 5265 6d6f 7665 2069 6d70  90).- Remove imp
+0000be20: 6f72 746c 6962 2d6d 6574 6164 6174 6120  ortlib-metadata 
+0000be30: 6465 7065 6e64 656e 6379 205b 5c23 3435  dependency [\#45
+0000be40: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+0000be50: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+0000be60: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+0000be70: 6c6c 2f34 3537 2920 2840 7279 7469 6c61  ll/457) (@rytila
+0000be80: 6874 6929 0a2d 2055 7064 6174 6520 6465  hti).- Update de
+0000be90: 7065 6e64 656e 6369 6573 2074 6f20 6669  pendencies to fi
+0000bea0: 7820 4349 205b 5c23 3435 345d 2868 7474  x CI [\#454](htt
+0000beb0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000bec0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+0000bed0: 6f6e 2d6b 6173 612f 7075 6c6c 2f34 3534  on-kasa/pull/454
+0000bee0: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
+0000bef0: 2043 6c65 616e 7570 2066 6978 7475 7265   Cleanup fixture
+0000bf00: 2066 696c 656e 616d 6573 205b 5c23 3434   filenames [\#44
+0000bf10: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
+0000bf20: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+0000bf30: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+0000bf40: 6c6c 2f34 3438 2920 2840 7279 7469 6c61  ll/448) (@rytila
+0000bf50: 6874 6929 0a0a 2323 205b 302e 352e 315d  hti)..## [0.5.1]
+0000bf60: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000bf70: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+0000bf80: 7079 7468 6f6e 2d6b 6173 612f 7472 6565  python-kasa/tree
+0000bf90: 2f30 2e35 2e31 2920 2832 3032 332d 3032  /0.5.1) (2023-02
+0000bfa0: 2d31 3829 0a0a 5b46 756c 6c20 4368 616e  -18)..[Full Chan
+0000bfb0: 6765 6c6f 675d 2868 7474 7073 3a2f 2f67  gelog](https://g
+0000bfc0: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+0000bfd0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+0000bfe0: 612f 636f 6d70 6172 652f 302e 352e 302e  a/compare/0.5.0.
+0000bff0: 2e2e 302e 352e 3129 0a0a 5468 6973 206d  ..0.5.1)..This m
+0000c000: 696e 6f72 2072 656c 6561 7365 2063 6f6e  inor release con
+0000c010: 7461 696e 7320 6d6f 7374 6c79 2073 6d61  tains mostly sma
+0000c020: 6c6c 2055 5820 6669 6e65 2d74 756e 696e  ll UX fine-tunin
+0000c030: 6720 616e 6420 646f 6375 6d65 6e74 6174  g and documentat
+0000c040: 696f 6e20 696d 7072 6f76 656d 656e 7473  ion improvements
+0000c050: 2061 6c6f 6e67 7369 6465 2077 6974 6820   alongside with 
+0000c060: 6275 6720 6669 7865 733a 0d0a 2a20 496d  bug fixes:..* Im
+0000c070: 7072 6f76 6564 2063 6f6e 736f 6c65 2074  proved console t
+0000c080: 6f6f 6c20 284a 534f 4e20 6f75 7470 7574  ool (JSON output
+0000c090: 2c20 636f 6c6f 7269 7a65 6420 6f75 7470  , colorized outp
+0000c0a0: 7574 2069 6620 7269 6368 2069 7320 696e  ut if rich is in
+0000c0b0: 7374 616c 6c65 6429 0d0a 2a20 5072 6574  stalled)..* Pret
+0000c0c0: 7479 2c20 636f 6c6f 7269 7a65 6420 636f  ty, colorized co
+0000c0d0: 6e73 6f6c 6520 6f75 7470 7574 2c20 6966  nsole output, if
+0000c0e0: 2060 7269 6368 6020 6973 2069 6e73 7461   `rich` is insta
+0000c0f0: 6c6c 6564 0d0a 2a20 5375 7070 6f72 7420  lled..* Support 
+0000c100: 666f 7220 636f 6e66 6967 7572 696e 6720  for configuring 
+0000c110: 6275 6c62 2070 7265 7365 7473 0d0a 2a20  bulb presets..* 
+0000c120: 5573 6167 6520 6461 7461 2069 7320 6e6f  Usage data is no
+0000c130: 7720 7265 706f 7274 6564 2069 6e20 7468  w reported in th
+0000c140: 6520 6578 7065 6374 6564 2066 6f72 6d61  e expected forma
+0000c150: 740d 0a2a 2044 6570 656e 6465 6e63 7920  t..* Dependency 
+0000c160: 7069 6e6e 696e 6720 6973 2072 656c 6178  pinning is relax
+0000c170: 6564 2074 6f20 6769 7665 2064 6f77 6e73  ed to give downs
+0000c180: 7472 6561 6d73 206d 6f72 6520 636f 6e74  treams more cont
+0000c190: 726f 6c0a 0a2a 2a42 7265 616b 696e 6720  rol..**Breaking 
+0000c1a0: 6368 616e 6765 733a 2a2a 0a0a 2d20 496d  changes:**..- Im
+0000c1b0: 706c 656d 656e 7420 6368 616e 6769 6e67  plement changing
+0000c1c0: 2074 6865 2062 756c 6220 7475 726e 2d6f   the bulb turn-o
+0000c1d0: 6e20 6265 6861 7669 6f72 205b 5c23 3338  n behavior [\#38
+0000c1e0: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
+0000c1f0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+0000c200: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+0000c210: 6c6c 2f33 3831 2920 2840 7279 7469 6c61  ll/381) (@rytila
+0000c220: 6874 6929 0a0a 2a2a 496d 706c 656d 656e  hti)..**Implemen
+0000c230: 7465 6420 656e 6861 6e63 656d 656e 7473  ted enhancements
+0000c240: 3a2a 2a0a 0a2d 2050 7265 7474 792d 7072  :**..- Pretty-pr
+0000c250: 696e 7420 616c 6c20 6578 6365 7074 696f  int all exceptio
+0000c260: 6e73 2066 726f 6d20 636c 6920 636f 6d6d  ns from cli comm
+0000c270: 616e 6473 205b 5c23 3432 385d 2868 7474  ands [\#428](htt
+0000c280: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000c290: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+0000c2a0: 6f6e 2d6b 6173 612f 7075 6c6c 2f34 3238  on-kasa/pull/428
+0000c2b0: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
+0000c2c0: 2041 6464 2074 7261 6e73 6974 696f 6e20   Add transition 
+0000c2d0: 7061 7261 6d65 7465 7220 746f 206c 6967  parameter to lig
+0000c2e0: 6874 7374 7269 7027 7320 7365 745c 5f65  htstrip's set\_e
+0000c2f0: 6666 6563 7420 5b5c 2334 3136 5d28 6874  ffect [\#416](ht
+0000c300: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000c310: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+0000c320: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3431  hon-kasa/pull/41
+0000c330: 3629 2028 4072 7974 696c 6168 7469 290a  6) (@rytilahti).
+0000c340: 2d20 4164 6420 6272 6967 6874 6e65 7373  - Add brightness
+0000c350: 2074 6f20 6c69 6768 7473 7472 6970 2773   to lightstrip's
+0000c360: 2073 6574 5c5f 6566 6665 6374 205b 5c23   set\_effect [\#
+0000c370: 3431 355d 2868 7474 7073 3a2f 2f67 6974  415](https://git
+0000c380: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+0000c390: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+0000c3a0: 7075 6c6c 2f34 3135 2920 2840 7279 7469  pull/415) (@ryti
+0000c3b0: 6c61 6874 6929 0a2d 2055 7365 2072 6963  lahti).- Use ric
+0000c3c0: 6820 666f 7220 7072 6574 7469 6572 206f  h for prettier o
+0000c3d0: 7574 7075 742c 2069 6620 6176 6169 6c61  utput, if availa
+0000c3e0: 626c 6520 5b5c 2334 3033 5d28 6874 7470  ble [\#403](http
+0000c3f0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+0000c400: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+0000c410: 6e2d 6b61 7361 2f70 756c 6c2f 3430 3329  n-kasa/pull/403)
+0000c420: 2028 4072 7974 696c 6168 7469 290a 2d20   (@rytilahti).- 
+0000c430: 4164 6469 6e67 2063 6c69 2063 6f6d 6d61  Adding cli comma
+0000c440: 6e64 2074 6f20 6465 6c65 7465 2061 2073  nd to delete a s
+0000c450: 6368 6564 756c 6520 7275 6c65 205b 5c23  chedule rule [\#
+0000c460: 3339 315d 2868 7474 7073 3a2f 2f67 6974  391](https://git
+0000c470: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+0000c480: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+0000c490: 7075 6c6c 2f33 3931 2920 2840 6172 6963  pull/391) (@aric
+0000c4a0: 666f 7272 6573 7429 0a2d 2041 6464 2073  forrest).- Add s
+0000c4b0: 7570 706f 7274 2066 6f72 2062 756c 6220  upport for bulb 
+0000c4c0: 7072 6573 6574 7320 5b5c 2333 3739 5d28  presets [\#379](
+0000c4d0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0000c4e0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+0000c4f0: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+0000c500: 3337 3929 2028 4072 7974 696c 6168 7469  379) (@rytilahti
+0000c510: 290a 2d20 4164 6420 7375 7070 6f72 7420  ).- Add support 
+0000c520: 666f 7220 6a73 6f6e 206f 7574 7075 7420  for json output 
+0000c530: 5b5c 2334 3330 5d28 6874 7470 733a 2f2f  [\#430](https://
+0000c540: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+0000c550: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+0000c560: 7361 2f70 756c 6c2f 3433 3029 2028 4072  sa/pull/430) (@r
+0000c570: 7974 696c 6168 7469 290a 0a2a 2a46 6978  ytilahti)..**Fix
+0000c580: 6564 2062 7567 733a 2a2a 0a0a 2d20 636c  ed bugs:**..- cl
+0000c590: 692e 7079 2075 7361 6765 2079 6561 7220  i.py usage year 
+0000c5a0: 616e 6420 6d6f 6e74 6820 6f70 7469 6f6e  and month option
+0000c5b0: 7320 646f 206e 6f74 206f 7574 7075 7420  s do not output 
+0000c5c0: 6461 7461 2061 7320 6578 7065 6374 6564  data as expected
+0000c5d0: 205b 5c23 3337 335d 2868 7474 7073 3a2f   [\#373](https:/
+0000c5e0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+0000c5f0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+0000c600: 6173 612f 6973 7375 6573 2f33 3733 290a  asa/issues/373).
+0000c610: 2d20 636c 692e 7079 2075 7361 6765 202d  - cli.py usage -
+0000c620: 2d79 6561 7220 636f 6d6d 616e 6420 7061  -year command pa
+0000c630: 7373 6573 2079 6561 7220 6172 6775 6d65  sses year argume
+0000c640: 6e74 2069 6e63 6f72 7265 6374 6c79 205b  nt incorrectly [
+0000c650: 5c23 3337 315d 2868 7474 7073 3a2f 2f67  \#371](https://g
+0000c660: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+0000c670: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+0000c680: 612f 6973 7375 6573 2f33 3731 290a 2d20  a/issues/371).- 
+0000c690: 4b50 3330 3320 7265 706f 7274 696e 6720  KP303 reporting 
+0000c6a0: 6173 2064 6576 6963 6520 6f66 6620 5b5c  as device off [\
+0000c6b0: 2333 3139 5d28 6874 7470 733a 2f2f 6769  #319](https://gi
+0000c6c0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+0000c6d0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+0000c6e0: 2f69 7373 7565 732f 3331 3929 0a2d 2048  /issues/319).- H
+0000c6f0: 5332 3130 206e 6f74 2075 7064 6174 696e  S210 not updatin
+0000c700: 6720 7468 6520 7374 6174 6520 636f 7272  g the state corr
+0000c710: 6563 746c 7920 5b5c 2331 3933 5d28 6874  ectly [\#193](ht
+0000c720: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000c730: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+0000c740: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
+0000c750: 3139 3329 0a2d 2046 6978 2079 6561 7220  193).- Fix year 
+0000c760: 656d 6574 6572 2066 6f72 2063 6c69 2062  emeter for cli b
+0000c770: 7920 7573 696e 6720 6b77 6172 6720 666f  y using kwarg fo
+0000c780: 7220 7965 6172 2070 6172 616d 6574 6572  r year parameter
+0000c790: 205b 5c23 3337 325d 2868 7474 7073 3a2f   [\#372](https:/
+0000c7a0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+0000c7b0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+0000c7c0: 6173 612f 7075 6c6c 2f33 3732 2920 2840  asa/pull/372) (@
+0000c7d0: 7279 7469 6c61 6874 6929 0a2d 2052 6574  rytilahti).- Ret
+0000c7e0: 7572 6e20 7573 6167 652e 6765 745c 5f7b  urn usage.get\_{
+0000c7f0: 6d6f 6e74 6873 7461 742c 6461 7973 7461  monthstat,daysta
+0000c800: 747d 2069 6e20 6578 7065 6374 6564 2066  t} in expected f
+0000c810: 6f72 6d61 7420 205b 5c23 3339 345d 2868  ormat  [\#394](h
+0000c820: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000c830: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+0000c840: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f33  thon-kasa/pull/3
+0000c850: 3934 2920 2840 6a75 6c65 7334 3329 0a0a  94) (@jules43)..
+0000c860: 2a2a 446f 6375 6d65 6e74 6174 696f 6e20  **Documentation 
+0000c870: 7570 6461 7465 733a 2a2a 0a0a 2d20 5570  updates:**..- Up
+0000c880: 6461 7465 206d 6973 6c65 6164 696e 6720  date misleading 
+0000c890: 646f 6373 2061 626f 7574 2073 7570 706f  docs about suppo
+0000c8a0: 7274 6564 2064 6576 6963 6573 205c 2877  rted devices \(w
+0000c8b0: 6173 3a20 6164 6420 7375 7070 6f72 7420  as: add support 
+0000c8c0: 666f 7220 4550 3235 2070 6c75 675c 2920  for EP25 plug\) 
+0000c8d0: 5b5c 2333 3637 5d28 6874 7470 733a 2f2f  [\#367](https://
+0000c8e0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+0000c8f0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+0000c900: 7361 2f69 7373 7565 732f 3336 3729 0a2d  sa/issues/367).-
+0000c910: 204d 696e 6f72 2066 6978 6573 2074 6f20   Minor fixes to 
+0000c920: 736d 6172 7462 756c 6220 646f 6373 205b  smartbulb docs [
+0000c930: 5c23 3433 315d 2868 7474 7073 3a2f 2f67  \#431](https://g
+0000c940: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+0000c950: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+0000c960: 612f 7075 6c6c 2f34 3331 2920 2840 7279  a/pull/431) (@ry
+0000c970: 7469 6c61 6874 6929 0a2d 2041 6464 2061  tilahti).- Add a
+0000c980: 206e 6f74 6520 7468 6174 2074 7261 6e73   note that trans
+0000c990: 6974 696f 6e20 6973 206e 6f74 2073 7570  ition is not sup
+0000c9a0: 706f 7274 6564 2062 7920 616c 6c20 6465  ported by all de
+0000c9b0: 7669 6365 7320 5b5c 2333 3938 5d28 6874  vices [\#398](ht
+0000c9c0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000c9d0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+0000c9e0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3339  hon-kasa/pull/39
+0000c9f0: 3829 2028 4072 7974 696c 6168 7469 290a  8) (@rytilahti).
+0000ca00: 2d20 6669 7820 6d6f 7265 206f 7574 6461  - fix more outda
+0000ca10: 7465 6420 434c 4920 6578 616d 706c 6573  ted CLI examples
+0000ca20: 2c20 7265 6d6f 7665 2045 5034 3020 6672  , remove EP40 fr
+0000ca30: 6f6d 2062 756c 6220 6c69 7374 205b 5c23  om bulb list [\#
+0000ca40: 3338 335d 2868 7474 7073 3a2f 2f67 6974  383](https://git
+0000ca50: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+0000ca60: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+0000ca70: 7075 6c6c 2f33 3833 2920 2840 4861 6e6b  pull/383) (@Hank
+0000ca80: 4229 0a2d 2046 6978 206f 7574 6461 7465  B).- Fix outdate
+0000ca90: 6420 736d 6172 7473 7472 6970 2063 6c69  d smartstrip cli
+0000caa0: 2065 7861 6d70 6c65 7320 5b5c 2333 3832   examples [\#382
+0000cab0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000cac0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+0000cad0: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+0000cae0: 6c2f 3338 3229 2028 4048 616e 6b42 290a  l/382) (@HankB).
+0000caf0: 2d20 4164 6420 546f 4373 2066 6f72 2064  - Add ToCs for d
+0000cb00: 6f63 2070 6167 6573 205b 5c23 3338 305d  oc pages [\#380]
+0000cb10: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000cb20: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+0000cb30: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+0000cb40: 2f33 3830 2920 2840 7279 7469 6c61 6874  /380) (@rytilaht
+0000cb50: 6929 0a2d 2043 6c61 7269 6679 2069 6e66  i).- Clarify inf
+0000cb60: 6f72 6d61 7469 6f6e 2061 626f 7574 2073  ormation about s
+0000cb70: 7570 706f 7274 6564 2064 6576 6963 6573  upported devices
+0000cb80: 205b 5c23 3337 375d 2868 7474 7073 3a2f   [\#377](https:/
+0000cb90: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+0000cba0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+0000cbb0: 6173 612f 7075 6c6c 2f33 3737 2920 2840  asa/pull/377) (@
+0000cbc0: 7279 7469 6c61 6874 6929 0a2d 2055 7064  rytilahti).- Upd
+0000cbd0: 6174 6520 5245 4144 4d45 2074 6f20 6164  ate README to ad
+0000cbe0: 6420 6d69 7373 696e 6720 6d6f 6465 6c73  d missing models
+0000cbf0: 2061 6e64 2066 6978 2061 206c 696e 6b20   and fix a link 
+0000cc00: 5b5c 2333 3531 5d28 6874 7470 733a 2f2f  [\#351](https://
+0000cc10: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+0000cc20: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+0000cc30: 7361 2f70 756c 6c2f 3335 3129 2028 4072  sa/pull/351) (@r
+0000cc40: 7974 696c 6168 7469 290a 2d20 4164 6420  ytilahti).- Add 
+0000cc50: 4b50 3132 3520 7465 7374 2066 6978 7475  KP125 test fixtu
+0000cc60: 7265 2061 6e64 2073 7570 706f 7274 206e  re and support n
+0000cc70: 6f74 652e 205b 5c23 3335 305d 2868 7474  ote. [\#350](htt
+0000cc80: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000cc90: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+0000cca0: 6f6e 2d6b 6173 612f 7075 6c6c 2f33 3530  on-kasa/pull/350
+0000ccb0: 2920 2840 6a61 6c73 6574 6829 0a0a 2a2a  ) (@jalseth)..**
+0000ccc0: 436c 6f73 6564 2069 7373 7565 733a 2a2a  Closed issues:**
+0000ccd0: 0a0a 2d20 6465 7465 6374 696e 6720 7768  ..- detecting wh
+0000cce0: 656e 2061 2073 7769 7463 6820 6368 616e  en a switch chan
+0000ccf0: 6765 7320 7374 6174 6520 5b5c 2334 3237  ges state [\#427
+0000cd00: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000cd10: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+0000cd20: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
+0000cd30: 7565 732f 3432 3729 0a2d 2064 6973 636f  ues/427).- disco
+0000cd40: 7665 7279 2066 6169 6c73 2066 6f72 2061  very fails for a
+0000cd50: 6c69 6173 6573 205b 5c23 3432 365d 2868  liases [\#426](h
+0000cd60: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000cd70: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+0000cd80: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
+0000cd90: 2f34 3236 290a 2d20 7472 6163 6562 6163  /426).- tracebac
+0000cda0: 6b20 7768 656e 206e 6f20 6465 7669 6365  k when no device
+0000cdb0: 7320 6578 6973 7420 5b5c 2334 3235 5d28  s exist [\#425](
+0000cdc0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0000cdd0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+0000cde0: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
+0000cdf0: 732f 3432 3529 0a2d 2044 6973 636f 7665  s/425).- Discove
+0000ce00: 722e 6469 7363 6f76 6572 5c28 5c29 2069  r.discover\(\) i
+0000ce10: 6e20 6120 6372 6f6e 2074 6861 7420 7275  n a cron that ru
+0000ce20: 6e73 2065 7665 7279 2031 206d 696e 205b  ns every 1 min [
+0000ce30: 5c23 3432 315d 2868 7474 7073 3a2f 2f67  \#421](https://g
+0000ce40: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+0000ce50: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+0000ce60: 612f 6973 7375 6573 2f34 3231 290a 2d20  a/issues/421).- 
+0000ce70: 6164 6420 5363 6865 6475 6c65 2072 756c  add Schedule rul
+0000ce80: 653f 205b 5c23 3431 385d 2868 7474 7073  e? [\#418](https
+0000ce90: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+0000cea0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+0000ceb0: 2d6b 6173 612f 6973 7375 6573 2f34 3138  -kasa/issues/418
+0000cec0: 290a 2d20 4361 6e6e 6f74 2066 696e 6420  ).- Cannot find 
+0000ced0: 4550 3130 2075 7369 6e67 206b 6173 6120  EP10 using kasa 
+0000cee0: 6469 7363 6f76 6572 205b 5c23 3431 375d  discover [\#417]
+0000cef0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000cf00: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+0000cf10: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
+0000cf20: 6573 2f34 3137 290a 2d20 6d6f 6475 6c65  es/417).- module
+0000cf30: 6e6f 7466 6f75 6e64 2065 7272 6f72 205b  notfound error [
+0000cf40: 5c23 3431 345d 2868 7474 7073 3a2f 2f67  \#414](https://g
+0000cf50: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+0000cf60: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+0000cf70: 612f 6973 7375 6573 2f34 3134 290a 2d20  a/issues/414).- 
+0000cf80: 4973 7375 6520 656e 6162 6c69 6e67 206d  Issue enabling m
+0000cf90: 6f74 696f 6e20 7365 6e73 6f72 2c20 4553  otion sensor, ES
+0000cfa0: 3230 4d5c 2855 535c 2920 5b5c 2334 3038  20M\(US\) [\#408
+0000cfb0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000cfc0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+0000cfd0: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
+0000cfe0: 7565 732f 3430 3829 0a2d 2048 5331 3033  ues/408).- HS103
+0000cff0: 206e 6f74 2064 6973 636f 7665 7265 6420   not discovered 
+0000d000: 6279 206b 6173 6120 434c 4920 5b5c 2334  by kasa CLI [\#4
+0000d010: 3036 5d28 6874 7470 733a 2f2f 6769 7468  06](https://gith
+0000d020: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+0000d030: 7361 2f70 7974 686f 6e2d 6b61 7361 2f69  sa/python-kasa/i
+0000d040: 7373 7565 732f 3430 3629 0a2d 204d 756c  ssues/406).- Mul
+0000d050: 7469 706c 6520 7761 726e 696e 6773 2066  tiple warnings f
+0000d060: 726f 6d20 7275 6e6e 696e 6720 7079 7465  rom running pyte
+0000d070: 7374 2064 7565 2074 6f20 6173 796e 6369  st due to asynci
+0000d080: 6f20 6973 7375 6573 205b 5c23 3339 365d  o issues [\#396]
+0000d090: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000d0a0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+0000d0b0: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
+0000d0c0: 6573 2f33 3936 290a 2d20 5472 616e 7369  es/396).- Transi
+0000d0d0: 7469 6f6e 2069 676e 6f72 6564 2077 6974  tion ignored wit
+0000d0e0: 6820 4b4c 3432 304c 3520 6c69 6768 7420  h KL420L5 light 
+0000d0f0: 7374 7269 7073 205b 5c23 3338 395d 2868  strips [\#389](h
+0000d100: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000d110: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+0000d120: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
+0000d130: 2f33 3839 290a 2d20 636c 692e 7079 2070  /389).- cli.py p
+0000d140: 6173 7365 7320 6120 6469 6374 696f 6e61  asses a dictiona
+0000d150: 7279 205c 2854 5950 455c 5f54 4f5c 5f43  ry \(TYPE\_TO\_C
+0000d160: 4c41 5353 5c29 2074 6f20 636c 6963 6b2e  LASS\) to click.
+0000d170: 4368 6f69 6365 2077 6869 6368 2074 616b  Choice which tak
+0000d180: 6573 2061 2053 6571 7565 6e63 655c 5b73  es a Sequence\[s
+0000d190: 7472 5c5d 2020 5b5c 2333 3834 5d28 6874  tr\]  [\#384](ht
+0000d1a0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000d1b0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+0000d1c0: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
+0000d1d0: 3338 3429 0a2d 2045 7272 6f72 2072 756e  384).- Error run
+0000d1e0: 6e69 6e67 2060 6b61 7361 2077 6966 6920  ning `kasa wifi 
+0000d1f0: 7363 616e 6020 5b5c 2333 3736 5d28 6874  scan` [\#376](ht
+0000d200: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000d210: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+0000d220: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
+0000d230: 3337 3629 0a2d 2055 6e61 626c 6520 746f  376).- Unable to
+0000d240: 2063 6f6e 6e65 6374 2074 6f20 6272 616e   connect to bran
+0000d250: 6420 6e65 7720 4550 3430 2076 312e 3820  d new EP40 v1.8 
+0000d260: 5b5c 2333 3636 5d28 6874 7470 733a 2f2f  [\#366](https://
+0000d270: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+0000d280: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+0000d290: 7361 2f69 7373 7565 732f 3336 3629 0a2d  sa/issues/366).-
+0000d2a0: 2041 6464 2073 7570 706f 7274 2066 6f72   Add support for
+0000d2b0: 2073 6574 7469 6e67 2064 6566 6175 6c74   setting default
+0000d2c0: 2062 6568 6176 696f 7273 2066 6f72 2061   behaviors for a
+0000d2d0: 2073 6f66 7420 6f72 2068 6172 6420 706f   soft or hard po
+0000d2e0: 7765 7220 6f6e 206f 6620 7468 6520 6275  wer on of the bu
+0000d2f0: 6c62 205b 5c23 3336 355d 2868 7474 7073  lb [\#365](https
+0000d300: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+0000d310: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+0000d320: 2d6b 6173 612f 6973 7375 6573 2f33 3635  -kasa/issues/365
+0000d330: 290a 2d20 5365 7420 6275 6c62 2068 7565  ).- Set bulb hue
+0000d340: 2075 7369 6e67 2076 6172 6961 626c 6520   using variable 
+0000d350: 5b5c 2333 3631 5d28 6874 7470 733a 2f2f  [\#361](https://
+0000d360: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+0000d370: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+0000d380: 7361 2f69 7373 7565 732f 3336 3129 0a2d  sa/issues/361).-
+0000d390: 2048 656c 7020 7769 7468 2053 6d61 7274   Help with Smart
+0000d3a0: 4c69 6768 7453 7472 6970 2073 6574 5c5f  LightStrip set\_
+0000d3b0: 6375 7374 6f6d 5c5f 6566 6665 6374 205b  custom\_effect [
+0000d3c0: 5c23 3336 305d 2868 7474 7073 3a2f 2f67  \#360](https://g
+0000d3d0: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+0000d3e0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+0000d3f0: 612f 6973 7375 6573 2f33 3630 290a 2d20  a/issues/360).- 
+0000d400: 496d 706f 7274 2022 6b61 7361 2220 636f  Import "kasa" co
+0000d410: 756c 6420 6e6f 7420 6265 2072 6573 6f6c  uld not be resol
+0000d420: 7665 6420 5b5c 2333 3537 5d28 6874 7470  ved [\#357](http
+0000d430: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+0000d440: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+0000d450: 6e2d 6b61 7361 2f69 7373 7565 732f 3335  n-kasa/issues/35
+0000d460: 3729 0a2d 2057 616c 6c20 7377 6974 6368  7).- Wall switch
+0000d470: 2045 5332 304d 205c 282d 2d74 7970 6520   ES20M \(--type 
+0000d480: 6469 6d6d 6572 5c29 2069 7320 776f 726b  dimmer\) is work
+0000d490: 696e 6720 5b5c 2333 3533 5d28 6874 7470  ing [\#353](http
+0000d4a0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+0000d4b0: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+0000d4c0: 6e2d 6b61 7361 2f69 7373 7565 732f 3335  n-kasa/issues/35
+0000d4d0: 3329 0a2d 2048 5331 3037 2072 6570 6f72  3).- HS107 repor
+0000d4e0: 7473 2060 7374 6174 6560 206e 6f74 2060  ts `state` not `
+0000d4f0: 7265 6c61 795f 7374 6174 6560 2074 6872  relay_state` thr
+0000d500: 6f77 696e 6720 6120 604b 6579 4572 726f  owing a `KeyErro
+0000d510: 7260 205b 5c23 3334 395d 2868 7474 7073  r` [\#349](https
+0000d520: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+0000d530: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+0000d540: 2d6b 6173 612f 6973 7375 6573 2f33 3439  -kasa/issues/349
+0000d550: 290a 2d20 4572 726f 7220 496e 7374 616c  ).- Error Instal
+0000d560: 6c69 6e67 204f 6e20 5769 6e64 6f77 7320  ling On Windows 
+0000d570: 3130 205b 5c23 3334 375d 2868 7474 7073  10 [\#347](https
+0000d580: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+0000d590: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+0000d5a0: 2d6b 6173 612f 6973 7375 6573 2f33 3437  -kasa/issues/347
+0000d5b0: 290a 2d20 4572 726f 7220 7573 696e 6720  ).- Error using 
+0000d5c0: 4b61 7361 205b 5c23 3334 365d 2868 7474  Kasa [\#346](htt
+0000d5d0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000d5e0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+0000d5f0: 6f6e 2d6b 6173 612f 6973 7375 6573 2f33  on-kasa/issues/3
+0000d600: 3436 290a 2d20 4b53 3232 304d 5c28 5553  46).- KS220M\(US
+0000d610: 5c29 2073 7570 706f 7274 205b 5c23 3236  \) support [\#26
+0000d620: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
+0000d630: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+0000d640: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
+0000d650: 7375 6573 2f32 3638 290a 2d20 4164 6420  sues/268).- Add 
+0000d660: 6d61 6368 696e 652d 7265 6164 6162 6c65  machine-readable
+0000d670: 206f 7574 7075 7420 5b5c 2332 3039 5d28   output [\#209](
+0000d680: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0000d690: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+0000d6a0: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
+0000d6b0: 732f 3230 3929 0a2d 2043 616e 2077 6520  s/209).- Can we 
+0000d6c0: 646f 6e61 7465 3f20 5b5c 2337 375d 2868  donate? [\#77](h
+0000d6d0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000d6e0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+0000d6f0: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
+0000d700: 2f37 3729 0a0a 2a2a 4d65 7267 6564 2070  /77)..**Merged p
+0000d710: 756c 6c20 7265 7175 6573 7473 3a2a 2a0a  ull requests:**.
+0000d720: 0a2d 2050 7265 7061 7265 2030 2e35 2e31  .- Prepare 0.5.1
+0000d730: 205b 5c23 3433 345d 2868 7474 7073 3a2f   [\#434](https:/
+0000d740: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+0000d750: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+0000d760: 6173 612f 7075 6c6c 2f34 3334 2920 2840  asa/pull/434) (@
+0000d770: 7279 7469 6c61 6874 6929 0a2d 2053 6f6d  rytilahti).- Som
+0000d780: 6520 7265 6c65 6173 6520 7072 6570 6172  e release prepar
+0000d790: 6174 696f 6e20 6a61 6e69 746f 7269 6e67  ation janitoring
+0000d7a0: 205b 5c23 3433 325d 2868 7474 7073 3a2f   [\#432](https:/
+0000d7b0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+0000d7c0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+0000d7d0: 6173 612f 7075 6c6c 2f34 3332 2920 2840  asa/pull/432) (@
+0000d7e0: 7279 7469 6c61 6874 6929 0a2d 2042 756d  rytilahti).- Bum
+0000d7f0: 7020 6365 7274 6966 6920 6672 6f6d 2032  p certifi from 2
+0000d800: 3032 312e 3130 2e38 2074 6f20 3230 3232  021.10.8 to 2022
+0000d810: 2e31 322e 3720 5b5c 2334 3039 5d28 6874  .12.7 [\#409](ht
+0000d820: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000d830: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+0000d840: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3430  hon-kasa/pull/40
+0000d850: 3929 2028 4064 6570 656e 6461 626f 745b  9) (@dependabot[
+0000d860: 626f 745d 290a 2d20 4164 6420 4655 4e44  bot]).- Add FUND
+0000d870: 494e 472e 796d 6c20 5b5c 2334 3032 5d28  ING.yml [\#402](
+0000d880: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0000d890: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+0000d8a0: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+0000d8b0: 3430 3229 2028 4072 7974 696c 6168 7469  402) (@rytilahti
+0000d8c0: 290a 2d20 5570 6461 7465 2070 7265 2d63  ).- Update pre-c
+0000d8d0: 6f6d 6d69 7420 686f 6f6b 7320 5b5c 2334  ommit hooks [\#4
+0000d8e0: 3031 5d28 6874 7470 733a 2f2f 6769 7468  01](https://gith
+0000d8f0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+0000d900: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+0000d910: 756c 6c2f 3430 3129 2028 4072 7974 696c  ull/401) (@rytil
+0000d920: 6168 7469 290a 2d20 5570 6461 7465 2070  ahti).- Update p
+0000d930: 7265 2d63 6f6d 6d69 7420 7572 6c20 666f  re-commit url fo
+0000d940: 7220 666c 616b 6538 205b 5c23 3430 305d  r flake8 [\#400]
+0000d950: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000d960: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+0000d970: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+0000d980: 2f34 3030 2920 2840 7279 7469 6c61 6874  /400) (@rytilaht
+0000d990: 6929 0a2d 2041 6464 6564 202e 6769 7461  i).- Added .gita
+0000d9a0: 7474 7269 6275 7465 7320 6669 6c65 2074  ttributes file t
+0000d9b0: 6f20 7265 7461 696e 204c 4620 6f6e 6c79  o retain LF only
+0000d9c0: 2045 4f4c 206d 6172 6b65 7273 2077 6865   EOL markers whe
+0000d9d0: 6e20 6368 6563 6b69 6e67 206f 7574 206f  n checking out o
+0000d9e0: 6e20 5769 6e64 6f77 7320 5b5c 2333 3939  n Windows [\#399
+0000d9f0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000da00: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+0000da10: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+0000da20: 6c2f 3339 3929 2028 406a 756c 6573 3433  l/399) (@jules43
+0000da30: 290a 2d20 4669 7820 7079 7465 7374 2077  ).- Fix pytest w
+0000da40: 6172 6e69 6e67 7320 6162 6f75 7420 6173  arnings about as
+0000da50: 796e 6369 6f20 5b5c 2333 3937 5d28 6874  yncio [\#397](ht
+0000da60: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000da70: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+0000da80: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3339  hon-kasa/pull/39
+0000da90: 3729 2028 406a 756c 6573 3433 290a 2d20  7) (@jules43).- 
+0000daa0: 4669 7820 7479 7065 2068 696e 7469 6e67  Fix type hinting
+0000dab0: 2069 7373 7565 2077 6974 6820 6361 6c6c   issue with call
+0000dac0: 2074 6f20 636c 6963 6b2e 4368 6f69 6365   to click.Choice
+0000dad0: 2020 5b5c 2333 3837 5d28 6874 7470 733a    [\#387](https:
+0000dae0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+0000daf0: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+0000db00: 6b61 7361 2f70 756c 6c2f 3338 3729 2028  kasa/pull/387) (
+0000db10: 406a 756c 6573 3433 290a 2d20 4d61 6e75  @jules43).- Manu
+0000db20: 616c 6c79 2070 6173 7320 7468 6520 636f  ally pass the co
+0000db30: 6465 636f 7620 746f 6b65 6e20 696e 2043  decov token in C
+0000db40: 4920 5b5c 2333 3738 5d28 6874 7470 733a  I [\#378](https:
+0000db50: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+0000db60: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+0000db70: 6b61 7361 2f70 756c 6c2f 3337 3829 2028  kasa/pull/378) (
+0000db80: 4072 7974 696c 6168 7469 290a 2d20 436f  @rytilahti).- Co
+0000db90: 7272 6563 7420 7479 706f 7320 696e 2073  rrect typos in s
+0000dba0: 6d61 7274 6465 7669 6365 2e70 7920 5b5c  martdevice.py [\
+0000dbb0: 2333 3538 5d28 6874 7470 733a 2f2f 6769  #358](https://gi
+0000dbc0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+0000dbd0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+0000dbe0: 2f70 756c 6c2f 3335 3829 2028 4066 656c  /pull/358) (@fel
+0000dbf0: 6978 6f6e 6d61 7273 290a 2d20 4164 6420  ixonmars).- Add 
+0000dc00: 6669 7874 7572 6573 2066 6f72 204b 5332  fixtures for KS2
+0000dc10: 3030 4d20 5b5c 2333 3536 5d28 6874 7470  00M [\#356](http
+0000dc20: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+0000dc30: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+0000dc40: 6e2d 6b61 7361 2f70 756c 6c2f 3335 3629  n-kasa/pull/356)
+0000dc50: 2028 4067 7269 7473 7475 6229 0a2d 2041   (@gritstub).- A
+0000dc60: 6464 2066 6978 7475 7265 7320 666f 7220  dd fixtures for 
+0000dc70: 4b53 3233 3020 5b5c 2333 3535 5d28 6874  KS230 [\#355](ht
+0000dc80: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000dc90: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+0000dca0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3335  hon-kasa/pull/35
+0000dcb0: 3529 2028 4067 7269 7473 7475 6229 0a2d  5) (@gritstub).-
+0000dcc0: 2041 6464 2066 6978 7475 7265 7320 666f   Add fixtures fo
+0000dcd0: 7220 4553 3230 4d20 5c28 5c23 3335 335c  r ES20M \(\#353\
+0000dce0: 2920 5b5c 2333 3534 5d28 6874 7470 733a  ) [\#354](https:
+0000dcf0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+0000dd00: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+0000dd10: 6b61 7361 2f70 756c 6c2f 3335 3429 2028  kasa/pull/354) (
+0000dd20: 4067 7269 7473 7475 6229 0a2d 2041 6464  @gritstub).- Add
+0000dd30: 2066 6978 7475 7265 7320 666f 7220 4b50   fixtures for KP
+0000dd40: 3130 3020 5b5c 2333 3433 5d28 6874 7470  100 [\#343](http
+0000dd50: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+0000dd60: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+0000dd70: 6e2d 6b61 7361 2f70 756c 6c2f 3334 3329  n-kasa/pull/343)
+0000dd80: 2028 4062 6472 6163 6f29 0a2d 2041 6464   (@bdraco).- Add
+0000dd90: 2063 6f64 6571 6c20 6368 6563 6b73 205b   codeql checks [
+0000dda0: 5c23 3333 385d 2868 7474 7073 3a2f 2f67  \#338](https://g
+0000ddb0: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+0000ddc0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+0000ddd0: 612f 7075 6c6c 2f33 3338 2920 2840 7279  a/pull/338) (@ry
+0000dde0: 7469 6c61 6874 6929 0a0a 2323 205b 302e  tilahti)..## [0.
+0000ddf0: 352e 305d 2868 7474 7073 3a2f 2f67 6974  5.0](https://git
+0000de00: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+0000de10: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+0000de20: 7472 6565 2f30 2e35 2e30 2920 2832 3032  tree/0.5.0) (202
+0000de30: 322d 3034 2d32 3429 0a0a 5b46 756c 6c20  2-04-24)..[Full 
+0000de40: 4368 616e 6765 6c6f 675d 2868 7474 7073  Changelog](https
+0000de50: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+0000de60: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+0000de70: 2d6b 6173 612f 636f 6d70 6172 652f 302e  -kasa/compare/0.
+0000de80: 342e 332e 2e2e 302e 352e 3029 0a0a 5468  4.3...0.5.0)..Th
+0000de90: 6973 2069 7320 7468 6520 6669 7273 7420  is is the first 
+0000dea0: 7265 6c65 6173 6520 6f66 2030 2e35 2073  release of 0.5 s
+0000deb0: 6572 6965 7320 7768 6963 6820 696e 636c  eries which incl
+0000dec0: 7564 6573 2063 6f6e 7665 7274 696e 6720  udes converting 
+0000ded0: 7468 6520 636f 6465 2062 6173 6520 746f  the code base to
+0000dee0: 7761 7264 7320 6d6f 7265 206d 6f64 756c  wards more modul
+0000def0: 6172 2061 7070 726f 6163 6820 7768 6572  ar approach wher
+0000df00: 6520 6465 7669 6365 2d65 7870 6f73 6564  e device-exposed
+0000df10: 206d 6f64 756c 6573 2028 652e 672e 2c20   modules (e.g., 
+0000df20: 656d 6574 6572 2c20 616e 7469 7468 6566  emeter, antithef
+0000df30: 742c 206f 7220 7363 6865 6475 6c65 2920  t, or schedule) 
+0000df40: 6172 6520 696d 706c 656d 656e 7465 6420  are implemented 
+0000df50: 696e 2074 6865 6972 2073 6570 6172 6174  in their separat
+0000df60: 6520 7079 7468 6f6e 206d 6f64 756c 6573  e python modules
+0000df70: 2074 6f20 6465 636f 7570 6c65 2074 6865   to decouple the
+0000df80: 6d20 6672 6f6d 2074 6865 2064 6576 6963  m from the devic
+0000df90: 652d 7370 6563 6966 6963 2063 6c61 7373  e-specific class
+0000dfa0: 6573 2e0d 0a0d 0a54 6865 7265 2073 686f  es.....There sho
+0000dfb0: 756c 6420 6265 206e 6f20 4150 4920 6272  uld be no API br
+0000dfc0: 6561 6b69 6e67 2063 6861 6e67 6573 2c20  eaking changes, 
+0000dfd0: 6275 7420 736f 6d65 2070 7265 7669 6f75  but some previou
+0000dfe0: 7320 6973 7375 6573 2068 696e 7420 7468  s issues hint th
+0000dff0: 6174 2074 6865 7265 206d 6179 2062 6520  at there may be 
+0000e000: 6173 2069 6e66 6f72 6d61 7469 6f6e 2066  as information f
+0000e010: 726f 6d20 616c 6c20 7375 7070 6f72 7465  rom all supporte
+0000e020: 6420 6d6f 6475 6c65 7320 6172 6520 6e6f  d modules are no
+0000e030: 7720 7265 7175 6573 7465 6420 6475 7269  w requested duri
+0000e040: 6e67 2065 6163 6820 7570 6461 7465 2063  ng each update c
+0000e050: 7963 6c65 2028 6465 7065 6e64 696e 6720  ycle (depending 
+0000e060: 6f6e 2074 6865 2064 6576 6963 6520 7479  on the device ty
+0000e070: 7065 293a 0d0a 2a20 4261 7369 6320 7379  pe):..* Basic sy
+0000e080: 7374 656d 2069 6e66 6f0d 0a2a 2045 6d65  stem info..* Eme
+0000e090: 7465 720d 0a2a 2054 696d 6520 2d20 7072  ter..* Time - pr
+0000e0a0: 6f70 6572 7469 6573 2028 6c69 6b65 2060  operties (like `
+0000e0b0: 6f6e 5f73 696e 6365 6029 2075 7365 206e  on_since`) use n
+0000e0c0: 6f77 2074 696d 6520 6672 6f6d 2074 6865  ow time from the
+0000e0d0: 2064 6576 6963 6520 666f 7220 6361 6c63   device for calc
+0000e0e0: 756c 6174 696f 6e20 746f 2061 766f 6964  ulation to avoid
+0000e0f0: 206a 6974 7465 7220 6361 7573 6564 2062   jitter caused b
+0000e100: 7920 6469 6666 6572 656e 7420 7469 6d65  y different time
+0000e110: 2062 6574 7765 656e 2074 6865 2068 6f73   between the hos
+0000e120: 7420 616e 6420 7468 6520 6465 7669 6365  t and the device
+0000e130: 0d0a 2a20 5573 6167 6520 7374 6174 6973  ..* Usage statis
+0000e140: 7469 6373 202d 2073 696d 696c 6172 2069  tics - similar i
+0000e150: 6e74 6572 6661 6365 2074 6f20 656d 6574  nterface to emet
+0000e160: 6572 2c20 6275 7420 7265 706f 7274 7320  er, but reports 
+0000e170: 6f6e 2d74 696d 6520 7374 6174 6973 7469  on-time statisti
+0000e180: 6373 2069 6e73 7465 6164 206f 6620 656e  cs instead of en
+0000e190: 6572 6779 2063 6f6e 7375 6d70 7469 6f6e  ergy consumption
+0000e1a0: 2028 6e65 7729 0d0a 2a20 436f 756e 7464   (new)..* Countd
+0000e1b0: 6f77 6e20 286e 6577 290d 0a2a 2041 6e74  own (new)..* Ant
+0000e1c0: 6974 6865 6674 2028 6e65 7729 0d0a 2a20  itheft (new)..* 
+0000e1d0: 5363 6865 6475 6c65 2028 6e65 7729 0d0a  Schedule (new)..
+0000e1e0: 2a20 4d6f 7469 6f6e 202d 2066 6f72 2063  * Motion - for c
+0000e1f0: 6f6e 6669 6775 7269 6e67 206d 6f74 696f  onfiguring motio
+0000e200: 6e20 7365 7474 696e 6773 206f 6e20 736f  n settings on so
+0000e210: 6d65 2064 696d 6d65 7273 2028 6e65 7729  me dimmers (new)
+0000e220: 0d0a 2a20 416d 6269 656e 746c 6967 6874  ..* Ambientlight
+0000e230: 202d 2066 6f72 2063 6f6e 6669 6775 7269   - for configuri
+0000e240: 6e67 2062 7269 6768 746e 6573 7320 6c69  ng brightness li
+0000e250: 6d69 7473 2077 6865 6e20 6d6f 7469 6f6e  mits when motion
+0000e260: 2073 656e 736f 7220 6163 7475 6174 6573   sensor actuates
+0000e270: 206f 6e20 736f 6d65 2064 696d 6d65 7273   on some dimmers
+0000e280: 2028 6e65 7729 0d0a 2a20 436c 6f75 6420   (new)..* Cloud 
+0000e290: 2d20 696e 666f 726d 6174 696f 6e20 6162  - information ab
+0000e2a0: 6f75 7420 636c 6f75 6420 636f 6e6e 6563  out cloud connec
+0000e2b0: 7469 7669 7479 2028 6e65 7729 0d0a 0d0a  tivity (new)....
+0000e2c0: 466f 7220 6465 7665 6c6f 7065 7273 2c20  For developers, 
+0000e2d0: 7468 6520 6e65 7720 6675 6e63 7469 6f6e  the new function
+0000e2e0: 616c 6974 6965 7320 6172 6520 6375 7272  alities are curr
+0000e2f0: 656e 746c 7920 6f6e 6c79 2065 7870 6f73  ently only expos
+0000e300: 6564 2074 6872 6f75 6768 2074 6865 2069  ed through the i
+0000e310: 6d70 6c65 6d65 6e74 6174 696f 6e20 6d6f  mplementation mo
+0000e320: 6475 6c65 7320 6163 6365 7373 6962 6c65  dules accessible
+0000e330: 2074 6872 6f75 6768 2060 6d6f 6475 6c65   through `module
+0000e340: 7360 2070 726f 7065 7274 792e 0d0a 5075  s` property...Pu
+0000e350: 6c6c 2072 6571 7565 7374 7320 696d 7072  ll requests impr
+0000e360: 6f76 696e 6720 7468 6520 6675 6e63 7469  oving the functi
+0000e370: 6f6e 616c 6974 7920 6f66 206d 6f64 756c  onality of modul
+0000e380: 6573 2061 7320 7765 6c6c 2061 7320 6164  es as well as ad
+0000e390: 6469 6e67 2062 6574 7465 7220 696e 7465  ding better inte
+0000e3a0: 7266 6163 6573 2074 6f20 6465 7669 6365  rfaces to device
+0000e3b0: 2063 6c61 7373 6573 2061 7265 2077 656c   classes are wel
+0000e3c0: 636f 6d65 210a 0a2a 2a42 7265 616b 696e  come!..**Breakin
+0000e3d0: 6720 6368 616e 6765 733a 2a2a 0a0a 2d20  g changes:**..- 
+0000e3e0: 4472 6f70 2064 6570 7265 6361 7465 642c  Drop deprecated,
+0000e3f0: 2074 7970 652d 7370 6563 6966 6963 206f   type-specific o
+0000e400: 7074 696f 6e73 2069 6e20 6661 766f 7220  ptions in favor 
+0000e410: 6f66 202d 2d74 7970 6520 5b5c 2333 3336  of --type [\#336
+0000e420: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000e430: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+0000e440: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+0000e450: 6c2f 3333 3629 2028 4072 7974 696c 6168  l/336) (@rytilah
+0000e460: 7469 290a 2d20 436f 6e76 6572 7420 7468  ti).- Convert th
+0000e470: 6520 636f 6465 6261 7365 2074 6f20 6265  e codebase to be
+0000e480: 206d 6f72 6520 6d6f 6475 6c61 7220 5b5c   more modular [\
+0000e490: 2332 3939 5d28 6874 7470 733a 2f2f 6769  #299](https://gi
+0000e4a0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+0000e4b0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+0000e4c0: 2f70 756c 6c2f 3239 3929 2028 4072 7974  /pull/299) (@ryt
+0000e4d0: 696c 6168 7469 290a 0a2a 2a49 6d70 6c65  ilahti)..**Imple
+0000e4e0: 6d65 6e74 6564 2065 6e68 616e 6365 6d65  mented enhanceme
+0000e4f0: 6e74 733a 2a2a 0a0a 2d20 496d 7072 6f76  nts:**..- Improv
+0000e500: 6520 4853 3232 3020 7375 7070 6f72 7420  e HS220 support 
+0000e510: 5b5c 2334 345d 2868 7474 7073 3a2f 2f67  [\#44](https://g
+0000e520: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+0000e530: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+0000e540: 612f 6973 7375 6573 2f34 3429 0a0a 2a2a  a/issues/44)..**
+0000e550: 4669 7865 6420 6275 6773 3a2a 2a0a 0a2d  Fixed bugs:**..-
+0000e560: 2053 6b69 7020 7275 6e6e 696e 6720 6469   Skip running di
+0000e570: 7363 6f76 6572 7920 6f6e 202d 2d68 656c  scovery on --hel
+0000e580: 7020 6f6e 2073 7562 636f 6d6d 616e 6473  p on subcommands
+0000e590: 205b 5c23 3132 325d 2868 7474 7073 3a2f   [\#122](https:/
+0000e5a0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+0000e5b0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+0000e5c0: 6173 612f 6973 7375 6573 2f31 3232 290a  asa/issues/122).
+0000e5d0: 2d20 4176 6f69 6420 7265 7472 7969 6e67  - Avoid retrying
+0000e5e0: 206f 7065 6e5c 5f63 6f6e 6e65 6374 696f   open\_connectio
+0000e5f0: 6e20 6f6e 2075 6e72 6563 6f76 6572 6162  n on unrecoverab
+0000e600: 6c65 2065 7272 6f72 7320 5b5c 2333 3430  le errors [\#340
+0000e610: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000e620: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+0000e630: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+0000e640: 6c2f 3334 3029 2028 4062 6472 6163 6f29  l/340) (@bdraco)
+0000e650: 0a2d 2041 766f 6964 2064 6973 636f 7665  .- Avoid discove
+0000e660: 7279 206f 6e20 2d2d 6865 6c70 205b 5c23  ry on --help [\#
+0000e670: 3333 355d 2868 7474 7073 3a2f 2f67 6974  335](https://git
+0000e680: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+0000e690: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+0000e6a0: 7075 6c6c 2f33 3335 2920 2840 7279 7469  pull/335) (@ryti
+0000e6b0: 6c61 6874 6929 0a0a 2a2a 446f 6375 6d65  lahti)..**Docume
+0000e6c0: 6e74 6174 696f 6e20 7570 6461 7465 733a  ntation updates:
+0000e6d0: 2a2a 0a0a 2d20 5472 7969 6e67 2074 6f20  **..- Trying to 
+0000e6e0: 706f 6c6c 2064 6576 6963 6520 6576 6572  poll device ever
+0000e6f0: 7920 3520 7365 636f 6e64 7320 6275 7420  y 5 seconds but 
+0000e700: 6765 7474 696e 6720 6173 796e 6369 6f20  getting asyncio 
+0000e710: 6572 726f 7273 205b 5c23 3331 365d 2868  errors [\#316](h
+0000e720: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000e730: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+0000e740: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
+0000e750: 2f33 3136 290a 2d20 446f 6373 3a20 536d  /316).- Docs: Sm
+0000e760: 6172 7420 5374 7269 7020 2d20 456d 6574  art Strip - Emet
+0000e770: 6572 2066 6561 7475 7265 2020 4e6f 7465  er feature  Note
+0000e780: 2020 5b5c 2332 3537 5d28 6874 7470 733a    [\#257](https:
+0000e790: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+0000e7a0: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+0000e7b0: 6b61 7361 2f69 7373 7565 732f 3235 3729  kasa/issues/257)
+0000e7c0: 0a2d 2044 6f63 756d 656e 7461 7469 6f6e  .- Documentation
+0000e7d0: 2061 6464 6974 696f 6e3a 2053 6d61 7274   addition: Smart
+0000e7e0: 706c 7567 2061 6363 6573 7320 746f 2069  plug access to i
+0000e7f0: 6e74 6572 6e65 7420 6e74 7020 7365 7276  nternet ntp serv
+0000e800: 6572 2070 6f6f 6c2e 205b 5c23 3132 395d  er pool. [\#129]
+0000e810: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000e820: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+0000e830: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
+0000e840: 6573 2f31 3239 290a 2d20 4578 706f 7274  es/129).- Export
+0000e850: 206d 6f64 756c 6573 2026 206d 616b 6520   modules & make 
+0000e860: 7370 6869 6e78 2068 6170 7079 205b 5c23  sphinx happy [\#
+0000e870: 3333 345d 2868 7474 7073 3a2f 2f67 6974  334](https://git
+0000e880: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+0000e890: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+0000e8a0: 7075 6c6c 2f33 3334 2920 2840 7279 7469  pull/334) (@ryti
+0000e8b0: 6c61 6874 6929 0a2d 2056 6172 696f 7573  lahti).- Various
+0000e8c0: 2064 6f63 756d 656e 7461 7469 6f6e 2075   documentation u
+0000e8d0: 7064 6174 6573 205b 5c23 3333 335d 2868  pdates [\#333](h
+0000e8e0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000e8f0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+0000e900: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f33  thon-kasa/pull/3
+0000e910: 3333 2920 2840 7279 7469 6c61 6874 6929  33) (@rytilahti)
+0000e920: 0a0a 2a2a 436c 6f73 6564 2069 7373 7565  ..**Closed issue
+0000e930: 733a 2a2a 0a0a 2d20 226f 6e20 7369 6e63  s:**..- "on sinc
+0000e940: 6522 2063 6861 6e67 6573 205b 5c23 3239  e" changes [\#29
+0000e950: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
+0000e960: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+0000e970: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
+0000e980: 7375 6573 2f32 3935 290a 2d20 486f 7720  sues/295).- How 
+0000e990: 746f 2061 6363 6573 7320 4b50 3131 3520  to access KP115 
+0000e9a0: 7275 6e74 696d 6520 6461 7461 3f20 5b5c  runtime data? [\
+0000e9b0: 2332 3434 5d28 6874 7470 733a 2f2f 6769  #244](https://gi
+0000e9c0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+0000e9d0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+0000e9e0: 2f69 7373 7565 732f 3234 3429 0a2d 2048  /issues/244).- H
+0000e9f0: 6f77 2074 6f20 7265 736f 6c76 6520 2244  ow to resolve "D
+0000ea00: 6574 6563 7465 6420 7072 6f74 6f63 6f6c  etected protocol
+0000ea10: 2072 6575 7365 2062 6574 7765 656e 2064   reuse between d
+0000ea20: 6966 6665 7265 6e74 2065 7665 6e74 206c  ifferent event l
+0000ea30: 6f6f 7022 2077 6172 6e69 6e67 3f20 5b5c  oop" warning? [\
+0000ea40: 2332 3338 5d28 6874 7470 733a 2f2f 6769  #238](https://gi
+0000ea50: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+0000ea60: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+0000ea70: 2f69 7373 7565 732f 3233 3829 0a2d 2048  /issues/238).- H
+0000ea80: 616e 646c 6520 6469 7363 6f76 6572 7920  andle discovery 
+0000ea90: 7768 6572 6520 6d75 6c74 6970 6c65 204c  where multiple L
+0000eaa0: 414e 2069 6e74 6572 6661 6365 7320 6578  AN interfaces ex
+0000eab0: 6973 7420 5b5c 2331 3034 5d28 6874 7470  ist [\#104](http
+0000eac0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+0000ead0: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+0000eae0: 6e2d 6b61 7361 2f69 7373 7565 732f 3130  n-kasa/issues/10
+0000eaf0: 3429 0a2d 2048 7970 6572 2d56 205c 2861  4).- Hyper-V \(a
+0000eb00: 6e64 2070 726f 6261 626c 7920 7669 7274  nd probably virt
+0000eb10: 7561 6c62 6f78 5c29 2062 7265 616b 2055  ualbox\) break U
+0000eb20: 4450 2064 6973 636f 7665 7279 205b 5c23  DP discovery [\#
+0000eb30: 3130 315d 2868 7474 7073 3a2f 2f67 6974  101](https://git
+0000eb40: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+0000eb50: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+0000eb60: 6973 7375 6573 2f31 3031 290a 2d20 5472  issues/101).- Tr
+0000eb70: 7969 6e67 2074 6f20 6765 7420 6578 7465  ying to get exte
+0000eb80: 6e64 6564 206c 6967 6874 7374 7269 7020  nded lightstrip 
+0000eb90: 6675 6e63 7469 6f6e 616c 6974 7920 5b5c  functionality [\
+0000eba0: 2331 3030 5d28 6874 7470 733a 2f2f 6769  #100](https://gi
+0000ebb0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+0000ebc0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+0000ebd0: 2f69 7373 7565 732f 3130 3029 0a2d 2043  /issues/100).- C
+0000ebe0: 616e 2074 6865 2048 5331 3035 2062 6520  an the HS105 be 
+0000ebf0: 636f 6e74 726f 6c6c 6564 2077 6974 686f  controlled witho
+0000ec00: 7574 2069 6e74 6572 6e65 743f 205b 5c23  ut internet? [\#
+0000ec10: 3732 5d28 6874 7470 733a 2f2f 6769 7468  72](https://gith
+0000ec20: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+0000ec30: 7361 2f70 7974 686f 6e2d 6b61 7361 2f69  sa/python-kasa/i
+0000ec40: 7373 7565 732f 3732 290a 0a2a 2a4d 6572  ssues/72)..**Mer
+0000ec50: 6765 6420 7075 6c6c 2072 6571 7565 7374  ged pull request
+0000ec60: 733a 2a2a 0a0a 2d20 5072 6570 6172 6520  s:**..- Prepare 
+0000ec70: 302e 352e 3020 5b5c 2333 3432 5d28 6874  0.5.0 [\#342](ht
+0000ec80: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000ec90: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+0000eca0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3334  hon-kasa/pull/34
+0000ecb0: 3229 2028 4072 7974 696c 6168 7469 290a  2) (@rytilahti).
+0000ecc0: 2d20 4164 6420 6669 7874 7572 6573 2066  - Add fixtures f
+0000ecd0: 6f72 206b 6c34 3230 205b 5c23 3333 395d  or kl420 [\#339]
+0000ece0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000ecf0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+0000ed00: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+0000ed10: 2f33 3339 2920 2840 6264 7261 636f 290a  /339) (@bdraco).
+0000ed20: 0a23 2320 5b30 2e34 2e33 5d28 6874 7470  .## [0.4.3](http
+0000ed30: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+0000ed40: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+0000ed50: 6e2d 6b61 7361 2f74 7265 652f 302e 342e  n-kasa/tree/0.4.
+0000ed60: 3329 2028 3230 3232 2d30 342d 3035 290a  3) (2022-04-05).
+0000ed70: 0a5b 4675 6c6c 2043 6861 6e67 656c 6f67  .[Full Changelog
+0000ed80: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000ed90: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+0000eda0: 2f70 7974 686f 6e2d 6b61 7361 2f63 6f6d  /python-kasa/com
+0000edb0: 7061 7265 2f30 2e34 2e32 2e2e 2e30 2e34  pare/0.4.2...0.4
+0000edc0: 2e33 290a 0a2a 2a46 6978 6564 2062 7567  .3)..**Fixed bug
+0000edd0: 733a 2a2a 0a0a 2d20 4469 7669 6465 2062  s:**..- Divide b
+0000ede0: 7920 7a65 726f 2077 6865 6e20 4853 3330  y zero when HS30
+0000edf0: 3020 706f 7765 7273 7472 6970 2069 7320  0 powerstrip is 
+0000ee00: 6469 7363 6f76 6572 6564 205b 5c23 3239  discovered [\#29
+0000ee10: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
+0000ee20: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+0000ee30: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
+0000ee40: 7375 6573 2f32 3932 290a 2d20 456e 7375  sues/292).- Ensu
+0000ee50: 7265 2062 756c 6220 7374 6174 6520 6973  re bulb state is
+0000ee60: 2072 6573 746f 7265 6420 7768 656e 2074   restored when t
+0000ee70: 7572 6e69 6e67 2062 6163 6b20 6f6e 205b  urning back on [
+0000ee80: 5c23 3333 305d 2868 7474 7073 3a2f 2f67  \#330](https://g
+0000ee90: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+0000eea0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+0000eeb0: 612f 7075 6c6c 2f33 3330 2920 2840 6264  a/pull/330) (@bd
+0000eec0: 7261 636f 290a 0a2a 2a43 6c6f 7365 6420  raco)..**Closed 
+0000eed0: 6973 7375 6573 3a2a 2a0a 0a2d 204b 4c34  issues:**..- KL4
+0000eee0: 3230 4c35 2063 6f6e 7472 6f6c 7320 5b5c  20L5 controls [\
+0000eef0: 2333 3237 5d28 6874 7470 733a 2f2f 6769  #327](https://gi
+0000ef00: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+0000ef10: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+0000ef20: 2f69 7373 7565 732f 3332 3729 0a0a 2a2a  /issues/327)..**
+0000ef30: 4d65 7267 6564 2070 756c 6c20 7265 7175  Merged pull requ
+0000ef40: 6573 7473 3a2a 2a0a 0a2d 2052 656c 6561  ests:**..- Relea
+0000ef50: 7365 2030 2e34 2e33 205b 5c23 3333 325d  se 0.4.3 [\#332]
+0000ef60: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000ef70: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+0000ef80: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+0000ef90: 2f33 3332 2920 2840 7279 7469 6c61 6874  /332) (@rytilaht
+0000efa0: 6929 0a2d 2055 7064 6174 6520 7072 652d  i).- Update pre-
+0000efb0: 636f 6d6d 6974 2068 6f6f 6b73 2074 6f20  commit hooks to 
+0000efc0: 6669 7820 626c 6163 6b20 696e 2043 4920  fix black in CI 
+0000efd0: 5b5c 2333 3331 5d28 6874 7470 733a 2f2f  [\#331](https://
+0000efe0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+0000eff0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+0000f000: 7361 2f70 756c 6c2f 3333 3129 2028 4072  sa/pull/331) (@r
+0000f010: 7974 696c 6168 7469 290a 2d20 4669 7820  ytilahti).- Fix 
+0000f020: 7465 7374 5c5f 6465 7072 6563 6174 6564  test\_deprecated
+0000f030: 5c5f 7479 7065 2073 7461 6c6c 696e 6720  \_type stalling 
+0000f040: 5b5c 2333 3235 5d28 6874 7470 733a 2f2f  [\#325](https://
+0000f050: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+0000f060: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+0000f070: 7361 2f70 756c 6c2f 3332 3529 2028 4062  sa/pull/325) (@b
+0000f080: 6472 6163 6f29 0a0a 2323 205b 302e 342e  draco)..## [0.4.
+0000f090: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
+0000f0a0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+0000f0b0: 612f 7079 7468 6f6e 2d6b 6173 612f 7472  a/python-kasa/tr
+0000f0c0: 6565 2f30 2e34 2e32 2920 2832 3032 322d  ee/0.4.2) (2022-
+0000f0d0: 3033 2d32 3129 0a0a 5b46 756c 6c20 4368  03-21)..[Full Ch
+0000f0e0: 616e 6765 6c6f 675d 2868 7474 7073 3a2f  angelog](https:/
+0000f0f0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+0000f100: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+0000f110: 6173 612f 636f 6d70 6172 652f 302e 342e  asa/compare/0.4.
+0000f120: 312e 2e2e 302e 342e 3229 0a0a 2a2a 496d  1...0.4.2)..**Im
+0000f130: 706c 656d 656e 7465 6420 656e 6861 6e63  plemented enhanc
+0000f140: 656d 656e 7473 3a2a 2a0a 0a2d 2041 6c6c  ements:**..- All
+0000f150: 6f77 2065 6e76 6972 6f6e 6d65 6e74 2076  ow environment v
+0000f160: 6172 6961 626c 6573 2066 6f72 2064 6973  ariables for dis
+0000f170: 636f 7665 7279 2074 6172 6765 742c 2064  covery target, d
+0000f180: 6576 6963 6520 7479 7065 2061 6e64 2064  evice type and d
+0000f190: 6562 7567 205b 5c23 3331 335d 2868 7474  ebug [\#313](htt
+0000f1a0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000f1b0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+0000f1c0: 6f6e 2d6b 6173 612f 7075 6c6c 2f33 3133  on-kasa/pull/313
+0000f1d0: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
+0000f1e0: 2041 6464 2027 696e 7465 726e 616c 5c5f   Add 'internal\_
+0000f1f0: 7374 6174 6527 2074 6f20 7265 7475 726e  state' to return
+0000f200: 2074 6865 2072 6573 756c 7473 2066 726f   the results fro
+0000f210: 6d20 7468 6520 6c61 7374 2075 7064 6174  m the last updat
+0000f220: 6520 7175 6572 7920 5b5c 2333 3036 5d28  e query [\#306](
+0000f230: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0000f240: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+0000f250: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+0000f260: 3330 3629 2028 4072 7974 696c 6168 7469  306) (@rytilahti
+0000f270: 290a 2d20 4472 6f70 206d 6963 726f 7365  ).- Drop microse
+0000f280: 636f 6e64 2070 7265 6369 7369 6f6e 2066  cond precision f
+0000f290: 6f72 206f 6e5c 5f73 696e 6365 205b 5c23  or on\_since [\#
+0000f2a0: 3239 365d 2868 7474 7073 3a2f 2f67 6974  296](https://git
+0000f2b0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+0000f2c0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+0000f2d0: 7075 6c6c 2f32 3936 2920 2840 7279 7469  pull/296) (@ryti
+0000f2e0: 6c61 6874 6929 0a2d 2041 6464 2065 6666  lahti).- Add eff
+0000f2f0: 6563 7420 7375 7070 6f72 7420 666f 7220  ect support for 
+0000f300: 6c69 6768 7420 7374 7269 7073 205b 5c23  light strips [\#
+0000f310: 3239 335d 2868 7474 7073 3a2f 2f67 6974  293](https://git
+0000f320: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+0000f330: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+0000f340: 7075 6c6c 2f32 3933 2920 2840 6264 7261  pull/293) (@bdra
+0000f350: 636f 290a 0a2a 2a46 6978 6564 2062 7567  co)..**Fixed bug
+0000f360: 733a 2a2a 0a0a 2d20 5479 7065 4572 726f  s:**..- TypeErro
+0000f370: 723a 205c 5f5c 5f69 6e69 745c 5f5c 5f5c  r: \_\_init\_\_\
+0000f380: 285c 2920 676f 7420 616e 2075 6e65 7870  (\) got an unexp
+0000f390: 6563 7465 6420 6b65 7977 6f72 6420 6172  ected keyword ar
+0000f3a0: 6775 6d65 6e74 2027 7061 636b 6167 655c  gument 'package\
+0000f3b0: 5f6e 616d 6527 205b 5c23 3331 315d 2868  _name' [\#311](h
+0000f3c0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000f3d0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+0000f3e0: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
+0000f3f0: 2f33 3131 290a 2d20 5275 6e74 696d 6545  /311).- RuntimeE
+0000f400: 7272 6f72 3a20 4576 656e 7420 6c6f 6f70  rror: Event loop
+0000f410: 2069 7320 636c 6f73 6564 206f 6e20 5753   is closed on WS
+0000f420: 4c20 5b5c 2332 3934 5d28 6874 7470 733a  L [\#294](https:
+0000f430: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+0000f440: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+0000f450: 6b61 7361 2f69 7373 7565 732f 3239 3429  kasa/issues/294)
+0000f460: 0a2d 2044 6f6e 2774 2063 7261 7368 206f  .- Don't crash o
+0000f470: 6e20 6465 7669 6365 7320 6e6f 7420 7265  n devices not re
+0000f480: 706f 7274 696e 6720 6665 6174 7572 6573  porting features
+0000f490: 205b 5c23 3331 375d 2868 7474 7073 3a2f   [\#317](https:/
+0000f4a0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+0000f4b0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+0000f4c0: 6173 612f 7075 6c6c 2f33 3137 2920 2840  asa/pull/317) (@
+0000f4d0: 7279 7469 6c61 6874 6929 0a0a 2a2a 436c  rytilahti)..**Cl
+0000f4e0: 6f73 6564 2069 7373 7565 733a 2a2a 0a0a  osed issues:**..
+0000f4f0: 2d20 536d 6172 7444 6576 6963 6545 7863  - SmartDeviceExc
+0000f500: 6570 7469 6f6e 3a20 436f 6d6d 756e 6963  eption: Communic
+0000f510: 6174 696f 6e20 6572 726f 7220 6f6e 2073  ation error on s
+0000f520: 7973 7465 6d3a 7365 745c 5f72 656c 6179  ystem:set\_relay
+0000f530: 5c5f 7374 6174 6520 5b5c 2333 3039 5d28  \_state [\#309](
+0000f540: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0000f550: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+0000f560: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
+0000f570: 732f 3330 3929 0a2d 2041 6464 2053 7570  s/309).- Add Sup
+0000f580: 706f 7274 3a20 4553 3230 4d20 616e 6420  port: ES20M and 
+0000f590: 4b53 3230 304d 206d 6f74 696f 6e2f 6c69  KS200M motion/li
+0000f5a0: 6768 7420 7377 6974 6368 6573 205b 5c23  ght switches [\#
+0000f5b0: 3330 385d 2868 7474 7073 3a2f 2f67 6974  308](https://git
+0000f5c0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+0000f5d0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+0000f5e0: 6973 7375 6573 2f33 3038 290a 2d20 4e65  issues/308).- Ne
+0000f5f0: 7720 7072 6f62 6c65 6d20 7769 7468 2069  w problem with i
+0000f600: 6e73 7461 6c6c 696e 6720 6f6e 2055 6275  nstalling on Ubu
+0000f610: 6e74 7520 3230 2e30 342e 3320 4c54 5320  ntu 20.04.3 LTS 
+0000f620: 5b5c 2333 3035 5d28 6874 7470 733a 2f2f  [\#305](https://
+0000f630: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+0000f640: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+0000f650: 7361 2f69 7373 7565 732f 3330 3529 0a2d  sa/issues/305).-
+0000f660: 204b 6579 4572 726f 723a 2027 656d 6574   KeyError: 'emet
+0000f670: 6572 2720 7768 656e 2064 6973 636f 7665  er' when discove
+0000f680: 7269 6e67 205b 5c23 3330 325d 2868 7474  ring [\#302](htt
+0000f690: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000f6a0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+0000f6b0: 6f6e 2d6b 6173 612f 6973 7375 6573 2f33  on-kasa/issues/3
+0000f6c0: 3032 290a 2d20 5275 6e74 696d 6545 7272  02).- RuntimeErr
+0000f6d0: 6f72 3a20 4576 656e 7420 6c6f 6f70 2069  or: Event loop i
+0000f6e0: 7320 636c 6f73 6564 2020 5b5c 2332 3931  s closed  [\#291
+0000f6f0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000f700: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+0000f710: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
+0000f720: 7565 732f 3239 3129 0a2d 2070 726f 7669  ues/291).- provi
+0000f730: 7369 6f6e 696e 6720 666f 726d 6174 205b  sioning format [
+0000f740: 5c23 3239 305d 2868 7474 7073 3a2f 2f67  \#290](https://g
+0000f750: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+0000f760: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+0000f770: 612f 6973 7375 6573 2f32 3930 290a 2d20  a/issues/290).- 
+0000f780: 4669 7820 4349 2070 7562 6c69 7368 696e  Fix CI publishin
+0000f790: 6720 6f6e 2070 7970 6920 5b5c 2332 3232  g on pypi [\#222
+0000f7a0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000f7b0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+0000f7c0: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
+0000f7d0: 7565 732f 3232 3229 0a2d 204c 4544 2073  ues/222).- LED s
+0000f7e0: 7472 6970 7320 6566 6665 6374 7320 6172  trips effects ar
+0000f7f0: 6520 6e6f 7420 7375 7070 6f72 7465 6420  e not supported 
+0000f800: 5c28 7761 7320 4c45 4473 2069 7320 6e6f  \(was LEDs is no
+0000f810: 7420 7475 726e 696e 6720 6f6e 2061 6674  t turning on aft
+0000f820: 6572 2073 7769 7463 6869 6e67 206f 6e5c  er switching on\
+0000f830: 2920 5b5c 2331 3931 5d28 6874 7470 733a  ) [\#191](https:
+0000f840: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+0000f850: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+0000f860: 6b61 7361 2f69 7373 7565 732f 3139 3129  kasa/issues/191)
+0000f870: 0a0a 2a2a 4d65 7267 6564 2070 756c 6c20  ..**Merged pull 
+0000f880: 7265 7175 6573 7473 3a2a 2a0a 0a2d 2052  requests:**..- R
+0000f890: 656c 6561 7365 2030 2e34 2e32 205b 5c23  elease 0.4.2 [\#
+0000f8a0: 3332 315d 2868 7474 7073 3a2f 2f67 6974  321](https://git
+0000f8b0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+0000f8c0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+0000f8d0: 7075 6c6c 2f33 3231 2920 2840 7279 7469  pull/321) (@ryti
+0000f8e0: 6c61 6874 6929 0a2d 2041 6464 2070 7975  lahti).- Add pyu
+0000f8f0: 7067 7261 6465 2074 6f20 4349 2072 756e  pgrade to CI run
+0000f900: 7320 5b5c 2333 3134 5d28 6874 7470 733a  s [\#314](https:
+0000f910: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+0000f920: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+0000f930: 6b61 7361 2f70 756c 6c2f 3331 3429 2028  kasa/pull/314) (
+0000f940: 4072 7974 696c 6168 7469 290a 2d20 4465  @rytilahti).- De
+0000f950: 7065 6e64 206f 6e20 6173 796e 6363 6c69  pend on asynccli
+0000f960: 636b 205c 3e3d 2038 205b 5c23 3331 325d  ck \>= 8 [\#312]
+0000f970: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000f980: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+0000f990: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+0000f9a0: 2f33 3132 2920 2840 7279 7469 6c61 6874  /312) (@rytilaht
+0000f9b0: 6929 0a2d 2047 7561 7264 2065 6d65 7465  i).- Guard emete
+0000f9c0: 7220 6163 6365 7373 6573 2074 6f20 6176  r accesses to av
+0000f9d0: 6f69 6420 6b65 7965 7272 6f72 7320 5b5c  oid keyerrors [\
+0000f9e0: 2333 3034 5d28 6874 7470 733a 2f2f 6769  #304](https://gi
+0000f9f0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+0000fa00: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+0000fa10: 2f70 756c 6c2f 3330 3429 2028 4072 7974  /pull/304) (@ryt
+0000fa20: 696c 6168 7469 290a 2d20 636c 693a 2063  ilahti).- cli: c
+0000fa30: 6c65 616e 7570 2064 6973 636f 7665 722c  leanup discover,
+0000fa40: 2066 6574 6368 2075 7064 6174 6520 7072   fetch update pr
+0000fa50: 696f 7220 6465 7669 6365 2061 6363 6573  ior device acces
+0000fa60: 7320 5b5c 2333 3033 5d28 6874 7470 733a  s [\#303](https:
+0000fa70: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+0000fa80: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+0000fa90: 6b61 7361 2f70 756c 6c2f 3330 3329 2028  kasa/pull/303) (
+0000faa0: 4072 7974 696c 6168 7469 290a 2d20 4669  @rytilahti).- Fi
+0000fab0: 7820 756e 7361 6665 205c 5f5c 5f64 656c  x unsafe \_\_del
+0000fac0: 5c5f 5c5f 2069 6e20 5450 4c69 6e6b 536d  \_\_ in TPLinkSm
+0000fad0: 6172 7448 6f6d 6550 726f 746f 636f 6c20  artHomeProtocol 
+0000fae0: 5b5c 2333 3030 5d28 6874 7470 733a 2f2f  [\#300](https://
+0000faf0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+0000fb00: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+0000fb10: 7361 2f70 756c 6c2f 3330 3029 2028 4062  sa/pull/300) (@b
+0000fb20: 6472 6163 6f29 0a2d 2049 6d70 726f 7665  draco).- Improve
+0000fb30: 2074 7970 696e 6720 666f 7220 7072 6f74   typing for prot
+0000fb40: 6f63 6f6c 2063 6c61 7373 205b 5c23 3238  ocol class [\#28
+0000fb50: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
+0000fb60: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+0000fb70: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+0000fb80: 6c6c 2f32 3839 2920 2840 7279 7469 6c61  ll/289) (@rytila
+0000fb90: 6874 6929 0a2d 2041 6464 6564 2061 2066  hti).- Added a f
+0000fba0: 6978 7475 7265 2066 696c 6520 666f 7220  ixture file for 
+0000fbb0: 4b53 3232 304d 205b 5c23 3237 335d 2868  KS220M [\#273](h
+0000fbc0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000fbd0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+0000fbe0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f32  thon-kasa/pull/2
+0000fbf0: 3733 2920 2840 6d72 6265 7474 6129 0a0a  73) (@mrbetta)..
+0000fc00: 2323 205b 302e 342e 315d 2868 7474 7073  ## [0.4.1](https
+0000fc10: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+0000fc20: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+0000fc30: 2d6b 6173 612f 7472 6565 2f30 2e34 2e31  -kasa/tree/0.4.1
+0000fc40: 2920 2832 3032 322d 3031 2d31 3429 0a0a  ) (2022-01-14)..
+0000fc50: 5b46 756c 6c20 4368 616e 6765 6c6f 675d  [Full Changelog]
+0000fc60: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000fc70: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+0000fc80: 7079 7468 6f6e 2d6b 6173 612f 636f 6d70  python-kasa/comp
+0000fc90: 6172 652f 302e 342e 302e 2e2e 302e 342e  are/0.4.0...0.4.
+0000fca0: 3129 0a0a 2a2a 496d 706c 656d 656e 7465  1)..**Implemente
+0000fcb0: 6420 656e 6861 6e63 656d 656e 7473 3a2a  d enhancements:*
+0000fcc0: 2a0a 0a2d 2041 6464 202d 2d74 7970 6520  *..- Add --type 
+0000fcd0: 6f70 7469 6f6e 2074 6f20 636c 6920 5b5c  option to cli [\
+0000fce0: 2332 3639 5d28 6874 7470 733a 2f2f 6769  #269](https://gi
+0000fcf0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+0000fd00: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+0000fd10: 2f70 756c 6c2f 3236 3929 2028 4072 7974  /pull/269) (@ryt
+0000fd20: 696c 6168 7469 290a 2d20 4d69 6e6f 7220  ilahti).- Minor 
+0000fd30: 696d 7072 6f76 656d 656e 7473 2074 6f20  improvements to 
+0000fd40: 6f6e 626f 6172 6469 6e67 2064 6f63 205b  onboarding doc [
+0000fd50: 5c23 3236 345d 2868 7474 7073 3a2f 2f67  \#264](https://g
+0000fd60: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+0000fd70: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+0000fd80: 612f 7075 6c6c 2f32 3634 2920 2840 7279  a/pull/264) (@ry
+0000fd90: 7469 6c61 6874 6929 0a2d 2041 6464 2066  tilahti).- Add f
+0000fda0: 6978 7475 7265 2066 696c 6520 666f 7220  ixture file for 
+0000fdb0: 4b4c 3133 3520 5b5c 2332 3633 5d28 6874  KL135 [\#263](ht
+0000fdc0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000fdd0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+0000fde0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3236  hon-kasa/pull/26
+0000fdf0: 3329 2028 4045 7269 6b53 4772 6f73 7329  3) (@ErikSGross)
+0000fe00: 0a2d 2041 6464 204b 4c31 3335 2063 6f6c  .- Add KL135 col
+0000fe10: 6f72 2074 656d 7065 7261 7475 7265 2072  or temperature r
+0000fe20: 616e 6765 205b 5c23 3235 365d 2868 7474  ange [\#256](htt
+0000fe30: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000fe40: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+0000fe50: 6f6e 2d6b 6173 612f 7075 6c6c 2f32 3536  on-kasa/pull/256
+0000fe60: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
+0000fe70: 2041 6464 2070 792e 7479 7065 6420 746f   Add py.typed to
+0000fe80: 2066 6c61 6720 7468 6174 2074 6865 2070   flag that the p
+0000fe90: 6163 6b61 6765 2069 7320 7479 7065 6420  ackage is typed 
+0000fea0: 5b5c 2332 3531 5d28 6874 7470 733a 2f2f  [\#251](https://
+0000feb0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+0000fec0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+0000fed0: 7361 2f70 756c 6c2f 3235 3129 2028 4072  sa/pull/251) (@r
+0000fee0: 7974 696c 6168 7469 290a 2d20 4164 6420  ytilahti).- Add 
+0000fef0: 7363 7269 7074 2074 6f20 6368 6563 6b20  script to check 
+0000ff00: 7375 7070 6f72 7465 6420 6465 7669 6365  supported device
+0000ff10: 732c 2075 7064 6174 6520 5245 4144 4d45  s, update README
+0000ff20: 205b 5c23 3234 325d 2868 7474 7073 3a2f   [\#242](https:/
+0000ff30: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+0000ff40: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+0000ff50: 6173 612f 7075 6c6c 2f32 3432 2920 2840  asa/pull/242) (@
+0000ff60: 7279 7469 6c61 6874 6929 0a2d 2041 6464  rytilahti).- Add
+0000ff70: 2070 6572 6674 6573 7420 746f 2064 6576   perftest to dev
+0000ff80: 746f 6f6c 7320 5b5c 2332 3336 5d28 6874  tools [\#236](ht
+0000ff90: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000ffa0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+0000ffb0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3233  hon-kasa/pull/23
+0000ffc0: 3629 2028 4072 7974 696c 6168 7469 290a  6) (@rytilahti).
+0000ffd0: 2d20 4164 6420 4b50 3430 3120 5553 2066  - Add KP401 US f
+0000ffe0: 6978 7475 7265 205b 5c23 3233 345d 2868  ixture [\#234](h
+0000fff0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00010000: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00010010: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f32  thon-kasa/pull/2
+00010020: 3334 2920 2840 6264 7261 636f 290a 2d20  34) (@bdraco).- 
+00010030: 4164 6420 4b4c 3630 2055 5320 4b50 3130  Add KL60 US KP10
+00010040: 3520 554b 2066 6978 7475 7265 205b 5c23  5 UK fixture [\#
+00010050: 3233 335d 2868 7474 7073 3a2f 2f67 6974  233](https://git
+00010060: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00010070: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00010080: 7075 6c6c 2f32 3333 2920 2840 6264 7261  pull/233) (@bdra
+00010090: 636f 290a 2d20 4d61 6b65 2063 6c69 2069  co).- Make cli i
+000100a0: 6e74 6572 6661 6365 206d 6f72 6520 636f  nterface more co
+000100b0: 6e73 6973 7465 6e74 205b 5c23 3233 325d  nsistent [\#232]
+000100c0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000100d0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+000100e0: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+000100f0: 2f32 3332 2920 2840 7279 7469 6c61 6874  /232) (@rytilaht
+00010100: 6929 0a2d 2041 6464 204b 4c34 3030 2c20  i).- Add KL400, 
+00010110: 4b4c 3530 2066 6978 7475 7265 7320 5b5c  KL50 fixtures [\
+00010120: 2332 3331 5d28 6874 7470 733a 2f2f 6769  #231](https://gi
+00010130: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00010140: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00010150: 2f70 756c 6c2f 3233 3129 2028 4062 6472  /pull/231) (@bdr
+00010160: 6163 6f29 0a2d 2041 6464 2066 6978 7475  aco).- Add fixtu
+00010170: 7265 2066 6f72 206e 6577 6572 204b 5034  re for newer KP4
+00010180: 3030 2066 6972 6d77 6172 6520 5b5c 2332  00 firmware [\#2
+00010190: 3237 5d28 6874 7470 733a 2f2f 6769 7468  27](https://gith
+000101a0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+000101b0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+000101c0: 756c 6c2f 3232 3729 2028 4062 6472 6163  ull/227) (@bdrac
+000101d0: 6f29 0a2d 2053 7769 7463 6820 746f 2070  o).- Switch to p
+000101e0: 6f65 7472 792d 636f 7265 205b 5c23 3232  oetry-core [\#22
+000101f0: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
+00010200: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00010210: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00010220: 6c6c 2f32 3236 2920 2840 6661 6261 6666  ll/226) (@fabaff
+00010230: 290a 2d20 4164 6420 6669 7874 7572 6573  ).- Add fixtures
+00010240: 2066 6f72 204c 4231 3130 2c20 4b4c 3131   for LB110, KL11
+00010250: 302c 2045 5034 302c 204b 4c34 3330 2c20  0, EP40, KL430, 
+00010260: 4b50 3131 3520 5b5c 2332 3234 5d28 6874  KP115 [\#224](ht
+00010270: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00010280: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00010290: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3232  hon-kasa/pull/22
+000102a0: 3429 2028 4062 6472 6163 6f29 0a0a 2a2a  4) (@bdraco)..**
+000102b0: 4669 7865 6420 6275 6773 3a2a 2a0a 0a2d  Fixed bugs:**..-
+000102c0: 2044 6973 636f 7665 7279 206f 6e20 5753   Discovery on WS
+000102d0: 4c20 7265 7375 6c74 7320 696e 204f 5345  L results in OSE
+000102e0: 7272 6f72 3a20 5c5b 4572 726e 6f20 3232  rror: \[Errno 22
+000102f0: 5c5d 2049 6e76 616c 6964 2061 7267 756d  \] Invalid argum
+00010300: 656e 7420 5b5c 2332 3436 5d28 6874 7470  ent [\#246](http
+00010310: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00010320: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+00010330: 6e2d 6b61 7361 2f69 7373 7565 732f 3234  n-kasa/issues/24
+00010340: 3629 0a2d 204e 6577 2066 6972 6d77 6172  6).- New firmwar
+00010350: 6520 666f 7220 4853 3130 3320 626c 6f63  e for HS103 bloc
+00010360: 6b69 6e67 206c 6f63 616c 2061 6363 6573  king local acces
+00010370: 733f 205b 5c23 3432 5d28 6874 7470 733a  s? [\#42](https:
+00010380: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00010390: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+000103a0: 6b61 7361 2f69 7373 7565 732f 3432 290a  kasa/issues/42).
+000103b0: 2d20 5069 6e20 6d69 7374 756e 6520 746f  - Pin mistune to
+000103c0: 205c 3c32 2e30 2e30 2074 6f20 6669 7820   \<2.0.0 to fix 
+000103d0: 646f 6320 6275 696c 6473 205b 5c23 3237  doc builds [\#27
+000103e0: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
+000103f0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00010400: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00010410: 6c6c 2f32 3730 2920 2840 7279 7469 6c61  ll/270) (@rytila
+00010420: 6874 6929 0a2d 2043 6174 6368 2065 7863  hti).- Catch exc
+00010430: 6570 7469 6f6e 7320 7261 6973 6564 206f  eptions raised o
+00010440: 6e20 756e 6b6e 6f77 6e20 6465 7669 6365  n unknown device
+00010450: 7320 6475 7269 6e67 2064 6973 636f 7665  s during discove
+00010460: 7279 205b 5c23 3234 305d 2868 7474 7073  ry [\#240](https
+00010470: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00010480: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00010490: 2d6b 6173 612f 7075 6c6c 2f32 3430 2920  -kasa/pull/240) 
+000104a0: 2840 7279 7469 6c61 6874 6929 0a0a 2a2a  (@rytilahti)..**
+000104b0: 436c 6f73 6564 2069 7373 7565 733a 2a2a  Closed issues:**
+000104c0: 0a0a 2d20 436f 6e74 726f 6c20 6465 7669  ..- Control devi
+000104d0: 6365 2077 6974 6820 616c 6961 7320 7669  ce with alias vi
+000104e0: 6120 7079 7468 6f6e 2061 7069 3f20 5b5c  a python api? [\
+000104f0: 2332 3835 5d28 6874 7470 733a 2f2f 6769  #285](https://gi
+00010500: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00010510: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00010520: 2f69 7373 7565 732f 3238 3529 0a2d 2043  /issues/285).- C
+00010530: 616e 2774 2069 6e73 7461 6c6c 2075 7369  an't install usi
+00010540: 6e67 2070 6970 2069 6e73 7461 6c6c 2070  ng pip install p
+00010550: 7974 686f 6e2d 6b61 7361 205b 5c23 3235  ython-kasa [\#25
+00010560: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
+00010570: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00010580: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
+00010590: 7375 6573 2f32 3535 290a 2d20 4b61 7361  sues/255).- Kasa
+000105a0: 2053 6d61 7274 2042 756c 6220 4b4c 3133   Smart Bulb KL13
+000105b0: 3520 2d20 556e 6b6e 6f77 6e20 636f 6c6f  5 - Unknown colo
+000105c0: 7220 7465 6d70 6572 6174 7572 6520 7261  r temperature ra
+000105d0: 6e67 6520 6572 726f 7220 5b5c 2332 3532  nge error [\#252
+000105e0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000105f0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+00010600: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
+00010610: 7565 732f 3235 3229 0a2d 204b 4c34 3030  ues/252).- KL400
+00010620: 2053 7570 706f 7274 205b 5c23 3234 375d   Support [\#247]
+00010630: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00010640: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00010650: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
+00010660: 6573 2f32 3437 290a 2d20 436c 6f75 6420  es/247).- Cloud 
+00010670: 7375 7070 6f72 743f 205b 5c23 3234 355d  support? [\#245]
+00010680: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00010690: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+000106a0: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
+000106b0: 6573 2f32 3435 290a 2d20 5375 7070 6f72  es/245).- Suppor
+000106c0: 7420 666f 7220 6b70 3430 3120 5b5c 2332  t for kp401 [\#2
+000106d0: 3431 5d28 6874 7470 733a 2f2f 6769 7468  41](https://gith
+000106e0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+000106f0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f69  sa/python-kasa/i
+00010700: 7373 7565 732f 3234 3129 0a2d 204c 4231  ssues/241).- LB1
+00010710: 3330 2042 756c 6220 7374 6f70 7065 6420  30 Bulb stopped 
+00010720: 776f 726b 696e 6720 5b5c 2332 3337 5d28  working [\#237](
+00010730: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00010740: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00010750: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
+00010760: 732f 3233 3729 0a2d 2055 6e61 626c 6520  s/237).- Unable 
+00010770: 746f 2063 6f6e 7374 616e 746c 7920 7175  to constantly qu
+00010780: 6572 7920 6275 6c62 2069 6e20 6c6f 6f70  ery bulb in loop
+00010790: 205b 5c23 3232 355d 2868 7474 7073 3a2f   [\#225](https:/
+000107a0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+000107b0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+000107c0: 6173 612f 6973 7375 6573 2f32 3235 290a  asa/issues/225).
+000107d0: 2d20 4853 3130 333a 2055 6e61 626c 6520  - HS103: Unable 
+000107e0: 746f 2071 7565 7279 2074 6865 2064 6576  to query the dev
+000107f0: 6963 653a 2075 6e70 6163 6b20 7265 7175  ice: unpack requ
+00010800: 6972 6573 2061 2062 7566 6665 7220 6f66  ires a buffer of
+00010810: 2034 2062 7974 6573 205b 5c23 3138 375d   4 bytes [\#187]
+00010820: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00010830: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00010840: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
+00010850: 6573 2f31 3837 290a 2d20 4865 6c70 2072  es/187).- Help r
+00010860: 6571 7565 7374 202d 2071 7565 7279 2076  equest - query v
+00010870: 616c 7565 205b 5c23 3137 315d 2868 7474  alue [\#171](htt
+00010880: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00010890: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+000108a0: 6f6e 2d6b 6173 612f 6973 7375 6573 2f31  on-kasa/issues/1
+000108b0: 3731 290a 2d20 4361 6e27 7420 4469 7363  71).- Can't Disc
+000108c0: 6f76 6572 2044 6576 6963 6573 205b 5c23  over Devices [\#
+000108d0: 3136 345d 2868 7474 7073 3a2f 2f67 6974  164](https://git
+000108e0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+000108f0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00010900: 6973 7375 6573 2f31 3634 290a 2d20 436f  issues/164).- Co
+00010910: 6e63 7572 7265 6e63 7920 7065 7266 6f72  ncurrency perfor
+00010920: 6d61 6e63 6520 7175 6573 7469 6f6e 205b  mance question [
+00010930: 5c23 3131 305d 2868 7474 7073 3a2f 2f67  \#110](https://g
+00010940: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00010950: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00010960: 612f 6973 7375 6573 2f31 3130 290a 2d20  a/issues/110).- 
+00010970: 4465 6669 6e65 2074 6865 2070 6f72 7420  Define the port 
+00010980: 6279 2073 656c 663f 205b 5c23 3130 385d  by self? [\#108]
+00010990: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000109a0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+000109b0: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
+000109c0: 6573 2f31 3038 290a 2d20 436f 6e76 6572  es/108).- Conver
+000109d0: 7420 686f 6d65 6173 7369 7374 616e 7420  t homeassistant 
+000109e0: 696e 7465 6772 6174 696f 6e20 746f 2075  integration to u
+000109f0: 7365 2074 6865 206c 6962 7261 7279 205b  se the library [
+00010a00: 5c23 395d 2868 7474 7073 3a2f 2f67 6974  \#9](https://git
+00010a10: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00010a20: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00010a30: 6973 7375 6573 2f39 290a 0a2a 2a4d 6572  issues/9)..**Mer
+00010a40: 6765 6420 7075 6c6c 2072 6571 7565 7374  ged pull request
+00010a50: 733a 2a2a 0a0a 2d20 5072 6570 6172 6520  s:**..- Prepare 
+00010a60: 302e 342e 3120 5b5c 2332 3838 5d28 6874  0.4.1 [\#288](ht
+00010a70: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00010a80: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00010a90: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3238  hon-kasa/pull/28
+00010aa0: 3829 2028 4072 7974 696c 6168 7469 290a  8) (@rytilahti).
+00010ab0: 2d20 5075 626c 6973 6820 746f 2070 7970  - Publish to pyp
+00010ac0: 6920 6f6e 2067 6974 6875 6220 7265 6c65  i on github rele
+00010ad0: 6173 6520 7075 626c 6973 6865 6420 5b5c  ase published [\
+00010ae0: 2332 3837 5d28 6874 7470 733a 2f2f 6769  #287](https://gi
+00010af0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00010b00: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00010b10: 2f70 756c 6c2f 3238 3729 2028 4072 7974  /pull/287) (@ryt
+00010b20: 696c 6168 7469 290a 2d20 5265 6c61 7820  ilahti).- Relax 
+00010b30: 6173 796e 6363 6c69 636b 2076 6572 7369  asyncclick versi
+00010b40: 6f6e 2072 6571 7569 7265 6d65 6e74 205b  on requirement [
+00010b50: 5c23 3238 365d 2868 7474 7073 3a2f 2f67  \#286](https://g
+00010b60: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00010b70: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00010b80: 612f 7075 6c6c 2f32 3836 2920 2840 7279  a/pull/286) (@ry
+00010b90: 7469 6c61 6874 6929 0a2d 2044 6f20 6e6f  tilahti).- Do no
+00010ba0: 7420 6372 6173 6820 6f6e 2064 6973 636f  t crash on disco
+00010bb0: 7665 7279 206f 6e20 5753 4c20 5b5c 2332  very on WSL [\#2
+00010bc0: 3833 5d28 6874 7470 733a 2f2f 6769 7468  83](https://gith
+00010bd0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00010be0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00010bf0: 756c 6c2f 3238 3329 2028 4072 7974 696c  ull/283) (@rytil
+00010c00: 6168 7469 290a 2d20 4164 6420 7079 7468  ahti).- Add pyth
+00010c10: 6f6e 2033 2e31 3020 746f 2043 4920 5b5c  on 3.10 to CI [\
+00010c20: 2332 3739 5d28 6874 7470 733a 2f2f 6769  #279](https://gi
+00010c30: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00010c40: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00010c50: 2f70 756c 6c2f 3237 3929 2028 4072 7974  /pull/279) (@ryt
+00010c60: 696c 6168 7469 290a 2d20 5573 6520 636f  ilahti).- Use co
+00010c70: 6465 636f 762d 6163 7469 6f6e 4076 3220  decov-action@v2 
+00010c80: 666f 7220 4349 205b 5c23 3237 375d 2868  for CI [\#277](h
+00010c90: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00010ca0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00010cb0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f32  thon-kasa/pull/2
+00010cc0: 3737 2920 2840 7279 7469 6c61 6874 6929  77) (@rytilahti)
+00010cd0: 0a2d 2041 6464 2063 6f76 6572 6167 655c  .- Add coverage\
+00010ce0: 5b74 6f6d 6c5c 5d20 6465 7065 6e64 656e  [toml\] dependen
+00010cf0: 6379 2074 6f20 6669 7820 636f 7665 7261  cy to fix covera
+00010d00: 6765 206f 6e20 4349 205b 5c23 3237 315d  ge on CI [\#271]
+00010d10: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00010d20: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00010d30: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+00010d40: 2f32 3731 2920 2840 7279 7469 6c61 6874  /271) (@rytilaht
+00010d50: 6929 0a2d 2041 6c6c 6f77 2070 7562 6c69  i).- Allow publi
+00010d60: 7368 206f 6e20 7465 7374 2070 7970 6920  sh on test pypi 
+00010d70: 776f 726b 666c 6f77 2074 6f20 6661 696c  workflow to fail
+00010d80: 205b 5c23 3234 385d 2868 7474 7073 3a2f   [\#248](https:/
+00010d90: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00010da0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00010db0: 6173 612f 7075 6c6c 2f32 3438 2920 2840  asa/pull/248) (@
+00010dc0: 7279 7469 6c61 6874 6929 0a0a 2323 205b  rytilahti)..## [
+00010dd0: 302e 342e 305d 2868 7474 7073 3a2f 2f67  0.4.0](https://g
+00010de0: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00010df0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00010e00: 612f 7472 6565 2f30 2e34 2e30 2920 2832  a/tree/0.4.0) (2
+00010e10: 3032 312d 3039 2d32 3729 0a0a 5b46 756c  021-09-27)..[Ful
+00010e20: 6c20 4368 616e 6765 6c6f 675d 2868 7474  l Changelog](htt
+00010e30: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00010e40: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00010e50: 6f6e 2d6b 6173 612f 636f 6d70 6172 652f  on-kasa/compare/
+00010e60: 302e 342e 302e 6465 7635 2e2e 2e30 2e34  0.4.0.dev5...0.4
+00010e70: 2e30 290a 0a2a 2a49 6d70 6c65 6d65 6e74  .0)..**Implement
+00010e80: 6564 2065 6e68 616e 6365 6d65 6e74 733a  ed enhancements:
+00010e90: 2a2a 0a0a 2d20 4669 7820 6c6f 636b 2062  **..- Fix lock b
+00010ea0: 6569 6e67 2075 6e65 7870 6563 7465 646c  eing unexpectedl
+00010eb0: 7920 7265 7365 7420 6f6e 2063 6c6f 7365  y reset on close
+00010ec0: 205b 5c23 3231 385d 2868 7474 7073 3a2f   [\#218](https:/
+00010ed0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00010ee0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00010ef0: 6173 612f 7075 6c6c 2f32 3138 2920 2840  asa/pull/218) (@
+00010f00: 6264 7261 636f 290a 2d20 4176 6f69 6420  bdraco).- Avoid 
+00010f10: 6361 6c6c 696e 6720 7066 6f72 6d61 7420  calling pformat 
+00010f20: 756e 6c65 7373 2064 6562 7567 206c 6f67  unless debug log
+00010f30: 6769 6e67 2069 7320 656e 6162 6c65 6420  ging is enabled 
+00010f40: 5b5c 2332 3137 5d28 6874 7470 733a 2f2f  [\#217](https://
+00010f50: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00010f60: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00010f70: 7361 2f70 756c 6c2f 3231 3729 2028 4062  sa/pull/217) (@b
+00010f80: 6472 6163 6f29 0a0a 2a2a 436c 6f73 6564  draco)..**Closed
+00010f90: 2069 7373 7565 733a 2a2a 0a0a 2d20 4465   issues:**..- De
+00010fa0: 6275 6720 6c6f 6767 696e 6720 696e 2070  bug logging in p
+00010fb0: 726f 746f 636f 6c2e 7079 2069 7320 7468  rotocol.py is th
+00010fc0: 6520 6d61 6a6f 7269 7479 206f 6620 7468  e majority of th
+00010fd0: 6520 6578 6563 7574 696f 6e20 7469 6d65  e execution time
+00010fe0: 205b 5c23 3231 365d 2868 7474 7073 3a2f   [\#216](https:/
+00010ff0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00011000: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00011010: 6173 612f 6973 7375 6573 2f32 3136 290a  asa/issues/216).
+00011020: 0a2a 2a4d 6572 6765 6420 7075 6c6c 2072  .**Merged pull r
+00011030: 6571 7565 7374 733a 2a2a 0a0a 2d20 5265  equests:**..- Re
+00011040: 6c65 6173 6520 302e 342e 3020 5b5c 2332  lease 0.4.0 [\#2
+00011050: 3231 5d28 6874 7470 733a 2f2f 6769 7468  21](https://gith
+00011060: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00011070: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00011080: 756c 6c2f 3232 3129 2028 4072 7974 696c  ull/221) (@rytil
+00011090: 6168 7469 290a 2d20 4164 6420 6769 7468  ahti).- Add gith
+000110a0: 7562 2077 6f72 6b66 6c6f 7720 666f 7220  ub workflow for 
+000110b0: 7079 7069 2070 7562 6c69 7368 696e 6720  pypi publishing 
+000110c0: 5b5c 2332 3230 5d28 6874 7470 733a 2f2f  [\#220](https://
+000110d0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+000110e0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+000110f0: 7361 2f70 756c 6c2f 3232 3029 2028 4072  sa/pull/220) (@r
+00011100: 7974 696c 6168 7469 290a 2d20 4164 6420  ytilahti).- Add 
+00011110: 686f 7374 2069 6e66 6f72 6d61 7469 6f6e  host information
+00011120: 2074 6f20 7072 6f74 6f63 6f6c 2064 6562   to protocol deb
+00011130: 7567 206c 6f67 7320 5b5c 2332 3139 5d28  ug logs [\#219](
+00011140: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00011150: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00011160: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00011170: 3231 3929 2028 4072 7974 696c 6168 7469  219) (@rytilahti
+00011180: 290a 0a23 2320 5b30 2e34 2e30 2e64 6576  )..## [0.4.0.dev
+00011190: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
+000111a0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+000111b0: 612f 7079 7468 6f6e 2d6b 6173 612f 7472  a/python-kasa/tr
+000111c0: 6565 2f30 2e34 2e30 2e64 6576 3529 2028  ee/0.4.0.dev5) (
+000111d0: 3230 3231 2d30 392d 3234 290a 0a5b 4675  2021-09-24)..[Fu
+000111e0: 6c6c 2043 6861 6e67 656c 6f67 5d28 6874  ll Changelog](ht
+000111f0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00011200: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00011210: 686f 6e2d 6b61 7361 2f63 6f6d 7061 7265  hon-kasa/compare
+00011220: 2f30 2e34 2e30 2e64 6576 342e 2e2e 302e  /0.4.0.dev4...0.
+00011230: 342e 302e 6465 7635 290a 0a2a 2a49 6d70  4.0.dev5)..**Imp
+00011240: 6c65 6d65 6e74 6564 2065 6e68 616e 6365  lemented enhance
+00011250: 6d65 6e74 733a 2a2a 0a0a 2d20 4b65 6570  ments:**..- Keep
+00011260: 2063 6f6e 6e65 6374 696f 6e20 6f70 656e   connection open
+00011270: 2061 6e64 206c 6f63 6b20 746f 2070 7265   and lock to pre
+00011280: 7665 6e74 2064 7570 6c69 6361 7465 2072  vent duplicate r
+00011290: 6571 7565 7374 7320 5b5c 2332 3133 5d28  equests [\#213](
+000112a0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000112b0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+000112c0: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+000112d0: 3231 3329 2028 4062 6472 6163 6f29 0a0a  213) (@bdraco)..
+000112e0: 2a2a 4d65 7267 6564 2070 756c 6c20 7265  **Merged pull re
+000112f0: 7175 6573 7473 3a2a 2a0a 0a2d 2052 656c  quests:**..- Rel
+00011300: 6561 7365 2030 2e34 2e30 2e64 6576 3520  ease 0.4.0.dev5 
+00011310: 5b5c 2332 3135 5d28 6874 7470 733a 2f2f  [\#215](https://
+00011320: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00011330: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00011340: 7361 2f70 756c 6c2f 3231 3529 2028 4072  sa/pull/215) (@r
+00011350: 7974 696c 6168 7469 290a 2d20 4164 6420  ytilahti).- Add 
+00011360: 4b4c 3133 3020 6669 7874 7572 652c 2069  KL130 fixture, i
+00011370: 6e69 7469 616c 206c 6967 6874 7374 7269  nitial lightstri
+00011380: 7020 7465 7374 7320 5b5c 2332 3134 5d28  p tests [\#214](
+00011390: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000113a0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+000113b0: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+000113c0: 3231 3429 2028 4072 7974 696c 6168 7469  214) (@rytilahti
+000113d0: 290a 2d20 436c 6561 6e75 7020 6469 7363  ).- Cleanup disc
+000113e0: 6f76 6572 7920 2620 6164 6420 7465 7374  overy & add test
+000113f0: 7320 5b5c 2332 3132 5d28 6874 7470 733a  s [\#212](https:
+00011400: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00011410: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+00011420: 6b61 7361 2f70 756c 6c2f 3231 3229 2028  kasa/pull/212) (
+00011430: 4072 7974 696c 6168 7469 290a 0a23 2320  @rytilahti)..## 
+00011440: 5b30 2e34 2e30 2e64 6576 345d 2868 7474  [0.4.0.dev4](htt
+00011450: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00011460: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00011470: 6f6e 2d6b 6173 612f 7472 6565 2f30 2e34  on-kasa/tree/0.4
+00011480: 2e30 2e64 6576 3429 2028 3230 3231 2d30  .0.dev4) (2021-0
+00011490: 392d 3233 290a 0a5b 4675 6c6c 2043 6861  9-23)..[Full Cha
+000114a0: 6e67 656c 6f67 5d28 6874 7470 733a 2f2f  ngelog](https://
+000114b0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+000114c0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+000114d0: 7361 2f63 6f6d 7061 7265 2f30 2e34 2e30  sa/compare/0.4.0
+000114e0: 2e64 6576 332e 2e2e 302e 342e 302e 6465  .dev3...0.4.0.de
+000114f0: 7634 290a 0a2a 2a49 6d70 6c65 6d65 6e74  v4)..**Implement
+00011500: 6564 2065 6e68 616e 6365 6d65 6e74 733a  ed enhancements:
+00011510: 2a2a 0a0a 2d20 496d 7072 6f76 6520 656d  **..- Improve em
+00011520: 6574 6572 7374 6174 7573 2041 5049 2c20  eterstatus API, 
+00011530: 6d6f 7665 2069 6e74 6f20 6f77 6e20 6d6f  move into own mo
+00011540: 6475 6c65 205b 5c23 3230 355d 2868 7474  dule [\#205](htt
+00011550: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00011560: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00011570: 6f6e 2d6b 6173 612f 7075 6c6c 2f32 3035  on-kasa/pull/205
+00011580: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
+00011590: 2041 766f 6964 2074 656d 7020 6172 7261   Avoid temp arra
+000115a0: 7920 6475 7269 6e67 2065 6e63 7279 7074  y during encrypt
+000115b0: 2061 6e64 2064 6563 7279 7074 205b 5c23   and decrypt [\#
+000115c0: 3230 345d 2868 7474 7073 3a2f 2f67 6974  204](https://git
+000115d0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+000115e0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+000115f0: 7075 6c6c 2f32 3034 2920 2840 6264 7261  pull/204) (@bdra
+00011600: 636f 290a 2d20 4164 6420 656d 6574 6572  co).- Add emeter
+00011610: 2073 7570 706f 7274 2066 6f72 2073 7472   support for str
+00011620: 6970 2073 6f63 6b65 7473 205b 5c23 3230  ip sockets [\#20
+00011630: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
+00011640: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00011650: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00011660: 6c6c 2f32 3033 2920 2840 6264 7261 636f  ll/203) (@bdraco
+00011670: 290a 2d20 4164 6420 6f77 6e20 6465 7669  ).- Add own devi
+00011680: 6365 2074 7970 6520 666f 7220 736d 6172  ce type for smar
+00011690: 7473 7472 6970 2063 6869 6c64 7265 6e20  tstrip children 
+000116a0: 5b5c 2332 3031 5d28 6874 7470 733a 2f2f  [\#201](https://
+000116b0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+000116c0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+000116d0: 7361 2f70 756c 6c2f 3230 3129 2028 4072  sa/pull/201) (@r
+000116e0: 7974 696c 6168 7469 290a 2d20 6275 6c62  ytilahti).- bulb
+000116f0: 3a20 616c 6c6f 7720 7365 745c 5f68 7376  : allow set\_hsv
+00011700: 2077 6974 686f 7574 2076 2c20 6164 6420   without v, add 
+00011710: 6661 6c6c 6261 636b 2063 7420 7261 6e67  fallback ct rang
+00011720: 6520 5b5c 2332 3030 5d28 6874 7470 733a  e [\#200](https:
+00011730: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00011740: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+00011750: 6b61 7361 2f70 756c 6c2f 3230 3029 2028  kasa/pull/200) (
+00011760: 4072 7974 696c 6168 7469 290a 2d20 496d  @rytilahti).- Im
+00011770: 7072 6f76 6520 6275 6c62 2073 7570 706f  prove bulb suppo
+00011780: 7274 205c 2861 6c69 6173 2c20 7469 6d65  rt \(alias, time
+00011790: 2073 6574 7469 6e67 735c 2920 5b5c 2331   settings\) [\#1
+000117a0: 3938 5d28 6874 7470 733a 2f2f 6769 7468  98](https://gith
+000117b0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+000117c0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+000117d0: 756c 6c2f 3139 3829 2028 4072 7974 696c  ull/198) (@rytil
+000117e0: 6168 7469 290a 2d20 496d 7072 6f76 6520  ahti).- Improve 
+000117f0: 7465 7374 696e 6720 6861 726e 6573 7320  testing harness 
+00011800: 746f 2061 6c6c 6f77 2074 6573 7473 206f  to allow tests o
+00011810: 6e20 7265 616c 2064 6576 6963 6573 205b  n real devices [
+00011820: 5c23 3139 375d 2868 7474 7073 3a2f 2f67  \#197](https://g
+00011830: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00011840: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00011850: 612f 7075 6c6c 2f31 3937 2920 2840 7279  a/pull/197) (@ry
+00011860: 7469 6c61 6874 6929 0a2d 2063 6c69 3a20  tilahti).- cli: 
+00011870: 6164 6420 6875 6d61 6e2d 6672 6965 6e64  add human-friend
+00011880: 6c79 2070 7269 6e74 6f75 7420 7768 656e  ly printout when
+00011890: 2063 616c 6c69 6e67 2074 656d 7065 7261   calling tempera
+000118a0: 7475 7265 206f 6e20 6e6f 6e2d 7375 7070  ture on non-supp
+000118b0: 6f72 7465 6420 6465 7669 6365 7320 5b5c  orted devices [\
+000118c0: 2331 3936 5d28 6874 7470 733a 2f2f 6769  #196](https://gi
+000118d0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+000118e0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+000118f0: 2f70 756c 6c2f 3139 3629 2028 404a 6179  /pull/196) (@Jay
+00011900: 6465 6e52 4129 0a0a 2a2a 4669 7865 6420  denRA)..**Fixed 
+00011910: 6275 6773 3a2a 2a0a 0a2d 204b 4c34 3330  bugs:**..- KL430
+00011920: 3a20 5468 726f 7720 6572 726f 7220 666f  : Throw error fo
+00011930: 7220 4465 7669 6365 2073 7065 6369 6669  r Device specifi
+00011940: 6320 696e 666f 726d 6174 696f 6e20 5b5c  c information [\
+00011950: 2331 3839 5d28 6874 7470 733a 2f2f 6769  #189](https://gi
+00011960: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00011970: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00011980: 2f69 7373 7565 732f 3138 3929 0a2d 2048  /issues/189).- H
+00011990: 5333 3030 2043 6869 6c64 7265 6e20 706c  S300 Children pl
+000119a0: 7567 7320 6861 7665 2065 6d65 7465 7220  ugs have emeter 
+000119b0: 5b5c 2336 345d 2868 7474 7073 3a2f 2f67  [\#64](https://g
+000119c0: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+000119d0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+000119e0: 612f 6973 7375 6573 2f36 3429 0a2d 2064  a/issues/64).- d
+000119f0: 756d 705c 5f64 6576 696e 666f 3a20 6861  ump\_devinfo: ha
+00011a00: 6e64 6c65 206c 6174 6974 7564 652f 6c6f  ndle latitude/lo
+00011a10: 6e67 6974 7564 6520 6b65 7973 2070 726f  ngitude keys pro
+00011a20: 7065 726c 7920 5b5c 2331 3735 5d28 6874  perly [\#175](ht
+00011a30: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00011a40: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00011a50: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3137  hon-kasa/pull/17
+00011a60: 3529 2028 4072 7974 696c 6168 7469 290a  5) (@rytilahti).
+00011a70: 0a2a 2a44 6f63 756d 656e 7461 7469 6f6e  .**Documentation
+00011a80: 2075 7064 6174 6573 3a2a 2a0a 0a2d 2044   updates:**..- D
+00011a90: 6973 636f 7665 7220 646f 6573 206e 6f74  iscover does not
+00011aa0: 2073 7570 706f 7274 2073 7065 6369 6679   support specify
+00011ab0: 696e 6720 6e65 7477 6f72 6b20 696e 7465  ing network inte
+00011ac0: 7266 6163 6520 5b5c 2331 3637 5d28 6874  rface [\#167](ht
+00011ad0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00011ae0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00011af0: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
+00011b00: 3136 3729 0a0a 2a2a 436c 6f73 6564 2069  167)..**Closed i
+00011b10: 7373 7565 733a 2a2a 0a0a 2d20 4665 6174  ssues:**..- Feat
+00011b20: 7572 6520 5265 7175 6573 7420 2d20 546f  ure Request - To
+00011b30: 6767 6c65 2043 6f6d 6d61 6e64 205b 5c23  ggle Command [\#
+00011b40: 3138 385d 2868 7474 7073 3a2f 2f67 6974  188](https://git
+00011b50: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00011b60: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00011b70: 6973 7375 6573 2f31 3838 290a 2d20 4973  issues/188).- Is
+00011b80: 2049 7420 436f 6d70 6174 6962 6c65 2057   It Compatible W
+00011b90: 6974 6820 4853 3130 353f 205b 5c23 3138  ith HS105? [\#18
+00011ba0: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
+00011bb0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00011bc0: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
+00011bd0: 7375 6573 2f31 3836 290a 2d20 4361 6e6e  sues/186).- Cann
+00011be0: 6f74 2075 7365 2073 6f6d 6520 6675 6e63  ot use some func
+00011bf0: 7469 6f6e 7320 7769 7468 204b 5033 3033  tions with KP303
+00011c00: 205b 5c23 3138 315d 2868 7474 7073 3a2f   [\#181](https:/
+00011c10: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00011c20: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00011c30: 6173 612f 6973 7375 6573 2f31 3831 290a  asa/issues/181).
+00011c40: 2d20 4865 6c70 206e 6565 6465 6420 2d20  - Help needed - 
+00011c50: 6177 6169 7469 6e67 2067 616d 6520 205b  awaiting game  [
+00011c60: 5c23 3137 395d 2868 7474 7073 3a2f 2f67  \#179](https://g
+00011c70: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00011c80: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00011c90: 612f 6973 7375 6573 2f31 3739 290a 2d20  a/issues/179).- 
+00011ca0: 5665 7273 696f 6e20 696e 636f 6e73 6973  Version inconsis
+00011cb0: 7465 6e63 7920 6265 7477 6565 6e20 434c  tency between CL
+00011cc0: 4920 616e 6420 7069 7020 5b5c 2331 3737  I and pip [\#177
+00011cd0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00011ce0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+00011cf0: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
+00011d00: 7565 732f 3137 3729 0a2d 2052 656c 6561  ues/177).- Relea
+00011d10: 7365 2030 2e34 2e30 2e64 6576 333f 205b  se 0.4.0.dev3? [
+00011d20: 5c23 3136 395d 2868 7474 7073 3a2f 2f67  \#169](https://g
+00011d30: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00011d40: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00011d50: 612f 6973 7375 6573 2f31 3639 290a 2d20  a/issues/169).- 
+00011d60: 4361 6e27 7420 636f 6d6d 616e 6420 6f72  Can't command or
+00011d70: 2071 7565 7279 2048 5332 3030 2076 3520   query HS200 v5 
+00011d80: 7377 6974 6368 205b 5c23 3136 315d 2868  switch [\#161](h
+00011d90: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00011da0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00011db0: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
+00011dc0: 2f31 3631 290a 0a2a 2a4d 6572 6765 6420  /161)..**Merged 
+00011dd0: 7075 6c6c 2072 6571 7565 7374 733a 2a2a  pull requests:**
+00011de0: 0a0a 2d20 5265 6c65 6173 6520 302e 342e  ..- Release 0.4.
+00011df0: 302e 6465 7634 205b 5c23 3231 305d 2868  0.dev4 [\#210](h
+00011e00: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00011e10: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00011e20: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f32  thon-kasa/pull/2
+00011e30: 3130 2920 2840 7279 7469 6c61 6874 6929  10) (@rytilahti)
+00011e40: 0a2d 204d 6f72 6520 4349 2066 6978 6573  .- More CI fixes
+00011e50: 205b 5c23 3230 385d 2868 7474 7073 3a2f   [\#208](https:/
+00011e60: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00011e70: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00011e80: 6173 612f 7075 6c6c 2f32 3038 2920 2840  asa/pull/208) (@
+00011e90: 7279 7469 6c61 6874 6929 0a2d 2046 6978  rytilahti).- Fix
+00011ea0: 2043 4920 6465 7020 696e 7374 616c 6c61   CI dep installa
+00011eb0: 7469 6f6e 205b 5c23 3230 375d 2868 7474  tion [\#207](htt
+00011ec0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00011ed0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00011ee0: 6f6e 2d6b 6173 612f 7075 6c6c 2f32 3037  on-kasa/pull/207
+00011ef0: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
+00011f00: 2055 7365 2067 6974 6875 6220 6163 7469   Use github acti
+00011f10: 6f6e 7320 696e 7374 6561 6420 6f66 2061  ons instead of a
+00011f20: 7a75 7265 2070 6970 656c 696e 6573 205b  zure pipelines [
+00011f30: 5c23 3230 365d 2868 7474 7073 3a2f 2f67  \#206](https://g
+00011f40: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00011f50: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00011f60: 612f 7075 6c6c 2f32 3036 2920 2840 7279  a/pull/206) (@ry
+00011f70: 7469 6c61 6874 6929 0a2d 2041 6464 204b  tilahti).- Add K
+00011f80: 5031 3135 2066 6978 7475 7265 205b 5c23  P115 fixture [\#
+00011f90: 3230 325d 2868 7474 7073 3a2f 2f67 6974  202](https://git
+00011fa0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00011fb0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00011fc0: 7075 6c6c 2f32 3032 2920 2840 7279 7469  pull/202) (@ryti
+00011fd0: 6c61 6874 6929 0a2d 2050 6572 666f 726d  lahti).- Perform
+00011fe0: 2069 6e69 7469 616c 2075 7064 6174 6520   initial update 
+00011ff0: 6f6e 6c79 2075 7369 6e67 2074 6865 2073  only using the s
+00012000: 7973 696e 666f 2071 7565 7279 205b 5c23  ysinfo query [\#
+00012010: 3139 395d 2868 7474 7073 3a2f 2f67 6974  199](https://git
+00012020: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00012030: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00012040: 7075 6c6c 2f31 3939 2920 2840 7279 7469  pull/199) (@ryti
+00012050: 6c61 6874 6929 0a2d 2041 6464 2072 6561  lahti).- Add rea
+00012060: 6c20 6b61 7361 204b 4c34 3330 5c28 554e  l kasa KL430\(UN
+00012070: 5c29 2064 6576 6963 6520 6475 6d70 205b  \) device dump [
+00012080: 5c23 3139 325d 2868 7474 7073 3a2f 2f67  \#192](https://g
+00012090: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+000120a0: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+000120b0: 612f 7075 6c6c 2f31 3932 2920 2840 6970  a/pull/192) (@ip
+000120c0: 726f 6461 6e6f 7662 6729 0a2d 2055 7365  rodanovbg).- Use
+000120d0: 206c 6573 7320 7374 7269 6374 206d 6174   less strict mat
+000120e0: 6368 6572 2066 6f72 206b 6c34 3330 2063  cher for kl430 c
+000120f0: 6f6c 6f72 2074 656d 7065 7261 7475 7265  olor temperature
+00012100: 205b 5c23 3139 305d 2868 7474 7073 3a2f   [\#190](https:/
+00012110: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00012120: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00012130: 6173 612f 7075 6c6c 2f31 3930 2920 2840  asa/pull/190) (@
+00012140: 7279 7469 6c61 6874 6929 0a2d 2041 6464  rytilahti).- Add
+00012150: 2045 5031 305c 2855 535c 2920 312e 3020   EP10\(US\) 1.0 
+00012160: 312e 302e 3220 6669 7874 7572 6520 5b5c  1.0.2 fixture [\
+00012170: 2331 3734 5d28 6874 7470 733a 2f2f 6769  #174](https://gi
+00012180: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00012190: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+000121a0: 2f70 756c 6c2f 3137 3429 2028 406e 6272  /pull/174) (@nbr
+000121b0: 6577 290a 2d20 4164 6420 6120 6e6f 7465  ew).- Add a note
+000121c0: 2061 626f 7574 2075 7369 6e67 2074 6865   about using the
+000121d0: 2064 6973 636f 7665 7279 2074 6172 6765   discovery targe
+000121e0: 7420 7061 7261 6d65 7465 7220 5b5c 2331  t parameter [\#1
+000121f0: 3638 5d28 6874 7470 733a 2f2f 6769 7468  68](https://gith
+00012200: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00012210: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00012220: 756c 6c2f 3136 3829 2028 406c 6561 6e64  ull/168) (@leand
+00012230: 726f 7265 6f78 290a 0a23 2320 5b30 2e34  roreox)..## [0.4
+00012240: 2e30 2e64 6576 335d 2868 7474 7073 3a2f  .0.dev3](https:/
+00012250: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00012260: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00012270: 6173 612f 7472 6565 2f30 2e34 2e30 2e64  asa/tree/0.4.0.d
+00012280: 6576 3329 2028 3230 3231 2d30 362d 3136  ev3) (2021-06-16
+00012290: 290a 0a5b 4675 6c6c 2043 6861 6e67 656c  )..[Full Changel
+000122a0: 6f67 5d28 6874 7470 733a 2f2f 6769 7468  og](https://gith
+000122b0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+000122c0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f63  sa/python-kasa/c
+000122d0: 6f6d 7061 7265 2f30 2e34 2e30 2e64 6576  ompare/0.4.0.dev
+000122e0: 322e 2e2e 302e 342e 302e 6465 7633 290a  2...0.4.0.dev3).
+000122f0: 0a2a 2a46 6978 6564 2062 7567 733a 2a2a  .**Fixed bugs:**
+00012300: 0a0a 2d20 6055 6e61 626c 6520 746f 2066  ..- `Unable to f
+00012310: 696e 6420 6120 7661 6c75 6520 666f 7220  ind a value for 
+00012320: 2763 7572 7265 6e74 2760 2065 7272 6f72  'current'` error
+00012330: 2077 6865 6e20 6174 7465 6d70 7469 6e67   when attempting
+00012340: 2074 6f20 7175 6572 7920 4b4c 3132 3520   to query KL125 
+00012350: 6275 6c62 2065 6d65 7465 7220 5b5c 2331  bulb emeter [\#1
+00012360: 3432 5d28 6874 7470 733a 2f2f 6769 7468  42](https://gith
+00012370: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00012380: 7361 2f70 7974 686f 6e2d 6b61 7361 2f69  sa/python-kasa/i
+00012390: 7373 7565 732f 3134 3229 0a2d 2060 556e  ssues/142).- `Un
+000123a0: 6b6e 6f77 6e20 636f 6c6f 7220 7465 6d70  known color temp
+000123b0: 6572 6174 7572 6520 7261 6e67 6560 2065  erature range` e
+000123c0: 7272 6f72 2077 6865 6e20 6174 7465 6d70  rror when attemp
+000123d0: 7469 6e67 2074 6f20 7175 6572 7920 4b4c  ting to query KL
+000123e0: 3132 3520 6275 6c62 2073 7461 7465 205b  125 bulb state [
+000123f0: 5c23 3134 315d 2868 7474 7073 3a2f 2f67  \#141](https://g
+00012400: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00012410: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00012420: 612f 6973 7375 6573 2f31 3431 290a 2d20  a/issues/141).- 
+00012430: 5369 6d70 6c69 6679 2064 6973 636f 7665  Simplify discove
+00012440: 7279 2071 7565 7279 2c20 7265 6661 6374  ry query, refact
+00012450: 6f72 2064 756d 702d 6465 7669 6e66 6f20  or dump-devinfo 
+00012460: 5b5c 2331 3437 5d28 6874 7470 733a 2f2f  [\#147](https://
+00012470: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00012480: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00012490: 7361 2f70 756c 6c2f 3134 3729 2028 4072  sa/pull/147) (@r
+000124a0: 7974 696c 6168 7469 290a 2d20 5265 7475  ytilahti).- Retu
+000124b0: 726e 204e 6f6e 6520 696e 7374 6561 6420  rn None instead 
+000124c0: 6f66 2072 6169 7369 6e67 2061 6e20 6578  of raising an ex
+000124d0: 6365 7074 696f 6e20 6f6e 206d 6973 7369  ception on missi
+000124e0: 6e67 2c20 7661 6c69 6420 656d 6574 6572  ng, valid emeter
+000124f0: 206b 6579 7320 5b5c 2331 3436 5d28 6874   keys [\#146](ht
+00012500: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00012510: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00012520: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3134  hon-kasa/pull/14
+00012530: 3629 2028 4072 7974 696c 6168 7469 290a  6) (@rytilahti).
+00012540: 0a2a 2a44 6f63 756d 656e 7461 7469 6f6e  .**Documentation
+00012550: 2075 7064 6174 6573 3a2a 2a0a 0a2d 2041   updates:**..- A
+00012560: 6464 2061 6269 6c69 7479 2074 6f20 636f  dd ability to co
+00012570: 6e74 726f 6c20 696e 6469 7669 6475 616c  ntrol individual
+00012580: 2073 6f63 6b65 7473 206f 6e20 4b50 3430   sockets on KP40
+00012590: 3020 5b5c 2331 3231 5d28 6874 7470 733a  0 [\#121](https:
+000125a0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+000125b0: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+000125c0: 6b61 7361 2f69 7373 7565 732f 3132 3129  kasa/issues/121)
+000125d0: 0a2d 2049 6d70 726f 7665 2063 6c69 2064  .- Improve cli d
+000125e0: 6f63 756d 656e 7461 7469 6f6e 2066 6f72  ocumentation for
+000125f0: 2062 756c 6273 2061 6e64 2070 6f77 6572   bulbs and power
+00012600: 2073 7472 6970 7320 5b5c 2331 3233 5d28   strips [\#123](
+00012610: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00012620: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00012630: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00012640: 3132 3329 2028 4072 7974 696c 6168 7469  123) (@rytilahti
+00012650: 290a 0a2a 2a43 6c6f 7365 6420 6973 7375  )..**Closed issu
+00012660: 6573 3a2a 2a0a 0a2d 2041 6674 6572 2069  es:**..- After i
+00012670: 6e73 7461 6c6c 696e 672c 2063 6f6d 6d61  nstalling, comma
+00012680: 6e64 2060 6b61 7361 6020 6e6f 7420 666f  nd `kasa` not fo
+00012690: 756e 6420 5b5c 2331 3635 5d28 6874 7470  und [\#165](http
+000126a0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+000126b0: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+000126c0: 6e2d 6b61 7361 2f69 7373 7565 732f 3136  n-kasa/issues/16
+000126d0: 3529 0a2d 204b 4c34 3330 2063 6175 7369  5).- KL430 causi
+000126e0: 6e67 2022 6e6f 6e2d 6865 7861 6465 6369  ng "non-hexadeci
+000126f0: 6d61 6c20 6e75 6d62 6572 2066 6f75 6e64  mal number found
+00012700: 2069 6e20 6672 6f6d 6865 785c 285c 2920   in fromhex\(\) 
+00012710: 6172 6720 6174 2070 6f73 6974 696f 6e20  arg at position 
+00012720: 3222 2065 7272 6f72 2069 6e20 736d 6172  2" error in smar
+00012730: 7464 6576 6963 652e 7079 205b 5c23 3135  tdevice.py [\#15
+00012740: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
+00012750: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00012760: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
+00012770: 7375 6573 2f31 3539 290a 2d20 4361 6e74  sues/159).- Cant
+00012780: 2067 6574 2073 6d61 7274 2073 7472 6970   get smart strip
+00012790: 2063 6869 6c64 7265 6e20 746f 2077 6f72   children to wor
+000127a0: 6b20 5b5c 2331 3434 5d28 6874 7470 733a  k [\#144](https:
+000127b0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+000127c0: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+000127d0: 6b61 7361 2f69 7373 7565 732f 3134 3429  kasa/issues/144)
+000127e0: 0a2d 2060 6b61 7361 202d 2d68 6f73 7420  .- `kasa --host 
+000127f0: 3139 322e 3136 382e 312e 3637 2077 6966  192.168.1.67 wif
+00012800: 6920 6a6f 696e 203c 7373 6964 3e60 2064  i join <ssid>` d
+00012810: 6f65 7320 6e6f 7420 6368 616e 6765 206e  oes not change n
+00012820: 6574 776f 726b 205b 5c23 3133 395d 2868  etwork [\#139](h
+00012830: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00012840: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00012850: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
+00012860: 2f31 3339 290a 2d20 506f 6574 7279 2072  /139).- Poetry r
+00012870: 6574 7572 6e73 2065 7272 6f72 2077 6865  eturns error whe
+00012880: 6e20 696e 7374 616c 6c69 6e67 2064 6570  n installing dep
+00012890: 656e 6465 6e63 6965 7320 5b5c 2331 3331  endencies [\#131
+000128a0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000128b0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+000128c0: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
+000128d0: 7565 732f 3133 3129 0a2d 2027 6b61 7361  ues/131).- 'kasa
+000128e0: 2077 6966 6920 7363 616e 2720 7261 6973   wifi scan' rais
+000128f0: 6573 2052 756e 7469 6d65 4572 726f 7220  es RuntimeError 
+00012900: 5b5c 2331 3237 5d28 6874 7470 733a 2f2f  [\#127](https://
+00012910: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00012920: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00012930: 7361 2f69 7373 7565 732f 3132 3729 0a2d  sa/issues/127).-
+00012940: 2052 756e 7469 6d65 2045 7272 6f72 2077   Runtime Error w
+00012950: 6865 6e20 4920 6578 6563 7574 6520 4b61  hen I execute Ka
+00012960: 7361 2065 6d65 7465 7220 636f 6d6d 616e  sa emeter comman
+00012970: 6420 5b5c 2331 3234 5d28 6874 7470 733a  d [\#124](https:
+00012980: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00012990: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+000129a0: 6b61 7361 2f69 7373 7565 732f 3132 3429  kasa/issues/124)
+000129b0: 0a2d 2048 5331 3035 5c28 5553 5c29 2048  .- HS105\(US\) H
+000129c0: 5720 352e 302f 5357 2031 2e30 2e32 204e  W 5.0/SW 1.0.2 N
+000129d0: 6f74 2057 6f72 6b69 6e67 205b 5c23 3131  ot Working [\#11
+000129e0: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
+000129f0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00012a00: 612f 7079 7468 6f6e 2d6b 6173 612f 6973  a/python-kasa/is
+00012a10: 7375 6573 2f31 3139 290a 2d20 4853 3131  sues/119).- HS11
+00012a20: 305c 2855 4b5c 2920 6e6f 7420 6469 7363  0\(UK\) not disc
+00012a30: 6f76 6572 6162 6c65 205b 5c23 3131 335d  overable [\#113]
+00012a40: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00012a50: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00012a60: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
+00012a70: 6573 2f31 3133 290a 2d20 5374 6f70 7069  es/113).- Stoppi
+00012a80: 6e67 204b 6173 6120 536d 6172 7444 6576  ng Kasa SmartDev
+00012a90: 6963 6573 2066 726f 6d20 7068 6f6e 696e  ices from phonin
+00012aa0: 6720 686f 6d65 205b 5c23 3131 315d 2868  g home [\#111](h
+00012ab0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00012ac0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00012ad0: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
+00012ae0: 2f31 3131 290a 2d20 5450 204c 696e 6b20  /111).- TP Link 
+00012af0: 4469 6d6d 6572 2073 7769 7463 6820 5c28  Dimmer switch \(
+00012b00: 4853 3232 305c 2920 6861 7264 7761 7265  HS220\) hardware
+00012b10: 2076 6572 7369 6f6e 2032 2e30 206e 6f74   version 2.0 not
+00012b20: 2062 6569 6e67 2064 6973 636f 7665 7265   being discovere
+00012b30: 6420 5b5c 2331 3035 5d28 6874 7470 733a  d [\#105](https:
+00012b40: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00012b50: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+00012b60: 6b61 7361 2f69 7373 7565 732f 3130 3529  kasa/issues/105)
+00012b70: 0a2d 2053 7570 706f 7274 2066 6f72 2050  .- Support for P
+00012b80: 3130 3020 536d 6172 7420 506c 7567 205b  100 Smart Plug [
+00012b90: 5c23 3833 5d28 6874 7470 733a 2f2f 6769  \#83](https://gi
+00012ba0: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00012bb0: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00012bc0: 2f69 7373 7565 732f 3833 290a 0a2a 2a4d  /issues/83)..**M
+00012bd0: 6572 6765 6420 7075 6c6c 2072 6571 7565  erged pull reque
+00012be0: 7374 733a 2a2a 0a0a 2d20 5072 6570 6172  sts:**..- Prepar
+00012bf0: 6520 302e 342e 302e 6465 7633 205b 5c23  e 0.4.0.dev3 [\#
+00012c00: 3137 325d 2868 7474 7073 3a2f 2f67 6974  172](https://git
+00012c10: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00012c20: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00012c30: 7075 6c6c 2f31 3732 2920 2840 7279 7469  pull/172) (@ryti
+00012c40: 6c61 6874 6929 0a2d 2053 696d 706c 6966  lahti).- Simplif
+00012c50: 7920 6d61 6320 6164 6472 6573 7320 6861  y mac address ha
+00012c60: 6e64 6c69 6e67 205b 5c23 3136 325d 2868  ndling [\#162](h
+00012c70: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00012c80: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00012c90: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f31  thon-kasa/pull/1
+00012ca0: 3632 2920 2840 7279 7469 6c61 6874 6929  62) (@rytilahti)
+00012cb0: 0a2d 2041 6464 6564 204b 4c31 3235 2061  .- Added KL125 a
+00012cc0: 6e64 2048 5332 3030 2066 6978 7475 7265  nd HS200 fixture
+00012cd0: 2064 756d 7073 2061 6e64 2075 7064 6174   dumps and updat
+00012ce0: 6564 2074 6573 7473 2074 6f20 7275 6e20  ed tests to run 
+00012cf0: 6f6e 206e 6577 2066 6f72 6d61 7420 5b5c  on new format [\
+00012d00: 2331 3630 5d28 6874 7470 733a 2f2f 6769  #160](https://gi
+00012d10: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00012d20: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00012d30: 2f70 756c 6c2f 3136 3029 2028 4062 7269  /pull/160) (@bri
+00012d40: 616e 7468 6564 6176 6973 290a 2d20 4164  anthedavis).- Ad
+00012d50: 6420 4b4c 3132 3520 6275 6c62 2064 6566  d KL125 bulb def
+00012d60: 696e 6974 696f 6e20 5b5c 2331 3433 5d28  inition [\#143](
+00012d70: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00012d80: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00012d90: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00012da0: 3134 3329 2028 406d 6461 726e 6f6c 290a  143) (@mdarnol).
+00012db0: 2d20 5245 4144 4d45 2e6d 643a 2041 6464  - README.md: Add
+00012dc0: 206c 696e 6b20 746f 204d 5154 5420 696e   link to MQTT in
+00012dd0: 7465 7266 6163 6520 666f 7220 7079 7468  terface for pyth
+00012de0: 6f6e 2d6b 6173 6120 5b5c 2331 3430 5d28  on-kasa [\#140](
+00012df0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00012e00: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00012e10: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00012e20: 3134 3029 2028 4066 6c61 7669 6f2d 6665  140) (@flavio-fe
+00012e30: 726e 616e 6465 7329 0a2d 2046 6978 2064  rnandes).- Fix d
+00012e40: 6f63 756d 656e 7461 7469 6f6e 206f 6e20  ocumentation on 
+00012e50: 536d 6172 7420 7374 7269 7073 205b 5c23  Smart strips [\#
+00012e60: 3133 365d 2868 7474 7073 3a2f 2f67 6974  136](https://git
+00012e70: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00012e80: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00012e90: 7075 6c6c 2f31 3336 2920 2840 666c 6176  pull/136) (@flav
+00012ea0: 696f 2d66 6572 6e61 6e64 6573 290a 2d20  io-fernandes).- 
+00012eb0: 6164 6420 7461 706f 206c 696e 6b2c 2066  add tapo link, f
+00012ec0: 6978 2074 706c 696e 6b2d 736d 6172 7468  ix tplink-smarth
+00012ed0: 6f6d 652d 7369 6d75 6c61 746f 7220 6c69  ome-simulator li
+00012ee0: 6e6b 205b 5c23 3133 335d 2868 7474 7073  nk [\#133](https
+00012ef0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00012f00: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00012f10: 2d6b 6173 612f 7075 6c6c 2f31 3333 2920  -kasa/pull/133) 
+00012f20: 2840 7279 7469 6c61 6874 6929 0a2d 204c  (@rytilahti).- L
+00012f30: 6576 6572 6167 6520 6461 7461 2066 726f  everage data fro
+00012f40: 6d20 5544 5020 6469 7363 6f76 6572 7920  m UDP discovery 
+00012f50: 746f 2069 6e69 7469 616c 697a 6520 6465  to initialize de
+00012f60: 7669 6365 2073 7472 7563 7475 7265 205b  vice structure [
+00012f70: 5c23 3133 325d 2868 7474 7073 3a2f 2f67  \#132](https://g
+00012f80: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00012f90: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00012fa0: 612f 7075 6c6c 2f31 3332 2920 2840 646c  a/pull/132) (@dl
+00012fb0: 6565 316a 3129 0a2d 2041 6464 2048 5332  ee1j1).- Add HS2
+00012fc0: 3230 2068 7720 322e 3020 6669 7874 7572  20 hw 2.0 fixtur
+00012fd0: 6520 5b5c 2331 3037 5d28 6874 7470 733a  e [\#107](https:
+00012fe0: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00012ff0: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+00013000: 6b61 7361 2f70 756c 6c2f 3130 3729 2028  kasa/pull/107) (
+00013010: 4061 7070 6c65 6775 7275 290a 0a23 2320  @appleguru)..## 
+00013020: 5b30 2e34 2e30 2e64 6576 325d 2868 7474  [0.4.0.dev2](htt
+00013030: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00013040: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00013050: 6f6e 2d6b 6173 612f 7472 6565 2f30 2e34  on-kasa/tree/0.4
+00013060: 2e30 2e64 6576 3229 2028 3230 3230 2d31  .0.dev2) (2020-1
+00013070: 312d 3231 290a 0a5b 4675 6c6c 2043 6861  1-21)..[Full Cha
+00013080: 6e67 656c 6f67 5d28 6874 7470 733a 2f2f  ngelog](https://
+00013090: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+000130a0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+000130b0: 7361 2f63 6f6d 7061 7265 2f30 2e34 2e30  sa/compare/0.4.0
+000130c0: 2e64 6576 312e 2e2e 302e 342e 302e 6465  .dev1...0.4.0.de
+000130d0: 7632 290a 0a2a 2a49 6d70 6c65 6d65 6e74  v2)..**Implement
+000130e0: 6564 2065 6e68 616e 6365 6d65 6e74 733a  ed enhancements:
+000130f0: 2a2a 0a0a 2d20 2749 6e74 6572 6661 6365  **..- 'Interface
+00013100: 2720 7061 7261 6d65 7465 7220 6164 6465  ' parameter adde
+00013110: 6420 746f 2064 6973 636f 7665 7279 2070  d to discovery p
+00013120: 726f 6365 7373 205b 5c23 3739 5d28 6874  rocess [\#79](ht
+00013130: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00013140: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00013150: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3739  hon-kasa/pull/79
+00013160: 2920 2840 646d 6974 7279 656c 6a29 0a0a  ) (@dmitryelj)..
+00013170: 2a2a 4669 7865 6420 6275 6773 3a2a 2a0a  **Fixed bugs:**.
+00013180: 0a2d 2053 696d 706c 6966 7920 6465 7669  .- Simplify devi
+00013190: 6365 2063 6c61 7373 2064 6574 6563 7469  ce class detecti
+000131a0: 6f6e 2066 6f72 2064 6973 636f 7665 7279  on for discovery
+000131b0: 2c20 6669 7820 6861 7264 636f 6465 6420  , fix hardcoded 
+000131c0: 7469 6d65 6f75 7420 5b5c 2331 3132 5d28  timeout [\#112](
+000131d0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000131e0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+000131f0: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00013200: 3131 3229 2028 4072 7974 696c 6168 7469  112) (@rytilahti
+00013210: 290a 2d20 5570 6461 7465 2063 6c69 2e70  ).- Update cli.p
+00013220: 7920 746f 2061 6464 7265 7373 7320 6372  y to addresss cr
+00013230: 6173 6820 6f6e 2079 6561 722f 6d6f 6e74  ash on year/mont
+00013240: 6820 6361 6c6c 7320 616e 6420 696d 7072  h calls and impr
+00013250: 6f76 6520 6f75 7470 7574 2066 6f72 6d61  ove output forma
+00013260: 7474 696e 6720 5b5c 2331 3033 5d28 6874  tting [\#103](ht
+00013270: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00013280: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00013290: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3130  hon-kasa/pull/10
+000132a0: 3329 2028 4042 756f 6e67 696f 726e 6f54  3) (@BuongiornoT
+000132b0: 6578 6173 290a 0a2a 2a43 6c6f 7365 6420  exas)..**Closed 
+000132c0: 6973 7375 6573 3a2a 2a0a 0a2d 2054 504c  issues:**..- TPL
+000132d0: 494e 4b20 4853 3130 3020 6669 726d 7761  INK HS100 firmwa
+000132e0: 7265 2034 2e31 206e 6f20 6c6f 6e67 6572  re 4.1 no longer
+000132f0: 2068 6173 2054 4350 2039 3939 3920 6176   has TCP 9999 av
+00013300: 6169 6c61 626c 6520 5b5c 2331 3134 5d28  ailable [\#114](
+00013310: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00013320: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00013330: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
+00013340: 732f 3131 3429 0a2d 2037 2e31 2e32 2055  s/114).- 7.1.2 U
+00013350: 7064 6174 6520 746f 2061 7379 6e63 636c  pdate to asynccl
+00013360: 6963 6b20 6272 6561 6b73 2067 6974 6875  ick breaks githu
+00013370: 6220 696e 7374 616c 6c20 6f66 2070 7974  b install of pyt
+00013380: 686f 6e2d 6b61 7361 205b 5c23 3130 365d  hon-kasa [\#106]
+00013390: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000133a0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+000133b0: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
+000133c0: 6573 2f31 3036 290a 2d20 636c 6920 656d  es/106).- cli em
+000133d0: 6574 6572 2079 6561 7220 616e 6420 6d6f  eter year and mo
+000133e0: 6e74 6820 6675 6e63 7469 6f6e 7320 6661  nth functions fa
+000133f0: 696c 205b 5c23 3130 325d 2868 7474 7073  il [\#102](https
+00013400: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00013410: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00013420: 2d6b 6173 612f 6973 7375 6573 2f31 3032  -kasa/issues/102
+00013430: 290a 2d20 686f 7720 746f 206b 6e6f 7720  ).- how to know 
+00013440: 7468 6520 6475 7261 7469 6f6e 2066 6f72  the duration for
+00013450: 2077 6869 6368 2074 6865 2070 6c75 6720   which the plug 
+00013460: 7761 7320 4f4e 3f20 5b5c 2339 395d 2868  was ON? [\#99](h
+00013470: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00013480: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00013490: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
+000134a0: 2f39 3929 0a2d 2070 726f 626c 656d 2063  /99).- problem c
+000134b0: 6f6e 7472 6f6c 6c69 6e67 2074 6865 2073  ontrolling the s
+000134c0: 6d61 7274 706c 7567 2074 6872 6f75 6768  martplug through
+000134d0: 2061 2063 6f6e 7472 6f6c 6c65 7220 5b5c   a controller [\
+000134e0: 2339 385d 2868 7474 7073 3a2f 2f67 6974  #98](https://git
+000134f0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00013500: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00013510: 6973 7375 6573 2f39 3829 0a2d 2075 6e61  issues/98).- una
+00013520: 626c 6520 746f 2069 6e73 7461 6c6c 205b  ble to install [
+00013530: 5c23 3937 5d28 6874 7470 733a 2f2f 6769  \#97](https://gi
+00013540: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00013550: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00013560: 2f69 7373 7565 732f 3937 290a 2d20 496e  /issues/97).- In
+00013570: 7374 616c 6c20 6f6e 2055 6275 6e74 7520  stall on Ubuntu 
+00013580: 3138 2e30 3420 6e6f 206c 7563 6b20 5b5c  18.04 no luck [\
+00013590: 2339 365d 2868 7474 7073 3a2f 2f67 6974  #96](https://git
+000135a0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+000135b0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+000135c0: 6973 7375 6573 2f39 3629 0a2d 2069 7373  issues/96).- iss
+000135d0: 7565 2077 6974 6820 696e 7374 616c 6c61  ue with installa
+000135e0: 7469 6f6e 205b 5c23 3935 5d28 6874 7470  tion [\#95](http
+000135f0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00013600: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+00013610: 6e2d 6b61 7361 2f69 7373 7565 732f 3935  n-kasa/issues/95
+00013620: 290a 2d20 5275 6e6e 696e 6720 7669 6120  ).- Running via 
+00013630: 4372 6f6e 7461 6220 5b5c 2339 325d 2868  Crontab [\#92](h
+00013640: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00013650: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00013660: 7468 6f6e 2d6b 6173 612f 6973 7375 6573  thon-kasa/issues
+00013670: 2f39 3229 0a2d 2049 7373 7565 7320 7769  /92).- Issues wi
+00013680: 7468 2073 6574 7570 205b 5c23 3931 5d28  th setup [\#91](
+00013690: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000136a0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+000136b0: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
+000136c0: 732f 3931 290a 0a2a 2a4d 6572 6765 6420  s/91)..**Merged 
+000136d0: 7075 6c6c 2072 6571 7565 7374 733a 2a2a  pull requests:**
+000136e0: 0a0a 2d20 5265 6c65 6173 6520 302e 342e  ..- Release 0.4.
+000136f0: 302e 6465 7632 205b 5c23 3131 385d 2868  0.dev2 [\#118](h
+00013700: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00013710: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00013720: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f31  thon-kasa/pull/1
+00013730: 3138 2920 2840 7279 7469 6c61 6874 6929  18) (@rytilahti)
+00013740: 0a2d 2050 696e 2064 6570 656e 6465 6e63  .- Pin dependenc
+00013750: 6965 7320 6f6e 206d 616a 6f72 2076 6572  ies on major ver
+00013760: 7369 6f6e 732c 2061 6464 2070 6f65 7472  sions, add poetr
+00013770: 792e 6c6f 636b 205b 5c23 3934 5d28 6874  y.lock [\#94](ht
+00013780: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00013790: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+000137a0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3934  hon-kasa/pull/94
+000137b0: 2920 2840 7279 7469 6c61 6874 6929 0a0a  ) (@rytilahti)..
+000137c0: 2323 205b 302e 342e 302e 6465 7631 5d28  ## [0.4.0.dev1](
+000137d0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000137e0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+000137f0: 7974 686f 6e2d 6b61 7361 2f74 7265 652f  ython-kasa/tree/
+00013800: 302e 342e 302e 6465 7631 2920 2832 3032  0.4.0.dev1) (202
+00013810: 302d 3037 2d32 3829 0a0a 5b46 756c 6c20  0-07-28)..[Full 
+00013820: 4368 616e 6765 6c6f 675d 2868 7474 7073  Changelog](https
+00013830: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00013840: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00013850: 2d6b 6173 612f 636f 6d70 6172 652f 302e  -kasa/compare/0.
+00013860: 342e 302e 6465 7630 2e2e 2e30 2e34 2e30  4.0.dev0...0.4.0
+00013870: 2e64 6576 3129 0a0a 2a2a 496d 706c 656d  .dev1)..**Implem
+00013880: 656e 7465 6420 656e 6861 6e63 656d 656e  ented enhancemen
+00013890: 7473 3a2a 2a0a 0a2d 204b 4c34 3330 2073  ts:**..- KL430 s
+000138a0: 7570 706f 7274 205b 5c23 3637 5d28 6874  upport [\#67](ht
+000138b0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000138c0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+000138d0: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
+000138e0: 3637 290a 2d20 496d 7072 6f76 6520 7265  67).- Improve re
+000138f0: 7472 7920 6c6f 6769 6320 666f 7220 6469  try logic for di
+00013900: 7363 6f76 6572 792c 206d 6573 7361 6769  scovery, messagi
+00013910: 6e67 205c 2877 6173 3a20 4861 6e64 6c65  ng \(was: Handle
+00013920: 2065 6d70 7479 2072 6573 706f 6e73 6573   empty responses
+00013930: 5c29 205b 5c23 3338 5d28 6874 7470 733a  \) [\#38](https:
+00013940: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00013950: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+00013960: 6b61 7361 2f69 7373 7565 732f 3338 290a  kasa/issues/38).
+00013970: 2d20 4164 6420 7375 7070 6f72 7420 666f  - Add support fo
+00013980: 7220 6c69 6768 7473 7472 6970 7320 5c28  r lightstrips \(
+00013990: 4b4c 3433 305c 2920 5b5c 2337 345d 2868  KL430\) [\#74](h
+000139a0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000139b0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+000139c0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f37  thon-kasa/pull/7
+000139d0: 3429 2028 4072 7974 696c 6168 7469 290a  4) (@rytilahti).
+000139e0: 0a2a 2a44 6f63 756d 656e 7461 7469 6f6e  .**Documentation
+000139f0: 2075 7064 6174 6573 3a2a 2a0a 0a2d 2049   updates:**..- I
+00013a00: 6d70 726f 7665 2070 6f65 7472 7920 7573  mprove poetry us
+00013a10: 6167 6520 646f 6375 6d65 6e74 6174 696f  age documentatio
+00013a20: 6e20 5b5c 2336 305d 2868 7474 7073 3a2f  n [\#60](https:/
+00013a30: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00013a40: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00013a50: 6173 612f 6973 7375 6573 2f36 3029 0a0a  asa/issues/60)..
+00013a60: 2a2a 436c 6f73 6564 2069 7373 7565 733a  **Closed issues:
+00013a70: 2a2a 0a0a 2d20 4920 646f 6e27 7420 7079  **..- I don't py
+00013a80: 7468 6f6e 2e2e 2e20 686f 7720 646f 2049  thon... how do I
+00013a90: 206d 616b 6520 7468 6973 2065 7865 6375   make this execu
+00013aa0: 7461 626c 653f 205b 5c23 3838 5d28 6874  table? [\#88](ht
+00013ab0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00013ac0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00013ad0: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
+00013ae0: 3838 290a 2d20 496d 706f 7274 4572 726f  88).- ImportErro
+00013af0: 723a 2063 616e 6e6f 7420 696d 706f 7274  r: cannot import
+00013b00: 206e 616d 6520 2773 6d61 7274 706c 7567   name 'smartplug
+00013b10: 2720 5b5c 2338 375d 2868 7474 7073 3a2f  ' [\#87](https:/
+00013b20: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00013b30: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00013b40: 6173 612f 6973 7375 6573 2f38 3729 0a2d  asa/issues/87).-
+00013b50: 206e 6f74 2061 626c 6520 746f 2070 6970   not able to pip
+00013b60: 2069 6e73 7461 6c6c 2074 6865 206c 6962   install the lib
+00013b70: 7261 7279 205b 5c23 3832 5d28 6874 7470  rary [\#82](http
+00013b80: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00013b90: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+00013ba0: 6e2d 6b61 7361 2f69 7373 7565 732f 3832  n-kasa/issues/82
+00013bb0: 290a 2d20 4469 7363 6f76 6572 2e64 6973  ).- Discover.dis
+00013bc0: 636f 7665 725c 285c 2920 6164 6420 7365  cover\(\) add se
+00013bd0: 6c65 6374 696e 6720 6e65 7477 6f72 6b20  lecting network 
+00013be0: 696e 7465 7266 6163 6520 5c5b 7075 6c6c  interface \[pull
+00013bf0: 2072 6571 7565 7374 5c5d 205b 5c23 3738   request\] [\#78
+00013c00: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00013c10: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+00013c20: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
+00013c30: 7565 732f 3738 290a 2d20 4c42 3130 3020  ues/78).- LB100 
+00013c40: 756e 6162 6c65 2074 6f20 7475 726e 206f  unable to turn o
+00013c50: 6e20 6f72 206f 6666 2074 6865 206c 6967  n or off the lig
+00013c60: 6874 7320 5b5c 2336 385d 2868 7474 7073  hts [\#68](https
+00013c70: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00013c80: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00013c90: 2d6b 6173 612f 6973 7375 6573 2f36 3829  -kasa/issues/68)
+00013ca0: 0a2d 2073 7973 5c5f 696e 666f 206e 6f74  .- sys\_info not
+00013cb0: 204e 6f6e 6520 6661 696c 7320 6173 7365   None fails asse
+00013cc0: 7274 696f 6e20 5b5c 2335 355d 2868 7474  rtion [\#55](htt
+00013cd0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00013ce0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00013cf0: 6f6e 2d6b 6173 612f 6973 7375 6573 2f35  on-kasa/issues/5
+00013d00: 3529 0a2d 2055 706c 6f61 6420 7072 652d  5).- Upload pre-
+00013d10: 7265 6c65 6173 6520 746f 2070 7970 6920  release to pypi 
+00013d20: 666f 7220 6561 7369 6572 2074 6573 7469  for easier testi
+00013d30: 6e67 205b 5c23 3137 5d28 6874 7470 733a  ng [\#17](https:
+00013d40: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00013d50: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+00013d60: 6b61 7361 2f69 7373 7565 732f 3137 290a  kasa/issues/17).
+00013d70: 0a2a 2a4d 6572 6765 6420 7075 6c6c 2072  .**Merged pull r
+00013d80: 6571 7565 7374 733a 2a2a 0a0a 2d20 5265  equests:**..- Re
+00013d90: 6c65 6173 6520 302e 342e 302e 6465 7631  lease 0.4.0.dev1
+00013da0: 205b 5c23 3933 5d28 6874 7470 733a 2f2f   [\#93](https://
+00013db0: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00013dc0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00013dd0: 7361 2f70 756c 6c2f 3933 2920 2840 7279  sa/pull/93) (@ry
+00013de0: 7469 6c61 6874 6929 0a2d 2061 6464 2061  tilahti).- add a
+00013df0: 2073 6d61 6c6c 2065 7861 6d70 6c65 2073   small example s
+00013e00: 6372 6970 7420 746f 2073 686f 7720 6c69  cript to show li
+00013e10: 6272 6172 7920 7573 6167 6520 5b5c 2339  brary usage [\#9
+00013e20: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
+00013e30: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00013e40: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00013e50: 6c6c 2f39 3029 2028 4072 7974 696c 6168  ll/90) (@rytilah
+00013e60: 7469 290a 2d20 6164 6420 2e72 6561 6474  ti).- add .readt
+00013e70: 6865 646f 6373 2e79 6d6c 2072 6571 7569  hedocs.yml requi
+00013e80: 7265 6420 666f 7220 706f 6574 7279 2062  red for poetry b
+00013e90: 7569 6c64 7320 5b5c 2338 395d 2868 7474  uilds [\#89](htt
+00013ea0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00013eb0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00013ec0: 6f6e 2d6b 6173 612f 7075 6c6c 2f38 3929  on-kasa/pull/89)
+00013ed0: 2028 4072 7974 696c 6168 7469 290a 2d20   (@rytilahti).- 
+00013ee0: 496d 7072 6f76 6520 696e 7374 616c 6c61  Improve installa
+00013ef0: 7469 6f6e 2069 6e73 7472 7563 7469 6f6e  tion instruction
+00013f00: 7320 5b5c 2338 365d 2868 7474 7073 3a2f  s [\#86](https:/
+00013f10: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00013f20: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00013f30: 6173 612f 7075 6c6c 2f38 3629 2028 4072  asa/pull/86) (@r
+00013f40: 7974 696c 6168 7469 290a 2d20 636c 693a  ytilahti).- cli:
+00013f50: 2046 6978 2069 6e63 6f72 7265 6374 2075   Fix incorrect u
+00013f60: 7365 206f 6620 6173 796e 6369 6f2e 7275  se of asyncio.ru
+00013f70: 6e20 666f 7220 7465 6d70 6572 6174 7572  n for temperatur
+00013f80: 6520 636f 6d6d 616e 6420 5b5c 2338 355d  e command [\#85]
+00013f90: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00013fa0: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00013fb0: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+00013fc0: 2f38 3529 2028 4072 7974 696c 6168 7469  /85) (@rytilahti
+00013fd0: 290a 2d20 4164 6420 7061 7273 655c 5f70  ).- Add parse\_p
+00013fe0: 6361 7020 746f 2064 6576 746f 6f6c 732c  cap to devtools,
+00013ff0: 2069 6d70 726f 7665 2072 6561 646d 6520   improve readme 
+00014000: 6f6e 2063 6f6e 7472 6962 7574 696e 6720  on contributing 
+00014010: 5b5c 2338 345d 2868 7474 7073 3a2f 2f67  [\#84](https://g
+00014020: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00014030: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00014040: 612f 7075 6c6c 2f38 3429 2028 4072 7974  a/pull/84) (@ryt
+00014050: 696c 6168 7469 290a 2d20 4164 6420 2d2d  ilahti).- Add --
+00014060: 7472 616e 7369 7469 6f6e 2074 6f20 6275  transition to bu
+00014070: 6c62 2d73 7065 6369 6669 6320 636c 6920  lb-specific cli 
+00014080: 636f 6d6d 616e 6473 2c20 6669 7820 7475  commands, fix tu
+00014090: 726e 5c5f 7b6f 6e2c 6f66 667d 2073 6967  rn\_{on,off} sig
+000140a0: 6e61 7475 7265 7320 5b5c 2338 315d 2868  natures [\#81](h
+000140b0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000140c0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+000140d0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f38  thon-kasa/pull/8
+000140e0: 3129 2028 4072 7974 696c 6168 7469 290a  1) (@rytilahti).
+000140f0: 2d20 496d 7072 6f76 6520 6275 6c62 2041  - Improve bulb A
+00014100: 5049 2c20 666f 7263 6520 7475 726e 206f  PI, force turn o
+00014110: 6e20 666f 7220 616c 6c20 6c69 6768 7420  n for all light 
+00014120: 6368 616e 6765 7320 6173 206f 6666 6c69  changes as offli
+00014130: 6e65 2063 6861 6e67 6573 2061 7265 206e  ne changes are n
+00014140: 6f74 2073 7570 706f 7274 6564 205b 5c23  ot supported [\#
+00014150: 3736 5d28 6874 7470 733a 2f2f 6769 7468  76](https://gith
+00014160: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00014170: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00014180: 756c 6c2f 3736 2920 2840 7279 7469 6c61  ull/76) (@rytila
+00014190: 6874 6929 0a2d 2053 696d 706c 6966 7920  hti).- Simplify 
+000141a0: 4150 4920 646f 6375 6d65 6e74 6174 696f  API documentatio
+000141b0: 6e20 6279 2075 7369 6e67 2064 6f63 7465  n by using docte
+000141c0: 7374 7320 5b5c 2337 335d 2868 7474 7073  sts [\#73](https
+000141d0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+000141e0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+000141f0: 2d6b 6173 612f 7075 6c6c 2f37 3329 2028  -kasa/pull/73) (
+00014200: 4072 7974 696c 6168 7469 290a 2d20 4275  @rytilahti).- Bu
+00014210: 6c62 733a 2061 6c6c 6f77 2073 7065 6369  lbs: allow speci
+00014220: 6679 696e 6720 7472 616e 7369 7469 6f6e  fying transition
+00014230: 2066 6f72 2073 7461 7465 2063 6861 6e67   for state chang
+00014240: 6573 205b 5c23 3730 5d28 6874 7470 733a  es [\#70](https:
+00014250: 2f2f 6769 7468 7562 2e63 6f6d 2f70 7974  //github.com/pyt
+00014260: 686f 6e2d 6b61 7361 2f70 7974 686f 6e2d  hon-kasa/python-
+00014270: 6b61 7361 2f70 756c 6c2f 3730 2920 2840  kasa/pull/70) (@
+00014280: 7279 7469 6c61 6874 6929 0a2d 2041 6464  rytilahti).- Add
+00014290: 2074 7261 6e73 6974 696f 6e20 7375 7070   transition supp
+000142a0: 6f72 7420 666f 7220 536d 6172 7444 696d  ort for SmartDim
+000142b0: 6d65 7220 5b5c 2336 395d 2868 7474 7073  mer [\#69](https
+000142c0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+000142d0: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+000142e0: 2d6b 6173 612f 7075 6c6c 2f36 3929 2028  -kasa/pull/69) (
+000142f0: 4063 6f6e 6e6f 7270 726f 6374 6f72 290a  @connorproctor).
+00014300: 0a23 2320 5b30 2e34 2e30 2e64 6576 305d  .## [0.4.0.dev0]
+00014310: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00014320: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00014330: 7079 7468 6f6e 2d6b 6173 612f 7472 6565  python-kasa/tree
+00014340: 2f30 2e34 2e30 2e64 6576 3029 2028 3230  /0.4.0.dev0) (20
+00014350: 3230 2d30 352d 3237 290a 0a5b 4675 6c6c  20-05-27)..[Full
+00014360: 2043 6861 6e67 656c 6f67 5d28 6874 7470   Changelog](http
+00014370: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00014380: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+00014390: 6e2d 6b61 7361 2f63 6f6d 7061 7265 2f30  n-kasa/compare/0
+000143a0: 2e34 2e30 2e70 7265 302e 2e2e 302e 342e  .4.0.pre0...0.4.
+000143b0: 302e 6465 7630 290a 0a23 2320 5b30 2e34  0.dev0)..## [0.4
+000143c0: 2e30 2e70 7265 305d 2868 7474 7073 3a2f  .0.pre0](https:/
+000143d0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+000143e0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+000143f0: 6173 612f 7472 6565 2f30 2e34 2e30 2e70  asa/tree/0.4.0.p
+00014400: 7265 3029 2028 3230 3230 2d30 352d 3237  re0) (2020-05-27
+00014410: 290a 0a5b 4675 6c6c 2043 6861 6e67 656c  )..[Full Changel
+00014420: 6f67 5d28 6874 7470 733a 2f2f 6769 7468  og](https://gith
+00014430: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00014440: 7361 2f70 7974 686f 6e2d 6b61 7361 2f63  sa/python-kasa/c
+00014450: 6f6d 7061 7265 2f30 2e33 2e35 2e2e 2e30  ompare/0.3.5...0
+00014460: 2e34 2e30 2e70 7265 3029 0a0a 2a2a 496d  .4.0.pre0)..**Im
+00014470: 706c 656d 656e 7465 6420 656e 6861 6e63  plemented enhanc
+00014480: 656d 656e 7473 3a2a 2a0a 0a2d 2041 6464  ements:**..- Add
+00014490: 2063 6f6d 6d61 6e64 7320 746f 2063 6f6e   commands to con
+000144a0: 7472 6f6c 2074 6865 2077 6966 6920 7365  trol the wifi se
+000144b0: 7474 696e 6773 205b 5c23 3435 5d28 6874  ttings [\#45](ht
+000144c0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000144d0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+000144e0: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3435  hon-kasa/pull/45
+000144f0: 2920 2840 7279 7469 6c61 6874 6929 0a0a  ) (@rytilahti)..
+00014500: 2a2a 4669 7865 6420 6275 6773 3a2a 2a0a  **Fixed bugs:**.
+00014510: 0a2d 2048 5356 2063 6c69 2063 6f6d 6d61  .- HSV cli comma
+00014520: 6e64 206e 6f74 2077 6f72 6b69 6e67 205b  nd not working [
+00014530: 5c23 3433 5d28 6874 7470 733a 2f2f 6769  \#43](https://gi
+00014540: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00014550: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00014560: 2f69 7373 7565 732f 3433 290a 0a2a 2a43  /issues/43)..**C
+00014570: 6c6f 7365 6420 6973 7375 6573 3a2a 2a0a  losed issues:**.
+00014580: 0a2d 2050 756c 6c20 7265 7175 6573 7420  .- Pull request 
+00014590: 5c23 3534 2062 726f 6b65 2069 6e73 7461  \#54 broke insta
+000145a0: 6c6c 6572 3f20 5b5c 2336 365d 2868 7474  ller? [\#66](htt
+000145b0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000145c0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+000145d0: 6f6e 2d6b 6173 612f 6973 7375 6573 2f36  on-kasa/issues/6
+000145e0: 3629 0a2d 2052 4643 3a20 7265 6d6f 7665  6).- RFC: remove
+000145f0: 2069 6d70 6c69 6369 7420 7570 6461 7465   implicit update
+00014600: 7320 6166 7465 7220 7374 6174 6520 6368  s after state ch
+00014610: 616e 6765 733f 205b 5c23 3631 5d28 6874  anges? [\#61](ht
+00014620: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00014630: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00014640: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
+00014650: 3631 290a 2d20 486f 7720 746f 2069 6e73  61).- How to ins
+00014660: 7461 6c6c 3f20 5b5c 2335 375d 2868 7474  tall? [\#57](htt
+00014670: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00014680: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00014690: 6f6e 2d6b 6173 612f 6973 7375 6573 2f35  on-kasa/issues/5
+000146a0: 3729 0a2d 2052 6571 7565 7374 2061 6c6c  7).- Request all
+000146b0: 206e 6563 6573 7361 7279 2069 6e66 6f72   necessary infor
+000146c0: 6d61 7469 6f6e 2064 7572 696e 6720 7570  mation during up
+000146d0: 6461 7465 5c28 5c29 205b 5c23 3533 5d28  date\(\) [\#53](
+000146e0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000146f0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00014700: 7974 686f 6e2d 6b61 7361 2f69 7373 7565  ython-kasa/issue
+00014710: 732f 3533 290a 2d20 4853 3130 3720 5375  s/53).- HS107 Su
+00014720: 7070 6f72 7420 5b5c 2333 375d 2868 7474  pport [\#37](htt
+00014730: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00014740: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00014750: 6f6e 2d6b 6173 612f 6973 7375 6573 2f33  on-kasa/issues/3
+00014760: 3729 0a2d 2053 6570 6172 6174 6520 6469  7).- Separate di
+00014770: 6d6d 6572 2d72 656c 6174 6564 2063 6f64  mmer-related cod
+00014780: 6520 6672 6f6d 2073 6d61 7274 706c 7567  e from smartplug
+00014790: 2063 6c61 7373 205b 5c23 3333 5d28 6874   class [\#33](ht
+000147a0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000147b0: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+000147c0: 686f 6e2d 6b61 7361 2f69 7373 7565 732f  hon-kasa/issues/
+000147d0: 3333 290a 2d20 4164 6420 4d61 6320 4f53  33).- Add Mac OS
+000147e0: 5820 616e 6420 5769 6e64 6f77 7320 666f  X and Windows fo
+000147f0: 7220 4349 205b 5c23 3330 5d28 6874 7470  r CI [\#30](http
+00014800: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00014810: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+00014820: 6e2d 6b61 7361 2f69 7373 7565 732f 3330  n-kasa/issues/30
+00014830: 290a 2d20 4b50 3330 335c 2855 4b5c 2920  ).- KP303\(UK\) 
+00014840: 646f 6573 206e 6f74 2070 6173 7320 6368  does not pass ch
+00014850: 6563 6b20 7769 7468 2070 7974 6573 7420  eck with pytest 
+00014860: 5b5c 2332 375d 2868 7474 7073 3a2f 2f67  [\#27](https://g
+00014870: 6974 6875 622e 636f 6d2f 7079 7468 6f6e  ithub.com/python
+00014880: 2d6b 6173 612f 7079 7468 6f6e 2d6b 6173  -kasa/python-kas
+00014890: 612f 6973 7375 6573 2f32 3729 0a2d 2052  a/issues/27).- R
+000148a0: 656d 6f76 6520 7379 6e63 2069 6e74 6572  emove sync inter
+000148b0: 6661 6365 2077 7261 7070 6572 205b 5c23  face wrapper [\#
+000148c0: 3132 5d28 6874 7470 733a 2f2f 6769 7468  12](https://gith
+000148d0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+000148e0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f69  sa/python-kasa/i
+000148f0: 7373 7565 732f 3132 290a 2d20 4d61 7373  ssues/12).- Mass
+00014900: 2063 6c6f 7365 2070 7968 7331 3030 2069   close pyhs100 i
+00014910: 7373 7565 7320 616e 6420 5052 7320 5b5c  ssues and PRs [\
+00014920: 2331 315d 2868 7474 7073 3a2f 2f67 6974  #11](https://git
+00014930: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00014940: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00014950: 6973 7375 6573 2f31 3129 0a2d 2055 7064  issues/11).- Upd
+00014960: 6174 6520 7265 6164 6d65 205b 5c23 3130  ate readme [\#10
+00014970: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00014980: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+00014990: 2f70 7974 686f 6e2d 6b61 7361 2f69 7373  /python-kasa/iss
+000149a0: 7565 732f 3130 290a 2d20 4164 6420 636f  ues/10).- Add co
+000149b0: 6e74 7269 6275 7469 6f6e 2067 7569 6465  ntribution guide
+000149c0: 6c69 6e65 7320 616e 6420 696e 7374 7275  lines and instru
+000149d0: 6374 696f 6e73 205b 5c23 385d 2868 7474  ctions [\#8](htt
+000149e0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000149f0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00014a00: 6f6e 2d6b 6173 612f 6973 7375 6573 2f38  on-kasa/issues/8
+00014a10: 290a 2d20 436f 6e76 6572 7420 6469 7363  ).- Convert disc
+00014a20: 6f76 6572 7920 746f 2075 7365 2061 7379  overy to use asy
+00014a30: 6e63 696f 205b 5c23 375d 2868 7474 7073  ncio [\#7](https
+00014a40: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00014a50: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00014a60: 2d6b 6173 612f 6973 7375 6573 2f37 290a  -kasa/issues/7).
+00014a70: 2d20 5079 7468 6f6e 2056 6572 7369 6f6e  - Python Version
+00014a80: 3f20 5b5c 2334 5d28 6874 7470 733a 2f2f  ? [\#4](https://
+00014a90: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00014aa0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00014ab0: 7361 2f69 7373 7565 732f 3429 0a2d 2046  sa/issues/4).- F
+00014ac0: 6978 2066 6169 6c69 6e67 2074 6573 7473  ix failing tests
+00014ad0: 3a20 4b65 7945 7272 6f72 3a20 2772 656c  : KeyError: 'rel
+00014ae0: 6179 5c5f 7374 6174 6527 205b 5c23 325d  ay\_state' [\#2]
+00014af0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00014b00: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00014b10: 7079 7468 6f6e 2d6b 6173 612f 6973 7375  python-kasa/issu
+00014b20: 6573 2f32 290a 0a2a 2a4d 6572 6765 6420  es/2)..**Merged 
+00014b30: 7075 6c6c 2072 6571 7565 7374 733a 2a2a  pull requests:**
+00014b40: 0a0a 2d20 4164 6420 7265 7472 6965 7320  ..- Add retries 
+00014b50: 746f 2070 726f 746f 636f 6c20 7175 6572  to protocol quer
+00014b60: 6965 7320 5b5c 2336 355d 2868 7474 7073  ies [\#65](https
+00014b70: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00014b80: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00014b90: 2d6b 6173 612f 7075 6c6c 2f36 3529 2028  -kasa/pull/65) (
+00014ba0: 4072 7974 696c 6168 7469 290a 2d20 4765  @rytilahti).- Ge
+00014bb0: 6e65 7261 6c20 636c 6561 6e75 7073 2061  neral cleanups a
+00014bc0: 6c6c 2061 726f 756e 6420 5c28 6a61 6e69  ll around \(jani
+00014bd0: 746f 7269 6e67 5c29 205b 5c23 3633 5d28  toring\) [\#63](
+00014be0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00014bf0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00014c00: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00014c10: 3633 2920 2840 7279 7469 6c61 6874 6929  63) (@rytilahti)
+00014c20: 0a2d 2049 6d70 726f 7665 2064 696d 6d65  .- Improve dimme
+00014c30: 7220 7375 7070 6f72 7420 5b5c 2336 325d  r support [\#62]
+00014c40: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00014c50: 636f 6d2f 7079 7468 6f6e 2d6b 6173 612f  com/python-kasa/
+00014c60: 7079 7468 6f6e 2d6b 6173 612f 7075 6c6c  python-kasa/pull
+00014c70: 2f36 3229 2028 4072 7974 696c 6168 7469  /62) (@rytilahti
+00014c80: 290a 2d20 4f70 7469 6d69 7a65 2049 2f4f  ).- Optimize I/O
+00014c90: 2061 6363 6573 7320 5b5c 2335 395d 2868   access [\#59](h
+00014ca0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00014cb0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00014cc0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f35  thon-kasa/pull/5
+00014cd0: 3929 2028 4072 7974 696c 6168 7469 290a  9) (@rytilahti).
+00014ce0: 2d20 5265 6d6f 7665 2075 6e6e 6563 6573  - Remove unneces
+00014cf0: 7361 7279 2066 2d73 7472 696e 6720 6465  sary f-string de
+00014d00: 6669 6e69 7469 6f6e 2074 6f20 6d61 6b65  finition to make
+00014d10: 2074 6573 7473 2070 6173 7320 5b5c 2335   tests pass [\#5
+00014d20: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
+00014d30: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00014d40: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00014d50: 6c6c 2f35 3829 2028 4072 7974 696c 6168  ll/58) (@rytilah
+00014d60: 7469 290a 2d20 436f 6e76 6572 7420 746f  ti).- Convert to
+00014d70: 2075 7365 2070 6f65 7472 7920 2620 7079   use poetry & py
+00014d80: 7072 6f6a 6563 742e 746f 6d6c 2066 6f72  project.toml for
+00014d90: 2064 6570 2026 2062 7569 6c64 206d 616e   dep & build man
+00014da0: 6167 656d 656e 7420 5b5c 2335 345d 2868  agement [\#54](h
+00014db0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00014dc0: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00014dd0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f35  thon-kasa/pull/5
+00014de0: 3429 2028 4072 7974 696c 6168 7469 290a  4) (@rytilahti).
+00014df0: 2d20 4164 6420 6669 7874 7572 6520 666f  - Add fixture fo
+00014e00: 7220 4b4c 3630 205b 5c23 3532 5d28 6874  r KL60 [\#52](ht
+00014e10: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00014e20: 2f70 7974 686f 6e2d 6b61 7361 2f70 7974  /python-kasa/pyt
+00014e30: 686f 6e2d 6b61 7361 2f70 756c 6c2f 3532  hon-kasa/pull/52
+00014e40: 2920 2840 7279 7469 6c61 6874 6929 0a2d  ) (@rytilahti).-
+00014e50: 2049 676e 6f72 6520 4432 3032 2077 6865   Ignore D202 whe
+00014e60: 7265 206e 6563 6573 7361 7279 205b 5c23  re necessary [\#
+00014e70: 3530 5d28 6874 7470 733a 2f2f 6769 7468  50](https://gith
+00014e80: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00014e90: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00014ea0: 756c 6c2f 3530 2920 2840 7279 7469 6c61  ull/50) (@rytila
+00014eb0: 6874 6929 0a2d 2053 7570 706f 7274 2077  hti).- Support w
+00014ec0: 6966 6920 7363 616e 2026 206a 6f69 6e20  ifi scan & join 
+00014ed0: 666f 7220 6275 6c62 7320 7573 696e 6720  for bulbs using 
+00014ee0: 6120 6469 6666 6572 656e 7420 696e 7465  a different inte
+00014ef0: 7266 6163 6520 5b5c 2334 395d 2868 7474  rface [\#49](htt
+00014f00: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00014f10: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+00014f20: 6f6e 2d6b 6173 612f 7075 6c6c 2f34 3929  on-kasa/pull/49)
+00014f30: 2028 4072 7974 696c 6168 7469 290a 2d20   (@rytilahti).- 
+00014f40: 5265 7475 726e 206f 6e5c 5f73 696e 6365  Return on\_since
+00014f50: 206f 6e6c 7920 7768 656e 2069 7473 2061   only when its a
+00014f60: 7661 696c 6162 6c65 2061 6e64 2074 6865  vailable and the
+00014f70: 2064 6576 6963 6520 6973 206f 6e20 5b5c   device is on [\
+00014f80: 2334 385d 2868 7474 7073 3a2f 2f67 6974  #48](https://git
+00014f90: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00014fa0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00014fb0: 7075 6c6c 2f34 3829 2028 4072 7974 696c  pull/48) (@rytil
+00014fc0: 6168 7469 290a 2d20 416c 6c6f 7720 3020  ahti).- Allow 0 
+00014fd0: 6272 6967 6874 6e65 7373 2066 6f72 2073  brightness for s
+00014fe0: 6d61 7274 6469 6d6d 6572 205b 5c23 3437  martdimmer [\#47
+00014ff0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00015000: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+00015010: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+00015020: 6c2f 3437 2920 2840 7279 7469 6c61 6874  l/47) (@rytilaht
+00015030: 6929 0a2d 2061 7379 6e63 2b2b 2c20 736d  i).- async++, sm
+00015040: 616c 6c20 706f 7765 7273 7472 6970 2069  all powerstrip i
+00015050: 6d70 726f 7665 6d65 6e74 7320 5b5c 2334  mprovements [\#4
+00015060: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
+00015070: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00015080: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00015090: 6c6c 2f34 3629 2028 4072 7974 696c 6168  ll/46) (@rytilah
+000150a0: 7469 290a 2d20 4368 6563 6b20 666f 7220  ti).- Check for 
+000150b0: 656d 6574 6572 2073 7570 706f 7274 206f  emeter support o
+000150c0: 6e20 706f 7765 7220 7374 7269 7073 2f6d  n power strips/m
+000150d0: 756c 7469 706c 6520 706c 7567 206f 7574  ultiple plug out
+000150e0: 6c65 7473 205b 5c23 3431 5d28 6874 7470  lets [\#41](http
+000150f0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00015100: 7974 686f 6e2d 6b61 7361 2f70 7974 686f  ython-kasa/pytho
+00015110: 6e2d 6b61 7361 2f70 756c 6c2f 3431 2920  n-kasa/pull/41) 
+00015120: 2840 6163 6d61 7929 0a2d 2052 656d 6f76  (@acmay).- Remov
+00015130: 6520 756e 6e65 6365 7373 6172 7920 6361  e unnecessary ca
+00015140: 6368 6520 5b5c 2334 305d 2868 7474 7073  che [\#40](https
+00015150: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00015160: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00015170: 2d6b 6173 612f 7075 6c6c 2f34 3029 2028  -kasa/pull/40) (
+00015180: 4072 7974 696c 6168 7469 290a 2d20 4164  @rytilahti).- Ad
+00015190: 6420 696e 2073 6f6d 6520 6e65 7720 6465  d in some new de
+000151a0: 7669 6365 2074 7970 6573 205b 5c23 3339  vice types [\#39
+000151b0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000151c0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+000151d0: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+000151e0: 6c2f 3339 2920 2840 6163 6d61 7929 0a2d  l/39) (@acmay).-
+000151f0: 2041 6464 2074 6573 7420 6669 7874 7572   Add test fixtur
+00015200: 6520 666f 7220 4b4c 3133 3020 5b5c 2333  e for KL130 [\#3
+00015210: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
+00015220: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+00015230: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+00015240: 6c6c 2f33 3529 2028 4062 6472 6163 6f29  ll/35) (@bdraco)
+00015250: 0a2d 204d 6f76 6520 6469 6d6d 6572 2073  .- Move dimmer s
+00015260: 7570 706f 7274 2074 6f20 6974 7320 6f77  upport to its ow
+00015270: 6e20 636c 6173 7320 5b5c 2333 345d 2868  n class [\#34](h
+00015280: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00015290: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+000152a0: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f33  thon-kasa/pull/3
+000152b0: 3429 2028 4072 7974 696c 6168 7469 290a  4) (@rytilahti).
+000152c0: 2d20 4669 7820 617a 7572 6520 7069 7065  - Fix azure pipe
+000152d0: 6c69 6e65 2062 6164 6765 205b 5c23 3332  line badge [\#32
+000152e0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000152f0: 2e63 6f6d 2f70 7974 686f 6e2d 6b61 7361  .com/python-kasa
+00015300: 2f70 7974 686f 6e2d 6b61 7361 2f70 756c  /python-kasa/pul
+00015310: 6c2f 3332 2920 2840 7279 7469 6c61 6874  l/32) (@rytilaht
+00015320: 6929 0a2d 2045 6e61 626c 6520 5769 6e64  i).- Enable Wind
+00015330: 6f77 7320 2620 4f53 5820 6275 696c 6473  ows & OSX builds
+00015340: 205b 5c23 3331 5d28 6874 7470 733a 2f2f   [\#31](https://
+00015350: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00015360: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00015370: 7361 2f70 756c 6c2f 3331 2920 2840 7279  sa/pull/31) (@ry
+00015380: 7469 6c61 6874 6929 0a2d 2044 6570 656e  tilahti).- Depen
+00015390: 6420 6f6e 2070 7933 2e37 2b20 666f 7220  d on py3.7+ for 
+000153a0: 746f 782c 2061 6464 2070 7974 686f 6e20  tox, add python 
+000153b0: 332e 3820 746f 2061 7a75 7265 2070 6970  3.8 to azure pip
+000153c0: 656c 696e 6520 7461 7267 6574 7320 5b5c  eline targets [\
+000153d0: 2332 395d 2868 7474 7073 3a2f 2f67 6974  #29](https://git
+000153e0: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+000153f0: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00015400: 7075 6c6c 2f32 3929 2028 4072 7974 696c  pull/29) (@rytil
+00015410: 6168 7469 290a 2d20 4164 6420 4b50 3330  ahti).- Add KP30
+00015420: 3320 746f 2074 6865 206c 6973 7420 6f66  3 to the list of
+00015430: 2070 6f77 6572 7374 7269 7073 205b 5c23   powerstrips [\#
+00015440: 3238 5d28 6874 7470 733a 2f2f 6769 7468  28](https://gith
+00015450: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00015460: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00015470: 756c 6c2f 3238 2920 2840 7279 7469 6c61  ull/28) (@rytila
+00015480: 6874 6929 0a2d 204d 6f76 6520 6368 696c  hti).- Move chil
+00015490: 6420 736f 636b 6574 2068 616e 646c 696e  d socket handlin
+000154a0: 6720 746f 2069 7473 206f 776e 2053 6d61  g to its own Sma
+000154b0: 7274 5374 7269 7050 6c75 6720 636c 6173  rtStripPlug clas
+000154c0: 7320 5b5c 2332 365d 2868 7474 7073 3a2f  s [\#26](https:/
+000154d0: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+000154e0: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+000154f0: 6173 612f 7075 6c6c 2f32 3629 2028 4072  asa/pull/26) (@r
+00015500: 7974 696c 6168 7469 290a 2d20 4164 6469  ytilahti).- Addi
+00015510: 6e67 204b 5033 3033 2074 6f20 7375 7070  ng KP303 to supp
+00015520: 6f72 7465 6420 6465 7669 6365 7320 5b5c  orted devices [\
+00015530: 2332 355d 2868 7474 7073 3a2f 2f67 6974  #25](https://git
+00015540: 6875 622e 636f 6d2f 7079 7468 6f6e 2d6b  hub.com/python-k
+00015550: 6173 612f 7079 7468 6f6e 2d6b 6173 612f  asa/python-kasa/
+00015560: 7075 6c6c 2f32 3529 2028 4065 7069 6361  pull/25) (@epica
+00015570: 6c65 7829 0a2d 2075 7365 2070 7974 6573  lex).- use pytes
+00015580: 746d 6172 6b20 746f 2061 766f 6964 2072  tmark to avoid r
+00015590: 6570 6561 7469 6e67 2061 7379 6e63 696f  epeating asyncio
+000155a0: 206d 6172 6b20 5b5c 2332 345d 2868 7474   mark [\#24](htt
+000155b0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000155c0: 7079 7468 6f6e 2d6b 6173 612f 7079 7468  python-kasa/pyth
+000155d0: 6f6e 2d6b 6173 612f 7075 6c6c 2f32 3429  on-kasa/pull/24)
+000155e0: 2028 4072 7974 696c 6168 7469 290a 2d20   (@rytilahti).- 
+000155f0: 436c 6561 6e75 7020 636f 6e73 7472 7563  Cleanup construc
+00015600: 746f 7273 2062 7920 7265 6d6f 7669 6e67  tors by removing
+00015610: 2069 6f6c 6f6f 7020 616e 6420 7072 6f74   ioloop and prot
+00015620: 6f63 6f6c 2061 7267 756d 656e 7473 205b  ocol arguments [
+00015630: 5c23 3233 5d28 6874 7470 733a 2f2f 6769  \#23](https://gi
+00015640: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00015650: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00015660: 2f70 756c 6c2f 3233 2920 2840 7279 7469  /pull/23) (@ryti
+00015670: 6c61 6874 6929 0a2d 2041 6464 205c 2873  lahti).- Add \(s
+00015680: 6f6d 655c 2920 7465 7374 7320 746f 2074  ome\) tests to t
+00015690: 6865 2063 6c69 2074 6f6f 6c20 5b5c 2332  he cli tool [\#2
+000156a0: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
+000156b0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+000156c0: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+000156d0: 6c6c 2f32 3229 2028 4072 7974 696c 6168  ll/22) (@rytilah
+000156e0: 7469 290a 2d20 5465 7374 2061 6761 696e  ti).- Test again
+000156f0: 7374 2074 6865 206e 6577 6c79 2061 6464  st the newly add
+00015700: 6564 2064 6576 6963 6520 6669 7874 7572  ed device fixtur
+00015710: 6573 2020 5b5c 2332 315d 2868 7474 7073  es  [\#21](https
+00015720: 3a2f 2f67 6974 6875 622e 636f 6d2f 7079  ://github.com/py
+00015730: 7468 6f6e 2d6b 6173 612f 7079 7468 6f6e  thon-kasa/python
+00015740: 2d6b 6173 612f 7075 6c6c 2f32 3129 2028  -kasa/pull/21) (
+00015750: 4072 7974 696c 6168 7469 290a 2d20 6d6f  @rytilahti).- mo
+00015760: 7665 2074 6573 7469 6e67 2072 6571 7320  ve testing reqs 
+00015770: 746f 2072 6571 7569 7265 6d65 6e74 735c  to requirements\
+00015780: 5f74 6573 742e 7478 742c 2061 6464 2070  _test.txt, add p
+00015790: 7974 6573 742d 6173 796e 6369 6f20 666f  ytest-asyncio fo
+000157a0: 7220 7069 7065 6c69 6e65 7320 5b5c 2332  r pipelines [\#2
+000157b0: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
+000157c0: 622e 636f 6d2f 7079 7468 6f6e 2d6b 6173  b.com/python-kas
+000157d0: 612f 7079 7468 6f6e 2d6b 6173 612f 7075  a/python-kasa/pu
+000157e0: 6c6c 2f32 3029 2028 4072 7974 696c 6168  ll/20) (@rytilah
+000157f0: 7469 290a 2d20 5265 6d6f 7665 2075 6e75  ti).- Remove unu
+00015800: 7365 6420 7361 7665 206f 7074 696f 6e20  sed save option 
+00015810: 616e 6420 6164 6420 7363 7275 6262 696e  and add scrubbin
+00015820: 6720 5b5c 2331 395d 2868 7474 7073 3a2f  g [\#19](https:/
+00015830: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00015840: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00015850: 6173 612f 7075 6c6c 2f31 3929 2028 4054  asa/pull/19) (@T
+00015860: 6865 4761 7264 656e 4d6f 6e6b 6579 290a  heGardenMonkey).
+00015870: 2d20 4164 6420 7265 616c 206b 6173 6120  - Add real kasa 
+00015880: 6465 7669 6365 2064 756d 7073 205b 5c23  device dumps [\#
+00015890: 3138 5d28 6874 7470 733a 2f2f 6769 7468  18](https://gith
+000158a0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+000158b0: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+000158c0: 756c 6c2f 3138 2920 2840 5468 6547 6172  ull/18) (@TheGar
+000158d0: 6465 6e4d 6f6e 6b65 7929 0a2d 2046 6978  denMonkey).- Fix
+000158e0: 2064 756d 702d 6469 7363 6f76 6572 2074   dump-discover t
+000158f0: 6f20 7573 6520 6173 796e 6369 6f2e 7275  o use asyncio.ru
+00015900: 6e20 5b5c 2331 365d 2868 7474 7073 3a2f  n [\#16](https:/
+00015910: 2f67 6974 6875 622e 636f 6d2f 7079 7468  /github.com/pyth
+00015920: 6f6e 2d6b 6173 612f 7079 7468 6f6e 2d6b  on-kasa/python-k
+00015930: 6173 612f 7075 6c6c 2f31 3629 2028 4072  asa/pull/16) (@r
+00015940: 7974 696c 6168 7469 290a 2d20 4164 6420  ytilahti).- Add 
+00015950: 6465 7669 6365 5c5f 6964 2070 726f 7065  device\_id prope
+00015960: 7274 792c 2072 656e 616d 6520 636f 6e74  rty, rename cont
+00015970: 6578 7420 746f 2063 6869 6c64 5c5f 6964  ext to child\_id
+00015980: 205b 5c23 3135 5d28 6874 7470 733a 2f2f   [\#15](https://
+00015990: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+000159a0: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+000159b0: 7361 2f70 756c 6c2f 3135 2920 2840 7279  sa/pull/15) (@ry
+000159c0: 7469 6c61 6874 6929 0a2d 2052 656d 6f76  tilahti).- Remov
+000159d0: 6520 7379 6e63 2069 6e74 6572 6661 6365  e sync interface
+000159e0: 2c20 6164 6420 6173 796e 6369 6f20 6469  , add asyncio di
+000159f0: 7363 6f76 6572 7920 5b5c 2331 345d 2868  scovery [\#14](h
+00015a00: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00015a10: 6d2f 7079 7468 6f6e 2d6b 6173 612f 7079  m/python-kasa/py
+00015a20: 7468 6f6e 2d6b 6173 612f 7075 6c6c 2f31  thon-kasa/pull/1
+00015a30: 3429 2028 4072 7974 696c 6168 7469 290a  4) (@rytilahti).
+00015a40: 2d20 5265 6d6f 7665 202d 2d69 7020 7768  - Remove --ip wh
+00015a50: 6963 6820 7761 7320 6a75 7374 2061 6e20  ich was just an 
+00015a60: 616c 6961 7320 746f 202d 2d68 6f73 7420  alias to --host 
+00015a70: 5b5c 2336 5d28 6874 7470 733a 2f2f 6769  [\#6](https://gi
+00015a80: 7468 7562 2e63 6f6d 2f70 7974 686f 6e2d  thub.com/python-
+00015a90: 6b61 7361 2f70 7974 686f 6e2d 6b61 7361  kasa/python-kasa
+00015aa0: 2f70 756c 6c2f 3629 2028 4072 7974 696c  /pull/6) (@rytil
+00015ab0: 6168 7469 290a 2d20 5365 7420 6d69 6e69  ahti).- Set mini
+00015ac0: 6d75 6d20 7265 7175 6972 656d 656e 7420  mum requirement 
+00015ad0: 746f 2070 7974 686f 6e20 332e 3720 5b5c  to python 3.7 [\
+00015ae0: 2335 5d28 6874 7470 733a 2f2f 6769 7468  #5](https://gith
+00015af0: 7562 2e63 6f6d 2f70 7974 686f 6e2d 6b61  ub.com/python-ka
+00015b00: 7361 2f70 7974 686f 6e2d 6b61 7361 2f70  sa/python-kasa/p
+00015b10: 756c 6c2f 3529 2028 4072 7974 696c 6168  ull/5) (@rytilah
+00015b20: 7469 290a 2d20 6368 616e 6765 2049 4420  ti).- change ID 
+00015b30: 6f66 2041 7a75 7265 2050 6970 656c 696e  of Azure Pipelin
+00015b40: 6520 5b5c 2333 5d28 6874 7470 733a 2f2f  e [\#3](https://
+00015b50: 6769 7468 7562 2e63 6f6d 2f70 7974 686f  github.com/pytho
+00015b60: 6e2d 6b61 7361 2f70 7974 686f 6e2d 6b61  n-kasa/python-ka
+00015b70: 7361 2f70 756c 6c2f 3329 2028 4062 6173  sa/pull/3) (@bas
+00015b80: 6e69 6a68 6f6c 7429 0a2d 204d 6173 7320  nijholt).- Mass 
+00015b90: 7265 6e61 6d65 2074 6f20 5c28 7079 7468  rename to \(pyth
+00015ba0: 6f6e 2d5c 296b 6173 6120 5b5c 2331 5d28  on-\)kasa [\#1](
+00015bb0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00015bc0: 6f6d 2f70 7974 686f 6e2d 6b61 7361 2f70  om/python-kasa/p
+00015bd0: 7974 686f 6e2d 6b61 7361 2f70 756c 6c2f  ython-kasa/pull/
+00015be0: 3129 2028 4072 7974 696c 6168 7469 290a  1) (@rytilahti).
+00015bf0: 0a48 6973 746f 7269 6361 6c20 7079 4853  .Historical pyHS
+00015c00: 3130 3020 6368 616e 6765 6c6f 670a 3d3d  100 changelog.==
+00015c10: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00015c20: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 302e 332e  ==========..0.3.
+00015c30: 3520 2832 3031 392d 3034 2d31 3329 0a2d  5 (2019-04-13).-
+00015c40: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d 2046  -----------..- F
+00015c50: 6978 2066 6f72 2053 6d61 7274 5374 7269  ix for SmartStri
+00015c60: 7020 7265 7072 2028 2331 3639 2920 5b41  p repr (#169) [A
+00015c70: 6c65 785d 0a0a 2020 2a20 4164 6465 6420  lex]..  * Added 
+00015c80: 756e 6974 2074 6573 7473 2066 6f72 2072  unit tests for r
+00015c90: 6570 722e 0a0a 2020 2a20 4669 7820 7265  epr...  * Fix re
+00015ca0: 7072 2066 6f72 2053 6d61 7274 5374 7269  pr for SmartStri
+00015cb0: 702e 0a0a 2020 4669 7865 7320 2331 3635  p...  Fixes #165
+00015cc0: 0a0a 2d20 536d 6172 7473 7472 6970 3a20  ..- Smartstrip: 
+00015cd0: 7265 7475 726e 206f 6e5f 7369 6e63 6520  return on_since 
+00015ce0: 7374 6174 6520 696e 666f 726d 6174 696f  state informatio
+00015cf0: 6e20 6f6e 6c79 2077 6865 6e20 7468 6520  n only when the 
+00015d00: 736f 636b 6574 2069 7320 6f6e 2028 2331  socket is on (#1
+00015d10: 3631 2920 5b54 6565 6d75 2052 5d0a 0a20  61) [Teemu R].. 
+00015d20: 202a 2053 6d61 7274 7374 7269 703a 2072   * Smartstrip: r
+00015d30: 6574 7572 6e20 6f6e 5f73 696e 6365 2073  eturn on_since s
+00015d40: 7461 7465 2069 6e66 6f72 6d61 7469 6f6e  tate information
+00015d50: 206f 6e6c 7920 7768 656e 2074 6865 2073   only when the s
+00015d60: 6f63 6b65 7420 6973 206f 6e0a 0a20 2046  ocket is on..  F
+00015d70: 6978 6573 2023 3136 300a 0a20 202a 2061  ixes #160..  * a
+00015d80: 6464 2070 726f 7065 7220 636c 6920 7072  dd proper cli pr
+00015d90: 696e 746f 7574 2066 6f72 2068 7333 3030  intout for hs300
+00015da0: 2063 6869 6c64 2073 6f63 6b65 7473 0a0a   child sockets..
+00015db0: 2020 2a20 6974 6572 6174 6520 6f76 6572    * iterate over
+00015dc0: 2072 616e 6765 2c20 6e6f 7420 616e 2069   range, not an i
+00015dd0: 6e74 6567 6572 0a0a 2d20 4275 6c62 3a20  nteger..- Bulb: 
+00015de0: 6164 6420 7468 6520 7465 6d70 6572 6174  add the temperat
+00015df0: 7572 6520 7261 6e67 6520 746f 2073 7461  ure range to sta
+00015e00: 7465 5f69 6e66 6f72 6d61 7469 6f6e 2c20  te_information, 
+00015e10: 696e 666f 726d 2074 6865 2075 7365 7220  inform the user 
+00015e20: 6966 2074 6865 2069 6e66 6f20 6973 206d  if the info is m
+00015e30: 6973 7369 6e67 2077 6865 6e20 6361 6c6c  issing when call
+00015e40: 696e 6720 7465 6d70 6572 6174 7572 6520  ing temperature 
+00015e50: 2823 3136 3329 205b 5465 656d 7520 525d  (#163) [Teemu R]
+00015e60: 0a0a 2d20 4669 7820 4469 7363 6f76 6572  ..- Fix Discover
+00015e70: 2364 6973 636f 7665 7220 696e 636f 7272  #discover incorr
+00015e80: 6563 7420 646f 6375 6d65 6e74 6174 696f  ect documentatio
+00015e90: 6e20 2823 3135 3929 205b 4765 6f72 6769  n (#159) [Georgi
+00015ea0: 204b 6972 6963 686b 6f76 5d0a 0a20 2054   Kirichkov]..  T
+00015eb0: 6865 2064 6f63 756d 656e 7461 7469 6f6e  he documentation
+00015ec0: 2073 7461 7465 7320 7468 6520 7469 6d65   states the time
+00015ed0: 6f75 7420 6465 6661 756c 7473 2074 6f20  out defaults to 
+00015ee0: 3520 7365 636f 6e64 732c 2062 7574 2069  5 seconds, but i
+00015ef0: 6e20 7468 6520 6465 6669 6e69 7469 6f6e  n the definition
+00015f00: 206f 6620 7468 6520 6d65 7468 6f64 2074   of the method t
+00015f10: 696d 656f 7574 2069 7320 7365 7420 746f  imeout is set to
+00015f20: 2033 0a0a 2d20 4164 6420 6b65 6c76 696e   3..- Add kelvin
+00015f30: 2072 616e 6765 2066 6f72 204b 4c31 3330   range for KL130
+00015f40: 2028 2331 3536 2920 5b64 6965 7365 6c72   (#156) [dieselr
+00015f50: 6162 6269 745d 0a0a 2020 2a20 4164 6420  abbit]..  * Add 
+00015f60: 6b65 6c76 696e 2072 616e 6765 2066 6f72  kelvin range for
+00015f70: 204b 4c31 3330 2028 6e65 7720 636f 6c6f   KL130 (new colo
+00015f80: 7220 6275 6c62 290a 0a20 202a 2041 6464  r bulb)..  * Add
+00015f90: 206b 656c 7669 6e20 7261 6e67 6520 666f   kelvin range fo
+00015fa0: 7220 4b4c 3132 300a 0a20 2055 6e61 626c  r KL120..  Unabl
+00015fb0: 6520 746f 2074 6573 7420 7468 6973 2070  e to test this p
+00015fc0: 6572 736f 6e61 6c6c 7920 6173 2049 2064  ersonally as I d
+00015fd0: 6f6e 2774 2068 6176 6520 7468 6973 2062  on't have this b
+00015fe0: 756c 622e 0a0a 2d20 4164 6420 4c42 3233  ulb...- Add LB23
+00015ff0: 302e 205b 5465 656d 7520 525d 0a0a 2020  0. [Teemu R]..  
+00016000: 576f 726b 7320 6163 636f 7264 696e 6720  Works according 
+00016010: 746f 2068 7474 7073 3a2f 2f67 6974 6875  to https://githu
+00016020: 622e 636f 6d2f 686f 6d65 2d61 7373 6973  b.com/home-assis
+00016030: 7461 6e74 2f68 6f6d 652d 6173 7369 7374  tant/home-assist
+00016040: 616e 742e 696f 2f70 756c 6c2f 3830 3930  ant.io/pull/8090
+00016050: 0a0a 2d20 4164 6420 4b4c 2073 6572 6965  ..- Add KL serie
+00016060: 7320 6f66 2062 756c 6273 2e20 5b54 6565  s of bulbs. [Tee
+00016070: 6d75 2052 5d0a 0a20 2077 6f72 6b73 2061  mu R]..  works a
+00016080: 6363 6f72 6469 6e67 2074 6f20 6874 7470  ccording to http
+00016090: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f68  s://github.com/h
+000160a0: 6f6d 652d 6173 7369 7374 616e 742f 686f  ome-assistant/ho
+000160b0: 6d65 2d61 7373 6973 7461 6e74 2e69 6f2f  me-assistant.io/
+000160c0: 7075 6c6c 2f38 3133 340a 0a0a 302e 332e  pull/8134...0.3.
+000160d0: 3420 2832 3031 392d 3031 2d31 3629 0a2d  4 (2019-01-16).-
+000160e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a54 6865  -----------..The
+000160f0: 7265 2061 7265 2074 776f 206e 6f74 6162  re are two notab
+00016100: 6c65 2063 6861 6e67 6573 2028 616e 6420  le changes (and 
+00016110: 6f74 6865 7220 736d 616c 6c20 6669 7865  other small fixe
+00016120: 7329 2069 6e20 7468 6973 206d 696e 6f72  s) in this minor
+00016130: 2072 656c 6561 7365 2074 6861 6e6b 7320   release thanks 
+00016140: 746f 206f 7572 2063 6f6e 7472 6962 7574  to our contribut
+00016150: 6f72 733a 0a0a 2a20 5375 7070 6f72 7420  ors:..* Support 
+00016160: 666f 7220 4853 3330 3020 736d 6172 7473  for HS300 smarts
+00016170: 7472 6970 2028 7468 616e 6b73 2074 6f20  trip (thanks to 
+00016180: 6a69 6d62 6f63 6121 290a 2a20 5468 6520  jimboca!).* The 
+00016190: 6875 6520 7261 6e67 6520 666f 7220 6c69  hue range for li
+000161a0: 6768 7420 6275 6c62 7320 6973 2066 6978  ght bulbs is fix
+000161b0: 6564 2028 7468 616e 6b73 2074 6f20 6e6b  ed (thanks to nk
+000161c0: 6f6e 6f70 696e 736b 692c 2041 6e6e 696b  onopinski, Annik
+000161d0: 6120 4a61 636f 6273 2061 6e64 204a 6f65  a Jacobs and Joe
+000161e0: 205a 6163 6821 290a 0a0a 2d20 5570 6461   Zach!)...- Upda
+000161f0: 7465 6420 7661 6c69 6420 7261 6e67 6520  ted valid range 
+00016200: 746f 2033 3630 2028 7769 7468 2070 6173  to 360 (with pas
+00016210: 7369 6e67 2074 6573 7473 2920 2823 3135  sing tests) (#15
+00016220: 3329 205b 416e 6e69 6b61 204a 6163 6f62  3) [Annika Jacob
+00016230: 732c 205a 6163 204b 6f63 685d 0a0a 2020  s, Zac Koch]..  
+00016240: 2a20 5570 6461 7465 6420 7661 6c69 6420  * Updated valid 
+00016250: 7261 6e67 6520 746f 2033 3630 0a0a 2020  range to 360..  
+00016260: 7769 7468 2069 7420 7365 7420 746f 2033  with it set to 3
+00016270: 3539 2069 7420 7769 6c6c 206e 6f74 2073  59 it will not s
+00016280: 686f 7720 7468 6520 636f 6c6f 7220 7265  how the color re
+00016290: 642e 204a 7573 7420 7465 7374 6564 2074  d. Just tested t
+000162a0: 6869 7320 7769 7468 2061 2062 7564 6469  his with a buddi
+000162b0: 6573 2062 756c 6220 2d20 7361 6d65 206d  es bulb - same m
+000162c0: 6f64 656c 2f66 770a 2020 6874 7470 733a  odel/fw.  https:
+000162d0: 2f2f 696d 6775 722e 636f 6d2f 612f 6b53  //imgur.com/a/kS
+000162e0: 4e5a 4975 4c0a 0a2d 2041 6464 2073 7570  NZIuL..- Add sup
+000162f0: 706f 7274 2066 6f72 2048 5333 3030 2070  port for HS300 p
+00016300: 6f77 6572 2073 7472 6970 2028 2331 3337  ower strip (#137
+00016310: 2920 5b6a 696d 626f 6361 5d0a 0a2d 2041  ) [jimboca]..- A
+00016320: 6464 2048 5331 3033 2074 6f20 7265 6164  dd HS103 to read
+00016330: 6d65 2e20 5b54 6565 6d75 2052 5d0a 0a2d  me. [Teemu R]..-
+00016340: 2041 766f 6964 2027 7265 6665 7265 6e63   Avoid 'referenc
+00016350: 6564 2062 6566 6f72 6520 6173 7369 676e  ed before assign
+00016360: 6d65 6e74 2720 6578 6365 7074 696f 6e20  ment' exception 
+00016370: 2823 3135 3029 205b 4b65 7672 6f6e 2052  (#150) [Kevron R
+00016380: 6565 735d 0a0a 2d20 436c 693a 2073 686f  ees]..- Cli: sho
+00016390: 7720 616e 2065 7272 6f72 2066 6f72 2069  w an error for i
+000163a0: 6e63 6f72 7265 6374 2068 7376 2076 616c  ncorrect hsv val
+000163b0: 7565 7320 2823 3134 3229 205b 416e 6e69  ues (#142) [Anni
+000163c0: 6b61 204a 6163 6f62 735d 0a0a 2020 5261  ka Jacobs]..  Ra
+000163d0: 6973 696e 6720 616e 2065 7863 6570 7469  ising an excepti
+000163e0: 6f6e 2069 6620 616e 2069 6e63 6f6d 706c  on if an incompl
+000163f0: 6574 6520 4853 5620 636f 6c6f 7572 2069  ete HSV colour i
+00016400: 7320 7072 6f76 6964 6564 2e0a 0a2d 2041  s provided...- A
+00016410: 6464 2061 2022 5265 7669 6577 6564 2062  dd a "Reviewed b
+00016420: 7920 486f 756e 6422 2062 6164 6765 2028  y Hound" badge (
+00016430: 2331 3339 2920 5b53 636f 7474 2041 6c62  #139) [Scott Alb
+00016440: 6572 7473 6f6e 5d0a 0a2d 2043 6861 6e67  ertson]..- Chang
+00016450: 6520 7661 6c69 6420 6875 6520 7261 6e67  e valid hue rang
+00016460: 6520 746f 2030 2d33 3539 2028 6669 7865  e to 0-359 (fixe
+00016470: 7320 2331 3330 292c 2075 7064 6174 6520  s #130), update 
+00016480: 5245 4144 4d45 2e6d 6420 2620 7465 7374  README.md & test
+00016490: 0a20 2028 2331 3430 2920 5b41 6e6e 696b  .  (#140) [Annik
+000164a0: 6120 4a61 636f 6273 2c20 6e6b 6f6e 6f70  a Jacobs, nkonop
+000164b0: 696e 736b 695d 0a0a 2020 5465 7374 6564  inski]..  Tested
+000164c0: 206f 6e20 4c42 3133 3028 4555 2920 6861   on LB130(EU) ha
+000164d0: 7264 7761 7265 2031 2e30 2c20 6669 726d  rdware 1.0, firm
+000164e0: 7761 7265 2031 2e38 2e36 2042 7569 6c64  ware 1.8.6 Build
+000164f0: 2031 3830 3830 3920 5265 6c2e 3039 3136   180809 Rel.0916
+00016500: 3539 0a0a 2d20 5265 6d6f 7665 2064 6570  59..- Remove dep
+00016510: 7265 6361 7465 6420 6964 656e 7469 6679  recated identify
+00016520: 2c20 7468 6973 2068 6173 2062 6565 6e20  , this has been 
+00016530: 6465 7072 6563 6174 6564 2066 6f72 206c  deprecated for l
+00016540: 6f6e 6720 656e 6f75 6768 2e0a 2020 2823  ong enough..  (#
+00016550: 3133 3629 205b 5465 656d 7520 525d 0a0a  136) [Teemu R]..
+00016560: 2020 2a20 5265 6d6f 7665 2064 6570 7265    * Remove depre
+00016570: 6361 7465 6420 6964 656e 7469 6679 2c20  cated identify, 
+00016580: 7468 6973 2068 6173 2062 6565 6e20 6465  this has been de
+00016590: 7072 6563 6174 6564 2066 6f72 206c 6f6e  precated for lon
+000165a0: 6720 656e 6f75 6768 2e0a 0a2d 2041 6464  g enough...- Add
+000165b0: 206d 6973 7365 6420 7465 7374 2066 6f72   missed test for
+000165c0: 2069 6e76 616c 6964 2074 7970 6573 2e20   invalid types. 
+000165d0: 5b54 6565 6d75 2052 5d0a 0a2d 2055 7064  [Teemu R]..- Upd
+000165e0: 6174 6520 5245 4144 4d45 2074 6f20 696e  ate README to in
+000165f0: 636c 7564 6520 6d65 6e74 696f 6e20 6162  clude mention ab
+00016600: 6f75 7420 6873 3232 302e 205b 5465 656d  out hs220. [Teem
+00016610: 7520 525d 0a0a 2d20 4164 6420 7465 7374  u R]..- Add test
+00016620: 7320 616e 6420 7072 6574 7479 206f 7574  s and pretty out
+00016630: 7075 7420 666f 7220 4853 3232 302c 2066  put for HS220, f
+00016640: 6978 206d 696e 6f72 2069 7373 7565 7320  ix minor issues 
+00016650: 696e 2074 6573 7473 2e0a 2020 5b54 6565  in tests..  [Tee
+00016660: 6d75 2052 5d0a 0a2d 2041 6464 2072 6562  mu R]..- Add reb
+00016670: 6f6f 7420 636f 6d6d 616e 6420 746f 2072  oot command to r
+00016680: 6573 7461 7274 2074 6865 2064 6576 6963  estart the devic
+00016690: 6520 2823 3132 3929 205b 5465 656d 7520  e (#129) [Teemu 
+000166a0: 525d 0a0a 0a30 2e33 2e33 2028 3230 3138  R]...0.3.3 (2018
+000166b0: 2d30 392d 3036 290a 2d2d 2d2d 2d2d 2d2d  -09-06).--------
+000166c0: 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 5468 6973  ----------..This
+000166d0: 2072 656c 6561 7365 2063 6f6e 7461 696e   release contain
+000166e0: 7320 6120 6272 6561 6b69 6e67 2063 6861  s a breaking cha
+000166f0: 6e67 6520 666f 7220 6873 7620 7365 7474  nge for hsv sett
+00016700: 6572 2c20 7768 6963 6820 6973 2063 6861  er, which is cha
+00016710: 6e67 6564 2074 6f20 6163 6365 7074 0a74  nged to accept.t
+00016720: 6865 206e 6577 2062 7269 6768 746e 6573  he new brightnes
+00016730: 7320 7661 6c75 6520 696e 2070 6572 6365  s value in perce
+00016740: 6e74 6167 6520 696e 7374 6561 6420 6f66  ntage instead of
+00016750: 2061 6e20 696e 7465 6765 7220 6265 7477   an integer betw
+00016760: 6565 6e20 3120 616e 6420 3235 352e 0a0a  een 1 and 255...
+00016770: 5468 6520 616c 6961 7320 7375 7070 6f72  The alias suppor
+00016780: 7420 6861 7320 6265 656e 2065 7874 656e  t has been exten
+00016790: 6465 6420 746f 2061 6c6c 6f77 2063 6861  ded to allow cha
+000167a0: 6e67 696e 6720 7468 6520 616c 6961 732c  nging the alias,
+000167b0: 2061 7320 7765 6c6c 2061 7320 6163 6365   as well as acce
+000167c0: 7373 696e 670a 7468 6520 6465 7669 6365  ssing.the device
+000167d0: 2075 7369 6e67 2069 7420 2877 6974 686f   using it (witho
+000167e0: 7574 2073 7065 6369 6679 696e 6720 616e  ut specifying an
+000167f0: 2049 5020 6164 6472 6573 7320 6f72 2061   IP address or a
+00016800: 2068 6f73 746e 616d 6529 2c20 7768 6963   hostname), whic
+00016810: 6820 6361 6e20 6265 0a75 7365 6675 6c20  h can be.useful 
+00016820: 696e 2073 6f6d 6520 7365 7475 7073 2e20  in some setups. 
+00016830: 4675 7274 6865 726d 6f72 6520 7574 6638  Furthermore utf8
+00016840: 2d65 6e63 6f64 6564 2061 6c69 6173 6573  -encoded aliases
+00016850: 2061 7265 206e 6f77 2068 616e 646c 6564   are now handled
+00016860: 2063 6f72 7265 6374 6c79 2e0a 0a2d 2046   correctly...- F
+00016870: 6978 2062 7567 2074 6861 7420 6368 616e  ix bug that chan
+00016880: 6765 6420 6272 6967 6874 6e65 7373 2061  ged brightness a
+00016890: 7420 6561 6368 2048 5356 2075 7064 6174  t each HSV updat
+000168a0: 6520 2823 3132 3429 205b 5365 6261 7374  e (#124) [Sebast
+000168b0: 6961 6e20 5465 6d70 6c5d 0a0a 2020 2a20  ian Templ]..  * 
+000168c0: 4669 7820 6275 6720 7468 6174 2063 6861  Fix bug that cha
+000168d0: 6e67 6564 2062 7269 6768 746e 6573 7320  nged brightness 
+000168e0: 6174 2065 6163 6820 6873 7620 7570 6461  at each hsv upda
+000168f0: 7465 0a0a 2020 5468 6520 4853 5620 7365  te..  The HSV se
+00016900: 7474 6572 2073 686f 756c 6420 6163 6365  tter should acce
+00016910: 7074 2061 2070 6572 6365 6e74 6167 6520  pt a percentage 
+00016920: 666f 7220 7468 6520 6272 6967 6874 6e65  for the brightne
+00016930: 7373 0a20 2076 616c 7565 2062 7574 2061  ss.  value but a
+00016940: 6374 7561 6c6c 7920 6173 7375 6d65 6420  ctually assumed 
+00016950: 7468 6520 6272 6967 6874 6e65 7373 2074  the brightness t
+00016960: 6f20 6265 2069 6e20 6162 736f 6c75 7465  o be in absolute
+00016970: 2076 616c 7565 730a 2020 6265 7477 6565   values.  betwee
+00016980: 6e20 3120 616e 6420 3235 352e 0a20 2054  n 1 and 255..  T
+00016990: 6869 7320 7265 7375 6c74 6564 2069 6e20  his resulted in 
+000169a0: 6272 6967 6874 6e65 7373 2072 6564 7563  brightness reduc
+000169b0: 7469 6f6e 7320 6174 2065 6163 6820 4853  tions at each HS
+000169c0: 5620 7570 6461 7465 2c20 696e 0a20 2073  V update, in.  s
+000169d0: 7465 7073 206f 6620 3130 3025 202d 3e20  teps of 100% -> 
+000169e0: 3130 302f 3235 353d 3339 2520 2d3e 2033  100/255=39% -> 3
+000169f0: 392f 3235 353d 3135 2520 2d3e 202e 2e2e  9/255=15% -> ...
+00016a00: 2028 7365 6520 616c 736f 0a20 2068 7474   (see also.  htt
+00016a10: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00016a20: 686f 6d65 2d61 7373 6973 7461 6e74 2f68  home-assistant/h
+00016a30: 6f6d 652d 6173 7369 7374 616e 742f 6973  ome-assistant/is
+00016a40: 7375 6573 2f31 3535 3832 2c0a 2020 7768  sues/15582,.  wh
+00016a50: 6572 6520 4920 6f72 6967 696e 616c 6c79  ere I originally
+00016a60: 2072 6570 6f72 7465 6420 7468 6973 2062   reported this b
+00016a70: 7567 292e 0a0a 2020 2a20 4d6f 6469 6679  ug)...  * Modify
+00016a80: 2048 5356 2070 726f 7065 7274 7920 746f   HSV property to
+00016a90: 2072 6574 7572 6e20 6272 6967 6874 6e65   return brightne
+00016aa0: 7373 2069 6e20 7065 7263 656e 740a 0a20  ss in percent.. 
+00016ab0: 2053 7769 7463 6820 6672 6f6d 2072 6570   Switch from rep
+00016ac0: 6f72 7465 6420 6272 6967 6874 6e65 7373  orted brightness
+00016ad0: 2076 616c 7565 7320 6f66 2031 2e2e 3235   values of 1..25
+00016ae0: 3520 746f 2070 6572 6365 6e74 6167 650a  5 to percentage.
+00016af0: 2020 7661 6c75 6573 2c20 666f 7220 636f    values, for co
+00016b00: 6e73 6973 7465 6e63 7920 7769 7468 2074  nsistency with t
+00016b10: 6865 2061 7069 646f 6320 616e 6420 3837  he apidoc and 87
+00016b20: 3631 6464 382e 0a0a 2020 2a20 4164 6420  61dd8...  * Add 
+00016b30: 6368 6563 6b73 2061 6e64 2074 6573 7473  checks and tests
+00016b40: 2066 6f72 2074 6865 2068 7376 2073 6574   for the hsv set
+00016b50: 7465 720a 0a20 202d 206d 616b 6520 7375  ter..  - make su
+00016b60: 7265 2074 6861 7420 6e65 7720 2868 7565  re that new (hue
+00016b70: 2c20 7361 7475 7261 7469 6f6e 2c20 6272  , saturation, br
+00016b80: 6967 6874 6e65 7373 2920 7661 6c75 6573  ightness) values
+00016b90: 2061 7265 0a20 2020 2077 6974 6869 6e20   are.    within 
+00016ba0: 7468 6569 7220 7661 6c69 6420 7261 6e67  their valid rang
+00016bb0: 6573 2028 302e 2e32 3535 2c20 302e 2e31  es (0..255, 0..1
+00016bc0: 3030 2c20 302e 2e31 3030 2920 616e 6420  00, 0..100) and 
+00016bd0: 7261 6973 650a 2020 2020 536d 6172 7444  raise.    SmartD
+00016be0: 6576 6963 6545 7863 6570 7469 6f6e 2069  eviceException i
+00016bf0: 6620 7468 6579 2061 7265 206e 6f74 0a20  f they are not. 
+00016c00: 202d 2061 6464 2074 6573 7420 6675 6e63   - add test func
+00016c10: 7469 6f6e 2066 6f72 2074 6865 2068 7376  tion for the hsv
+00016c20: 2073 6574 7465 720a 0a2d 2041 6c6c 6f77   setter..- Allow
+00016c30: 2075 7369 6e67 2061 6c69 6173 2069 6e73   using alias ins
+00016c40: 7465 6164 206f 6620 4950 2061 6464 7265  tead of IP addre
+00016c50: 7373 206f 7220 686f 7374 6e61 6d65 2028  ss or hostname (
+00016c60: 2331 3237 2920 5b6b 7761 7a65 6c5d 0a0a  #127) [kwazel]..
+00016c70: 2020 2a20 4164 6465 6420 6f70 7469 6f6e    * Added option
+00016c80: 2074 6f20 636f 6e74 726f 6c20 6465 7669   to control devi
+00016c90: 6365 7320 6279 2064 6576 6963 6520 6e61  ces by device na
+00016ca0: 6d65 0a0a 2020 2a20 7365 7420 756e 7573  me..  * set unus
+00016cb0: 6564 2069 7020 6164 6472 6573 7320 746f  ed ip address to
+00016cc0: 2064 6f6e 742d 6361 7265 0a0a 2020 2a20   dont-care..  * 
+00016cd0: 7370 656e 6420 6c65 7373 2074 696d 6520  spend less time 
+00016ce0: 6469 7363 6f76 6572 696e 6720 6279 2064  discovering by d
+00016cf0: 6576 6963 656e 616d 652c 2072 656d 6f76  evicename, remov
+00016d00: 6564 2063 6f6d 6d61 6e64 0a0a 2020 2a20  ed command..  * 
+00016d10: 636f 6e73 6973 7465 6e74 2075 7365 206f  consistent use o
+00016d20: 6620 616c 6961 7320 696e 7374 6561 6420  f alias instead 
+00016d30: 6f66 2064 6576 6963 6520 6e61 6d65 0a0a  of device name..
+00016d40: 2020 2a20 7072 6f63 6573 7365 6420 7265    * processed re
+00016d50: 7669 6577 2063 6f6d 6d65 6e74 730a 0a20  view comments.. 
+00016d60: 202a 2052 6574 7572 6e20 7768 656e 206e   * Return when n
+00016d70: 6f20 6465 7669 6365 2077 6974 6820 616c  o device with al
+00016d80: 6961 7320 6861 7320 6265 656e 2066 6f75  ias has been fou
+00016d90: 6e64 0a0a 2d20 4164 6420 2761 6c69 6173  nd..- Add 'alias
+00016da0: 2720 636f 6d6d 616e 6420 666f 7220 7175  ' command for qu
+00016db0: 6572 7969 6e67 2061 6e64 2073 6574 7469  erying and setti
+00016dc0: 6e67 2074 6865 2061 6c69 6173 2028 2331  ng the alias (#1
+00016dd0: 3236 2920 5b54 6565 6d75 2052 5d0a 0a20  26) [Teemu R].. 
+00016de0: 202a 2061 6464 2027 616c 6961 7327 2063   * add 'alias' c
+00016df0: 6f6d 6d61 6e64 2066 6f72 2071 7565 7279  ommand for query
+00016e00: 696e 6720 616e 6420 7365 7474 696e 6720  ing and setting 
+00016e10: 7468 6520 616c 6961 730a 0a20 202a 2063  the alias..  * c
+00016e20: 616c 6375 6c61 7465 2063 6f76 6572 6167  alculate coverag
+00016e30: 6520 6f6e 6c79 206f 6e20 6c69 6272 6172  e only on librar
+00016e40: 7920 6669 6c65 732c 2065 2e67 2e2c 2069  y files, e.g., i
+00016e50: 676e 6f72 696e 6720 636c 6920 616e 6420  gnoring cli and 
+00016e60: 7465 7374 2066 696c 6573 0a0a 2020 2a20  test files..  * 
+00016e70: 7265 6d6f 7665 2070 7933 3420 616e 6420  remove py34 and 
+00016e80: 6164 6420 7079 3337 0a0a 2020 2a20 7265  add py37..  * re
+00016e90: 6164 6420 7079 3333 2c20 7265 6d6f 7665  add py33, remove
+00016ea0: 2069 7420 6672 6f6d 2074 7261 7669 7320   it from travis 
+00016eb0: 6173 2069 7420 7365 656d 7320 746f 2062  as it seems to b
+00016ec0: 6520 6120 7472 6176 6973 206c 696d 6974  e a travis limit
+00016ed0: 6174 696f 6e20 6f6e 6c79 0a0a 2020 2a20  ation only..  * 
+00016ee0: 7573 6520 7865 6e69 616c 2064 6973 7420  use xenial dist 
+00016ef0: 666f 7220 7472 6176 6973 2c20 7265 6775  for travis, regu
+00016f00: 6c61 7220 646f 6573 206e 6f74 2073 7570  lar does not sup
+00016f10: 706f 7274 2070 7933 372e 2e0a 0a2d 2053  port py37....- S
+00016f20: 7570 706f 7274 2055 6e69 636f 6465 2073  upport Unicode s
+00016f30: 7472 696e 6773 2069 6e20 656e 6372 7970  trings in encryp
+00016f40: 742f 6465 6372 7970 7420 2823 3132 3529  t/decrypt (#125)
+00016f50: 205b 416e 6465 7273 204d 656c 6368 696f   [Anders Melchio
+00016f60: 7273 656e 5d0a 0a0a 302e 332e 3220 2832  rsen]...0.3.2 (2
+00016f70: 3031 382d 3036 2d31 3729 0a2d 2d2d 2d2d  018-06-17).-----
+00016f80: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d  -------------..-
+00016f90: 2041 6464 2062 756c 6220 7661 6c69 6420   Add bulb valid 
+00016fa0: 7465 6d70 6572 6174 7572 6520 7261 6e67  temperature rang
+00016fb0: 6520 2823 3132 3229 205b 5468 6962 6175  e (#122) [Thibau
+00016fc0: 6c74 2043 6f68 656e 5d0a 0a0a 302e 332e  lt Cohen]...0.3.
+00016fd0: 3120 2832 3031 382d 3036 2d31 3629 0a2d  1 (2018-06-16).-
+00016fe0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00016ff0: 2d0a 0a54 6869 7320 7265 6c65 6173 6520  -..This release 
+00017000: 6164 6473 2061 2066 6577 2069 6d70 726f  adds a few impro
+00017010: 7665 6d65 6e74 732c 206d 6f73 7420 696d  vements, most im
+00017020: 706f 7274 616e 746c 793a 0a0a 2a20 656d  portantly:..* em
+00017030: 6574 6572 2073 7570 706f 7274 2066 6f72  eter support for
+00017040: 206e 6577 2048 5331 3130 2068 6172 6477   new HS110 hardw
+00017050: 6172 652f 6669 726d 7761 7265 2072 6576  are/firmware rev
+00017060: 6973 696f 6e2e 0a0a 2a20 4853 3232 3020  ision...* HS220 
+00017070: 7375 7070 6f72 7473 206e 6f77 2064 696d  supports now dim
+00017080: 6d69 6e67 2e0a 0a42 7265 616b 696e 6720  ming...Breaking 
+00017090: 6368 616e 6765 733a 0a0a 2a20 6765 745f  changes:..* get_
+000170a0: 656d 6574 6572 5f64 6169 6c79 2026 2067  emeter_daily & g
+000170b0: 6574 5f65 6d65 7465 725f 6d6f 6e74 686c  et_emeter_monthl
+000170c0: 7920 7769 6c6c 2072 6570 6f72 7420 6261  y will report ba
+000170d0: 636b 2069 6e20 6b77 6820 6f6e 2062 756c  ck in kwh on bul
+000170e0: 6273 2c20 6d61 6b69 6e67 2074 6865 2041  bs, making the A
+000170f0: 5049 2063 6f6e 7369 7374 656e 7420 7769  PI consistent wi
+00017100: 7468 2074 6865 2073 6d61 7274 2070 6c75  th the smart plu
+00017110: 6773 2e0a 0a2d 2046 6978 2065 6d65 7465  gs...- Fix emete
+00017120: 7220 7375 7070 6f72 7420 666f 7220 6e65  r support for ne
+00017130: 7765 7220 4853 3131 3020 6669 726d 7761  wer HS110 firmwa
+00017140: 7265 7320 2823 3130 3729 205b 5465 656d  res (#107) [Teem
+00017150: 7520 525d 0a0a 2020 2a20 4164 6420 7375  u R]..  * Add su
+00017160: 7070 6f72 7420 666f 7220 6e65 772d 7374  pport for new-st
+00017170: 796c 6520 656d 6574 6572 0a0a 2020 5468  yle emeter..  Th
+00017180: 6973 2063 6f6d 6d69 7420 6164 6473 2061  is commit adds a
+00017190: 2073 7472 6169 6768 7466 6f72 7761 7264   straightforward
+000171a0: 2064 6963 742d 6578 7465 6e64 696e 6720   dict-extending 
+000171b0: 636f 6e74 6169 6e65 722c 0a20 2077 6869  container,.  whi
+000171c0: 6368 2063 6f6e 7665 7274 7320 6265 7477  ch converts betw
+000171d0: 6565 6e20 7468 6520 6f6c 6420 616e 6420  een the old and 
+000171e0: 6e65 7720 6b65 7973 206f 6620 7468 6520  new keys of the 
+000171f0: 6765 745f 656d 6574 6572 5f72 6561 6c74  get_emeter_realt
+00017200: 696d 6528 290a 2020 4675 7274 6865 726d  ime().  Furtherm
+00017210: 6f72 6520 7468 6520 756e 6974 2074 6573  ore the unit tes
+00017220: 7473 2061 7265 2063 6f6e 7665 7274 6564  ts are converted
+00017230: 2074 6f20 6261 7365 206f 6e20 4853 3130   to base on HS10
+00017240: 300a 2020 696e 7374 6561 6420 6f66 2048  0.  instead of H
+00017250: 5331 3130 2e0a 0a20 2054 6869 7320 6973  S110...  This is
+00017260: 2074 6865 2066 6972 7374 2073 7465 7020   the first step 
+00017270: 746f 2066 6978 2023 3130 332c 206f 7468  to fix #103, oth
+00017280: 6572 2065 6d65 7465 722d 7573 696e 6720  er emeter-using 
+00017290: 6675 6e63 7469 6f6e 616c 6974 790a 2020  functionality.  
+000172a0: 6861 7320 6e6f 7420 7965 7420 6265 656e  has not yet been
+000172b0: 2063 6f6e 7665 7274 6564 2c20 6f6e 6c79   converted, only
+000172c0: 2067 6574 7469 6e67 2074 6865 2063 7572   getting the cur
+000172d0: 7265 6e74 2063 6f6e 7375 6d70 7469 6f6e  rent consumption
+000172e0: 2e0a 0a20 202a 2066 6978 2061 2063 6f75  ...  * fix a cou
+000172f0: 706c 6520 6f66 206c 696e 7469 6e67 2069  ple of linting i
+00017300: 7373 7565 730a 0a20 202a 2043 6f6e 7665  ssues..  * Conve
+00017310: 7274 206e 6577 2d73 7479 6c65 2065 6d65  rt new-style eme
+00017320: 7465 7220 7661 6c75 6573 2061 6c73 6f20  ter values also 
+00017330: 666f 7220 6765 745f 656d 6574 6572 5f64  for get_emeter_d
+00017340: 6169 6c79 2829 2061 6e64 2067 6574 5f65  aily() and get_e
+00017350: 6d65 7465 725f 6d6f 6e74 686c 7928 290a  meter_monthly().
+00017360: 0a20 202a 2041 6464 7320 6120 6e65 7720  .  * Adds a new 
+00017370: 276b 7768 2720 7061 7261 6d65 7465 7220  'kwh' parameter 
+00017380: 666f 7220 7468 6f73 6520 6361 6c6c 732c  for those calls,
+00017390: 2077 6869 6368 2064 6566 6175 6c74 7320   which defaults 
+000173a0: 746f 2054 7275 650a 2020 2a20 5468 6973  to True.  * This
+000173b0: 2063 6861 6e67 6573 2074 6865 2062 6568   changes the beh
+000173c0: 6176 696f 7220 6f66 2062 756c 6273 2065  avior of bulbs e
+000173d0: 6d65 7465 7220 7265 706f 7274 696e 672c  meter reporting,
+000173e0: 2075 7365 2046 616c 7365 2069 6620 796f   use False if yo
+000173f0: 7520 7072 6566 6572 2074 6865 2070 7265  u prefer the pre
+00017400: 6369 7365 7220 7661 6c75 6573 0a0a 2d20  ciser values..- 
+00017410: 5570 6461 7465 2070 7970 6920 6465 7363  Update pypi desc
+00017420: 7269 7074 696f 6e20 2823 3130 3229 205b  ription (#102) [
+00017430: 5465 656d 7520 525d 0a0a 2020 2a20 7570  Teemu R]..  * up
+00017440: 6461 7465 2070 7970 6920 6465 7363 7269  date pypi descri
+00017450: 7074 696f 6e0a 0a20 202a 2061 6464 2077  ption..  * add w
+00017460: 616c 6c20 7377 6974 6368 6573 0a0a 2d20  all switches..- 
+00017470: 5570 6461 7465 2073 6d61 7274 706c 7567  Update smartplug
+00017480: 2e70 7920 746f 2073 7570 706f 7274 2064  .py to support d
+00017490: 696d 6d69 6e67 2069 6e20 4853 3232 3020  imming in HS220 
+000174a0: 2823 3131 3529 205b 4a73 4368 6953 7572  (#115) [JsChiSur
+000174b0: 665d 0a0a 2020 2a20 5570 6461 7465 2073  f]..  * Update s
+000174c0: 6d61 7274 706c 7567 2e70 7920 746f 2073  martplug.py to s
+000174d0: 7570 706f 7274 2064 696d 6d69 6e67 2069  upport dimming i
+000174e0: 6e20 4853 3232 300a 0a20 2053 7769 7463  n HS220..  Switc
+000174f0: 6820 6675 6e63 7469 6f6e 7320 6573 7365  h functions esse
+00017500: 6e74 6961 6c6c 7920 6173 2061 2022 706c  ntially as a "pl
+00017510: 7567 2220 7769 7468 2074 6865 2061 6464  ug" with the add
+00017520: 6974 696f 6e20 746f 2073 7570 706f 7274  ition to support
+00017530: 2066 6f72 2064 696d 6d69 6e67 2c20 666f   for dimming, fo
+00017540: 7220 7768 6963 6820 6361 6e20 6265 2074  r which can be t
+00017550: 6573 7420 666f 7220 6279 2076 6572 6966  est for by verif
+00017560: 7969 6e67 2065 7869 7374 656e 6365 206f  ying existence o
+00017570: 660a 2762 7269 6768 746e 6573 7327 2061  f.'brightness' a
+00017580: 7272 6179 2076 616c 7565 2e0a 0a20 202a  rray value...  *
+00017590: 2041 7474 656d 7074 2061 7420 7570 6461   Attempt at upda
+000175a0: 7465 7320 746f 2070 6173 7320 7661 6c69  tes to pass vali
+000175b0: 6461 746f 720a 0a20 202a 204d 6179 6265  dator..  * Maybe
+000175c0: 2074 6869 7320 7469 6d65 3f20 203a 2d29   this time?  :-)
+000175d0: 0a0a 2020 2a20 4164 6420 6d6f 7265 2064  ..  * Add more d
+000175e0: 6574 6169 6c20 746f 2063 6f6d 6d65 6e74  etail to comment
+000175f0: 2062 6c6f 636b 730a 0a20 204d 616b 6520   blocks..  Make 
+00017600: 636c 6561 7220 696e 2072 6571 7565 7374  clear in request
+00017610: 7320 666f 7220 6375 7272 656e 7420 6272  s for current br
+00017620: 6967 6874 6e65 7373 206c 6576 656c 2074  ightness level t
+00017630: 6865 2065 7870 6563 7465 6420 7265 7475  he expected retu
+00017640: 726e 2076 616c 7565 732c 2061 6e64 206e  rn values, and n
+00017650: 6f74 6520 7468 6174 206c 6967 6874 2077  ote that light w
+00017660: 696c 6c20 7475 726e 206f 6e20 7768 656e  ill turn on when
+00017670: 2073 6574 7469 6e67 2061 2062 7269 6768   setting a brigh
+00017680: 746e 6573 730a 6c65 7665 6c2c 2069 6620  tness.level, if 
+00017690: 6e6f 7420 616c 7265 6164 7920 6f6e 2e20  not already on. 
+000176a0: 2054 6869 7320 6d61 6b65 7320 636c 6561   This makes clea
+000176b0: 7220 7468 6174 2061 2073 7461 7465 2063  r that a state c
+000176c0: 6861 6e67 6520 7265 7175 6573 7420 2874  hange request (t
+000176d0: 7572 6e5f 6f6e 2920 646f 6573 204e 4f54  urn_on) does NOT
+000176e0: 2068 6176 6520 746f 2062 6520 6d61 6465   have to be made
+000176f0: 2066 6972 7374 2077 6865 6e20 7365 7474   first when sett
+00017700: 696e 6720 6272 6967 6874 6e65 7373 2e0a  ing brightness..
+00017710: 0a20 202a 2055 7064 6174 6520 736d 6172  .  * Update smar
+00017720: 7470 6c75 672e 7079 0a0a 2020 2a20 5570  tplug.py..  * Up
+00017730: 6461 7465 2073 6d61 7274 706c 7567 2e70  date smartplug.p
+00017740: 790a 0a20 2046 6978 6573 2023 3131 340a  y..  Fixes #114.
+00017750: 0a2d 2041 6464 2070 7974 686f 6e5f 7265  .- Add python_re
+00017760: 7175 6972 6573 2066 6f72 203e 3d20 332e  quires for >= 3.
+00017770: 342e 205b 5465 656d 7520 5279 7469 6c61  4. [Teemu Rytila
+00017780: 6874 695d 0a0a 2d20 4164 6420 6873 3231  hti]..- Add hs21
+00017790: 302e 205b 5465 656d 7520 525d 0a0a 2020  0. [Teemu R]..  
+000177a0: 4261 7365 6420 6f6e 2075 7365 7220 7265  Based on user re
+000177b0: 706f 7274 3a20 6874 7470 733a 2f2f 636f  port: https://co
+000177c0: 6d6d 756e 6974 792e 686f 6d65 2d61 7373  mmunity.home-ass
+000177d0: 6973 7461 6e74 2e69 6f2f 742f 7470 2d6c  istant.io/t/tp-l
+000177e0: 696e 6b2d 6873 3231 302d 332d 7761 792d  ink-hs210-3-way-
+000177f0: 6b69 742f 3339 3736 322f 360a 0a2d 2041  kit/39762/6..- A
+00017800: 6464 2073 7570 706f 7274 2066 6f72 2044  dd support for D
+00017810: 4e53 2068 6f73 7420 6e61 6d65 7320 2823  NS host names (#
+00017820: 3130 3429 205b 4b20 4865 6e72 696b 7373  104) [K Henrikss
+00017830: 6f6e 5d0a 0a2d 2055 7365 2064 6972 6563  on]..- Use direc
+00017840: 7420 6465 7669 6365 2074 7970 6520 6469  t device type di
+00017850: 7363 6f76 6572 7920 666f 7220 6465 7669  scovery for devi
+00017860: 6365 7320 2823 3130 3629 205b 4b20 4865  ces (#106) [K He
+00017870: 6e72 696b 7373 6f6e 5d0a 0a20 2054 6869  nriksson]..  Thi
+00017880: 7320 6973 206d 6f72 6520 6566 6669 6369  s is more effici
+00017890: 656e 7420 7468 616e 2065 6e75 6d65 7261  ent than enumera
+000178a0: 7469 6e67 2061 6c6c 2064 6576 6963 6573  ting all devices
+000178b0: 2061 6e64 2063 6865 636b 696e 6720 7468   and checking th
+000178c0: 6520 4950 2e0a 0a2d 2043 6c69 3a20 6164  e IP...- Cli: ad
+000178d0: 6420 2774 696d 6527 2063 6f6d 6d61 6e64  d 'time' command
+000178e0: 2074 6f20 6765 7420 7468 6520 6375 7272   to get the curr
+000178f0: 656e 7420 7469 6d65 2066 726f 6d20 7468  ent time from th
+00017900: 6520 6465 7669 6365 2e0a 2020 5b54 6565  e device..  [Tee
+00017910: 6d75 2052 7974 696c 6168 7469 5d0a 0a2d  mu Rytilahti]..-
+00017920: 2043 7265 6174 6564 2061 2064 6f63 6b65   Created a docke
+00017930: 7220 6669 6c65 2074 6f20 6169 6420 6465  r file to aid de
+00017940: 7620 7365 7475 7020 2823 3939 2920 5b54  v setup (#99) [T
+00017950: 6865 536d 6f6b 696e 6747 6e75 5d0a 0a20  heSmokingGnu].. 
+00017960: 202a 2063 7265 6174 6564 2061 2064 6f63   * created a doc
+00017970: 6b65 7220 6669 6c65 2074 6f20 6169 6420  ker file to aid 
+00017980: 6465 7620 7365 7475 700a 0a20 202a 2066  dev setup..  * f
+00017990: 6978 6564 2072 6576 6965 7720 636f 6d6d  ixed review comm
+000179a0: 656e 7473 2069 6e20 5245 4144 4d45 2061  ents in README a
+000179b0: 6e64 2044 6f63 6b65 7266 696c 650a 0a20  nd Dockerfile.. 
+000179c0: 202a 2072 6576 6965 7720 636f 6d6d 656e   * review commen
+000179d0: 7473 2074 6f20 7369 6d70 6c69 6679 2074  ts to simplify t
+000179e0: 6865 2064 6f63 6b65 7220 7275 6e20 636f  he docker run co
+000179f0: 6d6d 616e 640a 0a0a 302e 332e 3020 2832  mmand...0.3.0 (2
+00017a00: 3031 372d 3039 2d31 3429 0a2d 2d2d 2d2d  017-09-14).-----
+00017a10: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a54  -------------..T
+00017a20: 6869 7320 6973 2074 6865 2066 6972 7374  his is the first
+00017a30: 2072 656c 6561 7365 2061 6674 6572 2061   release after a
+00017a40: 2077 6869 6c65 2061 6e64 2061 696d 7320   while and aims 
+00017a50: 746f 2069 6d70 726f 7665 2074 6865 2072  to improve the r
+00017a60: 6f62 7573 746e 6573 7320 616c 6c2d 6172  obustness all-ar
+00017a70: 6f75 6e64 2e0a 546f 206d 616b 6520 7468  ound..To make th
+00017a80: 6973 2068 6170 7065 6e20 7765 2068 6176  is happen we hav
+00017a90: 6520 6465 6369 6465 6420 746f 2062 7265  e decided to bre
+00017aa0: 616b 2074 6865 2041 5049 2061 6e64 2064  ak the API and d
+00017ab0: 726f 7020 7468 6520 7375 7070 6f72 7420  rop the support 
+00017ac0: 666f 7220 5079 7468 6f6e 2032 2e0a 0a41  for Python 2...A
+00017ad0: 5049 2062 7265 616b 3a0a 2020 2020 2a20  PI break:.    * 
+00017ae0: 5079 7468 6f6e 3220 7375 7070 6f72 7420  Python2 support 
+00017af0: 6861 7320 6265 656e 2064 726f 7070 6564  has been dropped
+00017b00: 2e0a 2020 2020 2a20 7079 4853 3130 302f  ..    * pyHS100/
+00017b10: 7079 4853 3130 302e 7079 2068 6173 2062  pyHS100.py has b
+00017b20: 6565 6e20 7370 6c69 7474 6564 2074 6f20  een splitted to 
+00017b30: 736d 6172 7464 6576 6963 652e 7079 2c20  smartdevice.py, 
+00017b40: 736d 6172 7470 6c75 672e 7079 2061 6e64  smartplug.py and
+00017b50: 2073 6d61 7274 6275 6c62 2e70 792c 206e   smartbulb.py, n
+00017b60: 6f20 6f6e 6520 7368 6f75 6c64 2068 6176  o one should hav
+00017b70: 6520 6576 6572 2061 6363 6573 7365 6420  e ever accessed 
+00017b80: 7468 6573 6520 6469 7265 6374 6c79 2074  these directly t
+00017b90: 686f 7567 682e 0a20 2020 202a 2053 6d61  hough..    * Sma
+00017ba0: 7274 506c 7567 4578 6365 7074 696f 6e20  rtPlugException 
+00017bb0: 6973 206e 6f20 6d6f 7265 2c20 536d 6172  is no more, Smar
+00017bc0: 7444 6576 6963 6545 7863 6570 7469 6f6e  tDeviceException
+00017bd0: 2069 7320 7573 6564 2062 7920 626f 7468   is used by both
+00017be0: 2053 6d61 7274 506c 7567 2061 6e64 2053   SmartPlug and S
+00017bf0: 6d61 7274 4275 6c62 0a20 2020 202a 2044  martBulb.    * D
+00017c00: 6973 636f 7665 7279 2068 6173 2062 6565  iscovery has bee
+00017c10: 6e20 6d6f 7665 6420 6672 6f6d 2054 504c  n moved from TPL
+00017c20: 696e 6b53 6d61 7274 486f 6d65 5072 6f74  inkSmartHomeProt
+00017c30: 6f63 6f6c 2069 6e74 6f20 6974 7320 6f77  ocol into its ow
+00017c40: 6e20 636c 6173 7320 666f 7220 6561 7369  n class for easi
+00017c50: 6572 2033 7264 2070 6172 7479 2075 7365  er 3rd party use
+00017c60: 2e0a 2020 2020 2a20 536d 6172 7444 6576  ..    * SmartDev
+00017c70: 6963 6527 7320 6964 656e 7469 6679 2829  ice's identify()
+00017c80: 2061 6e64 2060 6665 6174 7572 6573 6020   and `features` 
+00017c90: 7769 6c6c 2065 6d69 7420 6120 7761 726e  will emit a warn
+00017ca0: 696e 6720 7768 656e 2075 7365 642e 2054  ing when used. T
+00017cb0: 6865 7365 2077 696c 6c20 6c69 6b65 6c79  hese will likely
+00017cc0: 2062 6520 6472 6f70 7065 6420 6f72 2072   be dropped or r
+00017cd0: 6576 6973 6564 2069 6e20 7468 6520 6675  evised in the fu
+00017ce0: 7475 7265 2061 6e64 2074 6865 6972 2075  ture and their u
+00017cf0: 7365 2073 686f 756c 6420 6265 2061 766f  se should be avo
+00017d00: 6964 6564 2e0a 0a4f 7468 6572 2063 6861  ided...Other cha
+00017d10: 6e67 6573 3a0a 0a20 2020 202a 2043 4c49  nges:..    * CLI
+00017d20: 2074 6f6f 6c20 7375 7070 6f72 7473 2064   tool supports d
+00017d30: 6576 6963 6520 6469 7363 6f76 6572 7920  evice discovery 
+00017d40: 616e 6420 6973 2075 7361 626c 6520 7769  and is usable wi
+00017d50: 7468 6f75 7420 7370 6563 6966 7969 6e67  thout specifying
+00017d60: 2064 6576 6963 6520 7479 7065 206f 7220   device type or 
+00017d70: 4950 2066 6f72 2074 6573 7469 6e67 0a20  IP for testing. 
+00017d80: 2020 202a 2043 4c49 2074 6f6f 6c20 7375     * CLI tool su
+00017d90: 7070 6f72 7473 2063 6861 6e67 696e 6720  pports changing 
+00017da0: 6275 6c62 2d73 7065 6369 6669 6320 7365  bulb-specific se
+00017db0: 7474 696e 6773 0a20 2020 202a 204c 6962  ttings.    * Lib
+00017dc0: 7261 7279 2073 7570 706f 7274 2026 2075  rary support & u
+00017dd0: 6e69 7420 7465 7374 7320 6172 6520 6578  nit tests are ex
+00017de0: 7465 6e64 6564 2074 6f20 636f 7665 7220  tended to cover 
+00017df0: 6d6f 7265 2064 6576 6963 6573 2e0a 2020  more devices..  
+00017e00: 2020 2020 202d 2053 7570 706f 7274 6564       - Supported
+00017e10: 2070 6c75 6773 3a20 4853 3130 302c 2048   plugs: HS100, H
+00017e20: 5331 3035 2c20 4853 3131 300a 2020 2020  S105, HS110.    
+00017e30: 2020 202d 2053 7570 706f 7274 6564 2073     - Supported s
+00017e40: 7769 7463 6865 733a 2048 5332 3030 0a20  witches: HS200. 
+00017e50: 2020 2020 2020 2d20 5375 7070 6f72 7465        - Supporte
+00017e60: 6420 6275 6c62 733a 204c 4231 3030 2c20  d bulbs: LB100, 
+00017e70: 4c42 3131 302c 204c 4231 3230 2c20 4c42  LB110, LB120, LB
+00017e80: 3133 300a 0a2d 2042 756d 7020 7468 6520  130..- Bump the 
+00017e90: 7665 7273 696f 6e2e 205b 5465 656d 7520  version. [Teemu 
+00017ea0: 5279 7469 6c61 6874 695d 0a0a 2d20 5265  Rytilahti]..- Re
+00017eb0: 7669 7365 2052 4541 444d 452c 2066 6978  vise README, fix
+00017ec0: 6573 2023 3836 2e20 5b54 6565 6d75 2052  es #86. [Teemu R
+00017ed0: 7974 696c 6168 7469 5d0a 0a2d 2055 7064  ytilahti]..- Upd
+00017ee0: 6174 6520 7468 6520 6368 616e 6765 6c6f  ate the changelo
+00017ef0: 672e 205b 5465 656d 7520 5279 7469 6c61  g. [Teemu Rytila
+00017f00: 6874 695d 0a0a 2d20 4c6f 6361 6c20 7465  hti]..- Local te
+00017f10: 7374 2063 6c65 616e 2028 2339 3629 205b  st clean (#96) [
+00017f20: 5365 616e 2047 6f6c 6c73 6368 6577 736b  Sean Gollschewsk
+00017f30: 795d 0a0a 2020 2a20 4164 6420 6967 6e6f  y]..  * Add igno
+00017f40: 7265 7320 666f 7220 776f 726b 696e 6720  res for working 
+00017f50: 636f 7665 7261 6765 2f74 6f78 2f49 4445  coverage/tox/IDE
+00017f60: 2066 696c 6573 2e0a 0a20 202a 2041 6c6c   files...  * All
+00017f70: 6f77 2074 6f78 206e 6f74 2074 6f20 6661  ow tox not to fa
+00017f80: 696c 2069 6620 7079 7468 6f6e 2076 6572  il if python ver
+00017f90: 7369 6f6e 2069 7320 6e6f 7420 6176 6169  sion is not avai
+00017fa0: 6c61 626c 652e 0a0a 2d20 4d6f 7665 2053  lable...- Move S
+00017fb0: 6d61 7274 4465 7669 6365 4578 6365 7074  martDeviceExcept
+00017fc0: 696f 6e20 746f 2053 6d61 7274 4465 7669  ion to SmartDevi
+00017fd0: 6365 2c20 616e 6420 7265 6d6f 7665 2074  ce, and remove t
+00017fe0: 7970 6573 2e70 7920 636f 6d70 6c65 74e2  ypes.py complet.
+00017ff0: 80a6 0a20 2028 2339 3529 205b 5465 656d  ...  (#95) [Teem
+00018000: 7520 525d 0a0a 2020 2a20 6d6f 7665 2053  u R]..  * move S
+00018010: 6d61 7274 4465 7669 6365 4578 6365 7074  martDeviceExcept
+00018020: 696f 6e20 746f 2053 6d61 7274 4465 7669  ion to SmartDevi
+00018030: 6365 2c20 616e 6420 7265 6d6f 7665 2074  ce, and remove t
+00018040: 7970 6573 2e70 7920 636f 6d70 6c65 7465  ypes.py complete
+00018050: 6c79 2e20 6669 7865 7320 2339 340a 0a20  ly. fixes #94.. 
+00018060: 202a 2064 6f20 6e6f 7420 696d 706f 7274   * do not import
+00018070: 2073 6b69 7049 6620 616e 796d 6f72 650a   skipIf anymore.
+00018080: 0a2d 204d 6f76 6520 6861 735f 656d 6574  .- Move has_emet
+00018090: 6572 2069 6d70 6c65 6d65 6e74 6174 696f  er implementatio
+000180a0: 6e20 6672 6f6d 2053 6d61 7274 4465 7669  n from SmartDevi
+000180b0: 6365 2074 6f20 536d 6172 7450 6c75 672c  ce to SmartPlug,
+000180c0: 2061 766f 6964 0a20 2075 7369 6e67 2066   avoid.  using f
+000180d0: 6561 7475 7265 7328 2920 696e 7465 726e  eatures() intern
+000180e0: 616c 6c79 2028 2339 3329 205b 5465 656d  ally (#93) [Teem
+000180f0: 7520 525d 0a0a 2020 2a20 6d6f 7665 2068  u R]..  * move h
+00018100: 6173 5f65 6d65 7465 7220 696d 706c 656d  as_emeter implem
+00018110: 656e 7461 7469 6f6e 2066 726f 6d20 536d  entation from Sm
+00018120: 6172 7444 6576 6963 6520 746f 2053 6d61  artDevice to Sma
+00018130: 7274 506c 7567 2c20 6176 6f69 6420 7573  rtPlug, avoid us
+00018140: 696e 6720 6665 6174 7572 6573 2829 2069  ing features() i
+00018150: 6e74 6572 6e61 6c6c 790a 0a20 202a 2061  nternally..  * a
+00018160: 6464 2073 7461 636b 6c65 7665 6c20 746f  dd stacklevel to
+00018170: 2064 6570 7265 6361 7469 6f6e 2077 6172   deprecation war
+00018180: 6e69 6e67 7320 746f 2073 6565 2077 6865  nings to see whe
+00018190: 7265 2074 6865 7920 6172 6520 7265 616c  re they are real
+000181a0: 6c79 2063 616c 6c65 640a 0a20 202a 206d  ly called..  * m
+000181b0: 616b 6520 7465 7374 7320 7061 7373 206f  ake tests pass o
+000181c0: 6e20 6120 7265 616c 2064 6576 6963 652e  n a real device.
+000181d0: 2069 6620 504c 5547 5f49 5020 6973 206e   if PLUG_IP is n
+000181e0: 6f74 204e 6f6e 652c 2074 6865 2074 6573  ot None, the tes
+000181f0: 7473 2077 696c 6c20 6265 2072 756e 206f  ts will be run o
+00018200: 6e20 6120 6465 7669 6365 2061 7420 7468  n a device at th
+00018210: 6520 6465 6669 6e65 6420 4950 2061 6464  e defined IP add
+00018220: 7265 7373 0a0a 2d20 4164 6420 7479 7069  ress..- Add typi
+00018230: 6e67 2068 696e 7473 2074 6f20 6d61 6b65  ng hints to make
+00018240: 2069 7420 6561 7369 6572 2066 6f72 2033   it easier for 3
+00018250: 7264 2070 6172 7479 2064 6576 656c 6f70  rd party develop
+00018260: 6572 7320 746f 2075 7365 2074 6865 0a20  ers to use the. 
+00018270: 206c 6962 7261 7279 2028 2339 3029 205b   library (#90) [
+00018280: 5465 656d 7520 525d 0a0a 2020 2a20 6164  Teemu R]..  * ad
+00018290: 6420 7479 7069 6e67 2068 696e 7473 2074  d typing hints t
+000182a0: 6f20 6d61 6b65 2069 7420 6561 7369 6572  o make it easier
+000182b0: 2066 6f72 2033 7264 2070 6172 7479 2064   for 3rd party d
+000182c0: 6576 656c 6f70 6572 7320 746f 2075 7365  evelopers to use
+000182d0: 2074 6865 206c 6962 7261 7279 0a0a 2020   the library..  
+000182e0: 2a20 7265 6d6f 7665 2075 6e75 7365 6420  * remove unused 
+000182f0: 6465 7669 6365 7479 7065 2065 6e75 6d20  devicetype enum 
+00018300: 746f 2073 7570 706f 7274 2070 7974 686f  to support pytho
+00018310: 6e33 2e33 0a0a 2020 2a20 6164 6420 7079  n3.3..  * add py
+00018320: 7468 6f6e 2033 2e33 2074 6f20 7472 6176  thon 3.3 to trav
+00018330: 6973 2061 6e64 2074 6f78 2c20 696e 7374  is and tox, inst
+00018340: 616c 6c20 7479 7069 6e67 206d 6f64 756c  all typing modul
+00018350: 6520 696e 2073 6574 7570 2e70 790a 2d20  e in setup.py.- 
+00018360: 4578 6563 7574 6520 636f 7665 7261 6c6c  Execute coverall
+00018370: 7320 6f6e 6c79 206f 6e20 7472 6176 6973  s only on travis
+00018380: 2c20 6669 7865 7320 2338 3420 2823 3931  , fixes #84 (#91
+00018390: 2920 5b54 6565 6d75 2052 5d0a 0a2d 204d  ) [Teemu R]..- M
+000183a0: 616b 6520 666c 616b 6538 2070 6173 7320  ake flake8 pass 
+000183b0: 6279 2073 6f6d 6520 7265 776f 7264 696e  by some rewordin
+000183c0: 672e 205b 5465 656d 7520 5279 7469 6c61  g. [Teemu Rytila
+000183d0: 6874 695d 0a0a 2d20 4d61 6b65 2068 6f75  hti]..- Make hou
+000183e0: 6e64 2061 2062 6974 206d 6f72 6520 6861  nd a bit more ha
+000183f0: 7070 6965 722e 205b 5465 656d 7520 5279  ppier. [Teemu Ry
+00018400: 7469 6c61 6874 695d 0a0a 2d20 4465 7072  tilahti]..- Depr
+00018410: 6563 6174 6520 6665 6174 7572 6573 2061  ecate features a
+00018420: 6e64 2069 6465 6e74 6966 792c 2075 7365  nd identify, use
+00018430: 2073 7461 7465 5f69 6e66 6f72 6d61 7469   state_informati
+00018440: 6f6e 2069 6e20 5f5f 7265 7072 5f5f 2069  on in __repr__ i
+00018450: 6e73 7465 6164 206f 6620 6964 656e 7469  nstead of identi
+00018460: 6679 2e20 5b54 6565 6d75 2052 7974 696c  fy. [Teemu Rytil
+00018470: 6168 7469 5d0a 0a2d 2046 6978 2073 6d61  ahti]..- Fix sma
+00018480: 7274 6275 6c62 2068 7376 2064 6f63 756d  rtbulb hsv docum
+00018490: 656e 7461 7469 6f6e 2c20 7661 6c75 6573  entation, values
+000184a0: 2061 7265 2064 6567 7265 6573 2061 6e64   are degrees and
+000184b0: 2070 6572 6365 6e74 6167 6573 2069 6e73   percentages ins
+000184c0: 7465 6164 206f 6620 302d 3235 352e 205b  tead of 0-255. [
+000184d0: 5465 656d 7520 5279 7469 6c61 6874 695d  Teemu Rytilahti]
+000184e0: 0a0a 2d20 416e 6f74 6865 7220 7472 792c  ..- Another try,
+000184f0: 206a 7573 7420 7769 7468 206d 6f64 756c   just with modul
+00018500: 6520 6e61 6d65 2e20 5b54 6565 6d75 2052  e name. [Teemu R
+00018510: 7974 696c 6168 7469 5d0a 0a2d 204d 616b  ytilahti]..- Mak
+00018520: 6520 746f 7820 7275 6e20 7079 7465 7374  e tox run pytest
+00018530: 2d63 6f76 2c20 6164 6420 636f 7665 7261  -cov, add covera
+00018540: 6c6c 732e 205b 5465 656d 7520 5279 7469  lls. [Teemu Ryti
+00018550: 6c61 6874 695d 0a0a 2d20 5072 6576 656e  lahti]..- Preven
+00018560: 7420 6661 696c 7572 6520 6966 2064 6576  t failure if dev
+00018570: 6963 6527 7320 7379 7369 6e66 6f20 646f  ice's sysinfo do
+00018580: 6573 206e 6f74 2068 6176 6520 6120 2266  es not have a "f
+00018590: 6561 7475 7265 2220 6174 7472 6962 7574  eature" attribut
+000185a0: 652e 2028 2337 3729 205b 5365 616e 2047  e. (#77) [Sean G
+000185b0: 6f6c 6c73 6368 6577 736b 795d 0a0a 2d20  ollschewsky]..- 
+000185c0: 416c 6c6f 7720 4e6f 6e65 2066 6f72 2072  Allow None for r
+000185d0: 7373 692c 2061 6464 2061 206d 6973 7369  ssi, add a missi
+000185e0: 6e67 206e 6577 6c69 6e65 2074 6f20 6661  ng newline to fa
+000185f0: 6b65 732e 7079 2e20 5b54 6565 6d75 2052  kes.py. [Teemu R
+00018600: 7974 696c 6168 7469 5d0a 0a2d 2041 6464  ytilahti]..- Add
+00018610: 2068 7331 3030 2074 6573 7473 2e20 5b54   hs100 tests. [T
+00018620: 6565 6d75 2052 7974 696c 6168 7469 5d0a  eemu Rytilahti].
+00018630: 0a2d 204d 616b 6520 7465 7374 7320 746f  .- Make tests to
+00018640: 2074 6573 7420 6167 6169 6e73 7420 616c   test against al
+00018650: 6c20 6b6e 6f77 6e20 6465 7669 6365 2076  l known device v
+00018660: 6172 6961 6e74 732e 205b 5465 656d 7520  ariants. [Teemu 
+00018670: 5279 7469 6c61 6874 695d 0a0a 2d20 5265  Rytilahti]..- Re
+00018680: 6d6f 7665 2075 6e75 7365 6420 7470 6c69  move unused tpli
+00018690: 6e6b 736d 6172 7468 6f6d 6570 726f 746f  nksmarthomeproto
+000186a0: 636f 6c20 696d 706f 7274 2e20 5b54 6565  col import. [Tee
+000186b0: 6d75 2052 7974 696c 6168 7469 5d0a 0a2d  mu Rytilahti]..-
+000186c0: 2046 6978 2068 7331 3035 206d 6163 2074   Fix hs105 mac t
+000186d0: 6f20 7061 7373 2074 6865 2074 6573 742c  o pass the test,
+000186e0: 2077 7261 7020 7379 7369 6e66 6f5f 6c62   wrap sysinfo_lb
+000186f0: 3131 3020 7072 6f70 6572 6c79 2069 6e73  110 properly ins
+00018700: 6964 6520 2773 7973 7465 6d27 205b 5465  ide 'system' [Te
+00018710: 656d 7520 5279 7469 6c61 6874 695d 0a0a  emu Rytilahti]..
+00018720: 2d20 5265 7475 726e 204e 6f6e 6520 696e  - Return None in
+00018730: 7374 6561 6420 6f66 2046 616c 7365 2066  stead of False f
+00018740: 6f72 2065 6d65 7465 7220 7265 6c61 7465  or emeter relate
+00018750: 6420 6163 7469 6f6e 732e 205b 5465 656d  d actions. [Teem
+00018760: 7520 5279 7469 6c61 6874 695d 0a0a 2d20  u Rytilahti]..- 
+00018770: 5772 6170 2073 7973 696e 666f 2074 6f20  Wrap sysinfo to 
+00018780: 6465 6661 756c 7464 6963 7420 746f 2072  defaultdict to r
+00018790: 6574 7572 6e20 4e6f 6e65 2066 6f72 206b  eturn None for k
+000187a0: 6579 7320 7768 6963 6820 646f 206e 6f74  eys which do not
+000187b0: 2065 7869 7374 2c20 6d61 6b65 7320 756e   exist, makes un
+000187c0: 7375 7070 6f72 7465 6420 6b65 7973 206e  supported keys n
+000187d0: 6f74 2074 6f20 6661 696c 2068 6172 6420  ot to fail hard 
+000187e0: 2823 3732 2920 5b54 6565 6d75 2052 5d0a  (#72) [Teemu R].
+000187f0: 0a2d 2041 6464 2068 7331 3030 2065 7861  .- Add hs100 exa
+00018800: 6d70 6c65 2074 6f20 6661 6b65 732e 7079  mple to fakes.py
+00018810: 2c20 7468 616e 6b73 2074 6f20 5365 6d61  , thanks to Sema
+00018820: 6e74 316b 6120 6f6e 2023 3637 2028 2337  nt1ka on #67 (#7
+00018830: 3429 205b 5465 656d 7520 525d 0a0a 2d20  4) [Teemu R]..- 
+00018840: 4469 7363 6f76 6572 2072 6566 6163 746f  Discover refacto
+00018850: 7269 6e67 2c20 656e 6861 6e63 656d 656e  ring, enhancemen
+00018860: 7473 2074 6f20 7468 6520 636c 6920 746f  ts to the cli to
+00018870: 6f6c 2028 2337 3129 205b 5465 656d 7520  ol (#71) [Teemu 
+00018880: 525d 0a0a 2020 2a20 4469 7363 6f76 6572  R]..  * Discover
+00018890: 2072 6566 6163 746f 7269 6e67 2c20 656e   refactoring, en
+000188a0: 6861 6e63 656d 656e 7473 2074 6f20 7468  hancements to th
+000188b0: 6520 636c 6920 746f 6f6c 0a0a 2020 2a20  e cli tool..  * 
+000188c0: 4469 7363 6f76 6572 2074 7269 6573 2074  Discover tries t
+000188d0: 6f20 6465 7465 6374 2074 6865 2074 7970  o detect the typ
+000188e0: 6520 6f66 2074 6865 2064 6576 6963 6520  e of the device 
+000188f0: 6672 6f6d 2073 7973 696e 666f 2072 6573  from sysinfo res
+00018900: 706f 6e73 650a 2020 2a20 4469 7363 6f76  ponse.  * Discov
+00018910: 6572 2e64 6973 636f 7665 7228 2920 7265  er.discover() re
+00018920: 7475 726e 7320 616e 2049 5020 6164 6472  turns an IP addr
+00018930: 6573 7320 6b65 7965 6420 6469 6374 696f  ess keyed dictio
+00018940: 6e61 7279 2c0a 2020 2020 7661 6c75 6573  nary,.    values
+00018950: 2061 7265 2069 6e69 7469 616c 697a 6564   are initialized
+00018960: 2069 6e73 7461 6e63 6573 206f 6620 7468   instances of th
+00018970: 6520 6175 746f 6d61 7469 6361 6c6c 7920  e automatically 
+00018980: 6465 7465 6374 6564 2064 6576 6963 6520  detected device 
+00018990: 7479 7065 2e0a 0a20 202a 2057 6865 6e20  type...  * When 
+000189a0: 6e6f 2049 5020 6973 2067 6976 656e 2c20  no IP is given, 
+000189b0: 6175 746f 6465 7465 6374 2061 6c6c 2073  autodetect all s
+000189c0: 7570 706f 7274 6564 2064 6576 6963 6573  upported devices
+000189d0: 2061 6e64 2070 7269 6e74 206f 7574 2074   and print out t
+000189e0: 6865 6972 2073 7461 7465 730a 2020 2a20  heir states.  * 
+000189f0: 5768 656e 206f 6e6c 7920 4950 2062 7574  When only IP but
+00018a00: 206e 6f20 7479 7065 2069 7320 6769 7665   no type is give
+00018a10: 6e2c 2061 7574 6f64 6574 6563 7420 7479  n, autodetect ty
+00018a20: 7065 2061 6e64 206d 616b 6520 6120 6361  pe and make a ca
+00018a30: 6c6c 2062 6173 6564 206f 6e20 7468 6174  ll based on that
+00018a40: 2069 6e66 6f72 6d61 7469 6f6e 2e0a 2020   information..  
+00018a50: 2020 2a20 4f6e 6520 6361 6e20 6465 6669    * One can defi
+00018a60: 6e65 202d 2d62 756c 6220 6f72 202d 2d70  ne --bulb or --p
+00018a70: 6c75 6720 746f 2073 6b69 7020 7468 6520  lug to skip the 
+00018a80: 6465 7465 6374 696f 6e2e 0a0a 2020 2a20  detection...  * 
+00018a90: 7265 6e61 6d65 6420 7079 4853 3130 302e  renamed pyHS100.
+00018aa0: 7079 202d 3e20 736d 6172 7464 6576 6963  py -> smartdevic
+00018ab0: 652e 7079 0a0a 2020 2a20 536d 6172 7450  e.py..  * SmartP
+00018ac0: 6c75 6745 7863 6570 7469 6f6e 202d 3e20  lugException -> 
+00018ad0: 536d 6172 7444 6576 6963 6545 7863 6570  SmartDeviceExcep
+00018ae0: 7469 6f6e 2069 6e20 636f 6d6d 656e 7473  tion in comments
+00018af0: 0a0a 2020 2a20 6669 7820 6d69 635f 7479  ..  * fix mic_ty
+00018b00: 7065 2063 6865 636b 0a0a 2020 2a20 6d61  pe check..  * ma
+00018b10: 6b65 2074 696d 6528 2920 7265 7475 726e  ke time() return
+00018b20: 204e 6f6e 6520 6f6e 2066 6169 6c75 7265   None on failure
+00018b30: 2061 7320 7765 2064 6f6e 2774 206b 6e6f   as we don't kno
+00018b40: 7720 7768 6963 6820 6465 7669 6365 7320  w which devices 
+00018b50: 7375 7070 6f72 7420 6765 7474 696e 6720  support getting 
+00018b60: 7468 6520 7469 6d65 2061 6e64 2069 7427  the time and it'
+00018b70: 7320 7573 6564 2069 6e20 7468 6520 636c  s used in the cl
+00018b80: 6920 746f 6f6c 0a0a 2020 2a20 6877 5f69  i tool..  * hw_i
+00018b90: 6e66 6f3a 2063 6865 636b 2069 6620 6b65  nfo: check if ke
+00018ba0: 7920 6578 6973 7473 2062 6566 6f72 6520  y exists before 
+00018bb0: 6163 6365 7373 696e 6720 6974 2c20 6164  accessing it, ad
+00018bc0: 6420 6d69 635f 6d61 6320 616e 6420 6d69  d mic_mac and mi
+00018bd0: 635f 7479 7065 0a0a 2020 2a20 4368 6563  c_type..  * Chec
+00018be0: 6b20 666f 7220 6d69 635f 6d61 6320 6f6e  k for mic_mac on
+00018bf0: 206d 6163 2c20 6261 7365 6420 6f6e 2077   mac, based on w
+00018c00: 6f72 6b20 6279 206b 6473 6368 6c6f 6573  ork by kdschloes
+00018c10: 7365 7220 6f6e 2069 7373 7565 2023 3539  ser on issue #59
+00018c20: 0a0a 2020 2a20 6d61 6b65 2068 6f75 6e64  ..  * make hound
+00018c30: 2068 6170 7079 2c20 5f5f 696e 6974 5f5f   happy, __init__
+00018c40: 206f 6e20 536d 6172 7444 6576 6963 6520   on SmartDevice 
+00018c50: 6361 6e6e 6f74 2065 7272 6f72 206f 7574  cannot error out
+00018c60: 2073 6f20 7265 6d6f 7669 6e67 2027 7261   so removing 'ra
+00018c70: 6973 6573 2720 646f 6375 6d65 6e74 6174  ises' documentat
+00018c80: 696f 6e0a 0a2d 2041 6464 204c 4231 3130  ion..- Add LB110
+00018c90: 2073 7973 696e 666f 2028 2337 3529 205b   sysinfo (#75) [
+00018ca0: 5365 616e 2047 6f6c 6c73 6368 6577 736b  Sean Gollschewsk
+00018cb0: 795d 0a0a 2020 2a20 4164 6420 4c42 3131  y]..  * Add LB11
+00018cc0: 3020 7379 7369 6e66 6f0a 0a20 202a 204c  0 sysinfo..  * L
+00018cd0: 696e 7469 6e67 2e0a 0a2d 2041 6464 2040  inting...- Add @
+00018ce0: 7061 7373 5f64 6576 2074 6f20 6873 762c  pass_dev to hsv,
+00018cf0: 2061 646a 7573 7420 7261 6e67 6573 2028   adjust ranges (
+00018d00: 2337 3029 205b 5465 656d 7520 525d 0a0a  #70) [Teemu R]..
+00018d10: 2020 2a20 6164 6420 4070 6173 735f 6465    * add @pass_de
+00018d20: 7620 746f 2068 7376 2063 6f6d 6d61 6e64  v to hsv command
+00018d30: 2c20 6974 2077 6173 2061 6c77 6179 7320  , it was always 
+00018d40: 6272 6f6b 656e 0a0a 2020 2a20 4875 6520  broken..  * Hue 
+00018d50: 676f 6573 2075 7020 746f 2033 3630 2c20  goes up to 360, 
+00018d60: 7361 7475 7261 7469 6f6e 2061 6e64 2076  saturation and v
+00018d70: 616c 7565 2061 7265 2075 7020 746f 2031  alue are up to 1
+00018d80: 3030 2825 290a 0a2d 2045 7874 7261 6374  00(%)..- Extract
+00018d90: 2073 6861 7265 6420 7479 7065 7320 2865   shared types (e
+00018da0: 7863 6570 7469 6f6e 732c 2065 6e75 6d73  xceptions, enums
+00018db0: 292c 2061 6464 206d 6f64 756c 6520 6c65  ), add module le
+00018dc0: 7665 6c20 646f 632c 2072 656e 616d 6520  vel doc, rename 
+00018dd0: 6578 6365 7074 696f 6e20 746f 2062 6520  exception to be 
+00018de0: 6765 6e65 7269 632e 205b 5465 656d 7520  generic. [Teemu 
+00018df0: 5279 7469 6c61 6874 695d 0a0a 2d20 4164  Rytilahti]..- Ad
+00018e00: 6420 6368 6563 6b20 746f 2065 6e73 7572  d check to ensur
+00018e10: 6520 6465 7669 6365 7320 7769 7468 206c  e devices with l
+00018e20: 6174 2f6c 6f6e 2077 6974 6820 605f 6960  at/lon with `_i`
+00018e30: 2073 7566 6669 7820 6172 6520 7375 7070   suffix are supp
+00018e40: 6f72 7465 6420 2823 3534 2920 2823 3536  orted (#54) (#56
+00018e50: 2920 5b4d 6174 7420 4c65 4272 756e 5d0a  ) [Matt LeBrun].
+00018e60: 0a20 202a 2041 6464 2063 6865 636b 2074  .  * Add check t
+00018e70: 6f20 656e 7375 7265 2064 6576 6963 6573  o ensure devices
+00018e80: 2077 6974 6820 6c61 742f 6c6f 6e20 7769   with lat/lon wi
+00018e90: 7468 2060 5f69 6020 7375 6666 6978 2061  th `_i` suffix a
+00018ea0: 7265 2073 7570 706f 7274 6564 2028 2335  re supported (#5
+00018eb0: 3429 0a0a 2020 2a20 4164 6420 2e67 6974  4)..  * Add .git
+00018ec0: 6967 6e6f 7265 2066 6f72 2070 6f73 7465  ignore for poste
+00018ed0: 7269 7479 0a0a 2d20 4765 6e65 7261 6c69  rity..- Generali
+00018ee0: 7a65 2073 6d61 7274 6465 7669 6365 2063  ze smartdevice c
+00018ef0: 6c61 7373 2061 6e64 2061 6464 2062 756c  lass and add bul
+00018f00: 6220 7375 7070 6f72 7420 666f 7220 7468  b support for th
+00018f10: 6520 636c 6920 746f 6f6c 2028 2335 3029  e cli tool (#50)
+00018f20: 205b 5465 656d 7520 525d 0a0a 2020 4669   [Teemu R]..  Fi
+00018f30: 7865 7320 2334 3820 616e 6420 2335 312e  xes #48 and #51.
+00018f40: 2054 6865 2062 6173 6963 2066 756e 6374   The basic funct
+00018f50: 696f 6e61 6c69 7479 2073 686f 756c 6420  ionality should 
+00018f60: 776f 726b 206f 6e20 616c 6c20 7479 7065  work on all type
+00018f70: 7320 6f66 2073 7570 706f 7274 6564 2064  s of supported d
+00018f80: 6576 6963 6573 2c20 666f 7220 6275 6c62  evices, for bulb
+00018f90: 2073 7065 6369 6669 6320 636f 6d6d 616e   specific comman
+00018fa0: 6473 2069 7420 6973 2063 7572 7265 6e74  ds it is current
+00018fb0: 6c79 206e 6563 6573 7361 7279 2074 6f20  ly necessary to 
+00018fc0: 7370 6563 6966 7920 6060 602d 2d62 756c  specify ```--bul
+00018fd0: 6260 6060 2e0a 0a2d 2052 6566 6163 746f  b```...- Refacto
+00018fe0: 7220 616e 6420 6472 6f70 2070 7932 2073  r and drop py2 s
+00018ff0: 7570 706f 7274 2028 2334 3929 205b 5465  upport (#49) [Te
+00019000: 656d 7520 525d 0a0a 2020 2a20 6d6f 7665  emu R]..  * move
+00019010: 2069 735f 6f66 6620 7072 6f70 6572 7479   is_off property
+00019020: 2074 6f20 536d 6172 7444 6576 6963 652c   to SmartDevice,
+00019030: 2069 6d70 6c65 6d65 6e74 2069 735f 6f6e   implement is_on
+00019040: 2066 6f72 2062 756c 6220 616e 6420 7573   for bulb and us
+00019050: 6520 6974 0a0a 2020 2a20 7265 6661 6374  e it..  * refact
+00019060: 6f72 2062 7920 6d6f 7669 6e67 2073 6d61  or by moving sma
+00019070: 7274 6275 6c62 2061 6e64 2073 6d61 7274  rtbulb and smart
+00019080: 706c 7567 2074 6f20 7468 6569 7220 6f77  plug to their ow
+00019090: 6e20 636c 6173 7365 730a 0a20 202a 2064  n classes..  * d
+000190a0: 726f 7020 7079 7468 6f6e 3220 636f 6d70  rop python2 comp
+000190b0: 6174 6962 696c 6974 792c 206d 616b 6520  atibility, make 
+000190c0: 666c 616b 6538 2068 6170 7079 0a0a 2020  flake8 happy..  
+000190d0: 2a20 7472 6176 6973 3a20 7265 6d6f 7665  * travis: remove
+000190e0: 2032 2e37 2c20 6164 6420 332e 360a 0a30   2.7, add 3.6..0
+000190f0: 2e32 2e34 2e32 2028 3230 3137 2d30 342d  .2.4.2 (2017-04-
+00019100: 3038 290a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  08).------------
+00019110: 2d2d 2d2d 2d2d 2d2d 0a2d 2041 6464 2069  --------.- Add i
+00019120: 6e73 7461 6c6c 6174 696f 6e20 7265 7175  nstallation requ
+00019130: 6972 656d 656e 7420 666f 7220 6675 7475  irement for futu
+00019140: 7265 2070 6163 6b61 6765 2e20 5b54 6565  re package. [Tee
+00019150: 6d75 2052 7974 696c 6168 7469 5d0a 0a30  mu Rytilahti]..0
+00019160: 2e32 2e34 2e31 2028 3230 3137 2d30 332d  .2.4.1 (2017-03-
+00019170: 3236 290a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  26).------------
+00019180: 2d2d 2d2d 2d2d 2d2d 0a2d 2043 6c69 3a20  --------.- Cli: 
+00019190: 6469 7370 6c61 7920 616e 2065 7272 6f72  display an error
+000191a0: 2069 6620 6e6f 2069 7020 6973 2067 6976   if no ip is giv
+000191b0: 656e 2e20 5b54 6565 6d75 2052 7974 696c  en. [Teemu Rytil
+000191c0: 6168 7469 5d0a 0a0a 302e 322e 3420 2832  ahti]...0.2.4 (2
+000191d0: 3031 372d 3033 2d32 3629 0a2d 2d2d 2d2d  017-03-26).-----
+000191e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d  -------------..-
+000191f0: 2041 6464 206e 6577 2063 6c69 656e 7420   Add new client 
+00019200: 746f 6f6c 2028 2334 3229 205b 5465 656d  tool (#42) [Teem
+00019210: 7520 525d 0a0a 2020 2a20 4164 6420 6e65  u R]..  * Add ne
+00019220: 7720 636c 6965 6e74 2074 6f6f 6c0a 0a20  w client tool.. 
+00019230: 2041 6674 6572 2069 6e73 7461 6c6c 696e   After installin
+00019240: 6720 7468 6520 7061 636b 6167 6520 7079  g the package py
+00019250: 6873 3130 3020 636f 6d6d 616e 642d 6c69  hs100 command-li
+00019260: 6e65 2074 6f6f 6c20 6361 6e20 6265 2075  ne tool can be u
+00019270: 7365 640a 2020 746f 2063 6f6e 7472 6f6c  sed.  to control
+00019280: 2074 6865 2070 6c75 672e 0a0a 2020 5365   the plug...  Se
+00019290: 6520 2d2d 6865 6c70 2066 6f72 2069 7473  e --help for its
+000192a0: 2075 7361 6765 2c20 6d6f 7374 206f 6620   usage, most of 
+000192b0: 7468 6520 6665 6174 7572 6573 2066 6f72  the features for
+000192c0: 2070 6c75 6773 2061 7265 2069 6d70 6c65   plugs are imple
+000192d0: 6d65 6e74 6564 2c0a 2020 736f 6d65 206f  mented,.  some o
+000192e0: 6620 7468 6520 7368 6172 6564 2066 756e  f the shared fun
+000192f0: 6374 696f 6e61 6c69 7479 2077 6f72 6b73  ctionality works
+00019300: 2066 6f72 2062 756c 6273 2074 6f6f 2e0a   for bulbs too..
+00019310: 0a20 202a 2041 6464 2064 6973 636f 7665  .  * Add discove
+00019320: 7220 636f 6d6d 616e 640a 0a20 202a 2044  r command..  * D
+00019330: 656c 6574 6520 6f6c 6420 6578 616d 706c  elete old exampl
+00019340: 6573 2c20 7468 6520 636c 6920 776f 726b  es, the cli work
+00019350: 7320 6173 2061 6e20 6578 616d 706c 6520  s as an example 
+00019360: 7765 6c6c 2065 6e6f 7567 680a 0a2d 2049  well enough..- I
+00019370: 676e 6f72 6520 4f53 4572 726f 7220 6f6e  gnore OSError on
+00019380: 2073 6f63 6b65 742e 7368 7574 646f 776e   socket.shutdown
+00019390: 2829 205b 5465 656d 7520 5279 7469 6c61  () [Teemu Rytila
+000193a0: 6874 695d 0a0a 2020 5468 6973 2066 6978  hti]..  This fix
+000193b0: 6573 2023 3232 2061 6e64 206f 6273 6f6c  es #22 and obsol
+000193c0: 6574 6573 2050 5220 2332 332e 0a2d 2053  etes PR #23..- S
+000193d0: 6574 2063 6f6c 6f72 2074 656d 7020 746f  et color temp to
+000193e0: 2030 2077 6865 6e20 7472 7969 6e67 2074   0 when trying t
+000193f0: 6f20 6368 616e 6765 2063 6f6c 6f72 2028  o change color (
+00019400: 2333 3629 205b 7065 7465 3134 3530 5d0a  #36) [pete1450].
+00019410: 0a20 202a 2073 6574 2063 6f6c 6f72 2074  .  * set color t
+00019420: 656d 7020 746f 2030 2077 6865 6e20 7472  emp to 0 when tr
+00019430: 7969 6e67 2074 6f20 6368 616e 6765 2063  ying to change c
+00019440: 6f6c 6f72 0a0a 2020 2a20 6368 616e 6765  olor..  * change
+00019450: 6420 7461 6273 2074 6f20 7370 6163 6573  d tabs to spaces
+00019460: 0a0a 2d20 4164 6420 6368 616e 6765 6c6f  ..- Add changelo
+00019470: 6720 2620 6164 6420 2e67 6974 6368 616e  g & add .gitchan
+00019480: 6765 6c6f 672e 7263 2028 2332 3829 205b  gelog.rc (#28) [
+00019490: 5465 656d 7520 525d 0a0a 2020 5468 6973  Teemu R]..  This
+000194a0: 2063 6f6d 6d69 7473 2061 6464 7320 2e67   commits adds .g
+000194b0: 6974 6368 616e 6765 6c6f 672e 7263 2066  itchangelog.rc f
+000194c0: 6f72 2063 6861 6e67 656c 6f67 2067 656e  or changelog gen
+000194d0: 6572 6174 696f 6e2e 0a20 2054 6f20 6765  eration..  To ge
+000194e0: 6e65 7261 7465 2c20 7369 6d70 6c79 2072  nerate, simply r
+000194f0: 756e 2067 6974 6368 616e 6765 6c6f 672e  un gitchangelog.
+00019500: 0a0a 2d20 4469 7363 6f76 6572 3a20 4361  ..- Discover: Ca
+00019510: 7463 6820 736f 636b 6574 2e74 696d 656f  tch socket.timeo
+00019520: 7574 2061 6e64 2064 6562 7567 206c 6f67  ut and debug log
+00019530: 2069 7420 2823 3334 2920 5b54 6565 6d75   it (#34) [Teemu
+00019540: 2052 5d0a 0a20 2046 6978 6573 2023 3333   R]..  Fixes #33
+00019550: 0a0a 2d20 4164 6420 666c 616b 6538 2074  ..- Add flake8 t
+00019560: 6f20 746f 782c 2064 6973 6162 6c65 2071  o tox, disable q
+00019570: 6120 6f6e 2070 7948 5331 3030 2f5f 5f69  a on pyHS100/__i
+00019580: 6e69 745f 5f2e 7079 2c20 6669 7820 7079  nit__.py, fix py
+00019590: 3237 0a20 2063 6f6d 7061 7469 6269 6c69  27.  compatibili
+000195a0: 7479 2028 2333 3129 205b 5465 656d 7520  ty (#31) [Teemu 
+000195b0: 525d 0a0a 2d20 4164 6420 7375 7070 6f72  R]..- Add suppor
+000195c0: 7420 666f 7220 5450 2d4c 696e 6b20 736d  t for TP-Link sm
+000195d0: 6172 7462 756c 6273 2028 2333 3029 205b  artbulbs (#30) [
+000195e0: 4d61 7474 6865 7720 4761 7272 6574 745d  Matthew Garrett]
+000195f0: 0a0a 2020 2a20 4164 6420 7375 7070 6f72  ..  * Add suppor
+00019600: 7420 666f 7220 6e65 772d 7374 796c 6520  t for new-style 
+00019610: 7072 6f74 6f63 6f6c 0a0a 2020 4e65 7765  protocol..  Newe
+00019620: 7220 6465 7669 6365 7320 2869 6e63 6c75  r devices (inclu
+00019630: 6469 6e67 206d 7920 4c42 3133 3029 2073  ding my LB130) s
+00019640: 6565 6d20 746f 2069 6e63 6c75 6465 2074  eem to include t
+00019650: 6865 2072 6571 7565 7374 206c 656e 6774  he request lengt
+00019660: 6820 696e 0a20 2074 6865 2070 7265 7669  h in.  the previ
+00019670: 6f75 736c 7920 656d 7074 7920 6d65 7373  ously empty mess
+00019680: 6167 6520 6865 6164 6572 2c20 616e 6420  age header, and 
+00019690: 6967 6e6f 7265 2072 6571 7565 7374 7320  ignore requests 
+000196a0: 7468 6174 206c 6163 6b20 6974 2e20 5468  that lack it. Th
+000196b0: 6579 0a20 2061 6c73 6f20 646f 6e27 7420  ey.  also don't 
+000196c0: 7365 6e64 2061 6e20 656d 7074 7920 7061  send an empty pa
+000196d0: 636b 6574 2061 7320 7468 6520 6669 6e61  cket as the fina
+000196e0: 6c20 7061 7274 206f 6620 6120 7265 7370  l part of a resp
+000196f0: 6f6e 7365 2c20 7768 6963 6820 6361 6e0a  onse, which can.
+00019700: 2020 6c65 6164 2074 6f20 6861 6e67 732e    lead to hangs.
+00019710: 2041 6464 2073 7570 706f 7274 2066 6f72   Add support for
+00019720: 2074 6869 732c 2077 6974 6820 6c75 636b   this, with luck
+00019730: 206e 6f74 2062 7265 616b 696e 6720 6578   not breaking ex
+00019740: 6973 7469 6e67 2064 6576 6963 6573 0a20  isting devices. 
+00019750: 2069 6e20 7468 6520 7072 6f63 6573 732e   in the process.
+00019760: 0a0a 2020 2a20 4669 7820 7465 7374 730a  ..  * Fix tests.
+00019770: 0a20 2057 6520 6e6f 7720 696e 636c 7564  .  We now includ
+00019780: 6520 7468 6520 7265 7175 6573 7420 6c65  e the request le
+00019790: 6e67 7468 2069 6e20 7468 6520 656e 6372  ngth in the encr
+000197a0: 7970 7465 6420 7061 636b 6574 2068 6561  ypted packet hea
+000197b0: 6465 722c 2073 6f20 7374 7269 700a 2020  der, so strip.  
+000197c0: 7468 6520 6865 6164 6572 2072 6174 6865  the header rathe
+000197d0: 7220 7468 616e 2061 7373 756d 696e 6720  r than assuming 
+000197e0: 7468 6174 2069 7427 7320 6a75 7374 207a  that it's just z
+000197f0: 6572 6f65 732e 0a0a 2020 2a20 4372 6561  eroes...  * Crea
+00019800: 7465 2061 2053 6d61 7274 4465 7669 6365  te a SmartDevice
+00019810: 2070 6172 656e 7420 636c 6173 730a 0a20   parent class.. 
+00019820: 2041 6464 2061 2067 656e 6572 6963 2053   Add a generic S
+00019830: 6d61 7274 4465 7669 6365 2063 6c61 7373  martDevice class
+00019840: 2074 6861 7420 536d 6172 7450 6c75 6720   that SmartPlug 
+00019850: 6361 6e20 696e 6865 7269 7420 6672 6f6d  can inherit from
+00019860: 2c20 696e 0a20 2070 7265 7061 7261 7469  , in.  preparati
+00019870: 6f6e 2066 6f72 2061 6464 696e 6720 7375  on for adding su
+00019880: 7070 6f72 7420 666f 7220 6f74 6865 7220  pport for other 
+00019890: 6465 7669 6365 2074 7970 6573 2e0a 0a20  device types... 
+000198a0: 202a 2041 6464 2073 7570 706f 7274 2066   * Add support f
+000198b0: 6f72 2054 502d 4c69 6e6b 2073 6d61 7274  or TP-Link smart
+000198c0: 6275 6c62 730a 0a20 2054 6865 7365 2062  bulbs..  These b
+000198d0: 756c 6273 2075 7365 2074 6865 2073 616d  ulbs use the sam
+000198e0: 6520 7072 6f74 6f63 6f6c 2061 7320 7468  e protocol as th
+000198f0: 6520 736d 6172 7420 706c 7567 732c 2062  e smart plugs, b
+00019900: 7574 2068 6176 6520 6164 6469 7469 6f6e  ut have addition
+00019910: 616c 0a20 2063 6f6d 6d61 6e64 7320 666f  al.  commands fo
+00019920: 7220 636f 6e74 726f 6c6c 696e 6720 6275  r controlling bu
+00019930: 6c62 2d73 7065 6369 6669 6320 6665 6174  lb-specific feat
+00019940: 7572 6573 2e20 496e 2061 6464 6974 696f  ures. In additio
+00019950: 6e2c 2074 6865 2062 756c 6273 0a20 2068  n, the bulbs.  h
+00019960: 6176 6520 7468 6569 7220 656d 6574 6572  ave their emeter
+00019970: 2075 6e64 6572 2061 2064 6966 6665 7265   under a differe
+00019980: 6e74 2074 6172 6765 7420 616e 6420 7265  nt target and re
+00019990: 7475 726e 2072 6573 706f 6e73 6573 2074  turn responses t
+000199a0: 6861 740a 2020 696e 636c 7564 6520 7468  hat.  include th
+000199b0: 6520 656e 6572 6779 2075 6e69 7420 696e  e energy unit in
+000199c0: 2074 6865 206b 6579 206e 616d 6573 2e0a   the key names..
+000199d0: 0a20 202a 2041 6464 2074 6573 7473 2066  .  * Add tests f
+000199e0: 6f72 2062 756c 6273 0a0a 2020 4e6f 7420  or bulbs..  Not 
+000199f0: 656e 7469 7265 6c79 2063 6f6d 7072 6568  entirely compreh
+00019a00: 656e 7369 7665 2c20 6275 7420 6861 7320  ensive, but has 
+00019a10: 7072 6574 7479 206d 7563 6820 7468 6520  pretty much the 
+00019a20: 7361 6d65 206c 6576 656c 206f 6620 7465  same level of te
+00019a30: 7374 696e 670a 2020 6173 2070 6c75 6773  sting.  as plugs
+00019a40: 0a0a 0a30 2e32 2e33 2028 3230 3137 2d30  ...0.2.3 (2017-0
+00019a50: 312d 3131 290a 2d2d 2d2d 2d2d 2d2d 2d2d  1-11).----------
+00019a60: 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4164 6420  --------..- Add 
+00019a70: 2e67 6974 6368 6e61 6765 6c6f 672e 7263  .gitchnagelog.rc
+00019a80: 2066 6f72 2063 6861 6e67 656c 6f67 2067   for changelog g
+00019a90: 656e 6572 6174 696f 6e2e 2074 6f20 6765  eneration. to ge
+00019aa0: 6e65 7261 7465 2c20 7369 6d70 6c79 0a20  nerate, simply. 
+00019ab0: 2069 6e73 7461 6c6c 2061 6e64 2072 756e   install and run
+00019ac0: 2067 6974 6368 616e 6765 6c6f 672e 205b   gitchangelog. [
+00019ad0: 5465 656d 7520 5279 7469 6c61 6874 695d  Teemu Rytilahti]
+00019ae0: 0a0a 2d20 5665 7273 696f 6e20 6275 6d70  ..- Version bump
+00019af0: 2e20 5b47 6164 6765 7452 6561 6374 6f72  . [GadgetReactor
+00019b00: 5d0a 0a2d 2049 6e69 7469 616c 2073 7465  ]..- Initial ste
+00019b10: 7073 2074 6f20 7265 6d6f 7665 2063 6163  ps to remove cac
+00019b20: 6869 6e67 2028 2332 3629 205b 5465 656d  hing (#26) [Teem
+00019b30: 7520 525d 0a0a 2020 5468 6973 2063 6f6d  u R]..  This com
+00019b40: 6d69 7420 7265 6d6f 7665 7320 6361 6368  mit removes cach
+00019b50: 696e 6720 6f66 2073 7973 696e 666f 2074  ing of sysinfo t
+00019b60: 6f20 6176 6f69 640a 2020 696e 636f 6e73  o avoid.  incons
+00019b70: 6973 7465 6e74 2073 7461 7465 7320 6173  istent states as
+00019b80: 2064 6573 6372 6962 6564 2069 6e20 6973   described in is
+00019b90: 7375 6520 2331 342e 0a0a 2020 4561 6368  sue #14...  Each
+00019ba0: 2061 6e20 6576 6572 7920 6163 6365 7373   an every access
+00019bb0: 2066 6f72 2070 726f 7065 7274 6965 7320   for properties 
+00019bc0: 7769 6c6c 2063 6175 7365 2061 2072 6571  will cause a req
+00019bd0: 7565 7374 0a20 2074 6f20 6265 206d 6164  uest.  to be mad
+00019be0: 6520 746f 2074 6865 2064 6576 6963 652e  e to the device.
+00019bf0: 2054 6f20 6176 6f69 6420 7468 6973 2c20   To avoid this, 
+00019c00: 7573 6572 206f 6620 7468 6520 6c69 6272  user of the libr
+00019c10: 6172 790a 2020 6d61 7920 7761 6e74 2074  ary.  may want t
+00019c20: 6f20 6163 6365 7373 2073 7973 5f69 6e66  o access sys_inf
+00019c30: 6f28 2920 6469 7265 6374 6c79 2069 6e73  o() directly ins
+00019c40: 7465 6164 206f 6620 7573 696e 6720 7468  tead of using th
+00019c50: 6520 6865 6c70 6572 732e 0a0a 2020 4375  e helpers...  Cu
+00019c60: 7272 656e 746c 7920 7379 735f 696e 666f  rrently sys_info
+00019c70: 2829 2072 6574 7572 6e73 2072 6177 206a  () returns raw j
+00019c80: 736f 6e20 6f62 6a65 6374 2077 6865 7265  son object where
+00019c90: 2d61 7320 6865 6c70 6572 7320 646f 0a20  -as helpers do. 
+00019ca0: 2070 6172 7365 2069 6e66 6f72 6d61 7469   parse informati
+00019cb0: 6f6e 2066 6f72 2065 6173 6965 7220 636f  on for easier co
+00019cc0: 6e73 756d 7074 696f 6e3b 2063 7572 7265  nsumption; curre
+00019cd0: 6e74 2073 7461 7465 2069 7320 6a75 7374  nt state is just
+00019ce0: 2074 6f0a 2020 7072 6f76 6964 6520 6120   to.  provide a 
+00019cf0: 506f 4320 686f 7720 6974 206c 6f6f 6b73  PoC how it looks
+00019d00: 2063 6f6d 7061 7265 6420 746f 2068 6176   compared to hav
+00019d10: 696e 6720 616e 2061 6374 6976 6520 7570  ing an active up
+00019d20: 6461 7465 2829 0a20 2066 6f72 2066 6574  date().  for fet
+00019d30: 6368 696e 6720 7468 6520 696e 666f 2e0a  ching the info..
+00019d40: 0a2d 204d 616b 6520 7465 7374 7320 7275  .- Make tests ru
+00019d50: 6e6e 6162 6c65 2077 6974 686f 7574 2064  nnable without d
+00019d60: 6576 6963 6520 2823 3234 2920 5b54 6565  evice (#24) [Tee
+00019d70: 6d75 2052 5d0a 0a20 202a 204d 616b 6520  mu R]..  * Make 
+00019d80: 7465 7374 7320 7275 6e6e 6162 6c65 2077  tests runnable w
+00019d90: 6974 686f 7574 2064 6576 6963 650a 0a20  ithout device.. 
+00019da0: 2041 6464 7320 7072 656c 696d 696e 6172   Adds preliminar
+00019db0: 7920 7375 7070 6f72 7420 666f 7220 6661  y support for fa
+00019dc0: 6b65 2064 6576 6963 6573 2c20 7468 616e  ke devices, than
+00019dd0: 6b73 2074 6f0a 2020 686f 7665 656d 616e  ks to.  hoveeman
+00019de0: 2773 2073 7973 696e 666f 7320 6672 6f6d  's sysinfos from
+00019df0: 2069 7373 7565 2023 3134 2c0a 2020 6d61   issue #14,.  ma
+00019e00: 6b69 6e67 2072 756e 6e69 6e67 2074 6573  king running tes
+00019e10: 7473 2070 6f73 7369 626c 6520 7769 7468  ts possible with
+00019e20: 6f75 7420 6120 6465 7669 6365 2e0a 0a20  out a device... 
+00019e30: 2041 7420 7468 6520 6d6f 6d65 6e74 2077   At the moment w
+00019e40: 6520 6861 7665 206f 6e6c 7920 4853 3131  e have only HS11
+00019e50: 3020 616e 6420 4853 3230 3020 696e 666f  0 and HS200 info
+00019e60: 7320 6176 6169 6c61 626c 652c 2061 6e64  s available, and
+00019e70: 2074 6573 7473 0a20 2061 7265 2063 7572   tests.  are cur
+00019e80: 7265 6e74 6c79 2072 756e 206f 6e6c 7920  rently run only 
+00019e90: 6167 6169 6e73 7420 4853 3131 3020 6461  against HS110 da
+00019ea0: 7461 2e0a 0a20 202a 204d 616b 6520 7465  ta...  * Make te
+00019eb0: 7374 7320 7079 3237 2063 6f6d 7061 7469  sts py27 compati
+00019ec0: 626c 650a 0a2d 2041 6464 2064 6576 6963  ble..- Add devic
+00019ed0: 6520 6469 7363 6f76 6572 7920 2823 3235  e discovery (#25
+00019ee0: 2920 5b54 6565 6d75 2052 5d0a 0a20 202a  ) [Teemu R]..  *
+00019ef0: 2061 6464 2028 756e 7465 7374 6564 2920   add (untested) 
+00019f00: 6469 7363 6f76 6572 206d 6f64 650a 0a20  discover mode.. 
+00019f10: 202a 204b 6565 7020 6469 7363 6f76 6572   * Keep discover
+00019f20: 7920 616e 6420 6e6f 726d 616c 2063 6f6d  y and normal com
+00019f30: 6d75 6e69 6361 7469 6f6e 2073 6570 6172  munication separ
+00019f40: 6174 652c 2075 7070 6572 6361 7365 206d  ate, uppercase m
+00019f50: 6167 6963 2063 6f6e 7374 730a 0a20 2054  agic consts..  T
+00019f60: 6869 7320 7365 7065 6172 6174 6573 2074  his sepearates t
+00019f70: 6865 2065 6172 6c69 6572 2074 6573 7420  he earlier test 
+00019f80: 636f 6465 2066 6f72 2064 6973 636f 7665  code for discove
+00019f90: 7269 6e67 2064 6576 6963 6573 2c0a 2020  ring devices,.  
+00019fa0: 616e 6420 6164 6473 2035 2073 6563 2074  and adds 5 sec t
+00019fb0: 696d 656f 7574 2066 6f72 2067 6174 6865  imeout for gathe
+00019fc0: 7269 6e67 2072 6573 706f 6e73 6573 2066  ring responses f
+00019fd0: 726f 6d20 706f 7465 6e74 6961 6c20 6465  rom potential de
+00019fe0: 7669 6365 732e 0a0a 2020 5468 6973 2063  vices...  This c
+00019ff0: 6f6d 6d69 7420 616c 736f 2075 7070 6572  ommit also upper
+0001a000: 6361 7365 7320 6d61 6769 6320 636f 6e73  cases magic cons
+0001a010: 7461 6e74 732e 0a0a 2020 4469 7363 6f76  tants...  Discov
+0001a020: 6572 7920 2620 636f 6d6d 756e 6963 6174  ery & communicat
+0001a030: 696f 6e20 7465 7374 6564 2077 6974 6820  ion tested with 
+0001a040: 4853 3131 302e 0a0a 2020 2a20 7570 6461  HS110...  * upda
+0001a050: 7465 2072 6561 646d 6520 7769 7468 2065  te readme with e
+0001a060: 7861 6d70 6c65 2068 6f77 2074 6f20 6469  xample how to di
+0001a070: 7363 6f76 6572 2064 6576 6963 6573 2c20  scover devices, 
+0001a080: 7065 7038 6966 790a 0a2d 2041 6464 2074  pep8ify..- Add t
+0001a090: 696d 656f 7574 2074 6f20 7175 6572 7920  imeout to query 
+0001a0a0: 2823 3139 2920 5b41 7573 7469 6e5d 0a0a  (#19) [Austin]..
+0001a0b0: 2d20 5265 6661 6374 6f72 2026 2061 6464  - Refactor & add
+0001a0c0: 2075 6e69 7474 6573 7473 2066 6f72 2061   unittests for a
+0001a0d0: 6c6d 6f73 7420 616c 6c20 6675 6e63 7469  lmost all functi
+0001a0e0: 6f6e 616c 6974 792c 2061 6464 2074 6f78  onality, add tox
+0001a0f0: 2066 6f72 0a20 2072 756e 6e69 6e67 2074   for.  running t
+0001a100: 6573 7473 206f 6e20 7079 3237 2061 6e64  ests on py27 and
+0001a110: 2070 7933 3520 2823 3137 2920 5b54 6565   py35 (#17) [Tee
+0001a120: 6d75 2052 5d0a 0a20 202a 2052 6566 6163  mu R]..  * Refac
+0001a130: 746f 7220 2620 6164 6420 756e 6974 7465  tor & add unitte
+0001a140: 7374 7320 666f 7220 616c 6d6f 7374 2061  sts for almost a
+0001a150: 6c6c 2066 756e 6374 696f 6e61 6c69 7479  ll functionality
+0001a160: 2c20 6164 6420 746f 7820 666f 7220 7275  , add tox for ru
+0001a170: 6e6e 696e 6720 7465 7374 7320 6f6e 2070  nning tests on p
+0001a180: 7932 3720 616e 6420 7079 3335 0a0a 2020  y27 and py35..  
+0001a190: 5468 6973 2063 6f6d 6d69 7420 6164 6473  This commit adds
+0001a1a0: 2075 6e69 7420 7465 7374 7320 666f 7220   unit tests for 
+0001a1b0: 6375 7272 656e 7420 6170 6920 6675 6e63  current api func
+0001a1c0: 7469 6f6e 616c 6974 792e 0a20 202d 2063  tionality..  - c
+0001a1d0: 7572 7265 6e74 6c79 206e 6f20 6d6f 636b  urrently no mock
+0001a1e0: 696e 672c 2061 6c6c 2074 6573 7473 2061  ing, all tests a
+0001a1f0: 7265 2072 756e 206f 6e20 7468 6520 6465  re run on the de
+0001a200: 7669 6365 2e0a 2020 2d20 7468 6520 6c69  vice..  - the li
+0001a210: 6272 6172 7920 6973 206e 6f77 2063 6f6d  brary is now com
+0001a220: 7061 7469 626c 6520 7769 7468 2070 7974  patible with pyt
+0001a230: 686f 6e20 322e 3720 616e 6420 7079 7468  hon 2.7 and pyth
+0001a240: 6f6e 2033 2e35 2c20 7573 6520 746f 7820  on 3.5, use tox 
+0001a250: 666f 7220 7465 7374 730a 2020 2d20 7363  for tests.  - sc
+0001a260: 6865 6d61 2063 6865 636b 7320 6172 6520  hema checks are 
+0001a270: 646f 6e65 2077 6974 6820 766f 6c75 7074  done with volupt
+0001a280: 756f 7573 0a0a 2020 7265 6661 6374 6f72  uous..  refactor
+0001a290: 696e 673a 0a20 202d 2070 726f 746f 636f  ing:.  - protoco
+0001a2a0: 6c20 6973 2073 6570 6172 6174 6564 2069  l is separated i
+0001a2b0: 6e74 6f20 6974 7320 6f77 6e20 6669 6c65  nto its own file
+0001a2c0: 2c20 736d 6172 7470 6c75 6720 6164 6170  , smartplug adap
+0001a2d0: 7465 6420 746f 2072 6563 6569 7665 2070  ted to receive p
+0001a2e0: 726f 746f 636f 6c20 776f 726b 6572 2061  rotocol worker a
+0001a2f0: 7320 7061 7261 6d65 7465 722e 0a20 202d  s parameter..  -
+0001a300: 2063 6c65 616e 6564 2075 7020 7468 6520   cleaned up the 
+0001a310: 696e 6974 6961 6c69 7a61 7469 6f6e 2072  initialization r
+0001a320: 6f75 7469 6e65 2c20 696e 6974 6961 6c69  outine, initiali
+0001a330: 7a61 7469 6f6e 2069 7320 646f 6e65 206f  zation is done o
+0001a340: 6e20 7573 652c 206e 6f74 206f 6e20 6372  n use, not on cr
+0001a350: 6561 7469 6f6e 206f 6620 736d 6172 7470  eation of smartp
+0001a360: 6c75 670a 2020 2d20 6164 6465 6420 6d6f  lug.  - added mo
+0001a370: 6465 6c20 616e 6420 6665 6174 7572 6573  del and features
+0001a380: 2070 726f 7065 7274 6965 732c 2069 6465   properties, ide
+0001a390: 6e74 6974 7920 6b65 7074 2066 6f72 2062  ntity kept for b
+0001a3a0: 6163 6b77 6172 6473 2063 6f6d 7061 7469  ackwards compati
+0001a3b0: 6269 6c69 7479 0a20 202d 206e 6f20 6d6f  bility.  - no mo
+0001a3c0: 7265 2073 746f 7269 6e67 206f 6620 6c6f  re storing of lo
+0001a3d0: 6361 6c20 7661 7269 6162 6c65 7320 6f75  cal variables ou
+0001a3e0: 7473 6964 6520 5f73 7973 5f69 6e66 6f2c  tside _sys_info,
+0001a3f0: 2070 6176 6573 2061 2077 6179 2074 6f20   paves a way to 
+0001a400: 6861 6e64 6c65 2073 7461 7465 2063 6861  handle state cha
+0001a410: 6e67 6573 2073 616e 656c 7920 2877 6974  nges sanely (wit
+0001a420: 686f 7574 2063 6f6d 706c 6574 6520 7265  hout complete re
+0001a430: 696e 6974 6961 6c69 7a61 7469 6f6e 290a  initialization).
+0001a440: 0a20 202a 2046 6978 2043 4920 7761 726e  .  * Fix CI warn
+0001a450: 696e 6773 2c20 7265 6d6f 7665 2075 6e75  ings, remove unu
+0001a460: 7365 6420 6c65 6674 6f76 6572 2063 6f64  sed leftover cod
+0001a470: 650a 0a20 202a 2052 656e 616d 6520 5f69  e..  * Rename _i
+0001a480: 6e69 7469 616c 697a 6520 746f 205f 6665  nitialize to _fe
+0001a490: 7463 685f 7379 7369 6e66 6f2c 2061 7320  tch_sysinfo, as 
+0001a4a0: 7468 6174 2773 2077 6861 7420 6974 2064  that's what it d
+0001a4b0: 6f65 732e 0a0a 2020 2a20 6578 616d 706c  oes...  * exampl
+0001a4c0: 6573 2e63 6c69 3a20 6669 7820 6964 656e  es.cli: fix iden
+0001a4d0: 7469 6679 2063 616c 6c2c 2070 7265 7474  tify call, prett
+0001a4e0: 7970 7269 6e74 2073 7973 696e 666f 2c20  yprint sysinfo, 
+0001a4f0: 7570 6461 7465 2072 6561 646d 6520 7768  update readme wh
+0001a500: 6963 6820 6861 6420 6661 6c73 6520 666f  ich had false fo
+0001a510: 726d 6174 2066 6f72 206c 6564 2073 6574  rmat for led set
+0001a520: 7469 6e67 0a0a 2020 2a20 4164 6420 746f  ting..  * Add to
+0001a530: 782d 7472 6176 6973 2066 6f72 2061 7574  x-travis for aut
+0001a540: 6f6d 6174 6564 2074 6573 7469 6e67 2e0a  omated testing..
+0001a550: 0a30 2e32 2e32 2028 3230 3136 2d31 322d  .0.2.2 (2016-12-
+0001a560: 3133 290a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  13).------------
+0001a570: 2d2d 2d2d 2d2d 0a0a 2d20 5665 7273 696f  ------..- Versio
+0001a580: 6e20 6275 6d70 2028 2331 3629 205b 4765  n bump (#16) [Ge
+0001a590: 6f72 6769 204b 6972 6963 686b 6f76 5d0a  orgi Kirichkov].
+0001a5a0: 0a2d 2052 6561 6420 616c 6c20 6461 7461  .- Read all data
+0001a5b0: 2066 726f 6d20 7468 6520 6465 7669 6365   from the device
+0001a5c0: 2c20 6469 7361 626c 6520 646f 7562 6c65  , disable double
+0001a5d0: 2d65 6e63 6f64 696e 672c 2069 6d70 6c65  -encoding, imple
+0001a5e0: 6d65 6e74 206d 6f72 650a 2020 4150 4973  ment more.  APIs
+0001a5f0: 2c20 7265 6661 6374 6f72 2071 7565 7279  , refactor query
+0001a600: 696e 672c 2075 7064 6174 6520 5245 4144  ing, update READ
+0001a610: 4d45 2028 2331 3129 205b 5465 656d 7520  ME (#11) [Teemu 
+0001a620: 525d 0a0a 2020 2a20 5265 6164 2066 726f  R]..  * Read fro
+0001a630: 6d20 736f 636b 6574 2075 6e74 696c 206e  m socket until n
+0001a640: 6f20 6461 7461 2061 7661 696c 6162 6c65  o data available
+0001a650: 2c20 6469 7361 626c 6520 646f 7562 6c65  , disable double
+0001a660: 2073 7472 696e 6720 656e 636f 6469 6e67   string encoding
+0001a670: 0a0a 2020 4853 3131 3020 7365 6e64 7320  ..  HS110 sends 
+0001a680: 736f 6d65 7469 6d65 7320 6461 7461 6772  sometimes datagr
+0001a690: 616d 7320 696e 2063 6875 6e6b 7320 6573  ams in chunks es
+0001a6a0: 7065 6369 616c 6c79 2066 6f72 2067 6574  pecially for get
+0001a6b0: 5f64 6179 7374 6174 2c0a 2020 7468 6973  _daystat,.  this
+0001a6c0: 2070 6174 6368 206d 616b 6573 2069 7420   patch makes it 
+0001a6d0: 746f 2072 6561 6420 756e 7469 6c20 7468  to read until th
+0001a6e0: 6572 6520 6973 206e 6f20 6d6f 7265 2064  ere is no more d
+0001a6f0: 6174 6120 746f 2062 6520 7265 6164 2e0a  ata to be read..
+0001a700: 0a20 2041 7320 6a73 6f6e 2e64 756d 7073  .  As json.dumps
+0001a710: 2829 2064 6f65 7320 4a53 4f4e 2065 6e63  () does JSON enc
+0001a720: 6f64 696e 6720 616c 7265 6164 792c 2074  oding already, t
+0001a730: 6865 7265 2773 206e 6f20 6e65 6564 2074  here's no need t
+0001a740: 6f20 7374 7228 290a 2020 7468 6520 7965  o str().  the ye
+0001a750: 6172 206f 7220 6d6f 6e74 6820 6569 7468  ar or month eith
+0001a760: 6572 2e0a 0a20 202a 2041 6464 2063 6c69  er...  * Add cli
+0001a770: 2e70 792c 2061 2073 696d 706c 6520 7363  .py, a simple sc
+0001a780: 7269 7074 2074 6f20 7175 6572 7920 6465  ript to query de
+0001a790: 7669 6365 7320 666f 7220 6465 6275 6767  vices for debugg
+0001a7a0: 696e 6720 7075 7270 6f73 6573 2e0a 0a20  ing purposes... 
+0001a7b0: 202a 2061 6c6c 6f77 2065 6173 6965 7220   * allow easier 
+0001a7c0: 696d 706f 7274 696e 6720 7769 7468 2066  importing with f
+0001a7d0: 726f 6d20 7079 4853 3130 3020 696d 706f  rom pyHS100 impo
+0001a7e0: 7274 2053 6d61 7274 506c 7567 0a0a 2020  rt SmartPlug..  
+0001a7f0: 2a20 6d6f 7665 2063 6c69 2e70 7920 746f  * move cli.py to
+0001a800: 2065 7861 6d70 6c65 732c 2061 6464 2073   examples, add s
+0001a810: 686f 7274 2075 7361 6765 2069 6e74 6f20  hort usage into 
+0001a820: 5245 4144 4d45 2e6d 640a 0a20 202a 2049  README.md..  * I
+0001a830: 6d70 6c65 6d65 6e74 206d 6f72 6520 6176  mplement more av
+0001a840: 6169 6c61 626c 6520 4150 4973 2c20 7265  ailable APIs, re
+0001a850: 6661 6374 6f72 2071 7565 7279 696e 6720  factor querying 
+0001a860: 636f 6465 2e0a 0a20 2054 6869 7320 636f  code...  This co
+0001a870: 6d6d 6974 2061 6464 7320 6163 6365 7373  mmit adds access
+0001a880: 2074 6f20 6e65 7720 7072 6f70 6572 7469   to new properti
+0001a890: 6573 2c20 626f 7468 2072 6561 6420 2620  es, both read & 
+0001a8a0: 7772 6974 652c 2020 7768 696c 6520 6b65  write,  while ke
+0001a8b0: 6570 696e 6720 7468 6520 6f6c 6420 6f6e  eping the old on
+0001a8c0: 6520 286d 6f73 746c 7929 2069 6e74 6163  e (mostly) intac
+0001a8d0: 742e 0a20 2051 7565 7279 696e 6720 6973  t..  Querying is
+0001a8e0: 2072 6566 6163 746f 7265 6420 746f 2062   refactored to b
+0001a8f0: 6520 646f 6e65 2069 6e73 6964 6520 5f71  e done inside _q
+0001a900: 7565 7279 5f68 656c 7065 7228 2920 6d65  uery_helper() me
+0001a910: 7468 6f64 2c0a 2020 7768 6963 6820 756e  thod,.  which un
+0001a920: 7772 6170 7320 7265 7375 6c74 7320 6175  wraps results au
+0001a930: 746f 6d61 7469 6361 6c6c 7920 616e 6420  tomatically and 
+0001a940: 7269 7365 7320 536d 6172 7450 6c75 6745  rises SmartPlugE
+0001a950: 7863 6570 7469 6f6e 2829 2069 6e20 6361  xception() in ca
+0001a960: 7365 206f 6620 6572 726f 7273 2e0a 2020  se of errors..  
+0001a970: 4572 726f 7273 2061 7265 2074 6f20 6265  Errors are to be
+0001a980: 2068 616e 646c 6564 2062 7920 636c 6965   handled by clie
+0001a990: 6e74 732e 0a0a 2020 4e65 7720 6665 6174  nts...  New feat
+0001a9a0: 7572 6573 3a0a 2020 2a20 5365 7474 696e  ures:.  * Settin
+0001a9b0: 6720 6465 7669 6365 2061 6c69 6173 2028  g device alias (
+0001a9c0: 706c 7567 2e61 6c69 6173 203d 2022 6e61  plug.alias = "na
+0001a9d0: 6d65 2229 0a20 202a 206c 6564 2072 6561  me").  * led rea
+0001a9e0: 6420 2620 7772 6974 650a 2020 2a20 6963  d & write.  * ic
+0001a9f0: 6f6e 2072 6561 6420 2864 6f65 736e 2774  on read (doesn't
+0001aa00: 2073 6565 6d20 746f 2072 6574 7572 6e20   seem to return 
+0001aa10: 616e 7974 6869 6e67 2077 6974 686f 7574  anything without
+0001aa20: 2063 6c6f 7564 2073 7570 706f 7274 2061   cloud support a
+0001aa30: 7420 6c65 6173 7429 2c20 7772 6974 6520  t least), write 
+0001aa40: 4150 4920 6973 206e 6f74 206b 6e6f 776e  API is not known
+0001aa50: 2c20 7468 726f 7773 2061 6e20 6578 6365  , throws an exce
+0001aa60: 7074 696f 6e20 6375 7272 656e 746c 790a  ption currently.
+0001aa70: 2020 2a20 7469 6d65 2072 6561 6420 2872    * time read (r
+0001aa80: 6574 7572 6e73 2064 6174 6574 696d 6529  eturns datetime)
+0001aa90: 2c20 7469 6d65 2077 7269 7465 2069 6d70  , time write imp
+0001aaa0: 6c65 6d65 6e74 6564 2c20 6275 7420 6e6f  lemented, but no
+0001aab0: 7420 776f 726b 696e 6720 6576 656e 2077  t working even w
+0001aac0: 6865 6e20 6e6f 2065 7272 6f72 2069 7320  hen no error is 
+0001aad0: 7265 7475 726e 6564 2066 726f 6d20 7468  returned from th
+0001aae0: 6520 6465 7669 6365 0a20 202a 2074 696d  e device.  * tim
+0001aaf0: 657a 6f6e 6520 7265 6164 0a20 202a 206d  ezone read.  * m
+0001ab00: 6163 2072 6561 6420 2620 7772 6974 652c  ac read & write,
+0001ab10: 2077 7269 7469 6e67 2069 7320 756e 7465   writing is unte
+0001ab20: 7374 6564 2066 6f72 206e 6f77 2e0a 0a20  sted for now... 
+0001ab30: 2050 726f 7065 7274 6965 7320 666f 7220   Properties for 
+0001ab40: 6561 7369 6572 2061 6363 6573 733a 0a20  easier access:. 
+0001ab50: 202a 2068 775f 696e 666f 3a20 7265 7475   * hw_info: retu
+0001ab60: 726e 2068 772d 7370 6563 6966 6963 2065  rn hw-specific e
+0001ab70: 6c65 6d65 6e74 7320 6672 6f6d 2073 7973  lements from sys
+0001ab80: 696e 666f 0a20 202a 206f 6e5f 7369 6e63  info.  * on_sinc
+0001ab90: 653a 2070 7265 7474 792d 7072 696e 7465  e: pretty-printe
+0001aba0: 6420 6672 6f6d 2073 7973 696e 666f 0a20  d from sysinfo. 
+0001abb0: 202a 206c 6f63 6174 696f 6e3a 206c 6174   * location: lat
+0001abc0: 6974 7564 6520 616e 6420 6c6f 6e67 6974  itude and longit
+0001abd0: 7565 6420 6672 6f6d 2073 7973 696e 666f  ued from sysinfo
+0001abe0: 0a20 202a 2072 7373 693a 2072 7373 6920  .  * rssi: rssi 
+0001abf0: 6672 6f6d 2073 7973 696e 666f 0a0a 2020  from sysinfo..  
+0001ac00: 2a20 5570 6461 7465 2052 4541 444d 452e  * Update README.
+0001ac10: 6d64 2077 6974 6820 6578 616d 706c 6573  md with examples
+0001ac20: 206f 6620 6176 6169 6c61 626c 6520 6665   of available fe
+0001ac30: 6174 7572 6573 2e0a 0a20 202a 2048 616e  atures...  * Han
+0001ac40: 646c 6520 636f 6d6d 656e 7473 2066 726f  dle comments fro
+0001ac50: 6d20 6d77 6569 6e65 6c74 0a0a 2020 2a20  m mweinelt..  * 
+0001ac60: 5265 6661 6374 6f72 2073 7461 7465 2068  Refactor state h
+0001ac70: 616e 646c 696e 672c 2075 7365 2062 6f6f  andling, use boo
+0001ac80: 6c65 616e 7320 696e 7374 6561 6420 6f66  leans instead of
+0001ac90: 2073 7472 696e 6773 0a0a 2020 2a20 4669   strings..  * Fi
+0001aca0: 7820 6973 7375 6573 2072 6169 7365 6420  x issues raised 
+0001acb0: 6475 7269 6e67 2074 6865 2072 6576 6965  during the revie
+0001acc0: 772e 0a0a 2020 466f 6c6c 6f77 696e 6720  w...  Following 
+0001acd0: 6973 7375 6573 2061 7265 2061 6464 7265  issues are addre
+0001ace0: 7373 6564 2062 7920 7468 6973 2063 6f6d  ssed by this com
+0001acf0: 6d69 743a 0a20 202a 2041 6c6c 2041 5049  mit:.  * All API
+0001ad00: 2069 7320 6d6f 7265 206f 7220 6c65 7373   is more or less
+0001ad10: 2063 6f6d 6d65 6e74 6564 2028 696e 636c   commented (incl
+0001ad20: 7564 696e 6720 7265 7475 726e 2074 7970  uding return typ
+0001ad30: 6573 2c20 6578 6365 7074 696f 6e73 2c20  es, exceptions, 
+0001ad40: 2e2e 290a 2020 2a20 436f 6e76 6572 7465  ..).  * Converte
+0001ad50: 6420 7374 6174 6520 746f 2075 7365 0a20  d state to use. 
+0001ad60: 202a 2041 6464 6564 2070 726f 7065 7274   * Added propert
+0001ad70: 6965 7320 6973 5f6f 6e2c 2069 735f 6f66  ies is_on, is_of
+0001ad80: 6620 666f 7220 7468 6f73 6520 7768 6f20  f for those who 
+0001ad90: 646f 6e27 7420 7761 6e74 2074 6f20 6368  don't want to ch
+0001ada0: 6563 6b20 6167 6169 6e73 7420 7374 7269  eck against stri
+0001adb0: 6e67 732e 0a20 202a 2048 616e 646c 6564  ngs..  * Handled
+0001adc0: 206d 6f73 7420 6973 7375 6573 2072 6570   most issues rep
+0001add0: 6f72 7465 6420 6279 2070 796c 696e 742e  orted by pylint.
+0001ade0: 0a20 202a 2041 646a 7573 7465 6420 5f71  .  * Adjusted _q
+0001adf0: 7565 7279 5f68 656c 7065 7228 2920 746f  uery_helper() to
+0001ae00: 2073 7472 6970 206f 6666 2065 7272 5f63   strip off err_c
+0001ae10: 6f64 6520 6672 6f6d 2074 6865 2072 6573  ode from the res
+0001ae20: 756c 7420 6f62 6a65 6374 2e0a 2020 2a20  ult object..  * 
+0001ae30: 4669 7865 6420 6272 6f6b 656e 2066 6f72  Fixed broken for
+0001ae40: 6d61 7428 2920 7379 6e74 6178 2066 6f72  mat() syntax for
+0001ae50: 2073 7472 696e 6720 666f 726d 6174 7469   string formatti
+0001ae60: 6e67 732e 0a0a 2020 2a20 4669 7820 6369  ngs...  * Fix ci
+0001ae70: 2077 6f65 7320 706c 7573 206f 6e65 2074   woes plus one t
+0001ae80: 7970 6f2e 0a0a 2020 2a20 446f 2069 6e69  ypo...  * Do ini
+0001ae90: 7469 616c 697a 6174 696f 6e20 6166 7465  tialization afte
+0001aea0: 7220 6368 616e 6769 6e67 2064 6576 6963  r changing devic
+0001aeb0: 6520 7072 6f70 6572 7469 6573 2c20 6669  e properties, fi
+0001aec0: 7820 6e69 7473 2e0a 0a2d 2043 6f6e 7374  x nits...- Const
+0001aed0: 616e 7473 2077 696c 6c20 6265 2073 7461  ants will be sta
+0001aee0: 7469 6320 6d65 6d62 6572 7320 6f66 2053  tic members of S
+0001aef0: 6d61 7274 506c 7567 2e20 5b4d 6172 7469  martPlug. [Marti
+0001af00: 6e20 5765 696e 656c 745d 0a0a 2d20 5365  n Weinelt]..- Se
+0001af10: 7420 7570 2068 6f75 6e64 2d63 692e 205b  t up hound-ci. [
+0001af20: 4d61 7274 696e 2057 6569 6e65 6c74 5d0a  Martin Weinelt].
+0001af30: 0a2d 204e 6f72 6d61 6c69 7a65 2064 6f63  .- Normalize doc
+0001af40: 7374 7269 6e67 732c 2061 6464 7265 7373  strings, address
+0001af50: 2066 6c61 6b65 3820 2620 7079 6c69 6e74   flake8 & pylint
+0001af60: 2072 6563 6f6d 6d65 6e64 6174 696f 6e73   recommendations
+0001af70: 2e20 5b4d 6172 7469 6e0a 2020 5765 696e  . [Martin.  Wein
+0001af80: 656c 745d 0a0a 2d20 5072 6f70 6572 6c79  elt]..- Properly
+0001af90: 2064 6574 6563 7420 6164 7665 7274 6973   detect advertis
+0001afa0: 6564 2066 6561 7475 7265 732c 2065 7870  ed features, exp
+0001afb0: 6f73 6520 616c 6961 732e 205b 4d61 7274  ose alias. [Mart
+0001afc0: 696e 2057 6569 6e65 6c74 5d0a 0a2d 2045  in Weinelt]..- E
+0001afd0: 7874 6572 6e61 6c69 7a65 2074 6865 2054  xternalize the T
+0001afe0: 502d 4c69 6e6b 2053 6d61 7274 2048 6f6d  P-Link Smart Hom
+0001aff0: 6520 5072 6f74 6f63 6f6c 2e20 5b4d 6172  e Protocol. [Mar
+0001b000: 7469 6e20 5765 696e 656c 745d 0a0a 2d20  tin Weinelt]..- 
+0001b010: 4853 3230 3020 7375 7070 6f72 742e 205b  HS200 support. [
+0001b020: 4761 6467 6574 5265 6163 746f 725d 0a0a  GadgetReactor]..
+0001b030: 2020 5570 6461 7465 2076 6572 7369 6f6e    Update version
+0001b040: 2074 6f20 7265 666c 6563 7420 6c61 7465   to reflect late
+0001b050: 7374 2063 6861 6e67 6573 0a0a 2d20 4164  st changes..- Ad
+0001b060: 6469 6e67 2069 6e20 7375 7070 6f72 7420  ding in support 
+0001b070: 666f 7220 7468 6520 4853 3230 3020 5761  for the HS200 Wa
+0001b080: 6c6c 2073 7769 7463 6820 7265 6665 7265  ll switch refere
+0001b090: 6e63 696e 6720 6973 7375 6573 2028 2334  ncing issues (#4
+0001b0a0: 292c 0a20 2073 696d 706c 6966 7969 6e67  ),.  simplifying
+0001b0b0: 206d 6f64 656c 2064 6574 6572 6d69 6e61   model determina
+0001b0c0: 7469 6f6e 2e20 5b53 7465 7068 656e 204d  tion. [Stephen M
+0001b0d0: 6167 6761 7264 5d0a 0a2d 2041 6464 696e  aggard]..- Addin
+0001b0e0: 6720 696e 2073 7570 706f 7274 2066 6f72  g in support for
+0001b0f0: 2074 6865 2048 5332 3030 2057 616c 6c20   the HS200 Wall 
+0001b100: 7377 6974 6368 2072 6566 6572 656e 6369  switch referenci
+0001b110: 6e67 2069 7373 7565 7320 2823 3429 2c0a  ng issues (#4),.
+0001b120: 2020 7369 6d70 6c69 6679 696e 6720 6d6f    simplifying mo
+0001b130: 6465 6c20 6465 7465 726d 696e 6174 696f  del determinatio
+0001b140: 6e2e 205b 5374 6570 6865 6e20 4d61 6767  n. [Stephen Magg
+0001b150: 6172 645d 0a0a 2d20 4164 6469 6e67 2069  ard]..- Adding i
+0001b160: 6e20 7375 7070 6f72 7420 666f 7220 7468  n support for th
+0001b170: 6520 4853 3230 3020 5761 6c6c 2073 7769  e HS200 Wall swi
+0001b180: 7463 6820 7265 6665 7265 6e63 696e 6720  tch referencing 
+0001b190: 6973 7375 6573 2028 2334 290a 2020 5b53  issues (#4).  [S
+0001b1a0: 7465 7068 656e 204d 6167 6761 7264 5d0a  tephen Maggard].
+0001b1b0: 0a2d 2052 6566 6163 746f 7273 2073 7461  .- Refactors sta
+0001b1c0: 7465 2070 726f 7065 7274 7920 746f 2075  te property to u
+0001b1d0: 7365 2067 6574 5f69 6e66 6f28 2920 616e  se get_info() an
+0001b1e0: 6420 7265 6d6f 7665 7320 6873 3130 305f  d removes hs100_
+0001b1f0: 7374 6174 7573 2829 0a20 205b 4765 6f72  status().  [Geor
+0001b200: 6769 204b 6972 6963 686b 6f76 5d0a 0a2d  gi Kirichkov]..-
+0001b210: 2041 6464 7320 6d6f 6465 6c20 6368 6563   Adds model chec
+0001b220: 6b20 746f 2063 7572 7265 6e74 5f63 6f6e  k to current_con
+0001b230: 7375 6d70 7469 6f6e 2829 2061 6e64 2072  sumption() and r
+0001b240: 656d 6f76 6573 2077 6869 7465 7370 6163  emoves whitespac
+0001b250: 652e 0a20 205b 4765 6f72 6769 204b 6972  e..  [Georgi Kir
+0001b260: 6963 686b 6f76 5d0a 0a2d 2046 6978 6573  ichkov]..- Fixes
+0001b270: 2069 6e64 656e 7461 7469 6f6e 2061 6e64   indentation and
+0001b280: 2072 656d 6f76 6573 2065 7874 7261 2077   removes extra w
+0001b290: 6869 7465 7370 6163 6573 2e20 5b47 656f  hitespaces. [Geo
+0001b2a0: 7267 6920 4b69 7269 6368 6b6f 765d 0a0a  rgi Kirichkov]..
+0001b2b0: 2d20 5570 6461 7465 2073 6574 7570 2e70  - Update setup.p
+0001b2c0: 792e 205b 4761 6467 6574 5265 6163 746f  y. [GadgetReacto
+0001b2d0: 725d 0a0a 2d20 5570 6461 7465 204c 4943  r]..- Update LIC
+0001b2e0: 454e 5345 2e20 5b47 6164 6765 7452 6561  ENSE. [GadgetRea
+0001b2f0: 6374 6f72 5d0a 0a20 2055 7064 6174 6564  ctor]..  Updated
+0001b300: 2074 6f20 4750 4c76 3320 2869 6e73 7465   to GPLv3 (inste
+0001b310: 6164 206f 6620 6a75 7374 2063 6f70 7920  ad of just copy 
+0001b320: 616e 6420 7061 7374 696e 6729 0a0a 302e  and pasting)..0.
+0001b330: 322e 3020 2832 3031 362d 3130 2d31 3729  2.0 (2016-10-17)
+0001b340: 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  .---------------
+0001b350: 2d2d 2d0a 0a2d 2042 756d 7073 2074 6865  ---..- Bumps the
+0001b360: 206d 6f64 756c 6520 7665 7273 696f 6e20   module version 
+0001b370: 746f 2030 2e32 2e30 2e20 5b47 656f 7267  to 0.2.0. [Georg
+0001b380: 6920 4b69 7269 6368 6b6f 765d 0a0a 2d20  i Kirichkov]..- 
+0001b390: 4164 6473 2061 6464 6974 696f 6e61 6c20  Adds additional 
+0001b3a0: 636f 6d6d 656e 7473 2c20 666f 7220 6265  comments, for be
+0001b3b0: 7474 6572 2063 6f6d 706c 6961 6e63 6520  tter compliance 
+0001b3c0: 7769 7468 2074 6865 2041 7061 6368 650a  with the Apache.
+0001b3d0: 2020 6c69 6365 6e73 652e 205b 4765 6f72    license. [Geor
+0001b3e0: 6769 204b 6972 6963 686b 6f76 5d0a 0a2d  gi Kirichkov]..-
+0001b3f0: 204d 616b 6573 2074 6865 2073 6f63 6b65   Makes the socke
+0001b400: 7420 7365 6e64 696e 6720 636f 6465 2063  t sending code c
+0001b410: 6f6d 7061 7469 626c 6520 7769 7468 2062  ompatible with b
+0001b420: 6f74 6820 5079 7468 6f6e 2032 2061 6e64  oth Python 2 and
+0001b430: 2070 7974 686f 6e0a 2020 332e 205b 4765   python.  3. [Ge
+0001b440: 6f72 6769 204b 6972 6963 686b 6f76 5d0a  orgi Kirichkov].
+0001b450: 0a20 2041 6464 7320 6120 7368 7574 646f  .  Adds a shutdo
+0001b460: 776e 2074 6f20 7468 6520 736f 636b 6574  wn to the socket
+0001b470: 2075 7365 6420 746f 2073 656e 6420 636f   used to send co
+0001b480: 6d6d 616e 6473 0a0a 2d20 5265 6661 6374  mmands..- Refact
+0001b490: 6f72 7320 7374 6174 6528 2920 746f 2075  ors state() to u
+0001b4a0: 7365 2074 7572 6e5f 6f6e 2829 2061 6e64  se turn_on() and
+0001b4b0: 2074 7572 6e5f 6f66 6628 2920 5b47 656f   turn_off() [Geo
+0001b4c0: 7267 6920 4b69 7269 6368 6b6f 765d 0a0a  rgi Kirichkov]..
+0001b4d0: 2d20 4164 6473 2045 6e65 7267 7920 4d65  - Adds Energy Me
+0001b4e0: 7465 7220 636f 6d6d 616e 6473 2061 7661  ter commands ava
+0001b4f0: 696c 6162 6c65 206f 6e20 7468 6520 5450  ilable on the TP
+0001b500: 2d4c 696e 6b20 4853 3131 302e 205b 4765  -Link HS110. [Ge
+0001b510: 6f72 6769 0a20 204b 6972 6963 686b 6f76  orgi.  Kirichkov
+0001b520: 5d0a 0a20 2041 6c73 6f20 6164 6473 2074  ]..  Also adds t
+0001b530: 7572 6e5f 6f6e 2829 2061 6e64 2074 7572  urn_on() and tur
+0001b540: 6e5f 6f66 6628 2920 636f 6d6d 616e 6473  n_off() commands
+0001b550: 2074 6f20 7375 7070 6c65 6d65 6e74 2074   to supplement t
+0001b560: 6865 2073 7461 7465 0a0a 2d20 5570 6461  he state..- Upda
+0001b570: 7465 2070 7948 5331 3030 2e70 792e 205b  te pyHS100.py. [
+0001b580: 4761 6467 6574 5265 6163 746f 725d 0a0a  GadgetReactor]..
+0001b590: 2d20 5570 6461 7465 205f 5f69 6e69 745f  - Update __init_
+0001b5a0: 5f2e 7079 2e20 5b47 6164 6765 7452 6561  _.py. [GadgetRea
+0001b5b0: 6374 6f72 5d0a 0a2d 2055 7064 6174 6520  ctor]..- Update 
+0001b5c0: 5f5f 696e 6974 5f5f 2e70 792e 205b 4761  __init__.py. [Ga
+0001b5d0: 6467 6574 5265 6163 746f 725d 0a0a 302e  dgetReactor]..0.
+0001b5e0: 312e 3220 2832 3031 362d 3037 2d30 3929  1.2 (2016-07-09)
+0001b5f0: 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  .---------------
+0001b600: 2d2d 2d0a 0a2d 2030 2e31 2e32 2e20 5b47  ---..- 0.1.2. [G
+0001b610: 6164 6765 7452 6561 6374 6f72 5d0a 0a2d  adgetReactor]..-
+0001b620: 2055 7064 6174 6520 7365 7475 702e 7079   Update setup.py
+0001b630: 2e20 5b47 6164 6765 7452 6561 6374 6f72  . [GadgetReactor
+0001b640: 5d0a 0a2d 2055 7064 6174 6520 7365 7475  ]..- Update setu
+0001b650: 702e 7079 2e20 5b47 6164 6765 7452 6561  p.py. [GadgetRea
+0001b660: 6374 6f72 5d0a 0a2d 2044 656c 6574 6520  ctor]..- Delete 
+0001b670: 7079 4853 3130 302e 7079 2e20 5b47 6164  pyHS100.py. [Gad
+0001b680: 6765 7452 6561 6374 6f72 5d0a 0a2d 2043  getReactor]..- C
+0001b690: 7265 6174 6520 7079 4853 3130 302e 7079  reate pyHS100.py
+0001b6a0: 2e20 5b47 6164 6765 7452 6561 6374 6f72  . [GadgetReactor
+0001b6b0: 5d0a 0a2d 2043 7265 6174 6520 5f5f 696e  ]..- Create __in
+0001b6c0: 6974 5f5f 2e70 792e 205b 4761 6467 6574  it__.py. [Gadget
+0001b6d0: 5265 6163 746f 725d 0a0a 2d20 4372 6561  Reactor]..- Crea
+0001b6e0: 7465 2073 6574 7570 2e70 792e 205b 4761  te setup.py. [Ga
+0001b6f0: 6467 6574 5265 6163 746f 725d 0a0a 2d20  dgetReactor]..- 
+0001b700: 4372 6561 7465 2070 7948 5331 3030 2e70  Create pyHS100.p
+0001b710: 792e 205b 4761 6467 6574 5265 6163 746f  y. [GadgetReacto
+0001b720: 725d 0a0a 2d20 496e 6974 6961 6c20 636f  r]..- Initial co
+0001b730: 6d6d 6974 2e20 5b47 6164 6765 7452 6561  mmit. [GadgetRea
+0001b740: 6374 6f72 5d0a 0a0a 5c2a 202a 5468 6973  ctor]...\* *This
+0001b750: 2043 6861 6e67 656c 6f67 2077 6173 2061   Changelog was a
+0001b760: 7574 6f6d 6174 6963 616c 6c79 2067 656e  utomatically gen
+0001b770: 6572 6174 6564 2062 7920 5b67 6974 6875  erated by [githu
+0001b780: 625f 6368 616e 6765 6c6f 675f 6765 6e65  b_changelog_gene
+0001b790: 7261 746f 725d 2868 7474 7073 3a2f 2f67  rator](https://g
+0001b7a0: 6974 6875 622e 636f 6d2f 6769 7468 7562  ithub.com/github
+0001b7b0: 2d63 6861 6e67 656c 6f67 2d67 656e 6572  -changelog-gener
+0001b7c0: 6174 6f72 2f67 6974 6875 622d 6368 616e  ator/github-chan
+0001b7d0: 6765 6c6f 672d 6765 6e65 7261 746f 7229  gelog-generator)
+0001b7e0: 2a0a                                     *.
```

### Comparing `python_kasa-0.6.2.1/LICENSE` & `python_kasa-0.7.0.dev0/LICENSE`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/README.md` & `python_kasa-0.7.0.dev0/PKG-INFO`

 * *Files 19% similar despite different names*

```diff
@@ -1,7 +1,45 @@
+Metadata-Version: 2.1
+Name: python-kasa
+Version: 0.7.0.dev0
+Summary: Python API for TP-Link Kasa Smarthome devices
+Home-page: https://github.com/python-kasa/python-kasa
+License: GPL-3.0-or-later
+Author: python-kasa developers
+Requires-Python: >=3.8,<4.0
+Classifier: License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)
+Classifier: Programming Language :: Python :: 3
+Classifier: Programming Language :: Python :: 3.8
+Classifier: Programming Language :: Python :: 3.9
+Classifier: Programming Language :: Python :: 3.10
+Classifier: Programming Language :: Python :: 3.11
+Classifier: Programming Language :: Python :: 3.12
+Provides-Extra: docs
+Provides-Extra: shell
+Provides-Extra: speedups
+Requires-Dist: aiohttp (>=3)
+Requires-Dist: anyio
+Requires-Dist: async-timeout (>=3.0.0)
+Requires-Dist: asyncclick (>=8)
+Requires-Dist: cryptography (>=1.9)
+Requires-Dist: docutils (>=0.17) ; extra == "docs"
+Requires-Dist: kasa-crypt (>=0.2.0) ; extra == "speedups"
+Requires-Dist: myst-parser ; extra == "docs"
+Requires-Dist: orjson (>=3.9.1) ; extra == "speedups"
+Requires-Dist: ptpython ; extra == "shell"
+Requires-Dist: pydantic (>=1.10.15)
+Requires-Dist: rich ; extra == "shell"
+Requires-Dist: sphinx (>=5,<6) ; extra == "docs"
+Requires-Dist: sphinx_rtd_theme (>=2,<3) ; extra == "docs"
+Requires-Dist: sphinxcontrib-programoutput (>=0,<1) ; extra == "docs"
+Project-URL: Bug Tracker, https://github.com/python-kasa/python-kasa/issues
+Project-URL: Documentation, https://python-kasa.readthedocs.io
+Project-URL: Repository, https://github.com/python-kasa/python-kasa
+Description-Content-Type: text/markdown
+
 <h2 align="center">python-kasa</h2>
 
 [![PyPI version](https://badge.fury.io/py/python-kasa.svg)](https://badge.fury.io/py/python-kasa)
 [![Build Status](https://github.com/python-kasa/python-kasa/actions/workflows/ci.yml/badge.svg)](https://github.com/python-kasa/python-kasa/actions/workflows/ci.yml)
 [![codecov](https://codecov.io/gh/python-kasa/python-kasa/branch/master/graph/badge.svg?token=5K7rtN5OmS)](https://codecov.io/gh/python-kasa/python-kasa)
 [![Documentation Status](https://readthedocs.org/projects/python-kasa/badge/?version=latest)](https://python-kasa.readthedocs.io/en/latest/?badge=latest)
 
@@ -16,19 +54,27 @@
 ## Getting started
 
 You can install the most recent release using pip:
 ```
 pip install python-kasa
 ```
 
+For enhanced cli tool support (coloring, embedded shell) install with `[shell]`:
+```
+pip install python-kasa[shell]
+```
+
 If you are using cpython, it is recommended to install with `[speedups]` to enable orjson (faster json support):
 ```
 pip install python-kasa[speedups]
 ```
-
+or for both:
+```
+pip install python-kasa[speedups, shell]
+```
 With `[speedups]`, the protocol overhead is roughly an order of magnitude lower (benchmarks available in devtools).
 
 Alternatively, you can clone this repository and use poetry to install the development version:
 ```
 git clone https://github.com/python-kasa/python-kasa.git
 cd python-kasa/
 poetry install
@@ -159,174 +205,64 @@
 $ kasa emeter
 == Emeter ==
 Current state: {'total': 133.105, 'power': 108.223577, 'current': 0.54463, 'voltage': 225.296283}
 ```
 
 # Library usage
 
-If you want to use this library in your own project, a good starting point is to check [the documentation on discovering devices](https://python-kasa.readthedocs.io/en/latest/discover.html).
+If you want to use this library in your own project, a good starting point is [the tutorial in the documentation](https://python-kasa.readthedocs.io/en/latest/tutorial.html).
+
 You can find several code examples in the API documentation of each of the implementation base classes, check out the [documentation for the base class shared by all supported devices](https://python-kasa.readthedocs.io/en/latest/smartdevice.html).
 
 [The library design and module structure is described in a separate page](https://python-kasa.readthedocs.io/en/latest/design.html).
 
 The device type specific documentation can be found in their separate pages:
 * [Plugs](https://python-kasa.readthedocs.io/en/latest/smartplug.html)
 * [Bulbs](https://python-kasa.readthedocs.io/en/latest/smartbulb.html)
 * [Dimmers](https://python-kasa.readthedocs.io/en/latest/smartdimmer.html)
 * [Power strips](https://python-kasa.readthedocs.io/en/latest/smartstrip.html)
 * [Light strips](https://python-kasa.readthedocs.io/en/latest/smartlightstrip.html)
 
 ## Contributing
 
-Contributions are very welcome! To simplify the process, we are leveraging automated checks and tests for contributions.
-
-### Setting up development environment
-
-To get started, simply clone this repository and initialize the development environment.
-We are using [poetry](https://python-poetry.org) for dependency management, so after cloning the repository simply execute
-`poetry install` which will install all necessary packages and create a virtual environment for you.
-
-### Code-style checks
-
-We use several tools to automatically check all contributions. The simplest way to verify that everything is formatted properly
-before creating a pull request, consider activating the pre-commit hooks by executing `pre-commit install`.
-This will make sure that the checks are passing when you do a commit.
-
-You can also execute the checks by running either `tox -e lint` to only do the linting checks, or `tox` to also execute the tests.
-
-### Running tests
-
-You can run tests on the library by executing `pytest` in the source directory.
-This will run the tests against contributed example responses, but you can also execute the tests against a real device:
-```
-$ pytest --ip <address>
-```
-Note that this will perform state changes on the device.
-
-### Analyzing network captures
-
-The simplest way to add support for a new device or to improve existing ones is to capture traffic between the mobile app and the device.
-After capturing the traffic, you can either use the [softScheck's  wireshark dissector](https://github.com/softScheck/tplink-smartplug#wireshark-dissector)
-or the `parse_pcap.py` script contained inside the `devtools` directory.
-Note, that this works currently only on kasa-branded devices which use port 9999 for communications.
-
+Contributions are very welcome! The easiest way to contribute is by [creating a fixture file](https://python-kasa.readthedocs.io/en/latest/contribute.html#contributing-fixture-files) for the automated test suite if your device hardware and firmware version is not currently listed as supported.
+Please refer to [our contributing guidelines](https://python-kasa.readthedocs.io/en/latest/contribute.html).
 
 ## Supported devices
 
-In principle, most kasa-branded devices that are locally controllable using the official Kasa mobile app work with this library.
-
-The following lists the devices that have been manually verified to work.
-**If your device is unlisted but working, please open a pull request to update the list and add a fixture file (use `python -m devtools.dump_devinfo` to generate one).**
-
-### Plugs
-
-* HS100
-* HS103
-* HS105
-* HS107
-* HS110
-* KP100
-* KP105
-* KP115
-* KP125
-* KP125M [See note below](#newer-kasa-branded-devices)
-* KP401
-* EP10
-* EP25 [See note below](#newer-kasa-branded-devices)
-
-### Power Strips
-
-* EP40
-* HS300
-* KP303
-* KP200 (in wall)
-* KP400
-* KP405 (dimmer)
-
-### Wall switches
-
-* ES20M
-* HS200
-* HS210
-* HS220
-* KS200M (partial support, no motion, no daylight detection)
-* KS220M (partial support, no motion, no daylight detection)
-* KS230
+The following devices have been tested and confirmed as working. If your device is unlisted but working, please consider [contributing a fixture file](https://python-kasa.readthedocs.io/en/latest/contribute.html#contributing-fixture-files).
 
-### Bulbs
-
-* LB100
-* LB110
-* LB120
-* LB130
-* LB230
-* KL50
-* KL60
-* KL110
-* KL120
-* KL125
-* KL130
-* KL135
-
-### Light strips
-
-* KL400L5
-* KL420L5
-* KL430
-
-### Tapo branded devices
-
-The library has recently added a limited supported for devices that carry Tapo branding.
-
-At the moment, the following devices have been confirmed to work:
-
-#### Plugs
-
-* Tapo P110
-* Tapo P125M
-* Tapo P135 (dimming not yet supported)
-* Tapo TP15
-
-#### Bulbs
-
-* Tapo L510B
-* Tapo L510E
-* Tapo L530E
-
-#### Light strips
+<!--Do not edit text inside the SUPPORTED section below -->
+<!--SUPPORTED_START-->
+### Supported Kasa devices
+
+- **Plugs**: EP10, EP25<sup>\*</sup>, HS100<sup>\*\*</sup>, HS103, HS105, HS110, KP100, KP105, KP115, KP125, KP125M<sup>\*</sup>, KP401
+- **Power Strips**: EP40, HS107, HS300, KP200, KP303, KP400
+- **Wall Switches**: ES20M, HS200, HS210, HS220, KP405, KS200M, KS205<sup>\*</sup>, KS220M, KS225<sup>\*</sup>, KS230, KS240<sup>\*</sup>
+- **Bulbs**: KL110, KL120, KL125, KL130, KL135, KL50, KL60, LB110
+- **Light Strips**: KL400L5, KL420L5, KL430
+- **Hubs**: KH100<sup>\*</sup>
+- **Hub-Connected Devices<sup>\*\*\*</sup>**: KE100<sup>\*</sup>
+
+### Supported Tapo<sup>\*</sup> devices
+
+- **Plugs**: P100, P110, P125M, P135, TP15
+- **Power Strips**: P300, TP25
+- **Wall Switches**: S500D, S505
+- **Bulbs**: L510B, L510E, L530E
+- **Light Strips**: L900-10, L900-5, L920-5, L930-5
+- **Hubs**: H100
+- **Hub-Connected Devices<sup>\*\*\*</sup>**: T110, T300, T310, T315
+
+<!--SUPPORTED_END-->
+<sup>\*</sup>&nbsp;&nbsp; Model requires authentication<br>
+<sup>\*\*</sup>&nbsp; Newer versions require authentication<br>
+<sup>\*\*\*</sup> Devices may work across TAPO/KASA branded hubs
 
-* Tapo L900-5
-* Tapo L900-10
-* Tapo L920-5
-* Tapo L930-5
-
-#### Wall switches
-
-* Tapo S500D
-* Tapo S505
-
-#### Power strips
-
-* Tapo P300
-* Tapo TP25
-
-
-### Newer Kasa branded devices
-
-Some newer hardware versions of Kasa branded devices are now using the same protocol as
-Tapo branded devices.  Support for these devices is currently limited as per TAPO branded
-devices:
-
-* Kasa EP25 (plug) hw_version 2.6
-* Kasa KP125M (plug)
-* Kasa KS205 (Wifi/Matter Wall Switch)
-* Kasa KS225 (Wifi/Matter Wall Dimmer Switch)
-
-
-**If your device is unlisted but working, please open a pull request to update the list and add a fixture file (use `python -m devtools.dump_devinfo` to generate one).**
+See [supported devices in our documentation](SUPPORTED.md) for more detailed information about tested hardware and software versions.
 
 ## Resources
 
 ### Developer Resources
 
 * [softScheck's github contains lot of information and wireshark dissector](https://github.com/softScheck/tplink-smartplug#wireshark-dissector)
 * [TP-Link Smart Home Device Simulator](https://github.com/plasticrake/tplink-smarthome-simulator)
@@ -339,17 +275,19 @@
 
 * [Home Assistant](https://www.home-assistant.io/integrations/tplink/)
 * [MQTT access to TP-Link devices, using python-kasa](https://github.com/flavio-fernandes/mqtt2kasa)
 
 ### TP-Link Tapo support
 
 This library has recently added a limited supported for devices that carry Tapo branding.
-That support is currently limited to the cli.  The package `kasa.tapo` is in flux and if you
+That support is currently limited to the cli.  The package `kasa.smart` is in flux and if you
 use it directly you should expect it could break in future releases until this statement is removed.
 
 Other TAPO libraries are:
 
 * [PyTapo - Python library for communication with Tapo Cameras](https://github.com/JurajNyiri/pytapo)
 * [Tapo P100 (Tapo plugs, Tapo bulbs)](https://github.com/fishbigger/TapoP100)
   * [Home Assistant integration](https://github.com/fishbigger/HomeAssistant-Tapo-P100-Control)
 * [plugp100, another tapo library](https://github.com/petretiandrea/plugp100)
   * [Home Assistant integration](https://github.com/petretiandrea/home-assistant-tapo-p100)
+* [rust and python implementation](https://github.com/mihai-dinculescu/tapo/)
+
```

### Comparing `python_kasa-0.6.2.1/kasa/__init__.py` & `python_kasa-0.7.0.dev0/kasa/__init__.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,82 +1,143 @@
 """Python interface for TP-Link's smart home devices.
 
-All common, shared functionalities are available through `SmartDevice` class::
+All common, shared functionalities are available through `Device` class::
 
-    x = SmartDevice("192.168.1.1")
-    print(x.sys_info)
+>>> from kasa import Discover
+>>> x = await Discover.discover_single("192.168.1.1")
+>>> print(x.model)
 
-For device type specific actions `SmartBulb`, `SmartPlug`, or `SmartStrip`
- should be used instead.
+For device type specific actions `modules` and `features` should be used instead.
 
-Module-specific errors are raised as `SmartDeviceException` and are expected
+Module-specific errors are raised as `KasaException` and are expected
 to be handled by the user of the library.
 """
+
 from importlib.metadata import version
+from typing import TYPE_CHECKING
 from warnings import warn
 
 from kasa.credentials import Credentials
+from kasa.device import Device
+from kasa.device_type import DeviceType
 from kasa.deviceconfig import (
     ConnectionType,
     DeviceConfig,
     DeviceFamilyType,
     EncryptType,
 )
 from kasa.discover import Discover
 from kasa.emeterstatus import EmeterStatus
 from kasa.exceptions import (
-    AuthenticationException,
-    SmartDeviceException,
-    TimeoutException,
-    UnsupportedDeviceException,
+    AuthenticationError,
+    DeviceError,
+    KasaException,
+    TimeoutError,
+    UnsupportedDeviceError,
 )
+from kasa.feature import Feature
+from kasa.interfaces.light import Light, LightState
 from kasa.iotprotocol import (
     IotProtocol,
     _deprecated_TPLinkSmartHomeProtocol,  # noqa: F401
 )
+from kasa.module import Module
 from kasa.protocol import BaseProtocol
-from kasa.smartbulb import SmartBulb, SmartBulbPreset, TurnOnBehavior, TurnOnBehaviors
-from kasa.smartdevice import DeviceType, SmartDevice
-from kasa.smartdimmer import SmartDimmer
-from kasa.smartlightstrip import SmartLightStrip
-from kasa.smartplug import SmartPlug
 from kasa.smartprotocol import SmartProtocol
-from kasa.smartstrip import SmartStrip
 
 __version__ = version("python-kasa")
 
 
 __all__ = [
     "Discover",
     "BaseProtocol",
     "IotProtocol",
     "SmartProtocol",
-    "SmartBulb",
-    "SmartBulbPreset",
+    "LightState",
     "TurnOnBehaviors",
     "TurnOnBehavior",
     "DeviceType",
+    "Feature",
     "EmeterStatus",
-    "SmartDevice",
-    "SmartDeviceException",
-    "SmartPlug",
-    "SmartStrip",
-    "SmartDimmer",
-    "SmartLightStrip",
-    "AuthenticationException",
-    "UnsupportedDeviceException",
-    "TimeoutException",
+    "Device",
+    "Light",
+    "Plug",
+    "Module",
+    "KasaException",
+    "AuthenticationError",
+    "DeviceError",
+    "UnsupportedDeviceError",
+    "TimeoutError",
     "Credentials",
     "DeviceConfig",
     "ConnectionType",
     "EncryptType",
     "DeviceFamilyType",
 ]
 
+from . import iot
+from .iot.modules.lightpreset import IotLightPreset
+
 deprecated_names = ["TPLinkSmartHomeProtocol"]
+deprecated_smart_devices = {
+    "SmartDevice": iot.IotDevice,
+    "SmartPlug": iot.IotPlug,
+    "SmartBulb": iot.IotBulb,
+    "SmartLightStrip": iot.IotLightStrip,
+    "SmartStrip": iot.IotStrip,
+    "SmartDimmer": iot.IotDimmer,
+    "SmartBulbPreset": IotLightPreset,
+}
+deprecated_exceptions = {
+    "SmartDeviceException": KasaException,
+    "UnsupportedDeviceException": UnsupportedDeviceError,
+    "AuthenticationException": AuthenticationError,
+    "TimeoutException": TimeoutError,
+}
 
 
 def __getattr__(name):
     if name in deprecated_names:
         warn(f"{name} is deprecated", DeprecationWarning, stacklevel=1)
         return globals()[f"_deprecated_{name}"]
+    if name in deprecated_smart_devices:
+        new_class = deprecated_smart_devices[name]
+        package_name = ".".join(new_class.__module__.split(".")[:-1])
+        warn(
+            f"{name} is deprecated, use {new_class.__name__} "
+            + f"from package {package_name} instead or use Discover.discover_single()"
+            + " and Device.connect() to support new protocols",
+            DeprecationWarning,
+            stacklevel=1,
+        )
+        return new_class
+    if name in deprecated_exceptions:
+        new_class = deprecated_exceptions[name]
+        msg = f"{name} is deprecated, use {new_class.__name__} instead"
+        warn(msg, DeprecationWarning, stacklevel=1)
+        return new_class
     raise AttributeError(f"module {__name__!r} has no attribute {name!r}")
+
+
+if TYPE_CHECKING:
+    SmartDevice = Device
+    SmartBulb = iot.IotBulb
+    SmartPlug = iot.IotPlug
+    SmartLightStrip = iot.IotLightStrip
+    SmartStrip = iot.IotStrip
+    SmartDimmer = iot.IotDimmer
+    SmartBulbPreset = IotLightPreset
+
+    SmartDeviceException = KasaException
+    UnsupportedDeviceException = UnsupportedDeviceError
+    AuthenticationException = AuthenticationError
+    TimeoutException = TimeoutError
+    # Instanstiate all classes so the type checkers catch abstract issues
+    from . import smart
+
+    smart.SmartDevice("127.0.0.1")
+    iot.IotDevice("127.0.0.1")
+    iot.IotPlug("127.0.0.1")
+    iot.IotBulb("127.0.0.1")
+    iot.IotLightStrip("127.0.0.1")
+    iot.IotStrip("127.0.0.1")
+    iot.IotDimmer("127.0.0.1")
```

### Comparing `python_kasa-0.6.2.1/kasa/aestransport.py` & `python_kasa-0.7.0.dev0/kasa/aestransport.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,37 +1,39 @@
 """Implementation of the TP-Link AES transport.
 
 Based on the work of https://github.com/petretiandrea/plugp100
 under compatible GNU GPL3 license.
 """
 
+from __future__ import annotations
+
+import asyncio
 import base64
 import hashlib
 import logging
 import time
 from enum import Enum, auto
-from typing import TYPE_CHECKING, Any, AsyncGenerator, Dict, Optional, Tuple, cast
+from typing import TYPE_CHECKING, Any, AsyncGenerator, Dict, cast
 
 from cryptography.hazmat.primitives import padding, serialization
 from cryptography.hazmat.primitives.asymmetric import padding as asymmetric_padding
 from cryptography.hazmat.primitives.asymmetric import rsa
 from cryptography.hazmat.primitives.ciphers import Cipher, algorithms, modes
 from yarl import URL
 
 from .credentials import Credentials
 from .deviceconfig import DeviceConfig
 from .exceptions import (
     SMART_AUTHENTICATION_ERRORS,
     SMART_RETRYABLE_ERRORS,
-    SMART_TIMEOUT_ERRORS,
-    AuthenticationException,
-    RetryableException,
-    SmartDeviceException,
+    AuthenticationError,
+    DeviceError,
+    KasaException,
     SmartErrorCode,
-    TimeoutException,
+    _RetryableError,
 )
 from .httpclient import HttpClient
 from .json import dumps as json_dumps
 from .json import loads as json_loads
 from .protocol import DEFAULT_CREDENTIALS, BaseTransport, get_default_credentials
 
 _LOGGER = logging.getLogger(__name__)
@@ -68,14 +70,15 @@
     COMMON_HEADERS = {
         "Content-Type": "application/json",
         "requestByApp": "true",
         "Accept": "application/json",
     }
     CONTENT_LENGTH = "Content-Length"
     KEY_PAIR_CONTENT_LENGTH = 314
+    BACKOFF_SECONDS_AFTER_LOGIN_ERROR = 1
 
     def __init__(
         self,
         *,
         config: DeviceConfig,
     ) -> None:
         super().__init__(config=config)
@@ -87,48 +90,48 @@
             self._credentials = Credentials()
         if self._credentials:
             self._login_params = self._get_login_params(self._credentials)
         else:
             self._login_params = json_loads(
                 base64.b64decode(self._credentials_hash.encode()).decode()  # type: ignore[union-attr]
             )
-        self._default_credentials: Optional[Credentials] = None
+        self._default_credentials: Credentials | None = None
         self._http_client: HttpClient = HttpClient(config)
 
         self._state = TransportState.HANDSHAKE_REQUIRED
 
-        self._encryption_session: Optional[AesEncyptionSession] = None
-        self._session_expire_at: Optional[float] = None
+        self._encryption_session: AesEncyptionSession | None = None
+        self._session_expire_at: float | None = None
 
-        self._session_cookie: Optional[Dict[str, str]] = None
+        self._session_cookie: dict[str, str] | None = None
 
-        self._key_pair: Optional[KeyPair] = None
-        self._app_url = URL(f"http://{self._host}/app")
-        self._token_url: Optional[URL] = None
+        self._key_pair: KeyPair | None = None
+        self._app_url = URL(f"http://{self._host}:{self._port}/app")
+        self._token_url: URL | None = None
 
         _LOGGER.debug("Created AES transport for %s", self._host)
 
     @property
     def default_port(self) -> int:
         """Default port for the transport."""
         return self.DEFAULT_PORT
 
     @property
     def credentials_hash(self) -> str:
         """The hashed credentials used by the transport."""
         return base64.b64encode(json_dumps(self._login_params).encode()).decode()
 
-    def _get_login_params(self, credentials: Credentials) -> Dict[str, str]:
+    def _get_login_params(self, credentials: Credentials) -> dict[str, str]:
         """Get the login parameters based on the login_version."""
         un, pw = self.hash_credentials(self._login_version == 2, credentials)
         password_field_name = "password2" if self._login_version == 2 else "password"
         return {password_field_name: pw, "username": un}
 
     @staticmethod
-    def hash_credentials(login_v2: bool, credentials: Credentials) -> Tuple[str, str]:
+    def hash_credentials(login_v2: bool, credentials: Credentials) -> tuple[str, str]:
         """Hash the credentials."""
         un = base64.b64encode(_sha1(credentials.username.encode()).encode()).decode()
         if login_v2:
             pw = base64.b64encode(
                 _sha1(credentials.password.encode()).encode()
             ).decode()
         else:
@@ -136,24 +139,22 @@
         return un, pw
 
     def _handle_response_error_code(self, resp_dict: Any, msg: str) -> None:
         error_code = SmartErrorCode(resp_dict.get("error_code"))  # type: ignore[arg-type]
         if error_code == SmartErrorCode.SUCCESS:
             return
         msg = f"{msg}: {self._host}: {error_code.name}({error_code.value})"
-        if error_code in SMART_TIMEOUT_ERRORS:
-            raise TimeoutException(msg, error_code=error_code)
         if error_code in SMART_RETRYABLE_ERRORS:
-            raise RetryableException(msg, error_code=error_code)
+            raise _RetryableError(msg, error_code=error_code)
         if error_code in SMART_AUTHENTICATION_ERRORS:
             self._state = TransportState.HANDSHAKE_REQUIRED
-            raise AuthenticationException(msg, error_code=error_code)
-        raise SmartDeviceException(msg, error_code=error_code)
+            raise AuthenticationError(msg, error_code=error_code)
+        raise DeviceError(msg, error_code=error_code)
 
-    async def send_secure_passthrough(self, request: str) -> Dict[str, Any]:
+    async def send_secure_passthrough(self, request: str) -> dict[str, Any]:
         """Send encrypted message as passthrough."""
         if self._state is TransportState.ESTABLISHED and self._token_url:
             url = self._token_url
         else:
             url = self._app_url
 
         encrypted_payload = self._encryption_session.encrypt(request.encode())  # type: ignore
@@ -166,59 +167,76 @@
             json=passthrough_request,
             headers=self.COMMON_HEADERS,
             cookies_dict=self._session_cookie,
         )
         # _LOGGER.debug(f"secure_passthrough response is {status_code}: {resp_dict}")
 
         if status_code != 200:
-            raise SmartDeviceException(
+            raise KasaException(
                 f"{self._host} responded with an unexpected "
                 + f"status code {status_code} to passthrough"
             )
 
         self._handle_response_error_code(
             resp_dict, "Error sending secure_passthrough message"
         )
 
         if TYPE_CHECKING:
             resp_dict = cast(Dict[str, Any], resp_dict)
             assert self._encryption_session is not None
 
         raw_response: str = resp_dict["result"]["response"]
-        response = self._encryption_session.decrypt(raw_response.encode())
-        return json_loads(response)  # type: ignore[return-value]
+
+        try:
+            response = self._encryption_session.decrypt(raw_response.encode())
+            ret_val = json_loads(response)
+        except Exception as ex:
+            try:
+                ret_val = json_loads(raw_response)
+                _LOGGER.debug(
+                    "Received unencrypted response over secure passthrough from %s",
+                    self._host,
+                )
+            except Exception:
+                raise KasaException(
+                    f"Unable to decrypt response from {self._host}, "
+                    + f"error: {ex}, response: {raw_response}",
+                    ex,
+                ) from ex
+        return ret_val  # type: ignore[return-value]
 
     async def perform_login(self):
         """Login to the device."""
         try:
             await self.try_login(self._login_params)
-        except AuthenticationException as aex:
+        except AuthenticationError as aex:
             try:
                 if aex.error_code is not SmartErrorCode.LOGIN_ERROR:
                     raise aex
                 if self._default_credentials is None:
                     self._default_credentials = get_default_credentials(
                         DEFAULT_CREDENTIALS["TAPO"]
                     )
+                    await asyncio.sleep(self.BACKOFF_SECONDS_AFTER_LOGIN_ERROR)
                 await self.perform_handshake()
                 await self.try_login(self._get_login_params(self._default_credentials))
                 _LOGGER.debug(
                     "%s: logged in with default credentials",
                     self._host,
                 )
-            except AuthenticationException:
+            except AuthenticationError:
                 raise
             except Exception as ex:
-                raise AuthenticationException(
+                raise KasaException(
                     "Unable to login and trying default "
-                    + "login raised another exception: %s",
+                    + f"login raised another exception: {ex}",
                     ex,
                 ) from ex
 
-    async def try_login(self, login_params: Dict[str, Any]) -> None:
+    async def try_login(self, login_params: dict[str, Any]) -> None:
         """Try to login with supplied login_params."""
         login_request = {
             "method": "login_device",
             "params": login_params,
             "request_time_milis": round(time.time() * 1000),
         }
         request = json_dumps(login_request)
@@ -253,33 +271,32 @@
         _LOGGER.debug("Will perform handshaking...")
 
         self._key_pair = None
         self._token_url = None
         self._session_expire_at = None
         self._session_cookie = None
 
-        url = f"http://{self._host}/app"
         # Device needs the content length or it will response with 500
         headers = {
             **self.COMMON_HEADERS,
             self.CONTENT_LENGTH: str(self.KEY_PAIR_CONTENT_LENGTH),
         }
         http_client = self._http_client
 
         status_code, resp_dict = await http_client.post(
-            url,
+            self._app_url,
             json=self._generate_key_pair_payload(),
             headers=headers,
             cookies_dict=self._session_cookie,
         )
 
         _LOGGER.debug("Device responded with: %s", resp_dict)
 
         if status_code != 200:
-            raise SmartDeviceException(
+            raise KasaException(
                 f"{self._host} responded with an unexpected "
                 + f"status code {status_code} to handshake"
             )
 
         self._handle_response_error_code(resp_dict, "Unable to complete handshake")
 
         if TYPE_CHECKING:
@@ -314,27 +331,27 @@
     def _handshake_session_expired(self):
         """Return true if session has expired."""
         return (
             self._session_expire_at is None
             or self._session_expire_at - time.time() <= 0
         )
 
-    async def send(self, request: str) -> Dict[str, Any]:
+    async def send(self, request: str) -> dict[str, Any]:
         """Send the request."""
         if (
             self._state is TransportState.HANDSHAKE_REQUIRED
             or self._handshake_session_expired()
         ):
             await self.perform_handshake()
         if self._state is not TransportState.ESTABLISHED:
             try:
                 await self.perform_login()
             # After a login failure handshake needs to
             # be redone or a 9999 error is received.
-            except AuthenticationException as ex:
+            except AuthenticationError as ex:
                 self._state = TransportState.HANDSHAKE_REQUIRED
                 raise ex
 
         return await self.send_secure_passthrough(request)
 
     async def close(self) -> None:
         """Close the http client and reset internal state."""
```

### Comparing `python_kasa-0.6.2.1/kasa/cli.py` & `python_kasa-0.7.0.dev0/kasa/cli.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,42 +1,51 @@
 """python-kasa cli tool."""
+
+from __future__ import annotations
+
 import ast
 import asyncio
 import json
 import logging
 import re
 import sys
+from contextlib import asynccontextmanager
 from functools import singledispatch, wraps
 from pprint import pformat as pf
-from typing import Any, Dict, cast
+from typing import Any, cast
 
 import asyncclick as click
+from pydantic.v1 import ValidationError
 
 from kasa import (
-    AuthenticationException,
+    AuthenticationError,
     ConnectionType,
     Credentials,
+    Device,
     DeviceConfig,
     DeviceFamilyType,
     Discover,
     EncryptType,
-    SmartBulb,
-    SmartDevice,
-    SmartDimmer,
-    SmartLightStrip,
-    SmartPlug,
-    SmartStrip,
-    UnsupportedDeviceException,
+    Feature,
+    KasaException,
+    Module,
+    UnsupportedDeviceError,
 )
 from kasa.discover import DiscoveryResult
-
-try:
-    from pydantic.v1 import ValidationError
-except ImportError:
-    from pydantic import ValidationError
+from kasa.iot import (
+    IotBulb,
+    IotDevice,
+    IotDimmer,
+    IotLightStrip,
+    IotPlug,
+    IotStrip,
+    IotWallSwitch,
+)
+from kasa.iot.modules import Usage
+from kasa.smart import SmartDevice
 
 try:
     from rich import print as _do_echo
 except ImportError:
     # Strip out rich formatting if rich is not installed
     # but only lower case tags to avoid stripping out
     # raw data from the device that is printed from
@@ -58,47 +67,81 @@
 
 # echo is set to _do_echo so that it can be reset to _do_echo later after
 # --json has set it to _nop_echo
 echo = _do_echo
 
 
 TYPE_TO_CLASS = {
-    "plug": SmartPlug,
-    "bulb": SmartBulb,
-    "dimmer": SmartDimmer,
-    "strip": SmartStrip,
-    "lightstrip": SmartLightStrip,
+    "plug": IotPlug,
+    "switch": IotWallSwitch,
+    "bulb": IotBulb,
+    "dimmer": IotDimmer,
+    "strip": IotStrip,
+    "lightstrip": IotLightStrip,
+    "iot.plug": IotPlug,
+    "iot.switch": IotWallSwitch,
+    "iot.bulb": IotBulb,
+    "iot.dimmer": IotDimmer,
+    "iot.strip": IotStrip,
+    "iot.lightstrip": IotLightStrip,
+    "smart.plug": SmartDevice,
+    "smart.bulb": SmartDevice,
 }
 
 ENCRYPT_TYPES = [encrypt_type.value for encrypt_type in EncryptType]
 
 DEVICE_FAMILY_TYPES = [
     device_family_type.value for device_family_type in DeviceFamilyType
 ]
 
 # Block list of commands which require no update
 SKIP_UPDATE_COMMANDS = ["wifi", "raw-command", "command"]
 
 click.anyio_backend = "asyncio"
 
-pass_dev = click.make_pass_decorator(SmartDevice)
+pass_dev = click.make_pass_decorator(Device)
 
 
-class ExceptionHandlerGroup(click.Group):
-    """Group to capture all exceptions and print them nicely.
+def CatchAllExceptions(cls):
+    """Capture all exceptions and prints them nicely.
 
-    Idea from https://stackoverflow.com/a/44347763
+    Idea from https://stackoverflow.com/a/44347763 and
+    https://stackoverflow.com/questions/52213375
     """
 
-    def __call__(self, *args, **kwargs):
-        """Run the coroutine in the event loop and print any exceptions."""
-        try:
-            asyncio.get_event_loop().run_until_complete(self.main(*args, **kwargs))
-        except Exception as ex:
-            echo(f"Got error: {ex!r}")
+    def _handle_exception(debug, exc):
+        if isinstance(exc, click.ClickException):
+            raise
+        echo(f"Raised error: {exc}")
+        if debug:
+            raise
+        echo("Run with --debug enabled to see stacktrace")
+        sys.exit(1)
+
+    class _CommandCls(cls):
+        _debug = False
+
+        async def make_context(self, info_name, args, parent=None, **extra):
+            self._debug = any(
+                [arg for arg in args if arg in ["--debug", "-d", "--verbose", "-v"]]
+            )
+            try:
+                return await super().make_context(
+                    info_name, args, parent=parent, **extra
+                )
+            except Exception as exc:
+                _handle_exception(self._debug, exc)
+
+        async def invoke(self, ctx):
+            try:
+                return await super().invoke(ctx)
+            except Exception as exc:
+                _handle_exception(self._debug, exc)
+
+    return _CommandCls
 
 
 def json_formatter_cb(result, **kwargs):
     """Format and output the result as JSON, if requested."""
     if not kwargs.get("json"):
         return
 
@@ -106,26 +149,26 @@
     def to_serializable(val):
         """Regular obj-to-string for json serialization.
 
         The singledispatch trick is from hynek: https://hynek.me/articles/serialization/
         """
         return str(val)
 
-    @to_serializable.register(SmartDevice)
-    def _device_to_serializable(val: SmartDevice):
+    @to_serializable.register(Device)
+    def _device_to_serializable(val: Device):
         """Serialize smart device data, just using the last update raw payload."""
         return val.internal_state
 
     json_content = json.dumps(result, indent=4, default=to_serializable)
     print(json_content)
 
 
 @click.group(
     invoke_without_command=True,
-    cls=ExceptionHandlerGroup,
+    cls=CatchAllExceptions(click.Group),
     result_callback=json_formatter_cb,
 )
 @click.option(
     "--host",
     envvar="KASA_HOST",
     required=False,
     help="The host name or IP address of the device to connect to.",
@@ -206,15 +249,15 @@
     required=False,
     show_default=True,
     help="Timeout for device communications.",
 )
 @click.option(
     "--discovery-timeout",
     envvar="KASA_DISCOVERY_TIMEOUT",
-    default=3,
+    default=5,
     required=False,
     show_default=True,
     help="Timeout for discovery.",
 )
 @click.option(
     "--username",
     default=None,
@@ -255,17 +298,17 @@
     discovery_timeout,
     username,
     password,
     credentials_hash,
 ):
     """A tool for controlling TP-Link smart home devices."""  # noqa
     # no need to perform any checks if we are just displaying the help
-    if sys.argv[-1] == "--help":
+    if "--help" in sys.argv:
         # Context object is required to avoid crashing on sub-groups
-        ctx.obj = SmartDevice(None)
+        ctx.obj = object()
         return
 
     # If JSON output is requested, disable echo
     global echo
     if json:
 
         def _nop_echo(*args, **kwargs):
@@ -273,15 +316,15 @@
 
         echo = _nop_echo
     else:
         # Set back to default is required if running tests with CliRunner
         global _do_echo
         echo = _do_echo
 
-    logging_config: Dict[str, Any] = {
+    logging_config: dict[str, Any] = {
         "level": logging.DEBUG if debug > 0 else logging.INFO
     }
     try:
         from rich.logging import RichHandler
 
         rich_config = {
             "show_time": False,
@@ -330,34 +373,47 @@
         ctype = ConnectionType(
             DeviceFamilyType(device_family),
             EncryptType(encrypt_type),
             login_version,
         )
         config = DeviceConfig(
             host=host,
+            port_override=port,
             credentials=credentials,
             credentials_hash=credentials_hash,
             timeout=timeout,
             connection_type=ctype,
         )
-        dev = await SmartDevice.connect(config=config)
+        dev = await Device.connect(config=config)
     else:
-        echo("No --type or --device-family and --encrypt-type defined, discovering..")
+        echo(
+            "No --type or --device-family and --encrypt-type defined, "
+            + f"discovering for {discovery_timeout} seconds.."
+        )
         dev = await Discover.discover_single(
             host,
             port=port,
             credentials=credentials,
+            timeout=timeout,
+            discovery_timeout=discovery_timeout,
         )
 
     # Skip update on specific commands, or if device factory,
     # that performs an update was used for the device.
     if ctx.invoked_subcommand not in SKIP_UPDATE_COMMANDS and not device_family:
         await dev.update()
 
-    ctx.obj = dev
+    @asynccontextmanager
+    async def async_wrapped_device(device: Device):
+        try:
+            yield device
+        finally:
+            await device.disconnect()
+
+    ctx.obj = await ctx.with_async_resource(async_wrapped_device(dev))
 
     if ctx.invoked_subcommand is None:
         return await ctx.invoke(state)
 
 
 @cli.group()
 @pass_dev
@@ -379,15 +435,15 @@
 
 
 @wifi.command()
 @click.argument("ssid")
 @click.option("--keytype", prompt=True)
 @click.option("--password", prompt=True, hide_input=True)
 @pass_dev
-async def join(dev: SmartDevice, ssid: str, password: str, keytype: str):
+async def join(dev: Device, ssid: str, password: str, keytype: str):
     """Join the given wifi network."""
     echo(f"Asking the device to connect to {ssid}..")
     res = await dev.wifi_join(ssid, password, keytype=keytype)
     echo(
         f"Response: {res} - if the device is not able to join the network, "
         f"it will revert back to its previous state."
     )
@@ -409,53 +465,56 @@
     credentials = Credentials(username, password) if username and password else None
 
     sem = asyncio.Semaphore()
     discovered = dict()
     unsupported = []
     auth_failed = []
 
-    async def print_unsupported(unsupported_exception: UnsupportedDeviceException):
+    async def print_unsupported(unsupported_exception: UnsupportedDeviceError):
         unsupported.append(unsupported_exception)
         async with sem:
             if unsupported_exception.discovery_result:
                 echo("== Unsupported device ==")
                 _echo_discovery_info(unsupported_exception.discovery_result)
                 echo()
             else:
                 echo("== Unsupported device ==")
                 echo(f"\t{unsupported_exception}")
                 echo()
 
     echo(f"Discovering devices on {target} for {discovery_timeout} seconds")
 
-    async def print_discovered(dev: SmartDevice):
+    async def print_discovered(dev: Device):
         async with sem:
             try:
                 await dev.update()
-            except AuthenticationException:
+            except AuthenticationError:
                 auth_failed.append(dev._discovery_info)
                 echo("== Authentication failed for device ==")
                 _echo_discovery_info(dev._discovery_info)
                 echo()
             else:
-                discovered[dev.host] = dev.internal_state
                 ctx.parent.obj = dev
                 await ctx.parent.invoke(state)
+                discovered[dev.host] = dev.internal_state
             echo()
 
-    await Discover.discover(
+    discovered_devices = await Discover.discover(
         target=target,
         discovery_timeout=discovery_timeout,
         on_discovered=print_discovered,
         on_unsupported=print_unsupported,
         port=port,
         timeout=timeout,
         credentials=credentials,
     )
 
+    for device in discovered_devices.values():
+        await device.protocol.close()
+
     echo(f"Found {len(discovered)} devices")
     if unsupported:
         echo(f"Found {len(unsupported)} unsupported devices")
     if auth_failed:
         echo(f"Found {len(auth_failed)} devices that failed to authenticate")
 
     return discovered
@@ -466,14 +525,18 @@
     for key, value in discovery_info.items():
         key_name = " ".join(x.capitalize() or "_" for x in key.split("_"))
         key_name_and_spaces = "{:<15}".format(key_name + ":")
         echo(f"\t{key_name_and_spaces}{value}")
 
 
 def _echo_discovery_info(discovery_info):
+    # We don't have discovery info when all connection params are passed manually
+    if discovery_info is None:
+        return
+
     if "system" in discovery_info and "get_sysinfo" in discovery_info["system"]:
         _echo_dictionary(discovery_info["system"]["get_sysinfo"])
         return
 
     try:
         dr = DiscoveryResult(**discovery_info)
     except ValidationError:
@@ -514,65 +577,109 @@
 async def sysinfo(dev):
     """Print out full system information."""
     echo("== System info ==")
     echo(pf(dev.sys_info))
     return dev.sys_info
 
 
+def _echo_features(
+    features: dict[str, Feature],
+    title: str,
+    category: Feature.Category | None = None,
+    verbose: bool = False,
+    indent: str = "\t",
+):
+    """Print out a listing of features and their values."""
+    if category is not None:
+        features = {
+            id_: feat for id_, feat in features.items() if feat.category == category
+        }
+
+    if not features:
+        return
+    echo(f"[bold]{title}[/bold]")
+    for _, feat in features.items():
+        try:
+            echo(f"{indent}{feat}")
+            if verbose:
+                echo(f"{indent}\tType: {feat.type}")
+                echo(f"{indent}\tCategory: {feat.category}")
+                echo(f"{indent}\tIcon: {feat.icon}")
+        except Exception as ex:
+            echo(f"{indent}{feat.name} ({feat.id}): [red]got exception ({ex})[/red]")
+
+
+def _echo_all_features(features, *, verbose=False, title_prefix=None):
+    """Print out all features by category."""
+    if title_prefix is not None:
+        echo(f"[bold]\n\t == {title_prefix} ==[/bold]")
+    _echo_features(
+        features,
+        title="\n\t== Primary features ==",
+        category=Feature.Category.Primary,
+        verbose=verbose,
+    )
+    _echo_features(
+        features,
+        title="\n\t== Information ==",
+        category=Feature.Category.Info,
+        verbose=verbose,
+    )
+    _echo_features(
+        features,
+        title="\n\t== Configuration ==",
+        category=Feature.Category.Config,
+        verbose=verbose,
+    )
+    _echo_features(
+        features,
+        title="\n\t== Debug ==",
+        category=Feature.Category.Debug,
+        verbose=verbose,
+    )
+
+
 @cli.command()
 @pass_dev
 @click.pass_context
-async def state(ctx, dev: SmartDevice):
+async def state(ctx, dev: Device):
     """Print out device state and versions."""
     verbose = ctx.parent.params.get("verbose", False) if ctx.parent else False
 
     echo(f"[bold]== {dev.alias} - {dev.model} ==[/bold]")
     echo(f"\tHost: {dev.host}")
     echo(f"\tPort: {dev.port}")
     echo(f"\tDevice state: {dev.is_on}")
-    if dev.is_strip:
-        echo("\t[bold]== Plugs ==[/bold]")
-        for plug in dev.children:  # type: ignore
-            echo(f"\t* Socket '{plug.alias}' state: {plug.is_on} since {plug.on_since}")
+    if dev.children:
+        echo("\t== Children ==")
+        for child in dev.children:
+            _echo_all_features(
+                child.features,
+                title_prefix=f"{child.alias} ({child.model}, {child.device_type})",
+                verbose=verbose,
+            )
+
         echo()
 
     echo("\t[bold]== Generic information ==[/bold]")
     echo(f"\tTime:         {dev.time} (tz: {dev.timezone}")
     echo(f"\tHardware:     {dev.hw_info['hw_ver']}")
     echo(f"\tSoftware:     {dev.hw_info['sw_ver']}")
     echo(f"\tMAC (rssi):   {dev.mac} ({dev.rssi})")
     echo(f"\tLocation:     {dev.location}")
 
-    echo("\n\t[bold]== Device specific information ==[/bold]")
-    for info_name, info_data in dev.state_information.items():
-        if isinstance(info_data, list):
-            echo(f"\t{info_name}:")
-            for item in info_data:
-                echo(f"\t\t{item}")
-        else:
-            echo(f"\t{info_name}: {info_data}")
-
-    if dev.has_emeter:
-        echo("\n\t[bold]== Current State ==[/bold]")
-        emeter_status = dev.emeter_realtime
-        echo(f"\t{emeter_status}")
+    _echo_all_features(dev.features, verbose=verbose)
 
     echo("\n\t[bold]== Modules ==[/bold]")
     for module in dev.modules.values():
-        if module.is_supported:
-            echo(f"\t[green]+ {module}[/green]")
-        else:
-            echo(f"\t[red]- {module}[/red]")
+        echo(f"\t[green]+ {module}[/green]")
 
     if verbose:
-        echo("\n\t[bold]== Verbose information ==[/bold]")
+        echo("\n\t[bold]== Protocol information ==[/bold]")
         echo(f"\tCredentials hash:  {dev.credentials_hash}")
-        echo(f"\tDevice ID:         {dev.device_id}")
-        for feature in dev.features:
-            echo(f"\tFeature:           {feature}")
         echo()
         _echo_discovery_info(dev._discovery_info)
     return dev.internal_state
 
 
 @cli.command()
 @pass_dev
@@ -580,15 +687,14 @@
 @click.option("--index", type=int)
 async def alias(dev, new_alias, index):
     """Get or set the device (or plug) alias."""
     if index is not None:
         if not dev.is_strip:
             echo("Index can only used for power strips!")
             return
-        dev = cast(SmartStrip, dev)
         dev = dev.get_plug_by_index(index)
 
     if new_alias is not None:
         echo(f"Setting alias to {new_alias}")
         res = await dev.set_alias(new_alias)
         return res
 
@@ -602,63 +708,82 @@
 
 @cli.command()
 @pass_dev
 @click.pass_context
 @click.argument("module")
 @click.argument("command")
 @click.argument("parameters", default=None, required=False)
-async def raw_command(ctx, dev: SmartDevice, module, command, parameters):
+async def raw_command(ctx, dev: Device, module, command, parameters):
     """Run a raw command on the device."""
     logging.warning("Deprecated, use 'kasa command --module %s %s'", module, command)
     return await ctx.forward(cmd_command)
 
 
 @cli.command(name="command")
 @pass_dev
 @click.option("--module", required=False, help="Module for IOT protocol.")
+@click.option("--child", required=False, help="Child ID for controlling sub-devices")
 @click.argument("command")
 @click.argument("parameters", default=None, required=False)
-async def cmd_command(dev: SmartDevice, module, command, parameters):
+async def cmd_command(dev: Device, module, child, command, parameters):
     """Run a raw command on the device."""
     if parameters is not None:
         parameters = ast.literal_eval(parameters)
 
-    res = await dev._query_helper(module, command, parameters)
+    if child:
+        # The way child devices are accessed requires a ChildDevice to
+        # wrap the communications. Doing this properly would require creating
+        # a common interfaces for both IOT and SMART child devices.
+        # As a stop-gap solution, we perform an update instead.
+        await dev.update()
+        dev = dev.get_child_device(child)
+
+    if isinstance(dev, IotDevice):
+        res = await dev._query_helper(module, command, parameters)
+    elif isinstance(dev, SmartDevice):
+        res = await dev._query_helper(command, parameters)
+    else:
+        raise KasaException("Unexpected device type %s.", dev)
     echo(json.dumps(res))
     return res
 
 
 @cli.command()
 @pass_dev
 @click.option("--index", type=int, required=False)
 @click.option("--name", type=str, required=False)
 @click.option("--year", type=click.DateTime(["%Y"]), default=None, required=False)
 @click.option("--month", type=click.DateTime(["%Y-%m"]), default=None, required=False)
 @click.option("--erase", is_flag=True)
-async def emeter(dev: SmartDevice, index: int, name: str, year, month, erase):
+async def emeter(dev: Device, index: int, name: str, year, month, erase):
     """Query emeter for historical consumption.
 
     Daily and monthly data provided in CSV format.
     """
     if index is not None or name is not None:
         if not dev.is_strip:
             echo("Index and name are only for power strips!")
             return
 
-        dev = cast(SmartStrip, dev)
         if index is not None:
             dev = dev.get_plug_by_index(index)
         elif name:
             dev = dev.get_plug_by_name(name)
 
     echo("[bold]== Emeter ==[/bold]")
     if not dev.has_emeter:
         echo("Device has no emeter")
         return
 
+    if (year or month or erase) and not isinstance(dev, IotDevice):
+        echo("Device has no historical statistics")
+        return
+    else:
+        dev = cast(IotDevice, dev)
+
     if erase:
         echo("Erasing emeter statistics..")
         return await dev.erase_emeter_stats()
 
     if year:
         echo(f"== For year {year.year} ==")
         echo("Month, usage (kWh)")
@@ -692,21 +817,21 @@
 
 
 @cli.command()
 @pass_dev
 @click.option("--year", type=click.DateTime(["%Y"]), default=None, required=False)
 @click.option("--month", type=click.DateTime(["%Y-%m"]), default=None, required=False)
 @click.option("--erase", is_flag=True)
-async def usage(dev: SmartDevice, year, month, erase):
+async def usage(dev: Device, year, month, erase):
     """Query usage for historical consumption.
 
     Daily and monthly data provided in CSV format.
     """
     echo("[bold]== Usage ==[/bold]")
-    usage = dev.modules["usage"]
+    usage = cast(Usage, dev.modules["usage"])
 
     if erase:
         echo("Erasing usage statistics..")
         return await usage.erase_stats()
 
     if year:
         echo(f"== For year {year.year} ==")
@@ -730,111 +855,118 @@
     return usage_data
 
 
 @cli.command()
 @click.argument("brightness", type=click.IntRange(0, 100), default=None, required=False)
 @click.option("--transition", type=int, required=False)
 @pass_dev
-async def brightness(dev: SmartBulb, brightness: int, transition: int):
+async def brightness(dev: Device, brightness: int, transition: int):
     """Get or set brightness."""
-    if not dev.is_dimmable:
+    if not (light := dev.modules.get(Module.Light)) or not light.is_dimmable:
         echo("This device does not support brightness.")
         return
 
     if brightness is None:
-        echo(f"Brightness: {dev.brightness}")
-        return dev.brightness
+        echo(f"Brightness: {light.brightness}")
+        return light.brightness
     else:
         echo(f"Setting brightness to {brightness}")
-        return await dev.set_brightness(brightness, transition=transition)
+        return await light.set_brightness(brightness, transition=transition)
 
 
 @cli.command()
 @click.argument(
     "temperature", type=click.IntRange(2500, 9000), default=None, required=False
 )
 @click.option("--transition", type=int, required=False)
 @pass_dev
-async def temperature(dev: SmartBulb, temperature: int, transition: int):
+async def temperature(dev: Device, temperature: int, transition: int):
     """Get or set color temperature."""
-    if not dev.is_variable_color_temp:
+    if not (light := dev.modules.get(Module.Light)) or not light.is_variable_color_temp:
         echo("Device does not support color temperature")
         return
 
     if temperature is None:
-        echo(f"Color temperature: {dev.color_temp}")
-        valid_temperature_range = dev.valid_temperature_range
+        echo(f"Color temperature: {light.color_temp}")
+        valid_temperature_range = light.valid_temperature_range
         if valid_temperature_range != (0, 0):
             echo("(min: {}, max: {})".format(*valid_temperature_range))
         else:
             echo(
                 "Temperature range unknown, please open a github issue"
                 f" or a pull request for model '{dev.model}'"
             )
-        return dev.valid_temperature_range
+        return light.valid_temperature_range
     else:
         echo(f"Setting color temperature to {temperature}")
-        return await dev.set_color_temp(temperature, transition=transition)
+        return await light.set_color_temp(temperature, transition=transition)
 
 
 @cli.command()
 @click.argument("effect", type=click.STRING, default=None, required=False)
 @click.pass_context
 @pass_dev
-async def effect(dev, ctx, effect):
+async def effect(dev: Device, ctx, effect):
     """Set an effect."""
-    if not dev.has_effects:
+    if not (light_effect := dev.modules.get(Module.LightEffect)):
         echo("Device does not support effects")
         return
     if effect is None:
+        echo(
+            f"Light effect: {light_effect.effect}\n"
+            + f"Available Effects: {light_effect.effect_list}"
+        )
+        return light_effect.effect
+
+    if effect not in light_effect.effect_list:
         raise click.BadArgumentUsage(
-            f"Setting an effect requires a named built-in effect: {dev.effect_list}",
-            ctx,
+            f"Effect must be one of: {light_effect.effect_list}", ctx
         )
-    if effect not in dev.effect_list:
-        raise click.BadArgumentUsage(f"Effect must be one of: {dev.effect_list}", ctx)
 
     echo(f"Setting Effect: {effect}")
-    return await dev.set_effect(effect)
+    return await light_effect.set_effect(effect)
 
 
 @cli.command()
 @click.argument("h", type=click.IntRange(0, 360), default=None, required=False)
 @click.argument("s", type=click.IntRange(0, 100), default=None, required=False)
 @click.argument("v", type=click.IntRange(0, 100), default=None, required=False)
 @click.option("--transition", type=int, required=False)
 @click.pass_context
 @pass_dev
-async def hsv(dev, ctx, h, s, v, transition):
+async def hsv(dev: Device, ctx, h, s, v, transition):
     """Get or set color in HSV."""
-    if not dev.is_color:
+    if not (light := dev.modules.get(Module.Light)) or not light.is_color:
         echo("Device does not support colors")
         return
 
-    if h is None or s is None or v is None:
-        echo(f"Current HSV: {dev.hsv}")
-        return dev.hsv
+    if h is None and s is None and v is None:
+        echo(f"Current HSV: {light.hsv}")
+        return light.hsv
     elif s is None or v is None:
         raise click.BadArgumentUsage("Setting a color requires 3 values.", ctx)
     else:
         echo(f"Setting HSV: {h} {s} {v}")
-        return await dev.set_hsv(h, s, v, transition=transition)
+        return await light.set_hsv(h, s, v, transition=transition)
 
 
 @cli.command()
 @click.argument("state", type=bool, required=False)
 @pass_dev
-async def led(dev, state):
+async def led(dev: Device, state):
     """Get or set (Plug's) led state."""
+    if not (led := dev.modules.get(Module.Led)):
+        echo("Device does not support led.")
+        return
     if state is not None:
         echo(f"Turning led to {state}")
-        return await dev.set_led(state)
+        return await led.set_led(state)
     else:
-        echo(f"LED state: {dev.led}")
-        return dev.led
+        echo(f"LED state: {led.led}")
+        return led.led
 
 
 @cli.command()
 @pass_dev
 async def time(dev):
     """Get the device time."""
     res = dev.time
@@ -843,66 +975,63 @@
 
 
 @cli.command()
 @click.option("--index", type=int, required=False)
 @click.option("--name", type=str, required=False)
 @click.option("--transition", type=int, required=False)
 @pass_dev
-async def on(dev: SmartDevice, index: int, name: str, transition: int):
+async def on(dev: Device, index: int, name: str, transition: int):
     """Turn the device on."""
     if index is not None or name is not None:
-        if not dev.is_strip:
-            echo("Index and name are only for power strips!")
+        if not dev.children:
+            echo("Index and name are only for devices with children.")
             return
 
-        dev = cast(SmartStrip, dev)
         if index is not None:
             dev = dev.get_plug_by_index(index)
         elif name:
             dev = dev.get_plug_by_name(name)
 
     echo(f"Turning on {dev.alias}")
     return await dev.turn_on(transition=transition)
 
 
 @cli.command()
 @click.option("--index", type=int, required=False)
 @click.option("--name", type=str, required=False)
 @click.option("--transition", type=int, required=False)
 @pass_dev
-async def off(dev: SmartDevice, index: int, name: str, transition: int):
+async def off(dev: Device, index: int, name: str, transition: int):
     """Turn the device off."""
     if index is not None or name is not None:
-        if not dev.is_strip:
-            echo("Index and name are only for power strips!")
+        if not dev.children:
+            echo("Index and name are only for devices with children.")
             return
 
-        dev = cast(SmartStrip, dev)
         if index is not None:
             dev = dev.get_plug_by_index(index)
         elif name:
             dev = dev.get_plug_by_name(name)
 
     echo(f"Turning off {dev.alias}")
     return await dev.turn_off(transition=transition)
 
 
 @cli.command()
 @click.option("--index", type=int, required=False)
 @click.option("--name", type=str, required=False)
 @click.option("--transition", type=int, required=False)
 @pass_dev
-async def toggle(dev: SmartDevice, index: int, name: str, transition: int):
+async def toggle(dev: Device, index: int, name: str, transition: int):
     """Toggle the device on/off."""
     if index is not None or name is not None:
-        if not dev.is_strip:
-            echo("Index and name are only for power strips!")
+        if not dev.children:
+            echo("Index and name are only for devices with children.")
             return
 
-        dev = cast(SmartStrip, dev)
         if index is not None:
             dev = dev.get_plug_by_index(index)
         elif name:
             dev = dev.get_plug_by_name(name)
 
     if dev.is_on:
         echo(f"Turning off {dev.alias}")
@@ -961,18 +1090,18 @@
     """List and modify bulb setting presets."""
     if ctx.invoked_subcommand is None:
         return await ctx.invoke(presets_list)
 
 
 @presets.command(name="list")
 @pass_dev
-def presets_list(dev: SmartBulb):
+def presets_list(dev: IotBulb):
     """List presets."""
-    if not dev.is_bulb:
-        echo("Presets only supported on bulbs")
+    if not dev.is_bulb or not isinstance(dev, IotBulb):
+        echo("Presets only supported on iot bulbs")
         return
 
     for preset in dev.presets:
         echo(preset)
 
     return dev.presets
 
@@ -980,17 +1109,15 @@
 @presets.command(name="modify")
 @click.argument("index", type=int)
 @click.option("--brightness", type=int)
 @click.option("--hue", type=int)
 @click.option("--saturation", type=int)
 @click.option("--temperature", type=int)
 @pass_dev
-async def presets_modify(
-    dev: SmartBulb, index, brightness, hue, saturation, temperature
-):
+async def presets_modify(dev: IotBulb, index, brightness, hue, saturation, temperature):
     """Modify a preset."""
     for preset in dev.presets:
         if preset.index == index:
             break
     else:
         echo(f"No preset found for index {index}")
         return
@@ -1010,16 +1137,19 @@
 
 
 @cli.command()
 @pass_dev
 @click.option("--type", type=click.Choice(["soft", "hard"], case_sensitive=False))
 @click.option("--last", is_flag=True)
 @click.option("--preset", type=int)
-async def turn_on_behavior(dev: SmartBulb, type, last, preset):
+async def turn_on_behavior(dev: IotBulb, type, last, preset):
     """Modify bulb turn-on behavior."""
+    if not dev.is_bulb or not isinstance(dev, IotBulb):
+        echo("Presets only supported on iot bulbs")
+        return
     settings = await dev.get_turn_on_behavior()
     echo(f"Current turn on behavior: {settings}")
 
     # Return if we are not setting the value
     if not type and not last and not preset:
         return settings
 
@@ -1046,22 +1176,88 @@
     "--username", required=True, prompt=True, help="New username to set on the device"
 )
 @click.option(
     "--password", required=True, prompt=True, help="New password to set on the device"
 )
 async def update_credentials(dev, username, password):
     """Update device credentials for authenticated devices."""
-    # Importing here as this is not really a public interface for now
-    from kasa.tapo import TapoDevice
-
-    if not isinstance(dev, TapoDevice):
+    if not isinstance(dev, SmartDevice):
         raise NotImplementedError(
             "Credentials can only be updated on authenticated devices."
         )
 
     click.confirm("Do you really want to replace the existing credentials?", abort=True)
 
     return await dev.update_credentials(username, password)
 
 
+@cli.command()
+@pass_dev
+async def shell(dev: Device):
+    """Open interactive shell."""
+    echo("Opening shell for %s" % dev)
+    from ptpython.repl import embed
+
+    logging.getLogger("parso").setLevel(logging.WARNING)  # prompt parsing
+    logging.getLogger("asyncio").setLevel(logging.WARNING)
+    loop = asyncio.get_event_loop()
+    try:
+        await embed(
+            globals=globals(),
+            locals=locals(),
+            return_asyncio_coroutine=True,
+            patch_stdout=True,
+        )
+    except EOFError:
+        loop.stop()
+
+
+@cli.command(name="feature")
+@click.argument("name", required=False)
+@click.argument("value", required=False)
+@click.option("--child", required=False)
+@pass_dev
+async def feature(dev: Device, child: str, name: str, value):
+    """Access and modify features.
+
+    If no *name* is given, lists available features and their values.
+    If only *name* is given, the value of named feature is returned.
+    If both *name* and *value* are set, the described setting is changed.
+    """
+    if child is not None:
+        echo(f"Targeting child device {child}")
+        dev = dev.get_child_device(child)
+    if not name:
+        _echo_features(dev.features, "\n[bold]== Features ==[/bold]\n", indent="")
+
+        if dev.children:
+            for child_dev in dev.children:
+                _echo_features(
+                    child_dev.features,
+                    f"\n[bold]== Child {child_dev.alias} ==\n",
+                    indent="",
+                )
+
+        return
+
+    if name not in dev.features:
+        echo(f"No feature by name '{name}'")
+        return
+
+    feat = dev.features[name]
+
+    if value is None:
+        unit = f" {feat.unit}" if feat.unit else ""
+        echo(f"{feat.name} ({name}): {feat.value}{unit}")
+        return feat.value
+
+    value = ast.literal_eval(value)
+    echo(f"Changing {name} from {feat.value} to {value}")
+    response = await dev.features[name].set_value(value)
+    await dev.update()
+    echo(f"New state: {feat.value}")
+
+    return response
+
+
 if __name__ == "__main__":
     cli()
```

### Comparing `python_kasa-0.6.2.1/kasa/device_factory.py` & `python_kasa-0.7.0.dev0/kasa/device_factory.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,39 +1,47 @@
 """Device creation via DeviceConfig."""
+
+from __future__ import annotations
+
 import logging
 import time
-from typing import Any, Dict, Optional, Tuple, Type
+from typing import Any
 
 from .aestransport import AesTransport
+from .device import Device
+from .device_type import DeviceType
 from .deviceconfig import DeviceConfig
-from .exceptions import SmartDeviceException, UnsupportedDeviceException
+from .exceptions import KasaException, UnsupportedDeviceError
+from .iot import (
+    IotBulb,
+    IotDevice,
+    IotDimmer,
+    IotLightStrip,
+    IotPlug,
+    IotStrip,
+    IotWallSwitch,
+)
 from .iotprotocol import IotProtocol
 from .klaptransport import KlapTransport, KlapTransportV2
 from .protocol import (
     BaseProtocol,
     BaseTransport,
 )
-from .smartbulb import SmartBulb
-from .smartdevice import SmartDevice
-from .smartdimmer import SmartDimmer
-from .smartlightstrip import SmartLightStrip
-from .smartplug import SmartPlug
+from .smart import SmartDevice
 from .smartprotocol import SmartProtocol
-from .smartstrip import SmartStrip
-from .tapo import TapoBulb, TapoPlug
 from .xortransport import XorTransport
 
 _LOGGER = logging.getLogger(__name__)
 
 GET_SYSINFO_QUERY = {
     "system": {"get_sysinfo": None},
 }
 
 
-async def connect(*, host: Optional[str] = None, config: DeviceConfig) -> "SmartDevice":
+async def connect(*, host: str | None = None, config: DeviceConfig) -> Device:
     """Connect to a single device by the given hostname or device configuration.
 
     This method avoids the UDP based discovery process and
     will connect directly to the device.
 
     It is generally preferred to avoid :func:`discover_single()` and
     use this function instead as it should perform better when
@@ -45,39 +53,48 @@
     :param host: Hostname of device to query
     :param config: Connection parameters to ensure the correct protocol
         and connection options are used.
     :rtype: SmartDevice
     :return: Object for querying/controlling found device.
     """
     if host and config or (not host and not config):
-        raise SmartDeviceException("One of host or config must be provded and not both")
+        raise KasaException("One of host or config must be provded and not both")
     if host:
         config = DeviceConfig(host=host)
 
+    if (protocol := get_protocol(config=config)) is None:
+        raise UnsupportedDeviceError(
+            f"Unsupported device for {config.host}: "
+            + f"{config.connection_type.device_family.value}"
+        )
+
+    try:
+        return await _connect(config, protocol)
+    except:
+        await protocol.close()
+        raise
+
+
+async def _connect(config: DeviceConfig, protocol: BaseProtocol) -> Device:
     debug_enabled = _LOGGER.isEnabledFor(logging.DEBUG)
     if debug_enabled:
         start_time = time.perf_counter()
 
     def _perf_log(has_params, perf_type):
         nonlocal start_time
         if debug_enabled:
             end_time = time.perf_counter()
             _LOGGER.debug(
                 f"Device {config.host} with connection params {has_params} "
                 + f"took {end_time - start_time:.2f} seconds to {perf_type}",
             )
             start_time = time.perf_counter()
 
-    if (protocol := get_protocol(config=config)) is None:
-        raise UnsupportedDeviceException(
-            f"Unsupported device for {config.host}: "
-            + f"{config.connection_type.device_family.value}"
-        )
-
-    device_class: Optional[Type[SmartDevice]]
+    device_class: type[Device] | None
+    device: Device | None = None
 
     if isinstance(protocol, IotProtocol) and isinstance(
         protocol._transport, XorTransport
     ):
         info = await protocol.query(GET_SYSINFO_QUERY)
         _perf_log(True, "get_sysinfo")
         device_class = get_device_class_from_sys_info(info)
@@ -90,71 +107,93 @@
         config.connection_type.device_family.value
     ):
         device = device_class(host=config.host, protocol=protocol)
         await device.update()
         _perf_log(True, "update")
         return device
     else:
-        raise UnsupportedDeviceException(
+        raise UnsupportedDeviceError(
             f"Unsupported device for {config.host}: "
             + f"{config.connection_type.device_family.value}"
         )
 
 
-def get_device_class_from_sys_info(info: Dict[str, Any]) -> Type[SmartDevice]:
+def _get_device_type_from_sys_info(info: dict[str, Any]) -> DeviceType:
     """Find SmartDevice subclass for device described by passed data."""
     if "system" not in info or "get_sysinfo" not in info["system"]:
-        raise SmartDeviceException("No 'system' or 'get_sysinfo' in response")
+        raise KasaException("No 'system' or 'get_sysinfo' in response")
 
-    sysinfo: Dict[str, Any] = info["system"]["get_sysinfo"]
-    type_: Optional[str] = sysinfo.get("type", sysinfo.get("mic_type"))
+    sysinfo: dict[str, Any] = info["system"]["get_sysinfo"]
+    type_: str | None = sysinfo.get("type", sysinfo.get("mic_type"))
     if type_ is None:
-        raise SmartDeviceException("Unable to find the device type field!")
+        raise KasaException("Unable to find the device type field!")
 
     if "dev_name" in sysinfo and "Dimmer" in sysinfo["dev_name"]:
-        return SmartDimmer
+        return DeviceType.Dimmer
 
     if "smartplug" in type_.lower():
         if "children" in sysinfo:
-            return SmartStrip
-
-        return SmartPlug
+            return DeviceType.Strip
+        if (dev_name := sysinfo.get("dev_name")) and "light" in dev_name.lower():
+            return DeviceType.WallSwitch
+        return DeviceType.Plug
 
     if "smartbulb" in type_.lower():
         if "length" in sysinfo:  # strips have length
-            return SmartLightStrip
+            return DeviceType.LightStrip
 
-        return SmartBulb
-    raise UnsupportedDeviceException("Unknown device type: %s" % type_)
+        return DeviceType.Bulb
+    raise UnsupportedDeviceError("Unknown device type: %s" % type_)
 
 
-def get_device_class_from_family(device_type: str) -> Optional[Type[SmartDevice]]:
+def get_device_class_from_sys_info(sysinfo: dict[str, Any]) -> type[IotDevice]:
+    """Find SmartDevice subclass for device described by passed data."""
+    TYPE_TO_CLASS = {
+        DeviceType.Bulb: IotBulb,
+        DeviceType.Plug: IotPlug,
+        DeviceType.Dimmer: IotDimmer,
+        DeviceType.Strip: IotStrip,
+        DeviceType.WallSwitch: IotWallSwitch,
+        DeviceType.LightStrip: IotLightStrip,
+    }
+    return TYPE_TO_CLASS[_get_device_type_from_sys_info(sysinfo)]
+
+
+def get_device_class_from_family(device_type: str) -> type[Device] | None:
     """Return the device class from the type name."""
-    supported_device_types: Dict[str, Type[SmartDevice]] = {
-        "SMART.TAPOPLUG": TapoPlug,
-        "SMART.TAPOBULB": TapoBulb,
-        "SMART.TAPOSWITCH": TapoBulb,
-        "SMART.KASAPLUG": TapoPlug,
-        "SMART.KASASWITCH": TapoBulb,
-        "IOT.SMARTPLUGSWITCH": SmartPlug,
-        "IOT.SMARTBULB": SmartBulb,
+    supported_device_types: dict[str, type[Device]] = {
+        "SMART.TAPOPLUG": SmartDevice,
+        "SMART.TAPOBULB": SmartDevice,
+        "SMART.TAPOSWITCH": SmartDevice,
+        "SMART.KASAPLUG": SmartDevice,
+        "SMART.TAPOHUB": SmartDevice,
+        "SMART.KASAHUB": SmartDevice,
+        "SMART.KASASWITCH": SmartDevice,
+        "IOT.SMARTPLUGSWITCH": IotPlug,
+        "IOT.SMARTBULB": IotBulb,
     }
-    return supported_device_types.get(device_type)
+    if (
+        cls := supported_device_types.get(device_type)
+    ) is None and device_type.startswith("SMART."):
+        _LOGGER.warning("Unknown SMART device with %s, using SmartDevice", device_type)
+        cls = SmartDevice
+
+    return cls
 
 
 def get_protocol(
     config: DeviceConfig,
-) -> Optional[BaseProtocol]:
+) -> BaseProtocol | None:
     """Return the protocol from the connection name."""
     protocol_name = config.connection_type.device_family.value.split(".")[0]
     protocol_transport_key = (
         protocol_name + "." + config.connection_type.encryption_type.value
     )
-    supported_device_protocols: Dict[
-        str, Tuple[Type[BaseProtocol], Type[BaseTransport]]
+    supported_device_protocols: dict[
+        str, tuple[type[BaseProtocol], type[BaseTransport]]
     ] = {
         "IOT.XOR": (IotProtocol, XorTransport),
         "IOT.KLAP": (IotProtocol, KlapTransport),
         "SMART.AES": (SmartProtocol, AesTransport),
         "SMART.KLAP": (SmartProtocol, KlapTransportV2),
     }
     if protocol_transport_key not in supported_device_protocols:
```

### Comparing `python_kasa-0.6.2.1/kasa/deviceconfig.py` & `python_kasa-0.7.0.dev0/kasa/deviceconfig.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,15 +1,22 @@
-"""Module for holding connection parameters."""
+"""Module for holding connection parameters.
+
+Note that this module does not work with from __future__ import annotations
+due to it's use of type returned by fields() which becomes a string with the import.
+https://bugs.python.org/issue39442
+"""
+
+# ruff: noqa: FA100
 import logging
 from dataclasses import asdict, dataclass, field, fields, is_dataclass
 from enum import Enum
 from typing import TYPE_CHECKING, Dict, Optional, Union
 
 from .credentials import Credentials
-from .exceptions import SmartDeviceException
+from .exceptions import KasaException
 
 if TYPE_CHECKING:
     from aiohttp import ClientSession
 
 _LOGGER = logging.getLogger(__name__)
 
 
@@ -27,14 +34,16 @@
     IotSmartPlugSwitch = "IOT.SMARTPLUGSWITCH"
     IotSmartBulb = "IOT.SMARTBULB"
     SmartKasaPlug = "SMART.KASAPLUG"
     SmartKasaSwitch = "SMART.KASASWITCH"
     SmartTapoPlug = "SMART.TAPOPLUG"
     SmartTapoBulb = "SMART.TAPOBULB"
     SmartTapoSwitch = "SMART.TAPOSWITCH"
+    SmartTapoHub = "SMART.TAPOHUB"
+    SmartKasaHub = "SMART.KASAHUB"
 
 
 def _dataclass_from_dict(klass, in_val):
     if is_dataclass(klass):
         fieldtypes = {f.name: f.type for f in fields(klass)}
         val = {}
         for dict_key in in_val:
@@ -42,15 +51,15 @@
                 if hasattr(fieldtypes[dict_key], "from_dict"):
                     val[dict_key] = fieldtypes[dict_key].from_dict(in_val[dict_key])
                 else:
                     val[dict_key] = _dataclass_from_dict(
                         fieldtypes[dict_key], in_val[dict_key]
                     )
             else:
-                raise SmartDeviceException(
+                raise KasaException(
                     f"Cannot create dataclass from dict, unknown key: {dict_key}"
                 )
         return klass(**val)
     else:
         return in_val
 
 
@@ -88,15 +97,15 @@
         try:
             return ConnectionType(
                 DeviceFamilyType(device_family),
                 EncryptType(encryption_type),
                 login_version,
             )
         except (ValueError, TypeError) as ex:
-            raise SmartDeviceException(
+            raise KasaException(
                 f"Invalid connection parameters for {device_family}."
                 + f"{encryption_type}.{login_version}"
             ) from ex
 
     @staticmethod
     def from_dict(connection_type_dict: Dict[str, str]) -> "ConnectionType":
         """Return connection parameters from dict."""
@@ -109,17 +118,15 @@
                 login_version = int(login_version)  # type: ignore[assignment]
             return ConnectionType.from_values(
                 device_family,
                 encryption_type,
                 login_version,  # type: ignore[arg-type]
             )
 
-        raise SmartDeviceException(
-            f"Invalid connection type data for {connection_type_dict}"
-        )
+        raise KasaException(f"Invalid connection type data for {connection_type_dict}")
 
     def to_dict(self) -> Dict[str, Union[str, int]]:
         """Convert connection params to dict."""
         result: Dict[str, Union[str, int]] = {
             "device_family": self.device_family.value,
             "encryption_type": self.encryption_type.value,
         }
@@ -139,15 +146,15 @@
     timeout: Optional[int] = DEFAULT_TIMEOUT
     #: Override the default 9999 port to support port forwarding
     port_override: Optional[int] = None
     #: Credentials for devices requiring authentication
     credentials: Optional[Credentials] = None
     #: Credentials hash for devices requiring authentication.
     #: If credentials are also supplied they take precendence over credentials_hash.
-    #: Credentials hash can be retrieved from :attr:`SmartDevice.credentials_hash`
+    #: Credentials hash can be retrieved from :attr:`Device.credentials_hash`
     credentials_hash: Optional[str] = None
     #: The protocol specific type of connection.  Defaults to the legacy type.
     batch_size: Optional[int] = None
     #: The batch size for protoools supporting multiple request batches.
     connection_type: ConnectionType = field(
         default_factory=lambda: ConnectionType(
             DeviceFamilyType.IotSmartPlugSwitch, EncryptType.Xor, 1
@@ -181,8 +188,8 @@
         return _dataclass_to_dict(self)
 
     @staticmethod
     def from_dict(config_dict: Dict[str, Dict[str, str]]) -> "DeviceConfig":
         """Return device config from dict."""
         if isinstance(config_dict, dict):
             return _dataclass_from_dict(DeviceConfig, config_dict)
-        raise SmartDeviceException(f"Invalid device config data: {config_dict}")
+        raise KasaException(f"Invalid device config data: {config_dict}")
```

### Comparing `python_kasa-0.6.2.1/kasa/discover.py` & `python_kasa-0.7.0.dev0/kasa/discover.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,89 +1,113 @@
 """Discovery module for TP-Link Smart Home devices."""
+
+from __future__ import annotations
+
 import asyncio
 import binascii
 import ipaddress
 import logging
 import socket
-from typing import Awaitable, Callable, Dict, Optional, Set, Type, cast
+from typing import Awaitable, Callable, Dict, Optional, Type, cast
 
 # When support for cpython older than 3.11 is dropped
 # async_timeout can be replaced with asyncio.timeout
 from async_timeout import timeout as asyncio_timeout
+from pydantic.v1 import BaseModel, ValidationError
 
-try:
-    from pydantic.v1 import BaseModel, ValidationError  # pragma: no cover
-except ImportError:
-    from pydantic import BaseModel, ValidationError  # pragma: no cover
-
+from kasa import Device
 from kasa.credentials import Credentials
 from kasa.device_factory import (
     get_device_class_from_family,
     get_device_class_from_sys_info,
     get_protocol,
 )
 from kasa.deviceconfig import ConnectionType, DeviceConfig, EncryptType
-from kasa.exceptions import TimeoutException, UnsupportedDeviceException
+from kasa.exceptions import (
+    KasaException,
+    TimeoutError,
+    UnsupportedDeviceError,
+)
+from kasa.iot.iotdevice import IotDevice
 from kasa.json import dumps as json_dumps
 from kasa.json import loads as json_loads
-from kasa.smartdevice import SmartDevice, SmartDeviceException
 from kasa.xortransport import XorEncryption
 
 _LOGGER = logging.getLogger(__name__)
 
 
-OnDiscoveredCallable = Callable[[SmartDevice], Awaitable[None]]
-DeviceDict = Dict[str, SmartDevice]
+OnDiscoveredCallable = Callable[[Device], Awaitable[None]]
+OnUnsupportedCallable = Callable[[UnsupportedDeviceError], Awaitable[None]]
+DeviceDict = Dict[str, Device]
 
 
 class _DiscoverProtocol(asyncio.DatagramProtocol):
     """Implementation of the discovery protocol handler.
 
     This is internal class, use :func:`Discover.discover`: instead.
     """
 
+    DISCOVERY_START_TIMEOUT = 1
+
     discovered_devices: DeviceDict
 
     def __init__(
         self,
         *,
-        on_discovered: Optional[OnDiscoveredCallable] = None,
+        on_discovered: OnDiscoveredCallable | None = None,
         target: str = "255.255.255.255",
         discovery_packets: int = 3,
         discovery_timeout: int = 5,
-        interface: Optional[str] = None,
-        on_unsupported: Optional[
-            Callable[[UnsupportedDeviceException], Awaitable[None]]
-        ] = None,
-        port: Optional[int] = None,
-        discovered_event: Optional[asyncio.Event] = None,
-        credentials: Optional[Credentials] = None,
-        timeout: Optional[int] = None,
+        interface: str | None = None,
+        on_unsupported: OnUnsupportedCallable | None = None,
+        port: int | None = None,
+        credentials: Credentials | None = None,
+        timeout: int | None = None,
     ) -> None:
         self.transport = None
         self.discovery_packets = discovery_packets
         self.interface = interface
         self.on_discovered = on_discovered
 
         self.port = port
         self.discovery_port = port or Discover.DISCOVERY_PORT
         self.target = target
         self.target_1 = (target, self.discovery_port)
         self.target_2 = (target, Discover.DISCOVERY_PORT_2)
 
         self.discovered_devices = {}
-        self.unsupported_device_exceptions: Dict = {}
-        self.invalid_device_exceptions: Dict = {}
+        self.unsupported_device_exceptions: dict = {}
+        self.invalid_device_exceptions: dict = {}
         self.on_unsupported = on_unsupported
-        self.discovered_event = discovered_event
         self.credentials = credentials
         self.timeout = timeout
         self.discovery_timeout = discovery_timeout
-        self.seen_hosts: Set[str] = set()
-        self.discover_task: Optional[asyncio.Task] = None
+        self.seen_hosts: set[str] = set()
+        self.discover_task: asyncio.Task | None = None
+        self.callback_tasks: list[asyncio.Task] = []
+        self.target_discovered: bool = False
+        self._started_event = asyncio.Event()
+
+    def _run_callback_task(self, coro):
+        task = asyncio.create_task(coro)
+        self.callback_tasks.append(task)
+
+    async def wait_for_discovery_to_complete(self):
+        """Wait for the discovery task to complete."""
+        # Give some time for connection_made event to be received
+        async with asyncio_timeout(self.DISCOVERY_START_TIMEOUT):
+            await self._started_event.wait()
+        try:
+            await self.discover_task
+        except asyncio.CancelledError:
+            # if target_discovered then cancel was called internally
+            if not self.target_discovered:
+                raise
+        # Wait for any pending callbacks to complete
+        await asyncio.gather(*self.callback_tasks)
 
     def connection_made(self, transport) -> None:
         """Set socket options for broadcasting."""
         self.transport = transport
 
         sock = transport.get_extra_info("socket")
         sock.setsockopt(socket.SOL_SOCKET, socket.SO_BROADCAST, 1)
@@ -94,78 +118,78 @@
 
         if self.interface is not None:
             sock.setsockopt(
                 socket.SOL_SOCKET, socket.SO_BINDTODEVICE, self.interface.encode()
             )
 
         self.discover_task = asyncio.create_task(self.do_discover())
+        self._started_event.set()
 
     async def do_discover(self) -> None:
         """Send number of discovery datagrams."""
         req = json_dumps(Discover.DISCOVERY_QUERY)
         _LOGGER.debug("[DISCOVERY] %s >> %s", self.target, Discover.DISCOVERY_QUERY)
         encrypted_req = XorEncryption.encrypt(req)
         sleep_between_packets = self.discovery_timeout / self.discovery_packets
-        for i in range(self.discovery_packets):
+        for _ in range(self.discovery_packets):
             if self.target in self.seen_hosts:  # Stop sending for discover_single
                 break
             self.transport.sendto(encrypted_req[4:], self.target_1)  # type: ignore
             self.transport.sendto(Discover.DISCOVERY_QUERY_2, self.target_2)  # type: ignore
-            if i < self.discovery_packets - 1:
-                await asyncio.sleep(sleep_between_packets)
+            await asyncio.sleep(sleep_between_packets)
 
     def datagram_received(self, data, addr) -> None:
         """Handle discovery responses."""
         ip, port = addr
         # Prevent multiple entries due multiple broadcasts
         if ip in self.seen_hosts:
             return
         self.seen_hosts.add(ip)
 
-        device = None
+        device: Device | None = None
 
         config = DeviceConfig(host=ip, port_override=self.port)
         if self.credentials:
             config.credentials = self.credentials
         if self.timeout:
             config.timeout = self.timeout
         try:
             if port == self.discovery_port:
                 device = Discover._get_device_instance_legacy(data, config)
             elif port == Discover.DISCOVERY_PORT_2:
                 config.uses_http = True
                 device = Discover._get_device_instance(data, config)
             else:
                 return
-        except UnsupportedDeviceException as udex:
+        except UnsupportedDeviceError as udex:
             _LOGGER.debug("Unsupported device found at %s << %s", ip, udex)
             self.unsupported_device_exceptions[ip] = udex
             if self.on_unsupported is not None:
-                asyncio.ensure_future(self.on_unsupported(udex))
+                self._run_callback_task(self.on_unsupported(udex))
             self._handle_discovered_event()
             return
-        except SmartDeviceException as ex:
+        except KasaException as ex:
             _LOGGER.debug(f"[DISCOVERY] Unable to find device type for {ip}: {ex}")
             self.invalid_device_exceptions[ip] = ex
             self._handle_discovered_event()
             return
 
         self.discovered_devices[ip] = device
 
         if self.on_discovered is not None:
-            asyncio.ensure_future(self.on_discovered(device))
+            self._run_callback_task(self.on_discovered(device))
 
         self._handle_discovered_event()
 
     def _handle_discovered_event(self):
-        """If discovered_event is available set it and cancel discover_task."""
-        if self.discovered_event is not None:
+        """If target is in seen_hosts cancel discover_task."""
+        if self.target in self.seen_hosts:
+            self.target_discovered = True
             if self.discover_task:
                 self.discover_task.cancel()
-            self.discovered_event.set()
 
     def error_received(self, ex):
         """Handle asyncio.Protocol errors."""
         _LOGGER.error("Got error: %s", ex)
 
     def connection_lost(self, ex):  # pragma: no cover
         """Cancel the discover task if running."""
@@ -242,18 +266,18 @@
         255.255.255.255:20002 in order
         to detect available supported devices in the local network,
         and waits for given timeout for answers from devices.
         If you have multiple interfaces,
         you can use *target* parameter to specify the network for discovery.
 
         If given, `on_discovered` coroutine will get awaited with
-        a :class:`SmartDevice`-derived object as parameter.
+        a :class:`Device`-derived object as parameter.
 
         The results of the discovery are returned as a dict of
-        :class:`SmartDevice`-derived objects keyed with IP addresses.
+        :class:`Device`-derived objects keyed with IP addresses.
         The devices are already initialized and all but emeter-related properties
         can be accessed directly.
 
         :param target: The target address where to send the broadcast discovery
          queries if multi-homing (e.g. 192.168.xxx.255).
         :param on_discovered: coroutine to execute on discovery
         :param discovery_timeout: Seconds to wait for responses, defaults to 5
@@ -280,48 +304,51 @@
             ),
             local_addr=("0.0.0.0", 0),  # noqa: S104
         )
         protocol = cast(_DiscoverProtocol, protocol)
 
         try:
             _LOGGER.debug("Waiting %s seconds for responses...", discovery_timeout)
-            await asyncio.sleep(discovery_timeout)
+            await protocol.wait_for_discovery_to_complete()
+        except KasaException as ex:
+            for device in protocol.discovered_devices.values():
+                await device.protocol.close()
+            raise ex
         finally:
             transport.close()
 
         _LOGGER.debug("Discovered %s devices", len(protocol.discovered_devices))
 
         return protocol.discovered_devices
 
     @staticmethod
     async def discover_single(
         host: str,
         *,
         discovery_timeout: int = 5,
-        port: Optional[int] = None,
-        timeout: Optional[int] = None,
-        credentials: Optional[Credentials] = None,
-    ) -> SmartDevice:
+        port: int | None = None,
+        timeout: int | None = None,
+        credentials: Credentials | None = None,
+    ) -> Device:
         """Discover a single device by the given IP address.
 
         It is generally preferred to avoid :func:`discover_single()` and
-        use :meth:`SmartDevice.connect()` instead as it should perform better when
+        use :meth:`Device.connect()` instead as it should perform better when
         the WiFi network is congested or the device is not responding
         to discovery requests.
 
         :param host: Hostname of device to query
         :param discovery_timeout: Timeout in seconds for discovery
         :param port: Optionally set a different port for legacy devices using port 9999
         :param timeout: Timeout in seconds device for devices queries
         :param credentials: Credentials for devices that require authentication
         :rtype: SmartDevice
         :return: Object for querying/controlling found device.
         """
         loop = asyncio.get_event_loop()
-        event = asyncio.Event()
 
         try:
             ipaddress.ip_address(host)
             ip = host
         except ValueError:
             try:
                 adrrinfo = await loop.getaddrinfo(
@@ -335,179 +362,171 @@
                 # where sockaddr is 2 tuple (ip, port).
                 # hence [0][4][0] is a stable array access because if no socket
                 # address matches the host for SOCK_DGRAM AF_INET the gaierror
                 # would be raised.
                 # https://docs.python.org/3/library/socket.html#socket.getaddrinfo
                 ip = adrrinfo[0][4][0]
             except socket.gaierror as gex:
-                raise SmartDeviceException(
-                    f"Could not resolve hostname {host}"
-                ) from gex
+                raise KasaException(f"Could not resolve hostname {host}") from gex
 
         transport, protocol = await loop.create_datagram_endpoint(
             lambda: _DiscoverProtocol(
                 target=ip,
                 port=port,
-                discovered_event=event,
                 credentials=credentials,
                 timeout=timeout,
                 discovery_timeout=discovery_timeout,
             ),
             local_addr=("0.0.0.0", 0),  # noqa: S104
         )
         protocol = cast(_DiscoverProtocol, protocol)
 
         try:
             _LOGGER.debug(
                 "Waiting a total of %s seconds for responses...", discovery_timeout
             )
-
-            async with asyncio_timeout(discovery_timeout):
-                await event.wait()
-        except asyncio.TimeoutError as ex:
-            raise TimeoutException(
-                f"Timed out getting discovery response for {host}"
-            ) from ex
+            await protocol.wait_for_discovery_to_complete()
         finally:
             transport.close()
 
         if ip in protocol.discovered_devices:
             dev = protocol.discovered_devices[ip]
             dev.host = host
             return dev
         elif ip in protocol.unsupported_device_exceptions:
             raise protocol.unsupported_device_exceptions[ip]
         elif ip in protocol.invalid_device_exceptions:
             raise protocol.invalid_device_exceptions[ip]
         else:
-            raise SmartDeviceException(f"Unable to get discovery response for {host}")
+            raise TimeoutError(f"Timed out getting discovery response for {host}")
 
     @staticmethod
-    def _get_device_class(info: dict) -> Type[SmartDevice]:
+    def _get_device_class(info: dict) -> type[Device]:
         """Find SmartDevice subclass for device described by passed data."""
         if "result" in info:
             discovery_result = DiscoveryResult(**info["result"])
             dev_class = get_device_class_from_family(discovery_result.device_type)
             if not dev_class:
-                raise UnsupportedDeviceException(
+                raise UnsupportedDeviceError(
                     "Unknown device type: %s" % discovery_result.device_type,
                     discovery_result=info,
                 )
             return dev_class
         else:
             return get_device_class_from_sys_info(info)
 
     @staticmethod
-    def _get_device_instance_legacy(data: bytes, config: DeviceConfig) -> SmartDevice:
+    def _get_device_instance_legacy(data: bytes, config: DeviceConfig) -> IotDevice:
         """Get SmartDevice from legacy 9999 response."""
         try:
             info = json_loads(XorEncryption.decrypt(data))
         except Exception as ex:
-            raise SmartDeviceException(
+            raise KasaException(
                 f"Unable to read response from device: {config.host}: {ex}"
             ) from ex
 
         _LOGGER.debug("[DISCOVERY] %s << %s", config.host, info)
 
-        device_class = Discover._get_device_class(info)
+        device_class = cast(Type[IotDevice], Discover._get_device_class(info))
         device = device_class(config.host, config=config)
         sys_info = info["system"]["get_sysinfo"]
         if device_type := sys_info.get("mic_type", sys_info.get("type")):
             config.connection_type = ConnectionType.from_values(
                 device_family=device_type, encryption_type=EncryptType.Xor.value
             )
         device.protocol = get_protocol(config)  # type: ignore[assignment]
         device.update_from_discover_info(info)
         return device
 
     @staticmethod
     def _get_device_instance(
         data: bytes,
         config: DeviceConfig,
-    ) -> SmartDevice:
+    ) -> Device:
         """Get SmartDevice from the new 20002 response."""
         try:
             info = json_loads(data[16:])
         except Exception as ex:
             _LOGGER.debug("Got invalid response from device %s: %s", config.host, data)
-            raise SmartDeviceException(
+            raise KasaException(
                 f"Unable to read response from device: {config.host}: {ex}"
             ) from ex
         try:
             discovery_result = DiscoveryResult(**info["result"])
         except ValidationError as ex:
             _LOGGER.debug(
                 "Unable to parse discovery from device %s: %s", config.host, info
             )
-            raise UnsupportedDeviceException(
+            raise UnsupportedDeviceError(
                 f"Unable to parse discovery from device: {config.host}: {ex}"
             ) from ex
 
         type_ = discovery_result.device_type
 
         try:
             config.connection_type = ConnectionType.from_values(
                 type_,
                 discovery_result.mgt_encrypt_schm.encrypt_type,
                 discovery_result.mgt_encrypt_schm.lv,
             )
-        except SmartDeviceException as ex:
-            raise UnsupportedDeviceException(
+        except KasaException as ex:
+            raise UnsupportedDeviceError(
                 f"Unsupported device {config.host} of type {type_} "
                 + f"with encrypt_type {discovery_result.mgt_encrypt_schm.encrypt_type}",
                 discovery_result=discovery_result.get_dict(),
             ) from ex
         if (device_class := get_device_class_from_family(type_)) is None:
             _LOGGER.warning("Got unsupported device type: %s", type_)
-            raise UnsupportedDeviceException(
+            raise UnsupportedDeviceError(
                 f"Unsupported device {config.host} of type {type_}: {info}",
                 discovery_result=discovery_result.get_dict(),
             )
         if (protocol := get_protocol(config)) is None:
             _LOGGER.warning(
                 "Got unsupported connection type: %s", config.connection_type.to_dict()
             )
-            raise UnsupportedDeviceException(
+            raise UnsupportedDeviceError(
                 f"Unsupported encryption scheme {config.host} of "
                 + f"type {config.connection_type.to_dict()}: {info}",
                 discovery_result=discovery_result.get_dict(),
             )
 
         _LOGGER.debug("[DISCOVERY] %s << %s", config.host, info)
         device = device_class(config.host, protocol=protocol)
 
         di = discovery_result.get_dict()
         di["model"], _, _ = discovery_result.device_model.partition("(")
         device.update_from_discover_info(di)
         return device
 
 
-class DiscoveryResult(BaseModel):
-    """Base model for discovery result."""
+class EncryptionScheme(BaseModel):
+    """Base model for encryption scheme of discovery result."""
 
-    class EncryptionScheme(BaseModel):
-        """Base model for encryption scheme of discovery result."""
+    is_support_https: bool
+    encrypt_type: str
+    http_port: int
+    lv: Optional[int] = None  # noqa: UP007
 
-        is_support_https: bool
-        encrypt_type: str
-        http_port: int
-        lv: Optional[int] = None
+
+class DiscoveryResult(BaseModel):
+    """Base model for discovery result."""
 
     device_type: str
     device_model: str
     ip: str
     mac: str
     mgt_encrypt_schm: EncryptionScheme
     device_id: str
 
-    hw_ver: Optional[str] = None
-    owner: Optional[str] = None
-    is_support_iot_cloud: Optional[bool] = None
-    obd_src: Optional[str] = None
-    factory_default: Optional[bool] = None
+    hw_ver: Optional[str] = None  # noqa: UP007
+    owner: Optional[str] = None  # noqa: UP007
+    is_support_iot_cloud: Optional[bool] = None  # noqa: UP007
+    obd_src: Optional[str] = None  # noqa: UP007
+    factory_default: Optional[bool] = None  # noqa: UP007
 
     def get_dict(self) -> dict:
         """Return a dict for this discovery result.
 
         containing only the values actually set and with aliases as field names.
         """
         return self.dict(
```

### Comparing `python_kasa-0.6.2.1/kasa/effects.py` & `python_kasa-0.7.0.dev0/kasa/iot/effects.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,12 @@
 """Module for light strip effects (LB*, KL*, KB*)."""
 
-from typing import List, cast
+from __future__ import annotations
+
+from typing import cast
 
 EFFECT_AURORA = {
     "custom": 0,
     "id": "xqUxDhbAhNLqulcuRMyPBmVGyTOyEMEu",
     "brightness": 100,
     "name": "Aurora",
     "segments": [0],
@@ -288,9 +290,9 @@
     EFFECT_OCEAN,
     EFFECT_RAINBOW,
     EFFECT_RAINDROP,
     EFFECT_SPRING,
     EFFECT_VALENTINES,
 ]
 
-EFFECT_NAMES_V1: List[str] = [cast(str, effect["name"]) for effect in EFFECTS_LIST_V1]
+EFFECT_NAMES_V1: list[str] = [cast(str, effect["name"]) for effect in EFFECTS_LIST_V1]
 EFFECT_MAPPING_V1 = {effect["name"]: effect for effect in EFFECTS_LIST_V1}
```

### Comparing `python_kasa-0.6.2.1/kasa/emeterstatus.py` & `python_kasa-0.7.0.dev0/kasa/emeterstatus.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,10 +1,12 @@
 """Module for emeter container."""
+
+from __future__ import annotations
+
 import logging
-from typing import Optional
 
 _LOGGER = logging.getLogger(__name__)
 
 
 class EmeterStatus(dict):
     """Container for converting different representations of emeter data.
 
@@ -12,39 +14,39 @@
     where-as the olders do not have this feature.
 
     This class automatically converts between these two to allow
     backwards and forwards compatibility.
     """
 
     @property
-    def voltage(self) -> Optional[float]:
+    def voltage(self) -> float | None:
         """Return voltage in V."""
         try:
             return self["voltage"]
         except ValueError:
             return None
 
     @property
-    def power(self) -> Optional[float]:
+    def power(self) -> float | None:
         """Return power in W."""
         try:
             return self["power"]
         except ValueError:
             return None
 
     @property
-    def current(self) -> Optional[float]:
+    def current(self) -> float | None:
         """Return current in A."""
         try:
             return self["current"]
         except ValueError:
             return None
 
     @property
-    def total(self) -> Optional[float]:
+    def total(self) -> float | None:
         """Return total in kWh."""
         try:
             return self["total"]
         except ValueError:
             return None
 
     def __repr__(self):
```

### Comparing `python_kasa-0.6.2.1/kasa/exceptions.py` & `python_kasa-0.7.0.dev0/kasa/exceptions.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,54 +1,72 @@
 """python-kasa exceptions."""
-from asyncio import TimeoutError
+
+from __future__ import annotations
+
+from asyncio import TimeoutError as _asyncioTimeoutError
 from enum import IntEnum
-from typing import Any, Optional
+from typing import Any
 
 
-class SmartDeviceException(Exception):
-    """Base exception for device errors."""
+class KasaException(Exception):
+    """Base exception for library errors."""
 
-    def __init__(self, *args: Any, **kwargs: Any) -> None:
-        self.error_code: Optional["SmartErrorCode"] = kwargs.get("error_code", None)
-        super().__init__(*args)
 
+class TimeoutError(KasaException, _asyncioTimeoutError):
+    """Timeout exception for device errors."""
 
-class UnsupportedDeviceException(SmartDeviceException):
-    """Exception for trying to connect to unsupported devices."""
+    def __repr__(self):
+        return KasaException.__repr__(self)
 
-    def __init__(self, *args: Any, **kwargs: Any) -> None:
-        self.discovery_result = kwargs.get("discovery_result")
-        super().__init__(*args, **kwargs)
+    def __str__(self):
+        return KasaException.__str__(self)
 
 
-class AuthenticationException(SmartDeviceException):
-    """Base exception for device authentication errors."""
+class _ConnectionError(KasaException):
+    """Connection exception for device errors."""
 
 
-class RetryableException(SmartDeviceException):
-    """Retryable exception for device errors."""
+class UnsupportedDeviceError(KasaException):
+    """Exception for trying to connect to unsupported devices."""
 
+    def __init__(self, *args: Any, **kwargs: Any) -> None:
+        self.discovery_result = kwargs.get("discovery_result")
+        super().__init__(*args)
 
-class TimeoutException(SmartDeviceException, TimeoutError):
-    """Timeout exception for device errors."""
+
+class DeviceError(KasaException):
+    """Base exception for device errors."""
+
+    def __init__(self, *args: Any, **kwargs: Any) -> None:
+        self.error_code: SmartErrorCode | None = kwargs.get("error_code", None)
+        super().__init__(*args)
 
     def __repr__(self):
-        return SmartDeviceException.__repr__(self)
+        err_code = self.error_code.__repr__() if self.error_code else ""
+        return f"{self.__class__.__name__}({err_code})"
 
     def __str__(self):
-        return SmartDeviceException.__str__(self)
+        err_code = f" (error_code={self.error_code.name})" if self.error_code else ""
+        return super().__str__() + err_code
 
 
-class ConnectionException(SmartDeviceException):
-    """Connection exception for device errors."""
+class AuthenticationError(DeviceError):
+    """Base exception for device authentication errors."""
+
+
+class _RetryableError(DeviceError):
+    """Retryable exception for device errors."""
 
 
 class SmartErrorCode(IntEnum):
     """Enum for SMART Error Codes."""
 
+    def __str__(self):
+        return f"{self.name}({self.value})"
+
     SUCCESS = 0
 
     # Transport Errors
     SESSION_TIMEOUT_ERROR = 9999
     MULTI_REQUEST_FAILED_ERROR = 1200
     HTTP_TRANSPORT_FAILED_ERROR = 1112
     LOGIN_FAILED_ERROR = 1111
@@ -102,20 +120,17 @@
     DST_SAVE_ERROR = -2302
 
 
 SMART_RETRYABLE_ERRORS = [
     SmartErrorCode.TRANSPORT_NOT_AVAILABLE_ERROR,
     SmartErrorCode.HTTP_TRANSPORT_FAILED_ERROR,
     SmartErrorCode.UNSPECIFIC_ERROR,
+    SmartErrorCode.SESSION_TIMEOUT_ERROR,
 ]
 
 SMART_AUTHENTICATION_ERRORS = [
     SmartErrorCode.LOGIN_ERROR,
     SmartErrorCode.LOGIN_FAILED_ERROR,
     SmartErrorCode.AES_DECODE_FAIL_ERROR,
     SmartErrorCode.HAND_SHAKE_FAILED_ERROR,
     SmartErrorCode.TRANSPORT_UNKNOWN_CREDENTIALS_ERROR,
 ]
-
-SMART_TIMEOUT_ERRORS = [
-    SmartErrorCode.SESSION_TIMEOUT_ERROR,
-]
```

### Comparing `python_kasa-0.6.2.1/kasa/httpclient.py` & `python_kasa-0.7.0.dev0/kasa/httpclient.py`

 * *Files 9% similar despite different names*

```diff
@@ -1,22 +1,28 @@
 """Module for HttpClientSession class."""
+
+from __future__ import annotations
+
 import asyncio
-from typing import Any, Dict, Optional, Tuple, Union
+import logging
+from typing import Any, Dict
 
 import aiohttp
 from yarl import URL
 
 from .deviceconfig import DeviceConfig
 from .exceptions import (
-    ConnectionException,
-    SmartDeviceException,
-    TimeoutException,
+    KasaException,
+    TimeoutError,
+    _ConnectionError,
 )
 from .json import loads as json_loads
 
+_LOGGER = logging.getLogger(__name__)
+
 
 def get_cookie_jar() -> aiohttp.CookieJar:
     """Return a new cookie jar with the correct options for device communication."""
     return aiohttp.CookieJar(unsafe=True, quote_cookie=False)
 
 
 class HttpClient:
@@ -40,24 +46,25 @@
             self._client_session = aiohttp.ClientSession(cookie_jar=get_cookie_jar())
         return self._client_session
 
     async def post(
         self,
         url: URL,
         *,
-        params: Optional[Dict[str, Any]] = None,
-        data: Optional[bytes] = None,
-        json: Optional[Union[Dict, Any]] = None,
-        headers: Optional[Dict[str, str]] = None,
-        cookies_dict: Optional[Dict[str, str]] = None,
-    ) -> Tuple[int, Optional[Union[Dict, bytes]]]:
+        params: dict[str, Any] | None = None,
+        data: bytes | None = None,
+        json: dict | Any | None = None,
+        headers: dict[str, str] | None = None,
+        cookies_dict: dict[str, str] | None = None,
+    ) -> tuple[int, dict | bytes | None]:
         """Send an http post request to the device.
 
         If the request is provided via the json parameter json will be returned.
         """
+        _LOGGER.debug("Posting to %s", url)
         response_data = None
         self._last_url = url
         self.client.cookie_jar.clear()
         return_json = bool(json)
         # If json is not a dict send as data.
         # This allows the json parameter to be used to pass other
         # types of data such as async_generator and still have json
@@ -78,31 +85,31 @@
             async with resp:
                 if resp.status == 200:
                     response_data = await resp.read()
                     if return_json:
                         response_data = json_loads(response_data.decode())
 
         except (aiohttp.ServerDisconnectedError, aiohttp.ClientOSError) as ex:
-            raise ConnectionException(
+            raise _ConnectionError(
                 f"Device connection error: {self._config.host}: {ex}", ex
             ) from ex
         except (aiohttp.ServerTimeoutError, asyncio.TimeoutError) as ex:
-            raise TimeoutException(
+            raise TimeoutError(
                 "Unable to query the device, "
                 + f"timed out: {self._config.host}: {ex}",
                 ex,
             ) from ex
         except Exception as ex:
-            raise SmartDeviceException(
+            raise KasaException(
                 f"Unable to query the device: {self._config.host}: {ex}", ex
             ) from ex
 
         return resp.status, response_data
 
-    def get_cookie(self, cookie_name: str) -> Optional[str]:
+    def get_cookie(self, cookie_name: str) -> str | None:
         """Return the cookie with cookie_name."""
         if cookie := self.client.cookie_jar.filter_cookies(self._last_url).get(
             cookie_name
         ):
             return cookie.value
         return None
```

### Comparing `python_kasa-0.6.2.1/kasa/iotprotocol.py` & `python_kasa-0.7.0.dev0/kasa/iotprotocol.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,19 +1,21 @@
 """Module for the IOT legacy IOT KASA protocol."""
+
+from __future__ import annotations
+
 import asyncio
 import logging
-from typing import Dict, Optional, Union
 
 from .deviceconfig import DeviceConfig
 from .exceptions import (
-    AuthenticationException,
-    ConnectionException,
-    RetryableException,
-    SmartDeviceException,
-    TimeoutException,
+    AuthenticationError,
+    KasaException,
+    TimeoutError,
+    _ConnectionError,
+    _RetryableError,
 )
 from .json import dumps as json_dumps
 from .protocol import BaseProtocol, BaseTransport
 from .xortransport import XorEncryption, XorTransport
 
 _LOGGER = logging.getLogger(__name__)
 
@@ -29,83 +31,83 @@
         transport: BaseTransport,
     ) -> None:
         """Create a protocol object."""
         super().__init__(transport=transport)
 
         self._query_lock = asyncio.Lock()
 
-    async def query(self, request: Union[str, Dict], retry_count: int = 3) -> Dict:
+    async def query(self, request: str | dict, retry_count: int = 3) -> dict:
         """Query the device retrying for retry_count on failure."""
         if isinstance(request, dict):
             request = json_dumps(request)
             assert isinstance(request, str)  # noqa: S101
 
         async with self._query_lock:
             return await self._query(request, retry_count)
 
-    async def _query(self, request: str, retry_count: int = 3) -> Dict:
+    async def _query(self, request: str, retry_count: int = 3) -> dict:
         for retry in range(retry_count + 1):
             try:
                 return await self._execute_query(request, retry)
-            except ConnectionException as sdex:
+            except _ConnectionError as sdex:
                 if retry >= retry_count:
                     _LOGGER.debug("Giving up on %s after %s retries", self._host, retry)
                     raise sdex
                 continue
-            except AuthenticationException as auex:
+            except AuthenticationError as auex:
                 await self._transport.reset()
                 _LOGGER.debug(
                     "Unable to authenticate with %s, not retrying", self._host
                 )
                 raise auex
-            except RetryableException as ex:
+            except _RetryableError as ex:
                 await self._transport.reset()
                 if retry >= retry_count:
                     _LOGGER.debug("Giving up on %s after %s retries", self._host, retry)
                     raise ex
                 continue
-            except TimeoutException as ex:
+            except TimeoutError as ex:
                 await self._transport.reset()
                 if retry >= retry_count:
                     _LOGGER.debug("Giving up on %s after %s retries", self._host, retry)
                     raise ex
                 await asyncio.sleep(self.BACKOFF_SECONDS_AFTER_TIMEOUT)
                 continue
-            except SmartDeviceException as ex:
+            except KasaException as ex:
                 await self._transport.reset()
                 _LOGGER.debug(
                     "Unable to query the device: %s, not retrying: %s",
                     self._host,
                     ex,
                 )
                 raise ex
 
         # make mypy happy, this should never be reached..
-        raise SmartDeviceException("Query reached somehow to unreachable")
+        raise KasaException("Query reached somehow to unreachable")
 
-    async def _execute_query(self, request: str, retry_count: int) -> Dict:
+    async def _execute_query(self, request: str, retry_count: int) -> dict:
         return await self._transport.send(request)
 
     async def close(self) -> None:
         """Close the underlying transport."""
         await self._transport.close()
 
 
 class _deprecated_TPLinkSmartHomeProtocol(IotProtocol):
     def __init__(
         self,
-        host: Optional[str] = None,
+        host: str | None = None,
         *,
-        port: Optional[int] = None,
-        timeout: Optional[int] = None,
-        transport: Optional[BaseTransport] = None,
+        port: int | None = None,
+        timeout: int | None = None,
+        transport: BaseTransport | None = None,
     ) -> None:
         """Create a protocol object."""
         if not host and not transport:
-            raise SmartDeviceException("host or transport must be supplied")
+            raise KasaException("host or transport must be supplied")
         if not transport:
             config = DeviceConfig(
                 host=host,  # type: ignore[arg-type]
                 port_override=port,
                 timeout=timeout or XorTransport.DEFAULT_TIMEOUT,
             )
             transport = XorTransport(config=config)
```

### Comparing `python_kasa-0.6.2.1/kasa/klaptransport.py` & `python_kasa-0.7.0.dev0/kasa/klaptransport.py`

 * *Files 2% similar despite different names*

```diff
@@ -36,32 +36,34 @@
 url parameter to the device along with the encrypted payload
 
 https://gist.github.com/chriswheeldon/3b17d974db3817613c69191c0480fe55
 https://github.com/python-kasa/python-kasa/pull/117
 
 """
 
+from __future__ import annotations
+
 import asyncio
 import base64
 import datetime
 import hashlib
 import logging
 import secrets
 import struct
 import time
 from pprint import pformat as pf
-from typing import Any, Dict, Optional, Tuple, cast
+from typing import Any, cast
 
 from cryptography.hazmat.primitives import padding
 from cryptography.hazmat.primitives.ciphers import Cipher, algorithms, modes
 from yarl import URL
 
 from .credentials import Credentials
 from .deviceconfig import DeviceConfig
-from .exceptions import AuthenticationException, SmartDeviceException
+from .exceptions import AuthenticationError, KasaException, _RetryableError
 from .httpclient import HttpClient
 from .json import loads as json_loads
 from .protocol import DEFAULT_CREDENTIALS, BaseTransport, get_default_credentials, md5
 
 _LOGGER = logging.getLogger(__name__)
 
 
@@ -95,50 +97,50 @@
         self,
         *,
         config: DeviceConfig,
     ) -> None:
         super().__init__(config=config)
 
         self._http_client = HttpClient(config)
-        self._local_seed: Optional[bytes] = None
+        self._local_seed: bytes | None = None
         if (
             not self._credentials or self._credentials.username is None
         ) and not self._credentials_hash:
             self._credentials = Credentials()
         if self._credentials:
             self._local_auth_hash = self.generate_auth_hash(self._credentials)
             self._local_auth_owner = self.generate_owner_hash(self._credentials).hex()
         else:
             self._local_auth_hash = base64.b64decode(self._credentials_hash.encode())  # type: ignore[union-attr]
-        self._default_credentials_auth_hash: Dict[str, bytes] = {}
+        self._default_credentials_auth_hash: dict[str, bytes] = {}
         self._blank_auth_hash = None
         self._handshake_lock = asyncio.Lock()
         self._query_lock = asyncio.Lock()
         self._handshake_done = False
 
-        self._encryption_session: Optional[KlapEncryptionSession] = None
-        self._session_expire_at: Optional[float] = None
+        self._encryption_session: KlapEncryptionSession | None = None
+        self._session_expire_at: float | None = None
 
-        self._session_cookie: Optional[Dict[str, Any]] = None
+        self._session_cookie: dict[str, Any] | None = None
 
         _LOGGER.debug("Created KLAP transport for %s", self._host)
-        self._app_url = URL(f"http://{self._host}/app")
+        self._app_url = URL(f"http://{self._host}:{self._port}/app")
         self._request_url = self._app_url / "request"
 
     @property
     def default_port(self):
         """Default port for the transport."""
         return self.DEFAULT_PORT
 
     @property
     def credentials_hash(self) -> str:
         """The hashed credentials used by the transport."""
         return base64.b64encode(self._local_auth_hash).decode()
 
-    async def perform_handshake1(self) -> Tuple[bytes, bytes, bytes]:
+    async def perform_handshake1(self) -> tuple[bytes, bytes, bytes]:
         """Perform handshake1."""
         local_seed: bytes = secrets.token_bytes(16)
 
         # Handshake 1 has a payload of local_seed
         # and a response of 16 bytes, followed by
         # sha256(remote_seed | auth_hash)
 
@@ -155,22 +157,28 @@
                 datetime.datetime.now(),
                 self._host,
                 response_status,
                 payload.hex(),
             )
 
         if response_status != 200:
-            raise AuthenticationException(
+            raise KasaException(
                 f"Device {self._host} responded with {response_status} to handshake1"
             )
 
         response_data = cast(bytes, response_data)
         remote_seed: bytes = response_data[0:16]
         server_hash = response_data[16:]
 
+        if len(server_hash) != 32:
+            raise KasaException(
+                f"Device {self._host} responded with unexpected klap response "
+                + f"{response_data!r} to handshake1"
+            )
+
         if _LOGGER.isEnabledFor(logging.DEBUG):
             _LOGGER.debug(
                 "Handshake1 success at %s. Host is %s, "
                 + "Server remote_seed is: %s, server hash is: %s",
                 datetime.datetime.now(),
                 self._host,
                 remote_seed.hex(),
@@ -226,19 +234,19 @@
                     + " but an authentication with blank credentials matched",
                     self._host,
                 )
                 return local_seed, remote_seed, self._blank_auth_hash  # type: ignore
 
         msg = f"Server response doesn't match our challenge on ip {self._host}"
         _LOGGER.debug(msg)
-        raise AuthenticationException(msg)
+        raise AuthenticationError(msg)
 
     async def perform_handshake2(
         self, local_seed, remote_seed, auth_hash
-    ) -> "KlapEncryptionSession":
+    ) -> KlapEncryptionSession:
         """Perform handshake2."""
         # Handshake 2 has the following payload:
         #    sha256(serverBytes | authenticator)
 
         url = self._app_url / "handshake2"
 
         payload = self.handshake2_seed_auth_hash(local_seed, remote_seed, auth_hash)
@@ -256,15 +264,17 @@
                 datetime.datetime.now(),
                 self._host,
                 response_status,
                 payload.hex(),
             )
 
         if response_status != 200:
-            raise AuthenticationException(
+            # This shouldn't be caused by incorrect
+            # credentials so don't raise AuthenticationError
+            raise KasaException(
                 f"Device {self._host} responded with {response_status} to handshake2"
             )
 
         return KlapEncryptionSession(local_seed, remote_seed, auth_hash)
 
     async def perform_handshake(self) -> Any:
         """Perform handshake1 and handshake2.
@@ -325,20 +335,20 @@
             + f"Response status is {response_status}, Request was {request}"
         )
         if response_status != 200:
             _LOGGER.error("Query failed after successful authentication " + msg)
             # If we failed with a security error, force a new handshake next time.
             if response_status == 403:
                 self._handshake_done = False
-                raise AuthenticationException(
+                raise _RetryableError(
                     f"Got a security error from {self._host} after handshake "
                     + "completed"
                 )
             else:
-                raise SmartDeviceException(
+                raise KasaException(
                     f"Device {self._host} responded with {response_status} to"
                     + f"request with seq {seq}"
                 )
         else:
             _LOGGER.debug("Query posted " + msg)
 
             # Check for mypy
```

### Comparing `python_kasa-0.6.2.1/kasa/modules/ambientlight.py` & `python_kasa-0.7.0.dev0/kasa/iot/modules/ambientlight.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,37 +1,65 @@
 """Implementation of the ambient light (LAS) module found in some dimmers."""
-from .module import Module
+
+from ...feature import Feature
+from ..iotmodule import IotModule, merge
 
 # TODO create tests and use the config reply there
 # [{"hw_id":0,"enable":0,"dark_index":1,"min_adc":0,"max_adc":2450,
 # "level_array":[{"name":"cloudy","adc":490,"value":20},
 # {"name":"overcast","adc":294,"value":12},
 # {"name":"dawn","adc":222,"value":9},
 # {"name":"twilight","adc":222,"value":9},
 # {"name":"total darkness","adc":111,"value":4},
 # {"name":"custom","adc":2400,"value":97}]}]
 
 
-class AmbientLight(Module):
+class AmbientLight(IotModule):
     """Implements ambient light controls for the motion sensor."""
 
+    def __init__(self, device, module):
+        super().__init__(device, module)
+        self._add_feature(
+            Feature(
+                device=device,
+                container=self,
+                id="ambient_light",
+                name="Ambient Light",
+                icon="mdi:brightness-percent",
+                attribute_getter="ambientlight_brightness",
+                type=Feature.Type.Sensor,
+                category=Feature.Category.Primary,
+                unit="%",
+            )
+        )
+
     def query(self):
         """Request configuration."""
-        return self.query_for_command("get_config")
+        req = merge(
+            self.query_for_command("get_config"),
+            self.query_for_command("get_current_brt"),
+        )
+
+        return req
 
     @property
     def presets(self) -> dict:
         """Return device-defined presets for brightness setting."""
         return self.data["level_array"]
 
     @property
     def enabled(self) -> bool:
         """Return True if the module is enabled."""
         return bool(self.data["enable"])
 
+    @property
+    def ambientlight_brightness(self) -> int:
+        """Return True if the module is enabled."""
+        return int(self.data["get_current_brt"]["value"])
+
     async def set_enabled(self, state: bool):
         """Enable/disable LAS."""
         return await self.call("set_enable", {"enable": int(state)})
 
     async def current_brightness(self) -> int:
         """Return current brightness.
```

### Comparing `python_kasa-0.6.2.1/kasa/modules/cloud.py` & `python_kasa-0.7.0.dev0/kasa/iot/modules/cloud.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,14 +1,13 @@
 """Cloud module implementation."""
-try:
-    from pydantic.v1 import BaseModel
-except ImportError:
-    from pydantic import BaseModel
 
-from .module import Module
+from pydantic.v1 import BaseModel
+
+from ...feature import Feature
+from ..iotmodule import IotModule
 
 
 class CloudInfo(BaseModel):
     """Container for cloud settings."""
 
     binded: bool
     cld_connection: int
@@ -18,17 +17,37 @@
     server: str
     stopConnect: int
     tcspInfo: str
     tcspStatus: int
     username: str
 
 
-class Cloud(Module):
+class Cloud(IotModule):
     """Module implementing support for cloud services."""
 
+    def __init__(self, device, module):
+        super().__init__(device, module)
+        self._add_feature(
+            Feature(
+                device=device,
+                container=self,
+                id="cloud_connection",
+                name="Cloud connection",
+                icon="mdi:cloud",
+                attribute_getter="is_connected",
+                type=Feature.Type.BinarySensor,
+                category=Feature.Category.Info,
+            )
+        )
+
+    @property
+    def is_connected(self) -> bool:
+        """Return true if device is connected to the cloud."""
+        return self.info.binded
+
     def query(self):
         """Request cloud connectivity info."""
         return self.query_for_command("get_info")
 
     @property
     def info(self) -> CloudInfo:
         """Return information about the cloud connectivity."""
```

### Comparing `python_kasa-0.6.2.1/kasa/modules/emeter.py` & `python_kasa-0.7.0.dev0/kasa/iot/modules/usage.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,111 +1,118 @@
-"""Implementation of the emeter module."""
+"""Implementation of the usage interface."""
+
+from __future__ import annotations
+
 from datetime import datetime
-from typing import Dict, List, Optional, Union
 
-from ..emeterstatus import EmeterStatus
-from .usage import Usage
+from ..iotmodule import IotModule, merge
+
+
+class Usage(IotModule):
+    """Baseclass for emeter/usage interfaces."""
 
+    def query(self):
+        """Return the base query."""
+        now = datetime.now()
+        year = now.year
+        month = now.month
 
-class Emeter(Usage):
-    """Emeter module."""
+        req = self.query_for_command("get_realtime")
+        req = merge(
+            req, self.query_for_command("get_daystat", {"year": year, "month": month})
+        )
+        req = merge(req, self.query_for_command("get_monthstat", {"year": year}))
 
-    @property  # type: ignore
-    def realtime(self) -> EmeterStatus:
-        """Return current energy readings."""
-        return EmeterStatus(self.data["get_realtime"])
+        return req
 
     @property
-    def emeter_today(self) -> Optional[float]:
-        """Return today's energy consumption in kWh."""
-        raw_data = self.daily_data
-        today = datetime.now().day
-        data = self._convert_stat_data(raw_data, entry_key="day", key=today)
-        return data.get(today)
+    def estimated_query_response_size(self):
+        """Estimated maximum query response size."""
+        return 2048
 
     @property
-    def emeter_this_month(self) -> Optional[float]:
-        """Return this month's energy consumption in kWh."""
-        raw_data = self.monthly_data
-        current_month = datetime.now().month
-        data = self._convert_stat_data(raw_data, entry_key="month", key=current_month)
-        return data.get(current_month)
+    def daily_data(self):
+        """Return statistics on daily basis."""
+        return self.data["get_daystat"]["day_list"]
 
-    async def erase_stats(self):
-        """Erase all stats.
+    @property
+    def monthly_data(self):
+        """Return statistics on monthly basis."""
+        return self.data["get_monthstat"]["month_list"]
 
-        Uses different query than usage meter.
-        """
-        return await self.call("erase_emeter_stat")
+    @property
+    def usage_today(self):
+        """Return today's usage in minutes."""
+        today = datetime.now().day
+        # Traverse the list in reverse order to find the latest entry.
+        for entry in reversed(self.daily_data):
+            if entry["day"] == today:
+                return entry["time"]
+        return None
+
+    @property
+    def usage_this_month(self):
+        """Return usage in this month in minutes."""
+        this_month = datetime.now().month
+        # Traverse the list in reverse order to find the latest entry.
+        for entry in reversed(self.monthly_data):
+            if entry["month"] == this_month:
+                return entry["time"]
+        return None
+
+    async def get_raw_daystat(self, *, year=None, month=None) -> dict:
+        """Return raw daily stats for the given year & month."""
+        if year is None:
+            year = datetime.now().year
+        if month is None:
+            month = datetime.now().month
+
+        return await self.call("get_daystat", {"year": year, "month": month})
+
+    async def get_raw_monthstat(self, *, year=None) -> dict:
+        """Return raw monthly stats for the given year."""
+        if year is None:
+            year = datetime.now().year
 
-    async def get_realtime(self):
-        """Return real-time statistics."""
-        return await self.call("get_realtime")
+        return await self.call("get_monthstat", {"year": year})
 
-    async def get_daystat(self, *, year=None, month=None, kwh=True) -> Dict:
+    async def get_daystat(self, *, year=None, month=None) -> dict:
         """Return daily stats for the given year & month.
 
-        The return value is a dictionary of {day: energy, ...}.
+        The return value is a dictionary of {day: time, ...}.
         """
         data = await self.get_raw_daystat(year=year, month=month)
-        data = self._convert_stat_data(data["day_list"], entry_key="day", kwh=kwh)
+        data = self._convert_stat_data(data["day_list"], entry_key="day")
         return data
 
-    async def get_monthstat(self, *, year=None, kwh=True) -> Dict:
+    async def get_monthstat(self, *, year=None) -> dict:
         """Return monthly stats for the given year.
 
-        The return value is a dictionary of {month: energy, ...}.
+        The return value is a dictionary of {month: time, ...}.
         """
         data = await self.get_raw_monthstat(year=year)
-        data = self._convert_stat_data(data["month_list"], entry_key="month", kwh=kwh)
+        data = self._convert_stat_data(data["month_list"], entry_key="month")
         return data
 
-    def _convert_stat_data(
-        self,
-        data: List[Dict[str, Union[int, float]]],
-        entry_key: str,
-        kwh: bool = True,
-        key: Optional[int] = None,
-    ) -> Dict[Union[int, float], Union[int, float]]:
-        """Return emeter information keyed with the day/month.
+    async def erase_stats(self):
+        """Erase all stats."""
+        return await self.call("erase_runtime_stat")
+
+    def _convert_stat_data(self, data, entry_key) -> dict:
+        """Return usage information keyed with the day/month.
 
         The incoming data is a list of dictionaries::
 
-            [{'year':      int,
-              'month':     int,
-              'day':       int,     <-- for get_daystat not get_monthstat
-              'energy_wh': int,     <-- for emeter in some versions (wh)
-              'energy':    float    <-- for emeter in other versions (kwh)
-            }, ...]
+               [{'year':      int,
+                 'month':     int,
+                 'day':       int,     <-- for get_daystat not get_monthstat
+                 'time':      int,     <-- for usage (mins)
+               }, ...]
 
-        :return: a dictionary keyed by day or month with energy as the value.
+        :return: return a dictionary keyed by day or month with time as the value.
         """
         if not data:
             return {}
 
-        scale: float = 1
+        data = {entry[entry_key]: entry["time"] for entry in data}
 
-        if "energy_wh" in data[0]:
-            value_key = "energy_wh"
-            if kwh:
-                scale = 1 / 1000
-        else:
-            value_key = "energy"
-            if not kwh:
-                scale = 1000
-
-        if key is None:
-            # Return all the data
-            return {entry[entry_key]: entry[value_key] * scale for entry in data}
-
-        # In this case we want a specific key in the data
-        # i.e. the current day or month.
-        #
-        # Since we usually want the data at the end of the list so we can
-        # optimize the search by starting at the end and avoid scaling
-        # the data we don't need.
-        #
-        for entry in reversed(data):
-            if entry[entry_key] == key:
-                return {entry[entry_key]: entry[value_key] * scale}
-
-        return {}
+        return data
```

### Comparing `python_kasa-0.6.2.1/kasa/modules/module.py` & `python_kasa-0.7.0.dev0/kasa/iot/iotmodule.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,87 +1,67 @@
-"""Base class for all module implementations."""
+"""Base class for IOT module implementations."""
+
 import collections
 import logging
-from abc import ABC, abstractmethod
-from typing import TYPE_CHECKING
-
-from ..exceptions import SmartDeviceException
-
-if TYPE_CHECKING:
-    from kasa import SmartDevice
 
+from ..exceptions import KasaException
+from ..module import Module
 
 _LOGGER = logging.getLogger(__name__)
 
 
-# TODO: This is used for query construcing
+# TODO: This is used for query constructing, check for a better place
 def merge(d, u):
     """Update dict recursively."""
     for k, v in u.items():
         if isinstance(v, collections.abc.Mapping):
             d[k] = merge(d.get(k, {}), v)
         else:
             d[k] = v
     return d
 
 
-class Module(ABC):
-    """Base class implemention for all modules.
+class IotModule(Module):
+    """Base class implemention for all IOT modules."""
 
-    The base classes should implement `query` to return the query they want to be
-    executed during the regular update cycle.
-    """
-
-    def __init__(self, device: "SmartDevice", module: str):
-        self._device: "SmartDevice" = device
-        self._module = module
-
-    @abstractmethod
-    def query(self):
-        """Query to execute during the update cycle.
+    def call(self, method, params=None):
+        """Call the given method with the given parameters."""
+        return self._device._query_helper(self._module, method, params)
 
-        The inheriting modules implement this to include their wanted
-        queries to the query that gets executed when Device.update() gets called.
-        """
+    def query_for_command(self, query, params=None):
+        """Create a request object for the given parameters."""
+        return self._device._create_request(self._module, query, params)
 
     @property
     def estimated_query_response_size(self):
         """Estimated maximum size of query response.
 
         The inheriting modules implement this to estimate how large a query response
         will be so that queries can be split should an estimated response be too large
         """
         return 256  # Estimate for modules that don't specify
 
     @property
     def data(self):
         """Return the module specific raw data from the last update."""
-        if self._module not in self._device._last_update:
-            raise SmartDeviceException(
+        dev = self._device
+        q = self.query()
+
+        if not q:
+            return dev.sys_info
+
+        if self._module not in dev._last_update:
+            raise KasaException(
                 f"You need to call update() prior accessing module data"
                 f" for '{self._module}'"
             )
 
-        return self._device._last_update[self._module]
+        return dev._last_update[self._module]
 
     @property
     def is_supported(self) -> bool:
         """Return whether the module is supported by the device."""
         if self._module not in self._device._last_update:
             _LOGGER.debug("Initial update, so consider supported: %s", self._module)
             return True
 
         return "err_code" not in self.data
-
-    def call(self, method, params=None):
-        """Call the given method with the given parameters."""
-        return self._device._query_helper(self._module, method, params)
-
-    def query_for_command(self, query, params=None):
-        """Create a request object for the given parameters."""
-        return self._device._create_request(self._module, query, params)
-
-    def __repr__(self) -> str:
-        return (
-            f"<Module {self.__class__.__name__} ({self._module})"
-            f" for {self._device.host}>"
-        )
```

### Comparing `python_kasa-0.6.2.1/kasa/modules/motion.py` & `python_kasa-0.7.0.dev0/kasa/iot/modules/motion.py`

 * *Files 11% similar despite different names*

```diff
@@ -1,13 +1,15 @@
 """Implementation of the motion detection (PIR) module found in some dimmers."""
+
+from __future__ import annotations
+
 from enum import Enum
-from typing import Optional
 
-from ..exceptions import SmartDeviceException
-from .module import Module
+from ...exceptions import KasaException
+from ..iotmodule import IotModule
 
 
 class Range(Enum):
     """Range for motion detection."""
 
     Far = 0
     Mid = 1
@@ -16,15 +18,15 @@
 
 
 # TODO: use the config reply in tests
 # {"enable":0,"version":"1.0","trigger_index":2,"cold_time":60000,
 # "min_adc":0,"max_adc":4095,"array":[80,50,20,0],"err_code":0}}}
 
 
-class Motion(Module):
+class Motion(IotModule):
     """Implements the motion detection (PIR) module."""
 
     def query(self):
         """Request PIR configuration."""
         return self.query_for_command("get_config")
 
     @property
@@ -38,29 +40,27 @@
         return bool(self.data["enable"])
 
     async def set_enabled(self, state: bool):
         """Enable/disable PIR."""
         return await self.call("set_enable", {"enable": int(state)})
 
     async def set_range(
-        self, *, range: Optional[Range] = None, custom_range: Optional[int] = None
+        self, *, range: Range | None = None, custom_range: int | None = None
     ):
         """Set the range for the sensor.
 
         :param range: for using standard ranges
         :param custom_range: range in decimeters, overrides the range parameter
         """
         if custom_range is not None:
             payload = {"index": Range.Custom.value, "value": custom_range}
         elif range is not None:
             payload = {"index": range.value}
         else:
-            raise SmartDeviceException(
-                "Either range or custom_range need to be defined"
-            )
+            raise KasaException("Either range or custom_range need to be defined")
 
         return await self.call("set_trigger_sens", payload)
 
     @property
     def inactivity_timeout(self) -> int:
         """Return inactivity timeout in milliseconds."""
         return self.data["cold_time"]
```

### Comparing `python_kasa-0.6.2.1/kasa/modules/rulemodule.py` & `python_kasa-0.7.0.dev0/kasa/iot/modules/rulemodule.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,19 +1,18 @@
 """Base implementation for all rule-based modules."""
+
+from __future__ import annotations
+
 import logging
 from enum import Enum
 from typing import Dict, List, Optional
 
-try:
-    from pydantic.v1 import BaseModel
-except ImportError:
-    from pydantic import BaseModel
-
+from pydantic.v1 import BaseModel
 
-from .module import Module, merge
+from ..iotmodule import IotModule, merge
 
 
 class Action(Enum):
     """Action to perform."""
 
     Disabled = -1
     TurnOff = 0
@@ -32,43 +31,43 @@
 
 class Rule(BaseModel):
     """Representation of a rule."""
 
     id: str
     name: str
     enable: bool
-    wday: List[int]
+    wday: List[int]  # noqa: UP006
     repeat: bool
 
     # start action
-    sact: Optional[Action]
+    sact: Optional[Action]  # noqa: UP007
     stime_opt: TimeOption
     smin: int
 
-    eact: Optional[Action]
+    eact: Optional[Action]  # noqa: UP007
     etime_opt: TimeOption
     emin: int
 
     # Only on bulbs
-    s_light: Optional[Dict]
+    s_light: Optional[Dict]  # noqa: UP006,UP007
 
 
 _LOGGER = logging.getLogger(__name__)
 
 
-class RuleModule(Module):
+class RuleModule(IotModule):
     """Base class for rule-based modules, such as countdown and antitheft."""
 
     def query(self):
         """Prepare the query for rules."""
         q = self.query_for_command("get_rules")
         return merge(q, self.query_for_command("get_next_action"))
 
     @property
-    def rules(self) -> List[Rule]:
+    def rules(self) -> list[Rule]:
         """Return the list of rules for the service."""
         try:
             return [
                 Rule.parse_obj(rule) for rule in self.data["get_rules"]["rule_list"]
             ]
         except Exception as ex:
             _LOGGER.error("Unable to read rule list: %s (data: %s)", ex, self.data)
```

### Comparing `python_kasa-0.6.2.1/kasa/modules/time.py` & `python_kasa-0.7.0.dev0/kasa/iot/modules/time.py`

 * *Files 12% similar despite different names*

```diff
@@ -1,15 +1,16 @@
 """Provides the current time and timezone information."""
+
 from datetime import datetime
 
-from ..exceptions import SmartDeviceException
-from .module import Module, merge
+from ...exceptions import KasaException
+from ..iotmodule import IotModule, merge
 
 
-class Time(Module):
+class Time(IotModule):
     """Implements the timezone settings."""
 
     def query(self):
         """Request time and timezone."""
         q = self.query_for_command("get_time")
 
         merge(q, self.query_for_command("get_timezone"))
@@ -42,13 +43,13 @@
                 res["year"],
                 res["month"],
                 res["mday"],
                 res["hour"],
                 res["min"],
                 res["sec"],
             )
-        except SmartDeviceException:
+        except KasaException:
             return None
 
     async def get_timezone(self):
         """Request timezone information from the device."""
         return await self.call("get_timezone")
```

### Comparing `python_kasa-0.6.2.1/kasa/protocol.py` & `python_kasa-0.7.0.dev0/kasa/protocol.py`

 * *Files 3% similar despite different names*

```diff
@@ -5,21 +5,23 @@
 
 https://www.softscheck.com/en/reverse-engineering-tp-link-hs110/
 https://github.com/softScheck/tplink-smartplug/
 
 which are licensed under the Apache License, Version 2.0
 http://www.apache.org/licenses/LICENSE-2.0
 """
+
+from __future__ import annotations
+
 import base64
 import errno
 import hashlib
 import logging
 import struct
 from abc import ABC, abstractmethod
-from typing import Dict, Tuple, Union
 
 # When support for cpython older than 3.11 is dropped
 # async_timeout can be replaced with asyncio.timeout
 from .credentials import Credentials
 from .deviceconfig import DeviceConfig
 
 _LOGGER = logging.getLogger(__name__)
@@ -57,15 +59,15 @@
 
     @property
     @abstractmethod
     def credentials_hash(self) -> str:
         """The hashed credentials used by the transport."""
 
     @abstractmethod
-    async def send(self, request: str) -> Dict:
+    async def send(self, request: str) -> dict:
         """Send a message to the device and return a response."""
 
     @abstractmethod
     async def close(self) -> None:
         """Close the transport.  Abstract method to be overriden."""
 
     @abstractmethod
@@ -90,23 +92,23 @@
 
     @property
     def config(self) -> DeviceConfig:
         """Return the connection parameters the device is using."""
         return self._transport._config
 
     @abstractmethod
-    async def query(self, request: Union[str, Dict], retry_count: int = 3) -> Dict:
+    async def query(self, request: str | dict, retry_count: int = 3) -> dict:
         """Query the device for the protocol.  Abstract method to be overriden."""
 
     @abstractmethod
     async def close(self) -> None:
         """Close the protocol.  Abstract method to be overriden."""
 
 
-def get_default_credentials(tuple: Tuple[str, str]) -> Credentials:
+def get_default_credentials(tuple: tuple[str, str]) -> Credentials:
     """Return decoded default credentials."""
     un = base64.b64decode(tuple[0].encode()).decode()
     pw = base64.b64decode(tuple[1].encode()).decode()
     return Credentials(un, pw)
 
 
 DEFAULT_CREDENTIALS = {
```

### Comparing `python_kasa-0.6.2.1/kasa/smartbulb.py` & `python_kasa-0.7.0.dev0/kasa/iot/iotbulb.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,54 +1,35 @@
 """Module for bulbs (LB*, KL*, KB*)."""
+
+from __future__ import annotations
+
 import logging
 import re
 from enum import Enum
-from typing import Any, Dict, List, NamedTuple, Optional, cast
-
-try:
-    from pydantic.v1 import BaseModel, Field, root_validator
-except ImportError:
-    from pydantic import BaseModel, Field, root_validator
-
-from .deviceconfig import DeviceConfig
-from .modules import Antitheft, Cloud, Countdown, Emeter, Schedule, Time, Usage
-from .protocol import BaseProtocol
-from .smartdevice import DeviceType, SmartDevice, SmartDeviceException, requires_update
-
-
-class ColorTempRange(NamedTuple):
-    """Color temperature range."""
-
-    min: int
-    max: int
-
-
-class HSV(NamedTuple):
-    """Hue-saturation-value."""
-
-    hue: int
-    saturation: int
-    value: int
+from typing import Optional, cast
 
+from pydantic.v1 import BaseModel, Field, root_validator
 
-class SmartBulbPreset(BaseModel):
-    """Bulb configuration preset."""
-
-    index: int
-    brightness: int
-
-    # These are not available for effect mode presets on light strips
-    hue: Optional[int]
-    saturation: Optional[int]
-    color_temp: Optional[int]
-
-    # Variables for effect mode presets
-    custom: Optional[int]
-    id: Optional[str]
-    mode: Optional[int]
+from ..device_type import DeviceType
+from ..deviceconfig import DeviceConfig
+from ..interfaces.light import HSV, ColorTempRange
+from ..module import Module
+from ..protocol import BaseProtocol
+from .iotdevice import IotDevice, KasaException, requires_update
+from .modules import (
+    Antitheft,
+    Cloud,
+    Countdown,
+    Emeter,
+    Light,
+    LightPreset,
+    Schedule,
+    Time,
+    Usage,
+)
 
 
 class BehaviorMode(str, Enum):
     """Enum to present type of turn on behavior."""
 
     #: Return to the last state known state.
     Last = "last_status"
@@ -64,15 +45,15 @@
      If you are changing existing settings, you should not set this manually.
 
     To change the behavior, it is only necessary to change the :attr:`preset` field
     to contain either the preset index, or ``None`` for the last known state.
     """
 
     #: Index of preset to use, or ``None`` for the last known state.
-    preset: Optional[int] = Field(alias="index", default=None)
+    preset: Optional[int] = Field(alias="index", default=None)  # noqa: UP007
     #: Wanted behavior
     mode: BehaviorMode
 
     @root_validator
     def _mode_based_on_preset(cls, values):
         """Set the mode based on the preset value."""
         if values["preset"] is not None:
@@ -112,31 +93,31 @@
 
 
 NON_COLOR_MODE_FLAGS = {"transition_period", "on_off"}
 
 _LOGGER = logging.getLogger(__name__)
 
 
-class SmartBulb(SmartDevice):
+class IotBulb(IotDevice):
     r"""Representation of a TP-Link Smart Bulb.
 
     To initialize, you have to await :func:`update()` at least once.
     This will allow accessing the properties using the exposed properties.
 
     All changes to the device are done using awaitable methods,
     which will not change the cached values,
     so you must await :func:`update()` to fetch updates values from the device.
 
     Errors reported by the device are raised as
-    :class:`SmartDeviceExceptions <kasa.exceptions.SmartDeviceException>`,
+    :class:`KasaException <kasa.exceptions.KasaException>`,
     and should be handled by the user of the library.
 
     Examples:
         >>> import asyncio
-        >>> bulb = SmartBulb("127.0.0.1")
+        >>> bulb = IotBulb("127.0.0.1")
         >>> asyncio.run(bulb.update())
         >>> print(bulb.alias)
         Bulb2
 
         Bulbs, like any other supported devices, can be turned on and off:
 
         >>> asyncio.run(bulb.turn_off())
@@ -194,115 +175,126 @@
         The following changes the brightness over a period of 10 seconds:
 
         >>> asyncio.run(bulb.set_brightness(100, transition=10_000))
 
         Bulb configuration presets can be accessed using the :func:`presets` property:
 
         >>> bulb.presets
-        [SmartBulbPreset(index=0, brightness=50, hue=0, saturation=0, color_temp=2700, custom=None, id=None, mode=None), SmartBulbPreset(index=1, brightness=100, hue=0, saturation=75, color_temp=0, custom=None, id=None, mode=None), SmartBulbPreset(index=2, brightness=100, hue=120, saturation=75, color_temp=0, custom=None, id=None, mode=None), SmartBulbPreset(index=3, brightness=100, hue=240, saturation=75, color_temp=0, custom=None, id=None, mode=None)]
+        [IotLightPreset(index=0, brightness=50, hue=0, saturation=0, color_temp=2700, custom=None, id=None, mode=None), IotLightPreset(index=1, brightness=100, hue=0, saturation=75, color_temp=0, custom=None, id=None, mode=None), IotLightPreset(index=2, brightness=100, hue=120, saturation=75, color_temp=0, custom=None, id=None, mode=None), IotLightPreset(index=3, brightness=100, hue=240, saturation=75, color_temp=0, custom=None, id=None, mode=None)]
 
-        To modify an existing preset, pass :class:`~kasa.smartbulb.SmartBulbPreset`
+        To modify an existing preset, pass :class:`~kasa.interfaces.light.LightPreset`
         instance to :func:`save_preset` method:
 
         >>> preset = bulb.presets[0]
         >>> preset.brightness
         50
         >>> preset.brightness = 100
         >>> asyncio.run(bulb.save_preset(preset))
+        >>> asyncio.run(bulb.update())
         >>> bulb.presets[0].brightness
         100
 
     """  # noqa: E501
 
     LIGHT_SERVICE = "smartlife.iot.smartbulb.lightingservice"
     SET_LIGHT_METHOD = "transition_light_state"
     emeter_type = "smartlife.iot.common.emeter"
 
     def __init__(
         self,
         host: str,
         *,
-        config: Optional[DeviceConfig] = None,
-        protocol: Optional[BaseProtocol] = None,
+        config: DeviceConfig | None = None,
+        protocol: BaseProtocol | None = None,
     ) -> None:
         super().__init__(host=host, config=config, protocol=protocol)
         self._device_type = DeviceType.Bulb
-        self.add_module("schedule", Schedule(self, "smartlife.iot.common.schedule"))
-        self.add_module("usage", Usage(self, "smartlife.iot.common.schedule"))
-        self.add_module("antitheft", Antitheft(self, "smartlife.iot.common.anti_theft"))
-        self.add_module("time", Time(self, "smartlife.iot.common.timesetting"))
-        self.add_module("emeter", Emeter(self, self.emeter_type))
-        self.add_module("countdown", Countdown(self, "countdown"))
-        self.add_module("cloud", Cloud(self, "smartlife.iot.common.cloud"))
+
+    async def _initialize_modules(self):
+        """Initialize modules not added in init."""
+        await super()._initialize_modules()
+        self.add_module(
+            Module.IotSchedule, Schedule(self, "smartlife.iot.common.schedule")
+        )
+        self.add_module(Module.IotUsage, Usage(self, "smartlife.iot.common.schedule"))
+        self.add_module(
+            Module.IotAntitheft, Antitheft(self, "smartlife.iot.common.anti_theft")
+        )
+        self.add_module(Module.IotTime, Time(self, "smartlife.iot.common.timesetting"))
+        self.add_module(Module.IotEmeter, Emeter(self, self.emeter_type))
+        self.add_module(Module.IotCountdown, Countdown(self, "countdown"))
+        self.add_module(Module.IotCloud, Cloud(self, "smartlife.iot.common.cloud"))
+        self.add_module(Module.Light, Light(self, self.LIGHT_SERVICE))
+        self.add_module(Module.LightPreset, LightPreset(self, self.LIGHT_SERVICE))
 
     @property  # type: ignore
     @requires_update
-    def is_color(self) -> bool:
+    def _is_color(self) -> bool:
         """Whether the bulb supports color changes."""
         sys_info = self.sys_info
         return bool(sys_info["is_color"])
 
     @property  # type: ignore
     @requires_update
-    def is_dimmable(self) -> bool:
+    def _is_dimmable(self) -> bool:
         """Whether the bulb supports brightness changes."""
         sys_info = self.sys_info
         return bool(sys_info["is_dimmable"])
 
     @property  # type: ignore
     @requires_update
-    def is_variable_color_temp(self) -> bool:
+    def _is_variable_color_temp(self) -> bool:
         """Whether the bulb supports color temperature changes."""
         sys_info = self.sys_info
         return bool(sys_info["is_variable_color_temp"])
 
     @property  # type: ignore
     @requires_update
-    def valid_temperature_range(self) -> ColorTempRange:
+    def _valid_temperature_range(self) -> ColorTempRange:
         """Return the device-specific white temperature range (in Kelvin).
 
         :return: White temperature range in Kelvin (minimum, maximum)
         """
-        if not self.is_variable_color_temp:
-            raise SmartDeviceException("Color temperature not supported")
+        if not self._is_variable_color_temp:
+            raise KasaException("Color temperature not supported")
 
         for model, temp_range in TPLINK_KELVIN.items():
             sys_info = self.sys_info
             if re.match(model, sys_info["model"]):
                 return temp_range
 
         _LOGGER.warning("Unknown color temperature range, fallback to 2700-5000")
         return ColorTempRange(2700, 5000)
 
     @property  # type: ignore
     @requires_update
-    def light_state(self) -> Dict[str, str]:
+    def light_state(self) -> dict[str, str]:
         """Query the light state."""
         light_state = self.sys_info["light_state"]
         if light_state is None:
-            raise SmartDeviceException(
+            raise KasaException(
                 "The device has no light_state or you have not called update()"
             )
 
         # if the bulb is off, its state is stored under a different key
         # as is_on property depends on on_off itself, we check it here manually
         is_on = light_state["on_off"]
         if not is_on:
             off_state = {**light_state["dft_on_state"], "on_off": is_on}
             return cast(dict, off_state)
 
         return light_state
 
     @property  # type: ignore
     @requires_update
-    def has_effects(self) -> bool:
+    def _has_effects(self) -> bool:
         """Return True if the device supports effects."""
         return "lighting_effect_state" in self.sys_info
 
-    async def get_light_details(self) -> Dict[str, int]:
+    async def get_light_details(self) -> dict[str, int]:
         """Return light details.
 
         Example::
 
             {'lamp_beam_angle': 290, 'min_voltage': 220, 'max_voltage': 240,
              'wattage': 5, 'incandescent_equivalent': 40, 'max_lumens': 450,
               'color_rendering_index': 80}
@@ -321,22 +313,22 @@
         If you do not want to manually construct the behavior object,
         you should use :func:`get_turn_on_behavior` to get the current settings.
         """
         return await self._query_helper(
             self.LIGHT_SERVICE, "set_default_behavior", behavior.dict(by_alias=True)
         )
 
-    async def get_light_state(self) -> Dict[str, Dict]:
+    async def get_light_state(self) -> dict[str, dict]:
         """Query the light state."""
         # TODO: add warning and refer to use light.state?
         return await self._query_helper(self.LIGHT_SERVICE, "get_light_state")
 
-    async def set_light_state(
-        self, state: Dict, *, transition: Optional[int] = None
-    ) -> Dict:
+    async def _set_light_state(
+        self, state: dict, *, transition: int | None = None
+    ) -> dict:
         """Set the light state."""
         if transition is not None:
             state["transition_period"] = transition
 
         # if no on/off is defined, turn on the light
         if "on_off" not in state:
             state["on_off"] = 1
@@ -353,52 +345,48 @@
         light_state = await self._query_helper(
             self.LIGHT_SERVICE, self.SET_LIGHT_METHOD, state
         )
         return light_state
 
     @property  # type: ignore
     @requires_update
-    def hsv(self) -> HSV:
+    def _hsv(self) -> HSV:
         """Return the current HSV state of the bulb.
 
         :return: hue, saturation and value (degrees, %, %)
         """
-        if not self.is_color:
-            raise SmartDeviceException("Bulb does not support color.")
+        if not self._is_color:
+            raise KasaException("Bulb does not support color.")
 
         light_state = cast(dict, self.light_state)
 
         hue = light_state["hue"]
         saturation = light_state["saturation"]
         value = light_state["brightness"]
 
         return HSV(hue, saturation, value)
 
-    def _raise_for_invalid_brightness(self, value):
-        if not isinstance(value, int) or not (0 <= value <= 100):
-            raise ValueError(f"Invalid brightness value: {value} (valid range: 0-100%)")
-
     @requires_update
-    async def set_hsv(
+    async def _set_hsv(
         self,
         hue: int,
         saturation: int,
-        value: Optional[int] = None,
+        value: int | None = None,
         *,
-        transition: Optional[int] = None,
-    ) -> Dict:
+        transition: int | None = None,
+    ) -> dict:
         """Set new HSV.
 
         :param int hue: hue in degrees
         :param int saturation: saturation in percentage [0,100]
         :param int value: value in percentage [0, 100]
         :param int transition: transition in milliseconds.
         """
-        if not self.is_color:
-            raise SmartDeviceException("Bulb does not support color.")
+        if not self._is_color:
+            raise KasaException("Bulb does not support color.")
 
         if not isinstance(hue, int) or not (0 <= hue <= 360):
             raise ValueError(f"Invalid hue value: {hue} (valid range: 0-360)")
 
         if not isinstance(saturation, int) or not (0 <= saturation <= 100):
             raise ValueError(
                 f"Invalid saturation value: {saturation} (valid range: 0-100%)"
@@ -410,116 +398,103 @@
             "color_temp": 0,
         }
 
         if value is not None:
             self._raise_for_invalid_brightness(value)
             light_state["brightness"] = value
 
-        return await self.set_light_state(light_state, transition=transition)
+        return await self._set_light_state(light_state, transition=transition)
 
     @property  # type: ignore
     @requires_update
-    def color_temp(self) -> int:
+    def _color_temp(self) -> int:
         """Return color temperature of the device in kelvin."""
-        if not self.is_variable_color_temp:
-            raise SmartDeviceException("Bulb does not support colortemp.")
+        if not self._is_variable_color_temp:
+            raise KasaException("Bulb does not support colortemp.")
 
         light_state = self.light_state
         return int(light_state["color_temp"])
 
     @requires_update
-    async def set_color_temp(
-        self, temp: int, *, brightness=None, transition: Optional[int] = None
-    ) -> Dict:
+    async def _set_color_temp(
+        self, temp: int, *, brightness=None, transition: int | None = None
+    ) -> dict:
         """Set the color temperature of the device in kelvin.
 
         :param int temp: The new color temperature, in Kelvin
         :param int transition: transition in milliseconds.
         """
-        if not self.is_variable_color_temp:
-            raise SmartDeviceException("Bulb does not support colortemp.")
+        if not self._is_variable_color_temp:
+            raise KasaException("Bulb does not support colortemp.")
 
         valid_temperature_range = self.valid_temperature_range
         if temp < valid_temperature_range[0] or temp > valid_temperature_range[1]:
             raise ValueError(
                 "Temperature should be between {} and {}, was {}".format(
                     *valid_temperature_range, temp
                 )
             )
 
         light_state = {"color_temp": temp}
         if brightness is not None:
             light_state["brightness"] = brightness
 
-        return await self.set_light_state(light_state, transition=transition)
+        return await self._set_light_state(light_state, transition=transition)
+
+    def _raise_for_invalid_brightness(self, value):
+        if not isinstance(value, int) or not (0 <= value <= 100):
+            raise ValueError(f"Invalid brightness value: {value} (valid range: 0-100%)")
 
     @property  # type: ignore
     @requires_update
-    def brightness(self) -> int:
+    def _brightness(self) -> int:
         """Return the current brightness in percentage."""
-        if not self.is_dimmable:  # pragma: no cover
-            raise SmartDeviceException("Bulb is not dimmable.")
+        if not self._is_dimmable:  # pragma: no cover
+            raise KasaException("Bulb is not dimmable.")
 
         light_state = self.light_state
         return int(light_state["brightness"])
 
     @requires_update
-    async def set_brightness(
-        self, brightness: int, *, transition: Optional[int] = None
-    ) -> Dict:
+    async def _set_brightness(
+        self, brightness: int, *, transition: int | None = None
+    ) -> dict:
         """Set the brightness in percentage.
 
         :param int brightness: brightness in percent
         :param int transition: transition in milliseconds.
         """
-        if not self.is_dimmable:  # pragma: no cover
-            raise SmartDeviceException("Bulb is not dimmable.")
+        if not self._is_dimmable:  # pragma: no cover
+            raise KasaException("Bulb is not dimmable.")
 
         self._raise_for_invalid_brightness(brightness)
 
         light_state = {"brightness": brightness}
-        return await self.set_light_state(light_state, transition=transition)
-
-    @property  # type: ignore
-    @requires_update
-    def state_information(self) -> Dict[str, Any]:
-        """Return bulb-specific state information."""
-        info: Dict[str, Any] = {
-            "Brightness": self.brightness,
-            "Is dimmable": self.is_dimmable,
-        }
-        if self.is_variable_color_temp:
-            info["Color temperature"] = self.color_temp
-            info["Valid temperature range"] = self.valid_temperature_range
-        if self.is_color:
-            info["HSV"] = self.hsv
-        info["Presets"] = self.presets
-
-        return info
+        return await self._set_light_state(light_state, transition=transition)
 
     @property  # type: ignore
     @requires_update
     def is_on(self) -> bool:
         """Return whether the device is on."""
         light_state = self.light_state
         return bool(light_state["on_off"])
 
-    async def turn_off(self, *, transition: Optional[int] = None, **kwargs) -> Dict:
+    async def turn_off(self, *, transition: int | None = None, **kwargs) -> dict:
         """Turn the bulb off.
 
         :param int transition: transition in milliseconds.
         """
-        return await self.set_light_state({"on_off": 0}, transition=transition)
+        return await self._set_light_state({"on_off": 0}, transition=transition)
 
-    async def turn_on(self, *, transition: Optional[int] = None, **kwargs) -> Dict:
+    async def turn_on(self, *, transition: int | None = None, **kwargs) -> dict:
         """Turn the bulb on.
 
         :param int transition: transition in milliseconds.
         """
-        return await self.set_light_state({"on_off": 1}, transition=transition)
+        return await self._set_light_state({"on_off": 1}, transition=transition)
 
     @property  # type: ignore
     @requires_update
     def has_emeter(self) -> bool:
         """Return that the bulb has an emeter."""
         return True
 
@@ -528,33 +503,11 @@
 
         Overridden to use a different module name.
         """
         return await self._query_helper(
             "smartlife.iot.common.system", "set_dev_alias", {"alias": alias}
         )
 
-    @property  # type: ignore
-    @requires_update
-    def presets(self) -> List[SmartBulbPreset]:
-        """Return a list of available bulb setting presets."""
-        return [SmartBulbPreset(**vals) for vals in self.sys_info["preferred_state"]]
-
-    async def save_preset(self, preset: SmartBulbPreset):
-        """Save a setting preset.
-
-        You can either construct a preset object manually, or pass an existing one
-        obtained using :func:`presets`.
-        """
-        if len(self.presets) == 0:
-            raise SmartDeviceException("Device does not supported saving presets")
-
-        if preset.index >= len(self.presets):
-            raise SmartDeviceException("Invalid preset index")
-
-        return await self._query_helper(
-            self.LIGHT_SERVICE, "set_preferred_state", preset.dict(exclude_none=True)
-        )
-
     @property
     def max_device_response_size(self) -> int:
         """Returns the maximum response size the device can safely construct."""
         return 4096
```

### Comparing `python_kasa-0.6.2.1/kasa/smartdevice.py` & `python_kasa-0.7.0.dev0/kasa/iot/iotdevice.py`

 * *Files 22% similar despite different names*

```diff
@@ -7,51 +7,38 @@
 This library reuses codes and concepts of the TP-Link WiFi SmartPlug Client
 at https://github.com/softScheck/tplink-smartplug, developed by Lubomir
 Stroetmann which is licensed under the Apache License, Version 2.0.
 
 You may obtain a copy of the license at
 http://www.apache.org/licenses/LICENSE-2.0
 """
+
+from __future__ import annotations
+
 import collections.abc
 import functools
 import inspect
 import logging
-from dataclasses import dataclass
 from datetime import datetime, timedelta
-from typing import Any, Dict, List, Optional, Set
+from typing import TYPE_CHECKING, Any, Mapping, Sequence, cast
 
-from .credentials import Credentials
-from .device_type import DeviceType
-from .deviceconfig import DeviceConfig
-from .emeterstatus import EmeterStatus
-from .exceptions import SmartDeviceException
-from .iotprotocol import IotProtocol
-from .modules import Emeter, Module
-from .protocol import BaseProtocol
-from .xortransport import XorTransport
+from ..device import Device, WifiNetwork
+from ..deviceconfig import DeviceConfig
+from ..emeterstatus import EmeterStatus
+from ..exceptions import KasaException
+from ..feature import Feature
+from ..module import Module
+from ..modulemapping import ModuleMapping, ModuleName
+from ..protocol import BaseProtocol
+from .iotmodule import IotModule
+from .modules import Emeter
 
 _LOGGER = logging.getLogger(__name__)
 
 
-@dataclass
-class WifiNetwork:
-    """Wifi network container."""
-
-    ssid: str
-    key_type: int
-    # These are available only on softaponboarding
-    cipher_type: Optional[int] = None
-    bssid: Optional[str] = None
-    channel: Optional[int] = None
-    rssi: Optional[int] = None
-
-    # For SMART devices
-    signal_level: Optional[int] = None
-
-
 def merge(d, u):
     """Update dict recursively."""
     for k, v in u.items():
         if isinstance(v, collections.abc.Mapping):
             d[k] = merge(d.get(k, {}), v)
         else:
             d[k] = v
@@ -62,64 +49,61 @@
     """Indicate that `update` should be called before accessing this method."""  # noqa: D202
     if inspect.iscoroutinefunction(f):
 
         @functools.wraps(f)
         async def wrapped(*args, **kwargs):
             self = args[0]
             if self._last_update is None and f.__name__ not in self._sys_info:
-                raise SmartDeviceException(
-                    "You need to await update() to access the data"
-                )
+                raise KasaException("You need to await update() to access the data")
             return await f(*args, **kwargs)
 
     else:
 
         @functools.wraps(f)
         def wrapped(*args, **kwargs):
             self = args[0]
             if self._last_update is None and f.__name__ not in self._sys_info:
-                raise SmartDeviceException(
-                    "You need to await update() to access the data"
-                )
+                raise KasaException("You need to await update() to access the data")
             return f(*args, **kwargs)
 
     f.requires_update = True
     return wrapped
 
 
 @functools.lru_cache
-def _parse_features(features: str) -> Set[str]:
+def _parse_features(features: str) -> set[str]:
     """Parse features string."""
     return set(features.split(":"))
 
 
-class SmartDevice:
+class IotDevice(Device):
     """Base class for all supported device types.
 
     You don't usually want to initialize this class manually,
     but either use :class:`Discover` class, or use one of the subclasses:
 
-    * :class:`SmartPlug`
-    * :class:`SmartBulb`
-    * :class:`SmartStrip`
-    * :class:`SmartDimmer`
-    * :class:`SmartLightStrip`
+    * :class:`IotPlug`
+    * :class:`IotBulb`
+    * :class:`IotStrip`
+    * :class:`IotDimmer`
+    * :class:`IotLightStrip`
 
     To initialize, you have to await :func:`update()` at least once.
     This will allow accessing the properties using the exposed properties.
 
     All changes to the device are done using awaitable methods,
     which will not change the cached values, but you must await update() separately.
 
-    Errors reported by the device are raised as SmartDeviceExceptions,
+    Errors reported by the device are raised as
+    :class:`KasaException <kasa.exceptions.KasaException>`,
     and should be handled by the user of the library.
 
     Examples:
         >>> import asyncio
-        >>> dev = SmartDevice("127.0.0.1")
+        >>> dev = IotDevice("127.0.0.1")
         >>> asyncio.run(dev.update())
 
         All devices provide several informational properties:
 
         >>> dev.alias
         Kitchen
         >>> dev.model
@@ -193,151 +177,120 @@
 
     emeter_type = "emeter"
 
     def __init__(
         self,
         host: str,
         *,
-        config: Optional[DeviceConfig] = None,
-        protocol: Optional[BaseProtocol] = None,
+        config: DeviceConfig | None = None,
+        protocol: BaseProtocol | None = None,
     ) -> None:
-        """Create a new SmartDevice instance.
-
-        :param str host: host name or ip address on which the device listens
-        """
-        if config and protocol:
-            protocol._transport._config = config
-        self.protocol: BaseProtocol = protocol or IotProtocol(
-            transport=XorTransport(config=config or DeviceConfig(host=host)),
-        )
-        _LOGGER.debug("Initializing %s of type %s", self.host, type(self))
-        self._device_type = DeviceType.Unknown
-        # TODO: typing Any is just as using Optional[Dict] would require separate
-        #       checks in accessors. the @updated_required decorator does not ensure
-        #       mypy that these are not accessed incorrectly.
-        self._last_update: Any = None
-        self._discovery_info: Optional[Dict[str, Any]] = None
+        """Create a new IotDevice instance."""
+        super().__init__(host=host, config=config, protocol=protocol)
 
         self._sys_info: Any = None  # TODO: this is here to avoid changing tests
-        self._features: Set[str] = set()
-        self.modules: Dict[str, Any] = {}
-
-        self.children: List["SmartDevice"] = []
+        self._supported_modules: dict[str, IotModule] | None = None
+        self._legacy_features: set[str] = set()
+        self._children: Mapping[str, IotDevice] = {}
+        self._modules: dict[str | ModuleName[Module], IotModule] = {}
 
     @property
-    def host(self) -> str:
-        """The device host."""
-        return self.protocol._transport._host
-
-    @host.setter
-    def host(self, value):
-        """Set the device host.
-
-        Generally used by discovery to set the hostname after ip discovery.
-        """
-        self.protocol._transport._host = value
-        self.protocol._transport._config.host = value
-
-    @property
-    def port(self) -> int:
-        """The device port."""
-        return self.protocol._transport._port
-
-    @property
-    def credentials(self) -> Optional[Credentials]:
-        """The device credentials."""
-        return self.protocol._transport._credentials
+    def children(self) -> Sequence[IotDevice]:
+        """Return list of children."""
+        return list(self._children.values())
 
     @property
-    def credentials_hash(self) -> Optional[str]:
-        """The protocol specific hash of the credentials the device is using."""
-        return self.protocol._transport.credentials_hash
+    def modules(self) -> ModuleMapping[IotModule]:
+        """Return the device modules."""
+        if TYPE_CHECKING:
+            return cast(ModuleMapping[IotModule], self._modules)
+        return self._modules
 
-    def add_module(self, name: str, module: Module):
+    def add_module(self, name: str | ModuleName[Module], module: IotModule):
         """Register a module."""
         if name in self.modules:
             _LOGGER.debug("Module %s already registered, ignoring..." % name)
             return
 
         _LOGGER.debug("Adding module %s", module)
-        self.modules[name] = module
+        self._modules[name] = module
 
     def _create_request(
-        self, target: str, cmd: str, arg: Optional[Dict] = None, child_ids=None
+        self, target: str, cmd: str, arg: dict | None = None, child_ids=None
     ):
-        request: Dict[str, Any] = {target: {cmd: arg}}
+        request: dict[str, Any] = {target: {cmd: arg}}
         if child_ids is not None:
             request = {"context": {"child_ids": child_ids}, target: {cmd: arg}}
 
         return request
 
     def _verify_emeter(self) -> None:
         """Raise an exception if there is no emeter."""
         if not self.has_emeter:
-            raise SmartDeviceException("Device has no emeter")
+            raise KasaException("Device has no emeter")
         if self.emeter_type not in self._last_update:
-            raise SmartDeviceException("update() required prior accessing emeter")
+            raise KasaException("update() required prior accessing emeter")
 
     async def _query_helper(
-        self, target: str, cmd: str, arg: Optional[Dict] = None, child_ids=None
+        self, target: str, cmd: str, arg: dict | None = None, child_ids=None
     ) -> Any:
         """Query device, return results or raise an exception.
 
         :param target: Target system {system, time, emeter, ..}
         :param cmd: Command to execute
         :param arg: payload dict to be send to the device
         :param child_ids: ids of child devices
         :return: Unwrapped result for the call.
         """
         request = self._create_request(target, cmd, arg, child_ids)
 
         try:
-            response = await self.protocol.query(request=request)
+            response = await self._raw_query(request=request)
         except Exception as ex:
-            raise SmartDeviceException(f"Communication error on {target}:{cmd}") from ex
+            raise KasaException(f"Communication error on {target}:{cmd}") from ex
 
         if target not in response:
-            raise SmartDeviceException(f"No required {target} in response: {response}")
+            raise KasaException(f"No required {target} in response: {response}")
 
         result = response[target]
         if "err_code" in result and result["err_code"] != 0:
-            raise SmartDeviceException(f"Error on {target}.{cmd}: {result}")
+            raise KasaException(f"Error on {target}.{cmd}: {result}")
 
         if cmd not in result:
-            raise SmartDeviceException(f"No command in response: {response}")
+            raise KasaException(f"No command in response: {response}")
         result = result[cmd]
         if "err_code" in result and result["err_code"] != 0:
-            raise SmartDeviceException(f"Error on {target} {cmd}: {result}")
+            raise KasaException(f"Error on {target} {cmd}: {result}")
 
         if "err_code" in result:
             del result["err_code"]
 
         return result
 
     @property  # type: ignore
     @requires_update
-    def features(self) -> Set[str]:
+    def features(self) -> dict[str, Feature]:
         """Return a set of features that the device supports."""
         return self._features
 
     @property  # type: ignore
     @requires_update
-    def supported_modules(self) -> List[str]:
+    def supported_modules(self) -> list[str | ModuleName[Module]]:
         """Return a set of modules supported by the device."""
         # TODO: this should rather be called `features`, but we don't want to break
         #       the API now. Maybe just deprecate it and point the users to use this?
-        return list(self.modules.keys())
+        return list(self._modules.keys())
 
     @property  # type: ignore
     @requires_update
     def has_emeter(self) -> bool:
         """Return True if device has an energy meter."""
-        return "ENE" in self.features
+        return "ENE" in self._legacy_features
 
-    async def get_sys_info(self) -> Dict[str, Any]:
+    async def get_sys_info(self) -> dict[str, Any]:
         """Retrieve system information."""
         return await self._query_helper("system", "get_sysinfo")
 
     async def update(self, update_children: bool = True):
         """Query the device to update the data.
 
         Needed for properties that are decorated with `requires_update`.
@@ -350,28 +303,77 @@
         # See #105, #120, #161
         if self._last_update is None:
             _LOGGER.debug("Performing the initial update to obtain sysinfo")
             response = await self.protocol.query(req)
             self._last_update = response
             self._set_sys_info(response["system"]["get_sysinfo"])
 
+        if not self._modules:
+            await self._initialize_modules()
+
         await self._modular_update(req)
+
         self._set_sys_info(self._last_update["system"]["get_sysinfo"])
+        for module in self._modules.values():
+            module._post_update_hook()
+
+        if not self._features:
+            await self._initialize_features()
+
+    async def _initialize_modules(self):
+        """Initialize modules not added in init."""
+
+    async def _initialize_features(self):
+        self._add_feature(
+            Feature(
+                device=self,
+                id="rssi",
+                name="RSSI",
+                attribute_getter="rssi",
+                icon="mdi:signal",
+                category=Feature.Category.Debug,
+            )
+        )
+        if "on_time" in self._sys_info:
+            self._add_feature(
+                Feature(
+                    device=self,
+                    id="on_since",
+                    name="On since",
+                    attribute_getter="on_since",
+                    icon="mdi:clock",
+                )
+            )
+
+        for module in self._modules.values():
+            module._initialize_features()
+            for module_feat in module._module_features.values():
+                self._add_feature(module_feat)
 
     async def _modular_update(self, req: dict) -> None:
         """Execute an update query."""
         if self.has_emeter:
             _LOGGER.debug(
                 "The device has emeter, querying its information along sysinfo"
             )
-            self.add_module("emeter", Emeter(self, self.emeter_type))
+            self.add_module(Module.IotEmeter, Emeter(self, self.emeter_type))
+
+        # TODO: perhaps modules should not have unsupported modules,
+        #  making separate handling for this unnecessary
+        if self._supported_modules is None:
+            supported = {}
+            for module in self._modules.values():
+                if module.is_supported:
+                    supported[module._module] = module
+
+            self._supported_modules = supported
 
         request_list = []
         est_response_size = 1024 if "system" in req else 0
-        for module in self.modules.values():
+        for module in self._modules.values():
             if not module.is_supported:
                 _LOGGER.debug("Module %s not supported, skipping" % module)
                 continue
 
             est_response_size += module.estimated_query_response_size
             if est_response_size > self.max_device_response_size:
                 request_list.append(req)
@@ -387,42 +389,40 @@
             await self.protocol.query(request) for request in request_list if request
         ]
 
         # Preserve the last update and merge
         # responses on top of it so we remember
         # which modules are not supported, otherwise
         # every other update will query for them
-        update: Dict = self._last_update.copy() if self._last_update else {}
+        update: dict = self._last_update.copy() if self._last_update else {}
         for response in responses:
             update = {**update, **response}
         self._last_update = update
 
-    def update_from_discover_info(self, info: Dict[str, Any]) -> None:
+    def update_from_discover_info(self, info: dict[str, Any]) -> None:
         """Update state from info from the discover call."""
         self._discovery_info = info
         if "system" in info and (sys_info := info["system"].get("get_sysinfo")):
             self._last_update = info
             self._set_sys_info(sys_info)
         else:
             # This allows setting of some info properties directly
             # from partial discovery info that will then be found
             # by the requires_update decorator
             self._set_sys_info(info)
 
-    def _set_sys_info(self, sys_info: Dict[str, Any]) -> None:
+    def _set_sys_info(self, sys_info: dict[str, Any]) -> None:
         """Set sys_info."""
         self._sys_info = sys_info
         if features := sys_info.get("feature"):
-            self._features = _parse_features(features)
-        else:
-            self._features = set()
+            self._legacy_features = _parse_features(features)
 
     @property  # type: ignore
     @requires_update
-    def sys_info(self) -> Dict[str, Any]:
+    def sys_info(self) -> dict[str, Any]:
         """
         Return system information.
 
         Do not call this function from within the SmartDevice
         class itself as @requires_update will be affected for other properties.
         """
         return self._sys_info  # type: ignore
@@ -430,62 +430,53 @@
     @property  # type: ignore
     @requires_update
     def model(self) -> str:
         """Return device model."""
         sys_info = self._sys_info
         return str(sys_info["model"])
 
-    @property
-    def has_children(self) -> bool:
-        """Return true if the device has children devices."""
-        # Ideally we would check for the 'child_num' key in sys_info,
-        # but devices that speak klap do not populate this key via
-        # update_from_discover_info so we check for the devices
-        # we know have children instead.
-        return self.is_strip
-
     @property  # type: ignore
-    def alias(self) -> Optional[str]:
+    def alias(self) -> str | None:
         """Return device name (alias)."""
         sys_info = self._sys_info
         return sys_info.get("alias") if sys_info else None
 
     async def set_alias(self, alias: str) -> None:
         """Set the device name (alias)."""
         return await self._query_helper("system", "set_dev_alias", {"alias": alias})
 
-    @property  # type: ignore
+    @property
     @requires_update
     def time(self) -> datetime:
         """Return current time from the device."""
-        return self.modules["time"].time
+        return self.modules[Module.IotTime].time
 
-    @property  # type: ignore
+    @property
     @requires_update
-    def timezone(self) -> Dict:
+    def timezone(self) -> dict:
         """Return the current timezone."""
-        return self.modules["time"].timezone
+        return self.modules[Module.IotTime].timezone
 
-    async def get_time(self) -> Optional[datetime]:
+    async def get_time(self) -> datetime | None:
         """Return current time from the device, if available."""
         _LOGGER.warning(
             "Use `time` property instead, this call will be removed in the future."
         )
-        return await self.modules["time"].get_time()
+        return await self.modules[Module.IotTime].get_time()
 
-    async def get_timezone(self) -> Dict:
+    async def get_timezone(self) -> dict:
         """Return timezone information."""
         _LOGGER.warning(
             "Use `timezone` property instead, this call will be removed in the future."
         )
-        return await self.modules["time"].get_timezone()
+        return await self.modules[Module.IotTime].get_timezone()
 
     @property  # type: ignore
     @requires_update
-    def hw_info(self) -> Dict:
+    def hw_info(self) -> dict:
         """Return hardware information.
 
         This returns just a selection of sysinfo keys that are related to hardware.
         """
         keys = [
             "sw_ver",
             "hw_ver",
@@ -499,15 +490,15 @@
             "dev_name",
         ]
         sys_info = self._sys_info
         return {key: sys_info[key] for key in keys if key in sys_info}
 
     @property  # type: ignore
     @requires_update
-    def location(self) -> Dict:
+    def location(self) -> dict:
         """Return geographical location."""
         sys_info = self._sys_info
         loc = {"latitude": None, "longitude": None}
 
         if "latitude" in sys_info and "longitude" in sys_info:
             loc["latitude"] = sys_info["latitude"]
             loc["longitude"] = sys_info["longitude"]
@@ -517,30 +508,30 @@
         else:
             _LOGGER.debug("Unsupported device location.")
 
         return loc
 
     @property  # type: ignore
     @requires_update
-    def rssi(self) -> Optional[int]:
+    def rssi(self) -> int | None:
         """Return WiFi signal strength (rssi)."""
         rssi = self._sys_info.get("rssi")
         return None if rssi is None else int(rssi)
 
     @property  # type: ignore
     @requires_update
     def mac(self) -> str:
         """Return mac address.
 
         :return: mac address in hexadecimal with colons, e.g. 01:23:45:67:89:ab
         """
         sys_info = self._sys_info
         mac = sys_info.get("mac", sys_info.get("mic_mac"))
         if not mac:
-            raise SmartDeviceException(
+            raise KasaException(
                 "Unknown mac, please submit a bug report with sys_info output."
             )
         mac = mac.replace("-", ":")
         # Format a mac that has no colons (usually from mic_mac field)
         if ":" not in mac:
             mac = ":".join(format(s, "02x") for s in bytes.fromhex(mac))
 
@@ -549,72 +540,74 @@
     async def set_mac(self, mac):
         """Set the mac address.
 
         :param str mac: mac in hexadecimal with colons, e.g. 01:23:45:67:89:ab
         """
         return await self._query_helper("system", "set_mac_addr", {"mac": mac})
 
-    @property  # type: ignore
+    @property
     @requires_update
     def emeter_realtime(self) -> EmeterStatus:
         """Return current energy readings."""
         self._verify_emeter()
-        return EmeterStatus(self.modules["emeter"].realtime)
+        return EmeterStatus(self.modules[Module.IotEmeter].realtime)
 
     async def get_emeter_realtime(self) -> EmeterStatus:
         """Retrieve current energy readings."""
         self._verify_emeter()
-        return EmeterStatus(await self.modules["emeter"].get_realtime())
+        return EmeterStatus(await self.modules[Module.IotEmeter].get_realtime())
 
-    @property  # type: ignore
+    @property
     @requires_update
-    def emeter_today(self) -> Optional[float]:
+    def emeter_today(self) -> float | None:
         """Return today's energy consumption in kWh."""
         self._verify_emeter()
-        return self.modules["emeter"].emeter_today
+        return self.modules[Module.IotEmeter].emeter_today
 
-    @property  # type: ignore
+    @property
     @requires_update
-    def emeter_this_month(self) -> Optional[float]:
+    def emeter_this_month(self) -> float | None:
         """Return this month's energy consumption in kWh."""
         self._verify_emeter()
-        return self.modules["emeter"].emeter_this_month
+        return self.modules[Module.IotEmeter].emeter_this_month
 
     async def get_emeter_daily(
-        self, year: Optional[int] = None, month: Optional[int] = None, kwh: bool = True
-    ) -> Dict:
+        self, year: int | None = None, month: int | None = None, kwh: bool = True
+    ) -> dict:
         """Retrieve daily statistics for a given month.
 
         :param year: year for which to retrieve statistics (default: this year)
         :param month: month for which to retrieve statistics (default: this
                       month)
         :param kwh: return usage in kWh (default: True)
         :return: mapping of day of month to value
         """
         self._verify_emeter()
-        return await self.modules["emeter"].get_daystat(year=year, month=month, kwh=kwh)
+        return await self.modules[Module.IotEmeter].get_daystat(
+            year=year, month=month, kwh=kwh
+        )
 
     @requires_update
     async def get_emeter_monthly(
-        self, year: Optional[int] = None, kwh: bool = True
-    ) -> Dict:
+        self, year: int | None = None, kwh: bool = True
+    ) -> dict:
         """Retrieve monthly statistics for a given year.
 
         :param year: year for which to retrieve statistics (default: this year)
         :param kwh: return usage in kWh (default: True)
         :return: dict: mapping of month to value
         """
         self._verify_emeter()
-        return await self.modules["emeter"].get_monthstat(year=year, kwh=kwh)
+        return await self.modules[Module.IotEmeter].get_monthstat(year=year, kwh=kwh)
 
     @requires_update
-    async def erase_emeter_stats(self) -> Dict:
+    async def erase_emeter_stats(self) -> dict:
         """Erase energy meter statistics."""
         self._verify_emeter()
-        return await self.modules["emeter"].erase_stats()
+        return await self.modules[Module.IotEmeter].erase_stats()
 
     @requires_update
     async def current_consumption(self) -> float:
         """Get the current power consumption in Watt."""
         self._verify_emeter()
         response = self.emeter_realtime
         return float(response["power"])
@@ -623,80 +616,68 @@
         """Reboot the device.
 
         Note that giving a delay of zero causes this to block,
         as the device reboots immediately without responding to the call.
         """
         await self._query_helper("system", "reboot", {"delay": delay})
 
-    async def turn_off(self, **kwargs) -> Dict:
+    async def turn_off(self, **kwargs) -> dict:
         """Turn off the device."""
         raise NotImplementedError("Device subclass needs to implement this.")
 
-    @property  # type: ignore
-    @requires_update
-    def is_off(self) -> bool:
-        """Return True if device is off."""
-        return not self.is_on
-
-    async def turn_on(self, **kwargs) -> Dict:
+    async def turn_on(self, **kwargs) -> dict | None:
         """Turn device on."""
         raise NotImplementedError("Device subclass needs to implement this.")
 
     @property  # type: ignore
     @requires_update
     def is_on(self) -> bool:
         """Return True if the device is on."""
         raise NotImplementedError("Device subclass needs to implement this.")
 
     @property  # type: ignore
     @requires_update
-    def on_since(self) -> Optional[datetime]:
+    def on_since(self) -> datetime | None:
         """Return pretty-printed on-time, or None if not available."""
         if "on_time" not in self._sys_info:
             return None
 
         if self.is_off:
             return None
 
         on_time = self._sys_info["on_time"]
 
         return datetime.now().replace(microsecond=0) - timedelta(seconds=on_time)
 
     @property  # type: ignore
     @requires_update
-    def state_information(self) -> Dict[str, Any]:
-        """Return device-type specific, end-user friendly state information."""
-        raise NotImplementedError("Device subclass needs to implement this.")
-
-    @property  # type: ignore
-    @requires_update
     def device_id(self) -> str:
         """Return unique ID for the device.
 
         If not overridden, this is the MAC address of the device.
         Individual sockets on strips will override this.
         """
         return self.mac
 
-    async def wifi_scan(self) -> List[WifiNetwork]:  # noqa: D202
+    async def wifi_scan(self) -> list[WifiNetwork]:  # noqa: D202
         """Scan for available wifi networks."""
 
         async def _scan(target):
             return await self._query_helper(target, "get_scaninfo", {"refresh": 1})
 
         try:
             info = await _scan("netif")
-        except SmartDeviceException as ex:
+        except KasaException as ex:
             _LOGGER.debug(
                 "Unable to scan using 'netif', retrying with 'softaponboarding': %s", ex
             )
             info = await _scan("smartlife.iot.common.softaponboarding")
 
         if "ap_list" not in info:
-            raise SmartDeviceException("Invalid response for wifi scan: %s" % info)
+            raise KasaException("Invalid response for wifi scan: %s" % info)
 
         return [WifiNetwork(**x) for x in info["ap_list"]]
 
     async def wifi_join(self, ssid: str, password: str, keytype: str = "3"):  # noqa: D202
         """Join the given wifi network.
 
         If joining the network fails, the device will return to AP mode after a while.
@@ -704,136 +685,26 @@
 
         async def _join(target, payload):
             return await self._query_helper(target, "set_stainfo", payload)
 
         payload = {"ssid": ssid, "password": password, "key_type": int(keytype)}
         try:
             return await _join("netif", payload)
-        except SmartDeviceException as ex:
+        except KasaException as ex:
             _LOGGER.debug(
                 "Unable to join using 'netif', retrying with 'softaponboarding': %s", ex
             )
             return await _join("smartlife.iot.common.softaponboarding", payload)
 
-    def get_plug_by_name(self, name: str) -> "SmartDevice":
-        """Return child device for the given name."""
-        for p in self.children:
-            if p.alias == name:
-                return p
-
-        raise SmartDeviceException(f"Device has no child with {name}")
-
-    def get_plug_by_index(self, index: int) -> "SmartDevice":
-        """Return child device for the given index."""
-        if index + 1 > len(self.children) or index < 0:
-            raise SmartDeviceException(
-                f"Invalid index {index}, device has {len(self.children)} plugs"
-            )
-        return self.children[index]
-
     @property
     def max_device_response_size(self) -> int:
         """Returns the maximum response size the device can safely construct."""
         return 16 * 1024
 
     @property
-    def device_type(self) -> DeviceType:
-        """Return the device type."""
-        return self._device_type
-
-    @property
-    def is_bulb(self) -> bool:
-        """Return True if the device is a bulb."""
-        return self._device_type == DeviceType.Bulb
-
-    @property
-    def is_light_strip(self) -> bool:
-        """Return True if the device is a led strip."""
-        return self._device_type == DeviceType.LightStrip
-
-    @property
-    def is_plug(self) -> bool:
-        """Return True if the device is a plug."""
-        return self._device_type == DeviceType.Plug
-
-    @property
-    def is_strip(self) -> bool:
-        """Return True if the device is a strip."""
-        return self._device_type == DeviceType.Strip
-
-    @property
-    def is_strip_socket(self) -> bool:
-        """Return True if the device is a strip socket."""
-        return self._device_type == DeviceType.StripSocket
-
-    @property
-    def is_dimmer(self) -> bool:
-        """Return True if the device is a dimmer."""
-        return self._device_type == DeviceType.Dimmer
-
-    @property
-    def is_dimmable(self) -> bool:
-        """Return  True if the device is dimmable."""
-        return False
-
-    @property
-    def is_variable_color_temp(self) -> bool:
-        """Return True if the device supports color temperature."""
-        return False
-
-    @property
-    def is_color(self) -> bool:
-        """Return True if the device supports color changes."""
-        return False
-
-    @property
     def internal_state(self) -> Any:
         """Return the internal state of the instance.
 
         The returned object contains the raw results from the last update call.
         This should only be used for debugging purposes.
         """
         return self._last_update or self._discovery_info
-
-    def __repr__(self):
-        if self._last_update is None:
-            return f"<{self._device_type} at {self.host} - update() needed>"
-        return (
-            f"<{self._device_type} model {self.model} at {self.host}"
-            f" ({self.alias}), is_on: {self.is_on}"
-            f" - dev specific: {self.state_information}>"
-        )
-
-    @property
-    def config(self) -> DeviceConfig:
-        """Return the device configuration."""
-        return self.protocol.config
-
-    async def disconnect(self):
-        """Disconnect and close any underlying connection resources."""
-        await self.protocol.close()
-
-    @staticmethod
-    async def connect(
-        *,
-        host: Optional[str] = None,
-        config: Optional[DeviceConfig] = None,
-    ) -> "SmartDevice":
-        """Connect to a single device by the given hostname or device configuration.
-
-        This method avoids the UDP based discovery process and
-        will connect directly to the device.
-
-        It is generally preferred to avoid :func:`discover_single()` and
-        use this function instead as it should perform better when
-        the WiFi network is congested or the device is not responding
-        to discovery requests.
-
-        :param host: Hostname of device to query
-        :param config: Connection parameters to ensure the correct protocol
-            and connection options are used.
-        :rtype: SmartDevice
-        :return: Object for querying/controlling found device.
-        """
-        from .device_factory import connect  # pylint: disable=import-outside-toplevel
-
-        return await connect(host=host, config=config)  # type: ignore[arg-type]
```

### Comparing `python_kasa-0.6.2.1/kasa/smartdimmer.py` & `python_kasa-0.7.0.dev0/kasa/iot/iotdimmer.py`

 * *Files 11% similar despite different names*

```diff
@@ -1,16 +1,21 @@
 """Module for dimmers (currently only HS220)."""
+
+from __future__ import annotations
+
 from enum import Enum
-from typing import Any, Dict, Optional
+from typing import Any
 
-from kasa.deviceconfig import DeviceConfig
-from kasa.modules import AmbientLight, Motion
-from kasa.protocol import BaseProtocol
-from kasa.smartdevice import DeviceType, SmartDeviceException, requires_update
-from kasa.smartplug import SmartPlug
+from ..device_type import DeviceType
+from ..deviceconfig import DeviceConfig
+from ..module import Module
+from ..protocol import BaseProtocol
+from .iotdevice import KasaException, requires_update
+from .iotplug import IotPlug
+from .modules import AmbientLight, Light, Motion
 
 
 class ButtonAction(Enum):
     """Button action."""
 
     NoAction = "none"
     Instant = "instant_on_off"
@@ -28,33 +33,33 @@
 class FadeType(Enum):
     """Fade on/off setting."""
 
     FadeOn = "fade_on"
     FadeOff = "fade_off"
 
 
-class SmartDimmer(SmartPlug):
+class IotDimmer(IotPlug):
     r"""Representation of a TP-Link Smart Dimmer.
 
     Dimmers work similarly to plugs, but provide also support for
     adjusting the brightness. This class extends :class:`SmartPlug` interface.
 
     To initialize, you have to await :func:`update()` at least once.
     This will allow accessing the properties using the exposed properties.
 
     All changes to the device are done using awaitable methods,
     which will not change the cached values,
     but you must await :func:`update()` separately.
 
-    Errors reported by the device are raised as :class:`SmartDeviceException`\s,
+    Errors reported by the device are raised as :class:`KasaException`\s,
     and should be handled by the user of the library.
 
     Examples:
     >>> import asyncio
-    >>> dimmer = SmartDimmer("192.168.1.105")
+    >>> dimmer = IotDimmer("192.168.1.105")
     >>> asyncio.run(dimmer.turn_on())
     >>> dimmer.brightness
     25
 
     >>> asyncio.run(dimmer.set_brightness(50))
     >>> asyncio.run(dimmer.update())
     >>> dimmer.brightness
@@ -65,48 +70,51 @@
 
     DIMMER_SERVICE = "smartlife.iot.dimmer"
 
     def __init__(
         self,
         host: str,
         *,
-        config: Optional[DeviceConfig] = None,
-        protocol: Optional[BaseProtocol] = None,
+        config: DeviceConfig | None = None,
+        protocol: BaseProtocol | None = None,
     ) -> None:
         super().__init__(host=host, config=config, protocol=protocol)
         self._device_type = DeviceType.Dimmer
+
+    async def _initialize_modules(self):
+        """Initialize modules."""
+        await super()._initialize_modules()
         # TODO: need to be verified if it's okay to call these on HS220 w/o these
         # TODO: need to be figured out what's the best approach to detect support
-        self.add_module("motion", Motion(self, "smartlife.iot.PIR"))
-        self.add_module("ambient", AmbientLight(self, "smartlife.iot.LAS"))
+        self.add_module(Module.IotMotion, Motion(self, "smartlife.iot.PIR"))
+        self.add_module(Module.IotAmbientLight, AmbientLight(self, "smartlife.iot.LAS"))
+        self.add_module(Module.Light, Light(self, "light"))
 
     @property  # type: ignore
     @requires_update
-    def brightness(self) -> int:
+    def _brightness(self) -> int:
         """Return current brightness on dimmers.
 
         Will return a range between 0 - 100.
         """
-        if not self.is_dimmable:
-            raise SmartDeviceException("Device is not dimmable.")
+        if not self._is_dimmable:
+            raise KasaException("Device is not dimmable.")
 
         sys_info = self.sys_info
         return int(sys_info["brightness"])
 
     @requires_update
-    async def set_brightness(
-        self, brightness: int, *, transition: Optional[int] = None
-    ):
+    async def _set_brightness(self, brightness: int, *, transition: int | None = None):
         """Set the new dimmer brightness level in percentage.
 
         :param int transition: transition duration in milliseconds.
             Using a transition will cause the dimmer to turn on.
         """
-        if not self.is_dimmable:
-            raise SmartDeviceException("Device is not dimmable.")
+        if not self._is_dimmable:
+            raise KasaException("Device is not dimmable.")
 
         if not isinstance(brightness, int):
             raise ValueError(
                 "Brightness must be integer, " "not of %s.", type(brightness)
             )
 
         if not 0 <= brightness <= 100:
@@ -120,26 +128,26 @@
         if transition is not None:
             return await self.set_dimmer_transition(brightness, transition)
 
         return await self._query_helper(
             self.DIMMER_SERVICE, "set_brightness", {"brightness": brightness}
         )
 
-    async def turn_off(self, *, transition: Optional[int] = None, **kwargs):
+    async def turn_off(self, *, transition: int | None = None, **kwargs):
         """Turn the bulb off.
 
         :param int transition: transition duration in milliseconds.
         """
         if transition is not None:
             return await self.set_dimmer_transition(brightness=0, transition=transition)
 
         return await super().turn_off()
 
     @requires_update
-    async def turn_on(self, *, transition: Optional[int] = None, **kwargs):
+    async def turn_on(self, *, transition: int | None = None, **kwargs):
         """Turn the bulb on.
 
         :param int transition: transition duration in milliseconds.
         """
         if transition is not None:
             return await self.set_dimmer_transition(
                 brightness=self.brightness, transition=transition
@@ -179,26 +187,26 @@
         behaviors = await self._query_helper(
             self.DIMMER_SERVICE, "get_default_behavior", {}
         )
         return behaviors
 
     @requires_update
     async def set_button_action(
-        self, action_type: ActionType, action: ButtonAction, index: Optional[int] = None
+        self, action_type: ActionType, action: ButtonAction, index: int | None = None
     ):
         """Set action to perform on button click/hold.
 
         :param action_type ActionType: whether to control double click or hold action.
         :param action ButtonAction: what should the button do
          (nothing, instant, gentle, change preset)
         :param index int: in case of preset change, the preset to select
         """
         action_type_setter = f"set_{action_type}"
 
-        payload: Dict[str, Any] = {"mode": str(action)}
+        payload: dict[str, Any] = {"mode": str(action)}
         if index is not None:
             payload["index"] = index
 
         await self._query_helper(self.DIMMER_SERVICE, action_type_setter, payload)
 
     @requires_update
     async def set_fade_time(self, fade_type: FadeType, time: int):
@@ -206,20 +214,21 @@
         fade_type_setter = f"set_{fade_type}_time"
         payload = {"fadeTime": time}
 
         await self._query_helper(self.DIMMER_SERVICE, fade_type_setter, payload)
 
     @property  # type: ignore
     @requires_update
-    def is_dimmable(self) -> bool:
+    def _is_dimmable(self) -> bool:
         """Whether the switch supports brightness changes."""
         sys_info = self.sys_info
         return "brightness" in sys_info
 
-    @property  # type: ignore
-    @requires_update
-    def state_information(self) -> Dict[str, Any]:
-        """Return switch-specific state information."""
-        info = super().state_information
-        info["Brightness"] = self.brightness
-
-        return info
+    @property
+    def _is_variable_color_temp(self) -> bool:
+        """Whether the device supports variable color temp."""
+        return False
+
+    @property
+    def _is_color(self) -> bool:
+        """Whether the device supports color."""
+        return False
```

### Comparing `python_kasa-0.6.2.1/kasa/smartprotocol.py` & `python_kasa-0.7.0.dev0/kasa/smartprotocol.py`

 * *Files 19% similar despite different names*

```diff
@@ -1,31 +1,33 @@
 """Implementation of the TP-Link AES Protocol.
 
 Based on the work of https://github.com/petretiandrea/plugp100
 under compatible GNU GPL3 license.
 """
 
+from __future__ import annotations
+
 import asyncio
 import base64
 import logging
 import time
 import uuid
 from pprint import pformat as pf
-from typing import Any, Dict, Union
+from typing import Any
 
 from .exceptions import (
     SMART_AUTHENTICATION_ERRORS,
     SMART_RETRYABLE_ERRORS,
-    SMART_TIMEOUT_ERRORS,
-    AuthenticationException,
-    ConnectionException,
-    RetryableException,
-    SmartDeviceException,
+    AuthenticationError,
+    DeviceError,
+    KasaException,
     SmartErrorCode,
-    TimeoutException,
+    TimeoutError,
+    _ConnectionError,
+    _RetryableError,
 )
 from .json import dumps as json_dumps
 from .protocol import BaseProtocol, BaseTransport, md5
 
 _LOGGER = logging.getLogger(__name__)
 
 
@@ -53,101 +55,119 @@
             "params": params,
             "requestID": self._request_id_generator.generate_id(),
             "request_time_milis": round(time.time() * 1000),
             "terminal_uuid": self._terminal_uuid,
         }
         return json_dumps(request)
 
-    async def query(self, request: Union[str, Dict], retry_count: int = 3) -> Dict:
+    async def query(self, request: str | dict, retry_count: int = 3) -> dict:
         """Query the device retrying for retry_count on failure."""
         async with self._query_lock:
             return await self._query(request, retry_count)
 
-    async def _query(self, request: Union[str, Dict], retry_count: int = 3) -> Dict:
+    async def _query(self, request: str | dict, retry_count: int = 3) -> dict:
         for retry in range(retry_count + 1):
             try:
-                return await self._execute_query(request, retry)
-            except ConnectionException as sdex:
+                return await self._execute_query(
+                    request, retry_count=retry, iterate_list_pages=True
+                )
+            except _ConnectionError as sdex:
                 if retry >= retry_count:
                     _LOGGER.debug("Giving up on %s after %s retries", self._host, retry)
                     raise sdex
                 continue
-            except AuthenticationException as auex:
+            except AuthenticationError as auex:
                 await self._transport.reset()
                 _LOGGER.debug(
                     "Unable to authenticate with %s, not retrying", self._host
                 )
                 raise auex
-            except RetryableException as ex:
+            except _RetryableError as ex:
                 await self._transport.reset()
                 if retry >= retry_count:
                     _LOGGER.debug("Giving up on %s after %s retries", self._host, retry)
                     raise ex
+                await asyncio.sleep(self.BACKOFF_SECONDS_AFTER_TIMEOUT)
                 continue
-            except TimeoutException as ex:
+            except TimeoutError as ex:
                 await self._transport.reset()
                 if retry >= retry_count:
                     _LOGGER.debug("Giving up on %s after %s retries", self._host, retry)
                     raise ex
                 await asyncio.sleep(self.BACKOFF_SECONDS_AFTER_TIMEOUT)
                 continue
-            except SmartDeviceException as ex:
+            except KasaException as ex:
                 await self._transport.reset()
                 _LOGGER.debug(
                     "Unable to query the device: %s, not retrying: %s",
                     self._host,
                     ex,
                 )
                 raise ex
 
         # make mypy happy, this should never be reached..
-        raise SmartDeviceException("Query reached somehow to unreachable")
+        raise KasaException("Query reached somehow to unreachable")
 
-    async def _execute_multiple_query(self, request: Dict, retry_count: int) -> Dict:
+    async def _execute_multiple_query(self, requests: dict, retry_count: int) -> dict:
         debug_enabled = _LOGGER.isEnabledFor(logging.DEBUG)
-        multi_result: Dict[str, Any] = {}
+        multi_result: dict[str, Any] = {}
         smart_method = "multipleRequest"
-        requests = [
-            {"method": method, "params": params} for method, params in request.items()
+        multi_requests = [
+            {"method": method, "params": params} for method, params in requests.items()
         ]
 
-        end = len(requests)
+        end = len(multi_requests)
         # Break the requests down as there can be a size limit
         step = (
             self._transport._config.batch_size or self.DEFAULT_MULTI_REQUEST_BATCH_SIZE
         )
         for i in range(0, end, step):
-            requests_step = requests[i : i + step]
+            requests_step = multi_requests[i : i + step]
 
             smart_params = {"requests": requests_step}
             smart_request = self.get_smart_request(smart_method, smart_params)
             if debug_enabled:
                 _LOGGER.debug(
                     "%s multi-request-batch-%s >> %s",
                     self._host,
                     i + 1,
                     pf(smart_request),
                 )
             response_step = await self._transport.send(smart_request)
+            batch_name = f"multi-request-batch-{i+1}"
             if debug_enabled:
                 _LOGGER.debug(
-                    "%s multi-request-batch-%s << %s",
+                    "%s %s << %s",
                     self._host,
-                    i + 1,
+                    batch_name,
                     pf(response_step),
                 )
-            self._handle_response_error_code(response_step)
+            self._handle_response_error_code(response_step, batch_name)
             responses = response_step["result"]["responses"]
             for response in responses:
-                self._handle_response_error_code(response)
+                method = response["method"]
+                self._handle_response_error_code(response, method, raise_on_error=False)
                 result = response.get("result", None)
-                multi_result[response["method"]] = result
+                await self._handle_response_lists(
+                    result, method, retry_count=retry_count
+                )
+                multi_result[method] = result
+        # Multi requests don't continue after errors so requery any missing
+        for method, params in requests.items():
+            if method not in multi_result:
+                resp = await self._transport.send(
+                    self.get_smart_request(method, params)
+                )
+                self._handle_response_error_code(resp, method, raise_on_error=False)
+                multi_result[method] = resp.get("result")
         return multi_result
 
-    async def _execute_query(self, request: Union[str, Dict], retry_count: int) -> Dict:
+    async def _execute_query(
+        self, request: str | dict, *, retry_count: int, iterate_list_pages: bool = True
+    ) -> dict:
         debug_enabled = _LOGGER.isEnabledFor(logging.DEBUG)
 
         if isinstance(request, dict):
             if len(request) == 1:
                 smart_method = next(iter(request))
                 smart_params = request[smart_method]
             else:
@@ -168,37 +188,77 @@
         if debug_enabled:
             _LOGGER.debug(
                 "%s << %s",
                 self._host,
                 pf(response_data),
             )
 
-        self._handle_response_error_code(response_data)
+        self._handle_response_error_code(response_data, smart_method)
 
         # Single set_ requests do not return a result
         result = response_data.get("result")
+        if iterate_list_pages and result:
+            await self._handle_response_lists(
+                result, smart_method, retry_count=retry_count
+            )
         return {smart_method: result}
 
-    def _handle_response_error_code(self, resp_dict: dict):
+    async def _handle_response_lists(
+        self, response_result: dict[str, Any], method, retry_count
+    ):
+        if (
+            response_result is None
+            or isinstance(response_result, SmartErrorCode)
+            or "start_index" not in response_result
+            or (list_sum := response_result.get("sum")) is None
+        ):
+            return
+
+        response_list_name = next(
+            iter(
+                [
+                    key
+                    for key in response_result
+                    if isinstance(response_result[key], list)
+                ]
+            )
+        )
+        while (list_length := len(response_result[response_list_name])) < list_sum:
+            response = await self._execute_query(
+                {method: {"start_index": list_length}},
+                retry_count=retry_count,
+                iterate_list_pages=False,
+            )
+            next_batch = response[method]
+            # In case the device returns empty lists avoid infinite looping
+            if not next_batch[response_list_name]:
+                _LOGGER.error(
+                    f"Device {self._host} returned empty "
+                    + f"results list for method {method}"
+                )
+                break
+            response_result[response_list_name].extend(next_batch[response_list_name])
+
+    def _handle_response_error_code(self, resp_dict: dict, method, raise_on_error=True):
         error_code = SmartErrorCode(resp_dict.get("error_code"))  # type: ignore[arg-type]
         if error_code == SmartErrorCode.SUCCESS:
             return
+        if not raise_on_error:
+            resp_dict["result"] = error_code
+            return
         msg = (
             f"Error querying device: {self._host}: "
             + f"{error_code.name}({error_code.value})"
+            + f" for method: {method}"
         )
-        if method := resp_dict.get("method"):
-            msg += f" for method: {method}"
-        if error_code in SMART_TIMEOUT_ERRORS:
-            raise TimeoutException(msg, error_code=error_code)
         if error_code in SMART_RETRYABLE_ERRORS:
-            raise RetryableException(msg, error_code=error_code)
+            raise _RetryableError(msg, error_code=error_code)
         if error_code in SMART_AUTHENTICATION_ERRORS:
-            raise AuthenticationException(msg, error_code=error_code)
-        raise SmartDeviceException(msg, error_code=error_code)
+            raise AuthenticationError(msg, error_code=error_code)
+        raise DeviceError(msg, error_code=error_code)
 
     async def close(self) -> None:
         """Close the underlying transport."""
         await self._transport.close()
 
 
 class SnowflakeId:
@@ -315,15 +375,15 @@
                 smart_params = {"requests": requests}
         else:
             smart_method = request
             smart_params = None
 
         return smart_method, smart_params
 
-    async def query(self, request: Union[str, Dict], retry_count: int = 3) -> Dict:
+    async def query(self, request: str | dict, retry_count: int = 3) -> dict:
         """Wrap request inside control_child envelope."""
         method, params = self._get_method_and_params_for_request(request)
         request_data = {
             "method": method,
             "params": params,
         }
         wrapped_payload = {
@@ -333,16 +393,22 @@
             }
         }
 
         response = await self._protocol.query(wrapped_payload, retry_count)
         result = response.get("control_child")
         # Unwrap responseData for control_child
         if result and (response_data := result.get("responseData")):
-            self._handle_response_error_code(response_data)
             result = response_data.get("result")
+            if result and (multi_responses := result.get("responses")):
+                ret_val = {}
+                for multi_response in multi_responses:
+                    method = multi_response["method"]
+                    self._handle_response_error_code(multi_response, method)
+                    ret_val[method] = multi_response.get("result")
+                return ret_val
 
-        # TODO: handle multipleRequest unwrapping
+            self._handle_response_error_code(response_data, "control_child")
 
         return {method: result}
 
     async def close(self) -> None:
         """Do nothing as the parent owns the protocol."""
```

### Comparing `python_kasa-0.6.2.1/kasa/smartstrip.py` & `python_kasa-0.7.0.dev0/kasa/iot/iotstrip.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,73 +1,77 @@
 """Module for multi-socket devices (HS300, HS107, KP303, ..)."""
+
+from __future__ import annotations
+
 import logging
 from collections import defaultdict
 from datetime import datetime, timedelta
-from typing import Any, DefaultDict, Dict, Optional
+from typing import Any
 
-from kasa.smartdevice import (
-    DeviceType,
+from ..device_type import DeviceType
+from ..deviceconfig import DeviceConfig
+from ..exceptions import KasaException
+from ..module import Module
+from ..protocol import BaseProtocol
+from .iotdevice import (
     EmeterStatus,
-    SmartDevice,
-    SmartDeviceException,
+    IotDevice,
     merge,
     requires_update,
 )
-from kasa.smartplug import SmartPlug
-
-from .deviceconfig import DeviceConfig
-from .modules import Antitheft, Countdown, Emeter, Schedule, Time, Usage
-from .protocol import BaseProtocol
+from .iotplug import IotPlug
+from .modules import Antitheft, Countdown, Schedule, Time, Usage
 
 _LOGGER = logging.getLogger(__name__)
 
 
 def merge_sums(dicts):
     """Merge the sum of dicts."""
-    total_dict: DefaultDict[int, float] = defaultdict(lambda: 0.0)
+    total_dict: defaultdict[int, float] = defaultdict(lambda: 0.0)
     for sum_dict in dicts:
         for day, value in sum_dict.items():
             total_dict[day] += value
     return total_dict
 
 
-class SmartStrip(SmartDevice):
+class IotStrip(IotDevice):
     r"""Representation of a TP-Link Smart Power Strip.
 
     A strip consists of the parent device and its children.
     All methods of the parent act on all children, while the child devices
     share the common API with the :class:`SmartPlug` class.
 
     To initialize, you have to await :func:`update()` at least once.
     This will allow accessing the properties using the exposed properties.
 
     All changes to the device are done using awaitable methods,
     which will not change the cached values,
     but you must await :func:`update()` separately.
 
-    Errors reported by the device are raised as :class:`SmartDeviceException`\s,
+    Errors reported by the device are raised as :class:`KasaException`\s,
     and should be handled by the user of the library.
 
     Examples:
         >>> import asyncio
-        >>> strip = SmartStrip("127.0.0.1")
+        >>> strip = IotStrip("127.0.0.1")
         >>> asyncio.run(strip.update())
         >>> strip.alias
         TP-LINK_Power Strip_CF69
 
         All methods act on the whole strip:
 
         >>> for plug in strip.children:
         >>>    print(f"{plug.alias}: {plug.is_on}")
         Plug 1: True
         Plug 2: False
         Plug 3: False
         >>> strip.is_on
         True
         >>> asyncio.run(strip.turn_off())
+        >>> asyncio.run(strip.update())
 
         Accessing individual plugs can be done using the `children` property:
 
         >>> len(strip.children)
         3
         >>> for plug in strip.children:
         >>>    print(f"{plug.alias}: {plug.is_on}")
@@ -75,33 +79,32 @@
         Plug 2: False
         Plug 3: False
         >>> asyncio.run(strip.children[1].turn_on())
         >>> asyncio.run(strip.update())
         >>> strip.is_on
         True
 
-    For more examples, see the :class:`SmartDevice` class.
+    For more examples, see the :class:`Device` class.
     """
 
     def __init__(
         self,
         host: str,
         *,
-        config: Optional[DeviceConfig] = None,
-        protocol: Optional[BaseProtocol] = None,
+        config: DeviceConfig | None = None,
+        protocol: BaseProtocol | None = None,
     ) -> None:
         super().__init__(host=host, config=config, protocol=protocol)
         self.emeter_type = "emeter"
         self._device_type = DeviceType.Strip
-        self.add_module("antitheft", Antitheft(self, "anti_theft"))
-        self.add_module("schedule", Schedule(self, "schedule"))
-        self.add_module("usage", Usage(self, "schedule"))
-        self.add_module("time", Time(self, "time"))
-        self.add_module("countdown", Countdown(self, "countdown"))
-        self.add_module("emeter", Emeter(self, "emeter"))
+        self.add_module(Module.IotAntitheft, Antitheft(self, "anti_theft"))
+        self.add_module(Module.IotSchedule, Schedule(self, "schedule"))
+        self.add_module(Module.IotUsage, Usage(self, "schedule"))
+        self.add_module(Module.IotTime, Time(self, "time"))
+        self.add_module(Module.IotCountdown, Countdown(self, "countdown"))
 
     @property  # type: ignore
     @requires_update
     def is_on(self) -> bool:
         """Return if any of the outlets are on."""
         return any(plug.is_on for plug in self.children)
 
@@ -112,18 +115,20 @@
         """
         await super().update(update_children)
 
         # Initialize the child devices during the first update.
         if not self.children:
             children = self.sys_info["children"]
             _LOGGER.debug("Initializing %s child sockets", len(children))
-            for child in children:
-                self.children.append(
-                    SmartStripPlug(self.host, parent=self, child_id=child["id"])
+            self._children = {
+                f"{self.mac}_{child['id']}": IotStripPlug(
+                    self.host, parent=self, child_id=child["id"]
                 )
+                for child in children
+            }
 
         if update_children and self.has_emeter:
             for plug in self.children:
                 await plug.update()
 
     async def turn_on(self, **kwargs):
         """Turn the strip on."""
@@ -131,45 +136,21 @@
 
     async def turn_off(self, **kwargs):
         """Turn the strip off."""
         await self._query_helper("system", "set_relay_state", {"state": 0})
 
     @property  # type: ignore
     @requires_update
-    def on_since(self) -> Optional[datetime]:
+    def on_since(self) -> datetime | None:
         """Return the maximum on-time of all outlets."""
         if self.is_off:
             return None
 
         return max(plug.on_since for plug in self.children if plug.on_since is not None)
 
-    @property  # type: ignore
-    @requires_update
-    def led(self) -> bool:
-        """Return the state of the led."""
-        sys_info = self.sys_info
-        return bool(1 - sys_info["led_off"])
-
-    async def set_led(self, state: bool):
-        """Set the state of the led (night mode)."""
-        await self._query_helper("system", "set_led_off", {"off": int(not state)})
-
-    @property  # type: ignore
-    @requires_update
-    def state_information(self) -> Dict[str, Any]:
-        """Return strip-specific state information.
-
-        :return: Strip information dict, keys in user-presentable form.
-        """
-        return {
-            "LED state": self.led,
-            "Childs count": len(self.children),
-            "On since": self.on_since,
-        }
-
     async def current_consumption(self) -> float:
         """Get the current power consumption in watts."""
         return sum([await plug.current_consumption() for plug in self.children])
 
     @requires_update
     async def get_emeter_realtime(self) -> EmeterStatus:
         """Retrieve current energy readings."""
@@ -177,139 +158,140 @@
         # Voltage is averaged since each read will result
         # in a slightly different voltage since they are not atomic
         emeter_rt["voltage_mv"] = int(emeter_rt["voltage_mv"] / len(self.children))
         return EmeterStatus(emeter_rt)
 
     @requires_update
     async def get_emeter_daily(
-        self, year: Optional[int] = None, month: Optional[int] = None, kwh: bool = True
-    ) -> Dict:
+        self, year: int | None = None, month: int | None = None, kwh: bool = True
+    ) -> dict:
         """Retrieve daily statistics for a given month.
 
         :param year: year for which to retrieve statistics (default: this year)
         :param month: month for which to retrieve statistics (default: this
                       month)
         :param kwh: return usage in kWh (default: True)
         :return: mapping of day of month to value
         """
         return await self._async_get_emeter_sum(
             "get_emeter_daily", {"year": year, "month": month, "kwh": kwh}
         )
 
     @requires_update
     async def get_emeter_monthly(
-        self, year: Optional[int] = None, kwh: bool = True
-    ) -> Dict:
+        self, year: int | None = None, kwh: bool = True
+    ) -> dict:
         """Retrieve monthly statistics for a given year.
 
         :param year: year for which to retrieve statistics (default: this year)
         :param kwh: return usage in kWh (default: True)
         """
         return await self._async_get_emeter_sum(
             "get_emeter_monthly", {"year": year, "kwh": kwh}
         )
 
-    async def _async_get_emeter_sum(self, func: str, kwargs: Dict[str, Any]) -> Dict:
+    async def _async_get_emeter_sum(self, func: str, kwargs: dict[str, Any]) -> dict:
         """Retreive emeter stats for a time period from children."""
         self._verify_emeter()
         return merge_sums(
             [await getattr(plug, func)(**kwargs) for plug in self.children]
         )
 
     @requires_update
     async def erase_emeter_stats(self):
         """Erase energy meter statistics for all plugs."""
         for plug in self.children:
             await plug.erase_emeter_stats()
 
     @property  # type: ignore
     @requires_update
-    def emeter_this_month(self) -> Optional[float]:
+    def emeter_this_month(self) -> float | None:
         """Return this month's energy consumption in kWh."""
-        return sum(plug.emeter_this_month for plug in self.children)
+        return sum(v if (v := plug.emeter_this_month) else 0 for plug in self.children)
 
     @property  # type: ignore
     @requires_update
-    def emeter_today(self) -> Optional[float]:
+    def emeter_today(self) -> float | None:
         """Return this month's energy consumption in kWh."""
-        return sum(plug.emeter_today for plug in self.children)
+        return sum(v if (v := plug.emeter_today) else 0 for plug in self.children)
 
     @property  # type: ignore
     @requires_update
     def emeter_realtime(self) -> EmeterStatus:
         """Return current energy readings."""
         emeter = merge_sums([plug.emeter_realtime for plug in self.children])
         # Voltage is averaged since each read will result
         # in a slightly different voltage since they are not atomic
         emeter["voltage_mv"] = int(emeter["voltage_mv"] / len(self.children))
         return EmeterStatus(emeter)
 
 
-class SmartStripPlug(SmartPlug):
+class IotStripPlug(IotPlug):
     """Representation of a single socket in a power strip.
 
     This allows you to use the sockets as they were SmartPlug objects.
     Instead of calling an update on any of these, you should call an update
     on the parent device before accessing the properties.
 
     The plug inherits (most of) the system information from the parent.
     """
 
-    def __init__(self, host: str, parent: "SmartStrip", child_id: str) -> None:
+    def __init__(self, host: str, parent: IotStrip, child_id: str) -> None:
         super().__init__(host)
 
         self.parent = parent
         self.child_id = child_id
         self._last_update = parent._last_update
         self._set_sys_info(parent.sys_info)
         self._device_type = DeviceType.StripSocket
-        self.modules = {}
         self.protocol = parent.protocol  # Must use the same connection as the parent
+
+    async def _initialize_modules(self):
+        """Initialize modules not added in init."""
+        await super()._initialize_modules()
         self.add_module("time", Time(self, "time"))
 
     async def update(self, update_children: bool = True):
         """Query the device to update the data.
 
         Needed for properties that are decorated with `requires_update`.
         """
         await self._modular_update({})
 
-    def _create_emeter_request(
-        self, year: Optional[int] = None, month: Optional[int] = None
-    ):
+    def _create_emeter_request(self, year: int | None = None, month: int | None = None):
         """Create a request for requesting all emeter statistics at once."""
         if year is None:
             year = datetime.now().year
         if month is None:
             month = datetime.now().month
 
-        req: Dict[str, Any] = {}
+        req: dict[str, Any] = {}
 
         merge(req, self._create_request("emeter", "get_realtime"))
         merge(req, self._create_request("emeter", "get_monthstat", {"year": year}))
         merge(
             req,
             self._create_request(
                 "emeter", "get_daystat", {"month": month, "year": year}
             ),
         )
 
         return req
 
     def _create_request(
-        self, target: str, cmd: str, arg: Optional[Dict] = None, child_ids=None
+        self, target: str, cmd: str, arg: dict | None = None, child_ids=None
     ):
-        request: Dict[str, Any] = {
+        request: dict[str, Any] = {
             "context": {"child_ids": [self.child_id]},
             target: {cmd: arg},
         }
         return request
 
     async def _query_helper(
-        self, target: str, cmd: str, arg: Optional[Dict] = None, child_ids=None
+        self, target: str, cmd: str, arg: dict | None = None, child_ids=None
     ) -> Any:
         """Override query helper to include the child_ids."""
         return await self.parent._query_helper(
             target, cmd, arg, child_ids=[self.child_id]
         )
 
     @property  # type: ignore
@@ -342,22 +324,22 @@
     def alias(self) -> str:
         """Return device name (alias)."""
         info = self._get_child_info()
         return info["alias"]
 
     @property  # type: ignore
     @requires_update
-    def next_action(self) -> Dict:
+    def next_action(self) -> dict:
         """Return next scheduled(?) action."""
         info = self._get_child_info()
         return info["next_action"]
 
     @property  # type: ignore
     @requires_update
-    def on_since(self) -> Optional[datetime]:
+    def on_since(self) -> datetime | None:
         """Return on-time, if available."""
         if self.is_off:
             return None
 
         info = self._get_child_info()
         on_time = info["on_time"]
 
@@ -366,14 +348,14 @@
     @property  # type: ignore
     @requires_update
     def model(self) -> str:
         """Return device model for a child socket."""
         sys_info = self.parent.sys_info
         return f"Socket for {sys_info['model']}"
 
-    def _get_child_info(self) -> Dict:
+    def _get_child_info(self) -> dict:
         """Return the subdevice information for this device."""
         for plug in self.parent.sys_info["children"]:
             if plug["id"] == self.child_id:
                 return plug
 
-        raise SmartDeviceException(f"Unable to find children {self.child_id}")
+        raise KasaException(f"Unable to find children {self.child_id}")
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/fakeprotocol_iot.py` & `python_kasa-0.7.0.dev0/kasa/tests/fakeprotocol_iot.py`

 * *Files 8% similar despite different names*

```diff
@@ -117,22 +117,78 @@
         "dst_offset": -1,
         "index": 12,
         "tz_str": "test2",
     },
     "set_timezone": None,
 }
 
+CLOUD_MODULE = {
+    "get_info": {
+        "username": "",
+        "server": "devs.tplinkcloud.com",
+        "binded": 0,
+        "cld_connection": 0,
+        "illegalType": -1,
+        "stopConnect": -1,
+        "tcspStatus": -1,
+        "fwDlPage": "",
+        "tcspInfo": "",
+        "fwNotifyType": 0,
+    }
+}
+
+
+AMBIENT_MODULE = {
+    "get_current_brt": {"value": 26, "err_code": 0},
+    "get_config": {
+        "devs": [
+            {
+                "hw_id": 0,
+                "enable": 0,
+                "dark_index": 1,
+                "min_adc": 0,
+                "max_adc": 2450,
+                "level_array": [
+                    {"name": "cloudy", "adc": 490, "value": 20},
+                    {"name": "overcast", "adc": 294, "value": 12},
+                    {"name": "dawn", "adc": 222, "value": 9},
+                    {"name": "twilight", "adc": 222, "value": 9},
+                    {"name": "total darkness", "adc": 111, "value": 4},
+                    {"name": "custom", "adc": 2400, "value": 97},
+                ],
+            }
+        ],
+        "ver": "1.0",
+        "err_code": 0,
+    },
+}
+
+
+MOTION_MODULE = {
+    "get_config": {
+        "enable": 0,
+        "version": "1.0",
+        "trigger_index": 2,
+        "cold_time": 60000,
+        "min_adc": 0,
+        "max_adc": 4095,
+        "array": [80, 50, 20, 0],
+        "err_code": 0,
+    }
+}
+
 
 class FakeIotProtocol(IotProtocol):
     def __init__(self, info):
         super().__init__(
             transport=XorTransport(
                 config=DeviceConfig("127.0.0.123"),
             )
         )
+        info = copy.deepcopy(info)
         self.discovery_data = info
         self.writer = None
         self.reader = None
         proto = copy.deepcopy(FakeIotProtocol.baseproto)
 
         for target in info:
             # print("target %s" % target)
@@ -242,17 +298,17 @@
             new_state = {"dft_on_state": light_state, "on_off": 0}
 
         _LOGGER.debug("New light state: %s", new_state)
         self.proto["system"]["get_sysinfo"]["light_state"] = new_state
 
     def set_preferred_state(self, new_state, *args):
         """Implement set_preferred_state."""
-        self.proto["system"]["get_sysinfo"]["preferred_state"][
-            new_state["index"]
-        ] = new_state
+        self.proto["system"]["get_sysinfo"]["preferred_state"][new_state["index"]] = (
+            new_state
+        )
 
     def light_state(self, x, *args):
         light_state = self.proto["system"]["get_sysinfo"]["light_state"]
         # Our tests have light state off, so we simply return the dft_on_state when device is on.
         _LOGGER.debug("reporting light state: %s", light_state)
         # TODO: hack to go around KL430 fixture differences
         if light_state["on_off"] and "dft_on_state" in light_state:
@@ -301,16 +357,18 @@
         "time": TIME_MODULE,
         "smartlife.iot.common.timesetting": TIME_MODULE,
         # HS220 brightness, different setter and getter
         "smartlife.iot.dimmer": {
             "set_brightness": set_hs220_brightness,
             "set_dimmer_transition": set_hs220_dimmer_transition,
         },
-        "smartlife.iot.LAS": {},
-        "smartlife.iot.PIR": {},
+        "smartlife.iot.LAS": AMBIENT_MODULE,
+        "smartlife.iot.PIR": MOTION_MODULE,
+        "cnCloud": CLOUD_MODULE,
+        "smartlife.iot.common.cloud": CLOUD_MODULE,
     }
 
     async def query(self, request, port=9999):
         proto = self.proto
 
         # collect child ids from context
         try:
@@ -351,8 +409,8 @@
 
             return cmd_responses
 
         response = {}
         for target in request:
             response.update(get_response_for_module(target))
 
-        return response
+        return copy.deepcopy(response)
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/EP10(US)_1.0_1.0.2.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/EP10(US)_1.0_1.0.2.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/EP40(US)_1.0_1.0.2.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/EP40(US)_1.0_1.0.2.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/ES20M(US)_1.0_1.0.8.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/ES20M(US)_1.0_1.0.8.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS100(UK)_1.0_1.2.6.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS100(UK)_1.0_1.2.6.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS100(UK)_4.1_1.1.0.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS100(UK)_4.1_1.1.0.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS100(US)_1.0_1.2.5.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS100(US)_1.0_1.2.5.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS100(US)_2.0_1.5.6.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS100(US)_2.0_1.5.6.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS103(US)_1.0_1.5.7.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS103(US)_1.0_1.5.7.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS103(US)_2.1_1.1.2.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS103(US)_2.1_1.1.2.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS103(US)_2.1_1.1.4.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS103(US)_2.1_1.1.4.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS105(US)_1.0_1.5.6.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS105(US)_1.0_1.5.6.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS105(US)_1.0_mocked.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL430(US)_2.0_1.0.11.json`

 * *Files 27% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.25833333333333336%*

 * *Differences: {"'smartlife.iot.common.emeter'": "{replace: OrderedDict([('get_realtime', "*

 * *                                  "OrderedDict([('err_code', 0), ('power_mw', 600), ('total_wh', "*

 * *                                  '0)]))])}',*

 * * "'system'": "{'get_sysinfo': {'active_mode': 'none', 'alias': '#MASKED_NAME#', 'deviceId': "*

 * *             "'0000000000000000000000000000000000000000', 'hwId': "*

 * *             "'00000000000000000000000000000000', 'hw_ver': '2.0', 'latitude_i': 0, 'longitude_i': "*

 * *             "0, 'model': ' […]*

```diff
@@ -1,47 +1,59 @@
 {
-    "emeter": {
+    "smartlife.iot.common.emeter": {
         "get_realtime": {
-            "err_code": -1,
-            "err_msg": "module not support"
+            "err_code": 0,
+            "power_mw": 600,
+            "total_wh": 0
         }
     },
-    "smartlife.iot.common.emeter": {
-        "err_code": -1,
-        "err_msg": "module not support"
-    },
-    "smartlife.iot.dimmer": {
-        "err_code": -1,
-        "err_msg": "module not support"
-    },
-    "smartlife.iot.smartbulb.lightingservice": {
-        "err_code": -1,
-        "err_msg": "module not support"
-    },
     "system": {
         "get_sysinfo": {
-            "INVALIDlatitude": 79.7779,
-            "INVALIDlongitude": 90.8844,
-            "active_mode": "schedule",
-            "alias": "Mock hs105",
-            "dev_name": "Smart Wi-Fi Plug Mini",
-            "deviceId": "F0723FAFC1FA27FC755B9F228A2297D921FEBCD1",
+            "LEF": 1,
+            "active_mode": "none",
+            "alias": "#MASKED_NAME#",
+            "ctrl_protocols": {
+                "name": "Linkie",
+                "version": "1.0"
+            },
+            "description": "Kasa Smart Light Strip, Multicolor",
+            "dev_state": "normal",
+            "deviceId": "0000000000000000000000000000000000000000",
+            "disco_ver": "1.0",
             "err_code": 0,
-            "feature": "TIM",
-            "hwId": "51E17031929D5FEF9147091AD67B954A",
-            "hw_ver": "1.0",
-            "icon_hash": "",
-            "latitude_i": 79.7779,
-            "led_off": 0,
-            "longitude_i": 90.8844,
-            "mac": "50:c7:bf:ac:c0:6a",
-            "model": "HS105(US)",
-            "oemId": "990ADB7AEDE871C41D1B7613D1FE7A76",
-            "on_time": 0,
-            "relay_state": 0,
-            "rssi": -65,
-            "sw_ver": "1.2.9 Build 170808 Rel.145916",
-            "type": "IOT.SMARTPLUGSWITCH",
-            "updating": 0
+            "hwId": "00000000000000000000000000000000",
+            "hw_ver": "2.0",
+            "is_color": 1,
+            "is_dimmable": 1,
+            "is_factory": false,
+            "is_variable_color_temp": 1,
+            "latitude_i": 0,
+            "length": 16,
+            "light_state": {
+                "dft_on_state": {
+                    "brightness": 100,
+                    "color_temp": 9000,
+                    "hue": 9,
+                    "mode": "normal",
+                    "saturation": 67
+                },
+                "on_off": 0
+            },
+            "lighting_effect_state": {
+                "brightness": 70,
+                "custom": 0,
+                "enable": 0,
+                "id": "joqVjlaTsgzmuQQBAlHRkkPAqkBUiqeb",
+                "name": "Icicle"
+            },
+            "longitude_i": 0,
+            "mic_mac": "E8:48:B8:00:00:00",
+            "mic_type": "IOT.SMARTBULB",
+            "model": "KL430(US)",
+            "oemId": "00000000000000000000000000000000",
+            "preferred_state": [],
+            "rssi": -43,
+            "status": "new",
+            "sw_ver": "1.0.11 Build 220812 Rel.153345"
         }
     }
 }
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS107(US)_1.0_1.0.8.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS107(US)_1.0_1.0.8.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS110(EU)_1.0_1.2.5.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS110(EU)_1.0_1.2.5.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS110(EU)_4.0_1.0.4.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS110(EU)_4.0_1.0.4.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS200(US)_1.0_mocked.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL430(US)_2.0_1.0.8.json`

 * *Files 27% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.25833333333333336%*

 * *Differences: {"'smartlife.iot.common.emeter'": "{replace: OrderedDict([('get_realtime', "*

 * *                                  "OrderedDict([('err_code', 0), ('power_mw', 600), ('total_wh', "*

 * *                                  '0)]))])}',*

 * * "'system'": "{'get_sysinfo': {'active_mode': 'none', 'alias': '89 strip', 'deviceId': "*

 * *             "'0000000000000000000000000000000000000000', 'hwId': "*

 * *             "'00000000000000000000000000000000', 'hw_ver': '2.0', 'latitude_i': 0, 'longitude_i': "*

 * *             "0, 'model': 'KL430 […]*

```diff
@@ -1,47 +1,59 @@
 {
-    "emeter": {
+    "smartlife.iot.common.emeter": {
         "get_realtime": {
-            "err_code": -1,
-            "err_msg": "module not support"
+            "err_code": 0,
+            "power_mw": 600,
+            "total_wh": 0
         }
     },
-    "smartlife.iot.common.emeter": {
-        "err_code": -1,
-        "err_msg": "module not support"
-    },
-    "smartlife.iot.dimmer": {
-        "err_code": -1,
-        "err_msg": "module not support"
-    },
-    "smartlife.iot.smartbulb.lightingservice": {
-        "err_code": -1,
-        "err_msg": "module not support"
-    },
     "system": {
         "get_sysinfo": {
-            "active_mode": "schedule",
-            "alias": "Mock hs200",
-            "dev_name": "Wi-Fi Smart Light Switch",
-            "deviceId": "EC565185337CF59A4C9A73442AAD5F11C6E91716",
+            "LEF": 1,
+            "active_mode": "none",
+            "alias": "89 strip",
+            "ctrl_protocols": {
+                "name": "Linkie",
+                "version": "1.0"
+            },
+            "description": "Kasa Smart Light Strip, Multicolor",
+            "dev_state": "normal",
+            "deviceId": "0000000000000000000000000000000000000000",
+            "disco_ver": "1.0",
             "err_code": 0,
-            "feature": "TIM",
-            "hwId": "4B5DB5E42F13728107D075EF5C3ECFA1",
-            "hw_ver": "1.0",
-            "icon_hash": "",
-            "latitude": 58.7882,
-            "latitude_i": 58.7882,
-            "led_off": 0,
-            "longitude": 107.7225,
-            "longitude_i": 107.7225,
-            "mac": "50:c7:bf:95:4b:45",
-            "model": "HS200(US)",
-            "oemId": "D2A5D690B25980755216FD684AF8CD88",
-            "on_time": 0,
-            "relay_state": 0,
-            "rssi": -65,
-            "sw_ver": "1.1.0 Build 160521 Rel.085826",
-            "type": "IOT.SMARTPLUGSWITCH",
-            "updating": 0
+            "hwId": "00000000000000000000000000000000",
+            "hw_ver": "2.0",
+            "is_color": 1,
+            "is_dimmable": 1,
+            "is_factory": false,
+            "is_variable_color_temp": 1,
+            "latitude_i": 0,
+            "length": 16,
+            "light_state": {
+                "dft_on_state": {
+                    "brightness": 50,
+                    "color_temp": 0,
+                    "hue": 30,
+                    "mode": "normal",
+                    "saturation": 100
+                },
+                "on_off": 0
+            },
+            "lighting_effect_state": {
+                "brightness": 50,
+                "custom": 0,
+                "enable": 0,
+                "id": "",
+                "name": "station"
+            },
+            "longitude_i": 0,
+            "mic_mac": "00:00:00:00:00:00",
+            "mic_type": "IOT.SMARTBULB",
+            "model": "KL430(US)",
+            "oemId": "00000000000000000000000000000000",
+            "preferred_state": [],
+            "rssi": -61,
+            "status": "new",
+            "sw_ver": "1.0.8 Build 210121 Rel.084339"
         }
     }
 }
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS200(US)_2.0_1.5.7.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS200(US)_2.0_1.5.7.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS200(US)_5.0_1.0.2.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS200(US)_5.0_1.0.2.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS210(US)_1.0_1.5.8.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS210(US)_1.0_1.5.8.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS220(US)_1.0_1.5.7.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS220(US)_1.0_1.5.7.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS220(US)_1.0_mocked.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL430(US)_1.0_1.0.10.json`

 * *Files 22% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.6602564102564102%*

 * *Differences: {"'emeter'": "{replace: OrderedDict([('err_code', -1), ('err_msg', 'module not support')])}",*

 * * "'smartlife.iot.common.emeter'": "{replace: OrderedDict([('get_realtime', "*

 * *                                  "OrderedDict([('current_ma', 0), ('err_code', 0), ('power_mw', "*

 * *                                  "8729), ('total_wh', 21), ('voltage_mv', 0)]))])}",*

 * * "'smartlife.iot.dimmer'": "{replace: OrderedDict([('err_code', -1), ('err_msg', 'module not "*

 * *                           "support')])}",*

 * * "'system'": "{'ge […]*

```diff
@@ -1,75 +1,70 @@
 {
     "emeter": {
-        "get_realtime": {
-            "err_code": -1,
-            "err_msg": "module not support"
-        }
-    },
-    "smartlife.iot.common.emeter": {
         "err_code": -1,
         "err_msg": "module not support"
     },
-    "smartlife.iot.dimmer": {
-        "get_dimmer_parameters": {
-            "bulb_type": 1,
+    "smartlife.iot.common.emeter": {
+        "get_realtime": {
+            "current_ma": 0,
             "err_code": 0,
-            "fadeOffTime": 3000,
-            "fadeOnTime": 3000,
-            "gentleOffTime": 510000,
-            "gentleOnTime": 3000,
-            "minThreshold": 0,
-            "rampRate": 30
+            "power_mw": 8729,
+            "total_wh": 21,
+            "voltage_mv": 0
         }
     },
+    "smartlife.iot.dimmer": {
+        "err_code": -1,
+        "err_msg": "module not support"
+    },
     "smartlife.iot.smartbulb.lightingservice": {
         "err_code": -1,
         "err_msg": "module not support"
     },
     "system": {
         "get_sysinfo": {
-            "INVALIDlatitude": 11.621,
-            "INVALIDlongitude": 42.2074,
-            "active_mode": "count_down",
-            "alias": "Mock hs220",
-            "brightness": 50,
-            "dev_name": "Smart Wi-Fi Dimmer",
-            "deviceId": "98E16F2D5ED204F3094CF472260237133DC0D547",
+            "active_mode": "none",
+            "alias": "KL430 pantry lightstrip",
+            "ctrl_protocols": {
+                "name": "Linkie",
+                "version": "1.0"
+            },
+            "description": "Kasa Smart Light Strip, Multicolor",
+            "dev_state": "normal",
+            "deviceId": "0000000000000000000000000000000000000000",
+            "disco_ver": "1.0",
             "err_code": 0,
-            "feature": "TIM",
-            "hwId": "231004CCCDB6C0B8FC7A3260C3470257",
+            "hwId": "00000000000000000000000000000000",
             "hw_ver": "1.0",
-            "icon_hash": "",
-            "latitude_i": 11.621,
-            "led_off": 0,
-            "longitude_i": 42.2074,
-            "mac": "50:c7:bf:af:75:5d",
-            "mic_type": "IOT.SMARTPLUGSWITCH",
-            "model": "HS220(US)",
-            "oemId": "8FBD0F3CCF7E82836DC7996C524EF772",
-            "on_time": 0,
-            "preferred_state": [
-                {
-                    "brightness": 100,
-                    "index": 0
-                },
-                {
-                    "brightness": 75,
-                    "index": 1
-                },
-                {
-                    "brightness": 50,
-                    "index": 2
-                },
-                {
-                    "brightness": 25,
-                    "index": 3
-                }
-            ],
-            "relay_state": 0,
-            "rssi": -65,
-            "sw_ver": "1.5.7 Build 180912 Rel.104837",
-            "type": "IOT.SMARTPLUGSWITCH",
-            "updating": 0
+            "is_color": 1,
+            "is_dimmable": 1,
+            "is_factory": false,
+            "is_variable_color_temp": 1,
+            "latitude_i": 0,
+            "length": 16,
+            "light_state": {
+                "brightness": 50,
+                "color_temp": 3630,
+                "hue": 0,
+                "mode": "normal",
+                "on_off": 1,
+                "saturation": 0
+            },
+            "lighting_effect_state": {
+                "brightness": 50,
+                "custom": 0,
+                "enable": 0,
+                "id": "",
+                "name": ""
+            },
+            "longitude_i": 0,
+            "mic_mac": "CC32E5230F55",
+            "mic_type": "IOT.SMARTBULB",
+            "model": "KL430(US)",
+            "oemId": "00000000000000000000000000000000",
+            "preferred_state": [],
+            "rssi": -56,
+            "status": "new",
+            "sw_ver": "1.0.10 Build 200522 Rel.104340"
         }
     }
 }
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS220(US)_2.0_1.0.3.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS220(US)_2.0_1.0.3.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS300(US)_1.0_1.0.10.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS300(US)_1.0_1.0.10.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS300(US)_2.0_1.0.12.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS300(US)_2.0_1.0.12.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/HS300(US)_2.0_1.0.3.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/HS300(US)_2.0_1.0.3.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KL110(US)_1.0_1.8.11.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL110(US)_1.0_1.8.11.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KL120(US)_1.0_1.8.6.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL120(US)_1.0_1.8.6.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KL125(US)_1.20_1.0.5.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL125(US)_1.20_1.0.5.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KL125(US)_2.0_1.0.7.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL125(US)_2.0_1.0.7.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KL125(US)_4.0_1.0.5.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL125(US)_4.0_1.0.5.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KL130(EU)_1.0_1.8.8.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL130(EU)_1.0_1.8.8.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KL130(US)_1.0_1.8.11.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL130(US)_1.0_1.8.11.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KL135(US)_1.0_1.0.6.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL135(US)_1.0_1.0.6.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KL400L5(US)_1.0_1.0.5.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL400L5(US)_1.0_1.0.5.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KL400L5(US)_1.0_1.0.8.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL400L5(US)_1.0_1.0.8.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KL420L5(US)_1.0_1.0.2.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL420L5(US)_1.0_1.0.2.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KL430(UN)_2.0_1.0.8.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL430(UN)_2.0_1.0.8.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KL430(US)_1.0_1.0.10.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL430(US)_2.0_1.0.9.json`

 * *Files 13% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.3630952380952381%*

 * *Differences: {"'smartlife.iot.common.emeter'": "{'get_realtime': {'power_mw': 11150, 'total_wh': 18, delete: "*

 * *                                  "['current_ma', 'voltage_mv']}}",*

 * * "'system'": "{'get_sysinfo': {'alias': 'kl430 updated', 'hw_ver': '2.0', 'light_state': "*

 * *             "{'brightness': 100, 'color_temp': 0, 'hue': 194, 'saturation': 50}, "*

 * *             "'lighting_effect_state': {'brightness': 100, 'enable': 1, 'id': "*

 * *             "'izRhLCQNcDzIKdpMPqSTtBMuAIoreAuT', 'name': 'Rainbow'}, 'mic_mac': "*

 * *         […]*

```diff
@@ -1,70 +1,57 @@
 {
-    "emeter": {
-        "err_code": -1,
-        "err_msg": "module not support"
-    },
     "smartlife.iot.common.emeter": {
         "get_realtime": {
-            "current_ma": 0,
             "err_code": 0,
-            "power_mw": 8729,
-            "total_wh": 21,
-            "voltage_mv": 0
+            "power_mw": 11150,
+            "total_wh": 18
         }
     },
-    "smartlife.iot.dimmer": {
-        "err_code": -1,
-        "err_msg": "module not support"
-    },
-    "smartlife.iot.smartbulb.lightingservice": {
-        "err_code": -1,
-        "err_msg": "module not support"
-    },
     "system": {
         "get_sysinfo": {
+            "LEF": 1,
             "active_mode": "none",
-            "alias": "KL430 pantry lightstrip",
+            "alias": "kl430 updated",
             "ctrl_protocols": {
                 "name": "Linkie",
                 "version": "1.0"
             },
             "description": "Kasa Smart Light Strip, Multicolor",
             "dev_state": "normal",
             "deviceId": "0000000000000000000000000000000000000000",
             "disco_ver": "1.0",
             "err_code": 0,
             "hwId": "00000000000000000000000000000000",
-            "hw_ver": "1.0",
+            "hw_ver": "2.0",
             "is_color": 1,
             "is_dimmable": 1,
             "is_factory": false,
             "is_variable_color_temp": 1,
             "latitude_i": 0,
             "length": 16,
             "light_state": {
-                "brightness": 50,
-                "color_temp": 3630,
-                "hue": 0,
+                "brightness": 100,
+                "color_temp": 0,
+                "hue": 194,
                 "mode": "normal",
                 "on_off": 1,
-                "saturation": 0
+                "saturation": 50
             },
             "lighting_effect_state": {
-                "brightness": 50,
+                "brightness": 100,
                 "custom": 0,
-                "enable": 0,
-                "id": "",
-                "name": ""
+                "enable": 1,
+                "id": "izRhLCQNcDzIKdpMPqSTtBMuAIoreAuT",
+                "name": "Rainbow"
             },
             "longitude_i": 0,
-            "mic_mac": "CC32E5230F55",
+            "mic_mac": "00:00:00:00:00:00",
             "mic_type": "IOT.SMARTBULB",
             "model": "KL430(US)",
             "oemId": "00000000000000000000000000000000",
             "preferred_state": [],
-            "rssi": -56,
+            "rssi": -58,
             "status": "new",
-            "sw_ver": "1.0.10 Build 200522 Rel.104340"
+            "sw_ver": "1.0.9 Build 210915 Rel.170534"
         }
     }
 }
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KL430(US)_2.0_1.0.11.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP115(EU)_1.0_1.0.16.json`

 * *Files 20% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.27457264957264954%*

 * *Differences: {"'emeter'": "OrderedDict([('get_realtime', OrderedDict([('current_ma', 296), ('err_code', 0), "*

 * *             "('power_mw', 63499), ('total_wh', 12068), ('voltage_mv', 230577)]))])",*

 * * "'system'": "{'get_sysinfo': {'hw_ver': '1.0', 'mic_type': 'IOT.SMARTPLUGSWITCH', 'model': "*

 * *             "'KP115(EU)', 'rssi': -49, 'sw_ver': '1.0.16 Build 210205 Rel.163735', 'dev_name': "*

 * *             "'Smart Wi-Fi Plug Mini', 'feature': 'TIM:ENE', 'icon_hash': '', 'led_off': 1, 'mac': "*

 * *             "'C0:06:C3:00:00:00', ' […]*

```diff
@@ -1,59 +1,42 @@
 {
-    "smartlife.iot.common.emeter": {
+    "emeter": {
         "get_realtime": {
+            "current_ma": 296,
             "err_code": 0,
-            "power_mw": 600,
-            "total_wh": 0
+            "power_mw": 63499,
+            "total_wh": 12068,
+            "voltage_mv": 230577
         }
     },
     "system": {
         "get_sysinfo": {
-            "LEF": 1,
             "active_mode": "none",
             "alias": "#MASKED_NAME#",
-            "ctrl_protocols": {
-                "name": "Linkie",
-                "version": "1.0"
-            },
-            "description": "Kasa Smart Light Strip, Multicolor",
-            "dev_state": "normal",
+            "dev_name": "Smart Wi-Fi Plug Mini",
             "deviceId": "0000000000000000000000000000000000000000",
-            "disco_ver": "1.0",
             "err_code": 0,
+            "feature": "TIM:ENE",
             "hwId": "00000000000000000000000000000000",
-            "hw_ver": "2.0",
-            "is_color": 1,
-            "is_dimmable": 1,
-            "is_factory": false,
-            "is_variable_color_temp": 1,
+            "hw_ver": "1.0",
+            "icon_hash": "",
             "latitude_i": 0,
-            "length": 16,
-            "light_state": {
-                "dft_on_state": {
-                    "brightness": 100,
-                    "color_temp": 9000,
-                    "hue": 9,
-                    "mode": "normal",
-                    "saturation": 67
-                },
-                "on_off": 0
-            },
-            "lighting_effect_state": {
-                "brightness": 70,
-                "custom": 0,
-                "enable": 0,
-                "id": "joqVjlaTsgzmuQQBAlHRkkPAqkBUiqeb",
-                "name": "Icicle"
-            },
+            "led_off": 1,
             "longitude_i": 0,
-            "mic_mac": "E8:48:B8:00:00:00",
-            "mic_type": "IOT.SMARTBULB",
-            "model": "KL430(US)",
+            "mac": "C0:06:C3:00:00:00",
+            "mic_type": "IOT.SMARTPLUGSWITCH",
+            "model": "KP115(EU)",
+            "next_action": {
+                "type": -1
+            },
+            "ntc_state": 0,
+            "obd_src": "tplink",
             "oemId": "00000000000000000000000000000000",
-            "preferred_state": [],
-            "rssi": -43,
+            "on_time": 2078998,
+            "relay_state": 1,
+            "rssi": -49,
             "status": "new",
-            "sw_ver": "1.0.11 Build 220812 Rel.153345"
+            "sw_ver": "1.0.16 Build 210205 Rel.163735",
+            "updating": 0
         }
     }
 }
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KL430(US)_2.0_1.0.8.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP200(US)_3.0_1.0.3.json`

 * *Files 16% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.4097222222222222%*

 * *Differences: {"'system'": "{'get_sysinfo': {'alias': 'TP-LINK_Smart Plug_C2D6', 'hw_ver': '3.0', 'mic_type': "*

 * *             "'IOT.SMARTPLUGSWITCH', 'model': 'KP200(US)', 'rssi': -50, 'sw_ver': '1.0.3 Build "*

 * *             "221021 Rel.183354', 'child_num': 2, 'children': [OrderedDict([('alias', 'One '), "*

 * *             "('id', '80066788DFFFD572D9F2E4A5A6847669213E039F00'), ('next_action', "*

 * *             "OrderedDict([('type', -1)])), ('on_time', 43), ('state', 1)]), "*

 * *             "OrderedDict([('alias', 'Two '), ('id', "*

 * * […]*

```diff
@@ -1,59 +1,46 @@
 {
-    "smartlife.iot.common.emeter": {
-        "get_realtime": {
-            "err_code": 0,
-            "power_mw": 600,
-            "total_wh": 0
-        }
-    },
     "system": {
         "get_sysinfo": {
-            "LEF": 1,
-            "active_mode": "none",
-            "alias": "89 strip",
-            "ctrl_protocols": {
-                "name": "Linkie",
-                "version": "1.0"
-            },
-            "description": "Kasa Smart Light Strip, Multicolor",
-            "dev_state": "normal",
+            "alias": "TP-LINK_Smart Plug_C2D6",
+            "child_num": 2,
+            "children": [
+                {
+                    "alias": "One ",
+                    "id": "80066788DFFFD572D9F2E4A5A6847669213E039F00",
+                    "next_action": {
+                        "type": -1
+                    },
+                    "on_time": 43,
+                    "state": 1
+                },
+                {
+                    "alias": "Two ",
+                    "id": "80066788DFFFD572D9F2E4A5A6847669213E039F01",
+                    "next_action": {
+                        "type": -1
+                    },
+                    "on_time": 44,
+                    "state": 1
+                }
+            ],
             "deviceId": "0000000000000000000000000000000000000000",
-            "disco_ver": "1.0",
             "err_code": 0,
+            "feature": "TIM",
             "hwId": "00000000000000000000000000000000",
-            "hw_ver": "2.0",
-            "is_color": 1,
-            "is_dimmable": 1,
-            "is_factory": false,
-            "is_variable_color_temp": 1,
+            "hw_ver": "3.0",
             "latitude_i": 0,
-            "length": 16,
-            "light_state": {
-                "dft_on_state": {
-                    "brightness": 50,
-                    "color_temp": 0,
-                    "hue": 30,
-                    "mode": "normal",
-                    "saturation": 100
-                },
-                "on_off": 0
-            },
-            "lighting_effect_state": {
-                "brightness": 50,
-                "custom": 0,
-                "enable": 0,
-                "id": "",
-                "name": "station"
-            },
+            "led_off": 0,
             "longitude_i": 0,
-            "mic_mac": "00:00:00:00:00:00",
-            "mic_type": "IOT.SMARTBULB",
-            "model": "KL430(US)",
+            "mac": "00:00:00:00:00:00",
+            "mic_type": "IOT.SMARTPLUGSWITCH",
+            "model": "KP200(US)",
+            "ntc_state": 0,
+            "obd_src": "tplink",
             "oemId": "00000000000000000000000000000000",
-            "preferred_state": [],
-            "rssi": -61,
+            "rssi": -50,
             "status": "new",
-            "sw_ver": "1.0.8 Build 210121 Rel.084339"
+            "sw_ver": "1.0.3 Build 221021 Rel.183354",
+            "updating": 0
         }
     }
 }
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KL50(US)_1.0_1.1.13.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL50(US)_1.0_1.1.13.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KL60(UN)_1.0_1.1.4.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL60(UN)_1.0_1.1.4.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KL60(US)_1.0_1.1.13.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KL60(US)_1.0_1.1.13.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KP100(US)_3.0_1.0.1.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP100(US)_3.0_1.0.1.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KP105(UK)_1.0_1.0.5.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP105(UK)_1.0_1.0.5.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KP105(UK)_1.0_1.0.7.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP105(UK)_1.0_1.0.7.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KP115(EU)_1.0_1.0.16.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP125(US)_1.0_1.0.6.json`

 * *Files 14% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.9299999999999999%*

 * *Differences: {"'emeter'": "{'get_realtime': {'current_ma': 978, 'power_mw': 100277, 'total_wh': 12170, "*

 * *             "'voltage_mv': 119425}}",*

 * * "'system'": "{'get_sysinfo': {'alias': 'Test plug', 'led_off': 0, 'mac': '00:00:00:00:00:00', "*

 * *             "'model': 'KP125(US)', 'on_time': 301, 'rssi': -41, 'status': 'configured', 'sw_ver': "*

 * *             "'1.0.6 Build 210928 Rel.185924'}}"}*

```diff
@@ -1,42 +1,42 @@
 {
     "emeter": {
         "get_realtime": {
-            "current_ma": 296,
+            "current_ma": 978,
             "err_code": 0,
-            "power_mw": 63499,
-            "total_wh": 12068,
-            "voltage_mv": 230577
+            "power_mw": 100277,
+            "total_wh": 12170,
+            "voltage_mv": 119425
         }
     },
     "system": {
         "get_sysinfo": {
             "active_mode": "none",
-            "alias": "#MASKED_NAME#",
+            "alias": "Test plug",
             "dev_name": "Smart Wi-Fi Plug Mini",
             "deviceId": "0000000000000000000000000000000000000000",
             "err_code": 0,
             "feature": "TIM:ENE",
             "hwId": "00000000000000000000000000000000",
             "hw_ver": "1.0",
             "icon_hash": "",
             "latitude_i": 0,
-            "led_off": 1,
+            "led_off": 0,
             "longitude_i": 0,
-            "mac": "C0:06:C3:00:00:00",
+            "mac": "00:00:00:00:00:00",
             "mic_type": "IOT.SMARTPLUGSWITCH",
-            "model": "KP115(EU)",
+            "model": "KP125(US)",
             "next_action": {
                 "type": -1
             },
             "ntc_state": 0,
             "obd_src": "tplink",
             "oemId": "00000000000000000000000000000000",
-            "on_time": 2078998,
+            "on_time": 301,
             "relay_state": 1,
-            "rssi": -49,
-            "status": "new",
-            "sw_ver": "1.0.16 Build 210205 Rel.163735",
+            "rssi": -41,
+            "status": "configured",
+            "sw_ver": "1.0.6 Build 210928 Rel.185924",
             "updating": 0
         }
     }
 }
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KP115(US)_1.0_1.0.17.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP115(US)_1.0_1.0.17.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KP115(US)_1.0_1.0.21.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP115(US)_1.0_1.0.21.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KP125(US)_1.0_1.0.6.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP303(US)_2.0_1.0.3.json`

 * *Files 20% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.44212962962962965%*

 * *Differences: {"'system'": "{'get_sysinfo': {'alias': 'TP-LINK_Power Strip_BDF6', 'feature': 'TIM', 'hw_ver': "*

 * *             "'2.0', 'model': 'KP303(US)', 'rssi': -56, 'status': 'new', 'sw_ver': '1.0.3 Build "*

 * *             "201015 Rel.173920', 'child_num': 3, 'children': [OrderedDict([('alias', 'Plug 1'), "*

 * *             "('id', '800681855E0E9AEF096F4891B3DC88C71E59F42E00'), ('next_action', "*

 * *             "OrderedDict([('type', -1)])), ('on_time', 0), ('state', 0)]), OrderedDict([('alias', "*

 * *             "'Plug 2'), ('id' […]*

```diff
@@ -1,42 +1,54 @@
 {
-    "emeter": {
-        "get_realtime": {
-            "current_ma": 978,
-            "err_code": 0,
-            "power_mw": 100277,
-            "total_wh": 12170,
-            "voltage_mv": 119425
-        }
-    },
     "system": {
         "get_sysinfo": {
-            "active_mode": "none",
-            "alias": "Test plug",
-            "dev_name": "Smart Wi-Fi Plug Mini",
+            "alias": "TP-LINK_Power Strip_BDF6",
+            "child_num": 3,
+            "children": [
+                {
+                    "alias": "Plug 1",
+                    "id": "800681855E0E9AEF096F4891B3DC88C71E59F42E00",
+                    "next_action": {
+                        "type": -1
+                    },
+                    "on_time": 0,
+                    "state": 0
+                },
+                {
+                    "alias": "Plug 2",
+                    "id": "800681855E0E9AEF096F4891B3DC88C71E59F42E01",
+                    "next_action": {
+                        "type": -1
+                    },
+                    "on_time": 0,
+                    "state": 0
+                },
+                {
+                    "alias": "Plug 3",
+                    "id": "800681855E0E9AEF096F4891B3DC88C71E59F42E02",
+                    "next_action": {
+                        "type": -1
+                    },
+                    "on_time": 0,
+                    "state": 0
+                }
+            ],
             "deviceId": "0000000000000000000000000000000000000000",
             "err_code": 0,
-            "feature": "TIM:ENE",
+            "feature": "TIM",
             "hwId": "00000000000000000000000000000000",
-            "hw_ver": "1.0",
-            "icon_hash": "",
+            "hw_ver": "2.0",
             "latitude_i": 0,
             "led_off": 0,
             "longitude_i": 0,
             "mac": "00:00:00:00:00:00",
             "mic_type": "IOT.SMARTPLUGSWITCH",
-            "model": "KP125(US)",
-            "next_action": {
-                "type": -1
-            },
+            "model": "KP303(US)",
             "ntc_state": 0,
-            "obd_src": "tplink",
             "oemId": "00000000000000000000000000000000",
-            "on_time": 301,
-            "relay_state": 1,
-            "rssi": -41,
-            "status": "configured",
-            "sw_ver": "1.0.6 Build 210928 Rel.185924",
+            "rssi": -56,
+            "status": "new",
+            "sw_ver": "1.0.3 Build 201015 Rel.173920",
             "updating": 0
         }
     }
 }
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KP200(US)_3.0_1.0.3.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP303(UK)_1.0_1.0.3.json`

 * *Files 21% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.9371031746031746%*

 * *Differences: {"'system'": "{'get_sysinfo': {'alias': 'TP-LINK_Power Strip_CF69', 'child_num': 3, 'children': "*

 * *             "{0: {'alias': 'Plug 1', 'id': '8006E9854025B67C3F9D99BA1E66223D1C9A8A7700', "*

 * *             "'on_time': 79701}, 2: {'alias': 'Plug 3', 'id': "*

 * *             "'8006E9854025B67C3F9D99BA1E66223D1C9A8A7702', 'on_time': 1484408, 'state': 0}, "*

 * *             "insert: [(1, OrderedDict([('alias', 'Plug 2'), ('id', "*

 * *             "'8006E9854025B67C3F9D99BA1E66223D1C9A8A7701'), ('next_action', OrderedDict([('t […]*

```diff
@@ -1,46 +1,54 @@
 {
     "system": {
         "get_sysinfo": {
-            "alias": "TP-LINK_Smart Plug_C2D6",
-            "child_num": 2,
+            "alias": "TP-LINK_Power Strip_CF69",
+            "child_num": 3,
             "children": [
                 {
-                    "alias": "One ",
-                    "id": "80066788DFFFD572D9F2E4A5A6847669213E039F00",
+                    "alias": "Plug 1",
+                    "id": "8006E9854025B67C3F9D99BA1E66223D1C9A8A7700",
                     "next_action": {
                         "type": -1
                     },
-                    "on_time": 43,
+                    "on_time": 79701,
                     "state": 1
                 },
                 {
-                    "alias": "Two ",
-                    "id": "80066788DFFFD572D9F2E4A5A6847669213E039F01",
+                    "alias": "Plug 2",
+                    "id": "8006E9854025B67C3F9D99BA1E66223D1C9A8A7701",
                     "next_action": {
                         "type": -1
                     },
-                    "on_time": 44,
-                    "state": 1
+                    "on_time": 79700,
+                    "state": 0
+                },
+                {
+                    "alias": "Plug 3",
+                    "id": "8006E9854025B67C3F9D99BA1E66223D1C9A8A7702",
+                    "next_action": {
+                        "type": -1
+                    },
+                    "on_time": 1484408,
+                    "state": 0
                 }
             ],
             "deviceId": "0000000000000000000000000000000000000000",
             "err_code": 0,
             "feature": "TIM",
             "hwId": "00000000000000000000000000000000",
-            "hw_ver": "3.0",
+            "hw_ver": "1.0",
             "latitude_i": 0,
-            "led_off": 0,
+            "led_off": 1,
             "longitude_i": 0,
-            "mac": "00:00:00:00:00:00",
+            "mac": "1C:3B:F3:00:00:00",
             "mic_type": "IOT.SMARTPLUGSWITCH",
-            "model": "KP200(US)",
+            "model": "KP303(UK)",
             "ntc_state": 0,
-            "obd_src": "tplink",
             "oemId": "00000000000000000000000000000000",
-            "rssi": -50,
+            "rssi": -68,
             "status": "new",
-            "sw_ver": "1.0.3 Build 221021 Rel.183354",
+            "sw_ver": "1.0.3 Build 191105 Rel.113122",
             "updating": 0
         }
     }
 }
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KP303(UK)_1.0_1.0.3.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP400(US)_1.0_1.0.10.json`

 * *Files 21% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.19054861111111113%*

 * *Differences: {"'emeter'": "OrderedDict([('err_code', -1), ('err_msg', 'module not support')])",*

 * * "'smartlife.iot.common.emeter'": "OrderedDict([('err_code', -1), ('err_msg', 'module not "*

 * *                                  "support')])",*

 * * "'smartlife.iot.dimmer'": "OrderedDict([('err_code', -1), ('err_msg', 'module not support')])",*

 * * "'smartlife.iot.smartbulb.lightingservice'": "OrderedDict([('err_code', -1), ('err_msg', 'module "*

 * *                                              "not support')])",*

 * * "'system'": "{'get_sysinf […]*

```diff
@@ -1,54 +1,63 @@
 {
+    "emeter": {
+        "err_code": -1,
+        "err_msg": "module not support"
+    },
+    "smartlife.iot.common.emeter": {
+        "err_code": -1,
+        "err_msg": "module not support"
+    },
+    "smartlife.iot.dimmer": {
+        "err_code": -1,
+        "err_msg": "module not support"
+    },
+    "smartlife.iot.smartbulb.lightingservice": {
+        "err_code": -1,
+        "err_msg": "module not support"
+    },
     "system": {
         "get_sysinfo": {
-            "alias": "TP-LINK_Power Strip_CF69",
-            "child_num": 3,
+            "alias": "TP-LINK_Smart Plug_2ECE",
+            "child_num": 2,
             "children": [
                 {
-                    "alias": "Plug 1",
-                    "id": "8006E9854025B67C3F9D99BA1E66223D1C9A8A7700",
+                    "alias": "Rope",
+                    "id": "00",
                     "next_action": {
-                        "type": -1
-                    },
-                    "on_time": 79701,
-                    "state": 1
-                },
-                {
-                    "alias": "Plug 2",
-                    "id": "8006E9854025B67C3F9D99BA1E66223D1C9A8A7701",
-                    "next_action": {
-                        "type": -1
+                        "action": 1,
+                        "schd_sec": 69240,
+                        "type": 1
                     },
-                    "on_time": 79700,
+                    "on_time": 0,
                     "state": 0
                 },
                 {
-                    "alias": "Plug 3",
-                    "id": "8006E9854025B67C3F9D99BA1E66223D1C9A8A7702",
+                    "alias": "Plug 2",
+                    "id": "01",
                     "next_action": {
                         "type": -1
                     },
-                    "on_time": 1484408,
+                    "on_time": 0,
                     "state": 0
                 }
             ],
             "deviceId": "0000000000000000000000000000000000000000",
             "err_code": 0,
             "feature": "TIM",
             "hwId": "00000000000000000000000000000000",
             "hw_ver": "1.0",
             "latitude_i": 0,
-            "led_off": 1,
+            "led_off": 0,
             "longitude_i": 0,
-            "mac": "1C:3B:F3:00:00:00",
+            "mac": "00:00:00:00:00:00",
             "mic_type": "IOT.SMARTPLUGSWITCH",
-            "model": "KP303(UK)",
+            "model": "KP400(US)",
             "ntc_state": 0,
             "oemId": "00000000000000000000000000000000",
-            "rssi": -68,
+            "rssi": -78,
             "status": "new",
-            "sw_ver": "1.0.3 Build 191105 Rel.113122",
+            "sw_ver": "1.0.10 Build 190716 Rel.095026",
             "updating": 0
         }
     }
 }
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KP400(US)_1.0_1.0.10.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KS230(US)_1.0_1.0.14.json`

 * *Files 27% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.2775862068965517%*

 * *Differences: {"'smartlife.iot.dimmer'": "{replace: OrderedDict([('get_dimmer_parameters', "*

 * *                           "OrderedDict([('bulb_type', 1), ('err_code', 0), ('fadeOffTime', 1000), "*

 * *                           "('fadeOnTime', 1000), ('gentleOffTime', 10000), ('gentleOnTime', "*

 * *                           "3000), ('minThreshold', 11), ('rampRate', 30)]))])}",*

 * * "'system'": "{'get_sysinfo': {'alias': 'Test KS230', 'model': 'KS230(US)', 'rssi': -52, 'sw_ver': "*

 * *             "'1.0.14 Build 220127 Rel.124555', 'activ […]*

```diff
@@ -1,63 +1,64 @@
 {
-    "emeter": {
-        "err_code": -1,
-        "err_msg": "module not support"
-    },
-    "smartlife.iot.common.emeter": {
-        "err_code": -1,
-        "err_msg": "module not support"
-    },
     "smartlife.iot.dimmer": {
-        "err_code": -1,
-        "err_msg": "module not support"
-    },
-    "smartlife.iot.smartbulb.lightingservice": {
-        "err_code": -1,
-        "err_msg": "module not support"
+        "get_dimmer_parameters": {
+            "bulb_type": 1,
+            "err_code": 0,
+            "fadeOffTime": 1000,
+            "fadeOnTime": 1000,
+            "gentleOffTime": 10000,
+            "gentleOnTime": 3000,
+            "minThreshold": 11,
+            "rampRate": 30
+        }
     },
     "system": {
         "get_sysinfo": {
-            "alias": "TP-LINK_Smart Plug_2ECE",
-            "child_num": 2,
-            "children": [
-                {
-                    "alias": "Rope",
-                    "id": "00",
-                    "next_action": {
-                        "action": 1,
-                        "schd_sec": 69240,
-                        "type": 1
-                    },
-                    "on_time": 0,
-                    "state": 0
-                },
-                {
-                    "alias": "Plug 2",
-                    "id": "01",
-                    "next_action": {
-                        "type": -1
-                    },
-                    "on_time": 0,
-                    "state": 0
-                }
-            ],
+            "active_mode": "none",
+            "alias": "Test KS230",
+            "brightness": 60,
+            "dc_state": 0,
+            "dev_name": "Wi-Fi Smart 3-Way Dimmer",
             "deviceId": "0000000000000000000000000000000000000000",
             "err_code": 0,
             "feature": "TIM",
             "hwId": "00000000000000000000000000000000",
             "hw_ver": "1.0",
+            "icon_hash": "",
             "latitude_i": 0,
             "led_off": 0,
             "longitude_i": 0,
             "mac": "00:00:00:00:00:00",
             "mic_type": "IOT.SMARTPLUGSWITCH",
-            "model": "KP400(US)",
+            "model": "KS230(US)",
+            "next_action": {
+                "type": -1
+            },
             "ntc_state": 0,
             "oemId": "00000000000000000000000000000000",
-            "rssi": -78,
+            "on_time": 0,
+            "preferred_state": [
+                {
+                    "brightness": 100,
+                    "index": 0
+                },
+                {
+                    "brightness": 75,
+                    "index": 1
+                },
+                {
+                    "brightness": 50,
+                    "index": 2
+                },
+                {
+                    "brightness": 25,
+                    "index": 3
+                }
+            ],
+            "relay_state": 0,
+            "rssi": -52,
             "status": "new",
-            "sw_ver": "1.0.10 Build 190716 Rel.095026",
+            "sw_ver": "1.0.14 Build 220127 Rel.124555",
             "updating": 0
         }
     }
 }
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KP400(US)_2.0_1.0.6.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP400(US)_2.0_1.0.6.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KP401(US)_1.0_1.0.0.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP401(US)_1.0_1.0.0.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KP405(US)_1.0_1.0.5.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KP405(US)_1.0_1.0.5.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KS200M(US)_1.0_1.0.8.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KS200M(US)_1.0_1.0.8.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/KS220M(US)_1.0_1.0.4.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/KS220M(US)_1.0_1.0.4.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/LB100(US)_1.0_mocked.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/LB110(US)_1.0_1.8.11.json`

 * *Files 27% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.5682471264367817%*

 * *Differences: {"'smartlife.iot.common.emeter'": "{'get_realtime': {'power_mw': 0}}",*

 * * "'system'": "{'get_sysinfo': {'alias': 'TP-LINK_Smart Bulb_43EC', 'deviceId': "*

 * *             "'0000000000000000000000000000000000000000', 'heapsize': 290048, 'hwId': "*

 * *             "'00000000000000000000000000000000', 'light_state': {delete: ['err_code']}, 'model': "*

 * *             "'LB110(US)', 'oemId': '00000000000000000000000000000000', 'rssi': -59, 'sw_ver': "*

 * *             "'1.8.11 Build 191113 Rel.105336', 'mic_mac': '000000000000',  […]*

```diff
@@ -1,22 +1,14 @@
 {
-    "emeter": {
-        "err_code": -1,
-        "err_msg": "module not support"
-    },
     "smartlife.iot.common.emeter": {
         "get_realtime": {
             "err_code": 0,
-            "power_mw": 10800
+            "power_mw": 0
         }
     },
-    "smartlife.iot.dimmer": {
-        "err_code": -1,
-        "err_msg": "module not support"
-    },
     "smartlife.iot.smartbulb.lightingservice": {
         "get_light_state": {
             "dft_on_state": {
                 "brightness": 100,
                 "color_temp": 2700,
                 "hue": 0,
                 "mode": "normal",
@@ -25,51 +17,45 @@
             "err_code": 0,
             "on_off": 0
         }
     },
     "system": {
         "get_sysinfo": {
             "active_mode": "none",
-            "alias": "Mock lb100",
+            "alias": "TP-LINK_Smart Bulb_43EC",
             "ctrl_protocols": {
                 "name": "Linkie",
                 "version": "1.0"
             },
             "description": "Smart Wi-Fi LED Bulb with Dimmable Light",
             "dev_state": "normal",
-            "deviceId": "15BD5A6C4B729A7C0D4D46ADDFA7E2600793C56A",
+            "deviceId": "0000000000000000000000000000000000000000",
             "disco_ver": "1.0",
             "err_code": 0,
-            "heapsize": 302452,
-            "hwId": "1B0DF0A2EFE6251DBE726D1D2167C78F",
+            "heapsize": 290048,
+            "hwId": "00000000000000000000000000000000",
             "hw_ver": "1.0",
             "is_color": 0,
             "is_dimmable": 1,
             "is_factory": false,
             "is_variable_color_temp": 0,
-            "latitude": -51.8361,
-            "latitude_i": -51.8361,
             "light_state": {
                 "dft_on_state": {
                     "brightness": 100,
                     "color_temp": 2700,
                     "hue": 0,
                     "mode": "normal",
                     "saturation": 0
                 },
-                "err_code": 0,
                 "on_off": 0
             },
-            "longitude": -34.0697,
-            "longitude_i": -34.0697,
-            "mac": "50:c7:bf:51:10:65",
+            "mic_mac": "000000000000",
             "mic_type": "IOT.SMARTBULB",
-            "model": "LB100(US)",
-            "oemId": "C9CF655C9A5AA101E66EBA5B382E40CC",
-            "on_time": 0,
+            "model": "LB110(US)",
+            "oemId": "00000000000000000000000000000000",
             "preferred_state": [
                 {
                     "brightness": 100,
                     "color_temp": 2700,
                     "hue": 0,
                     "index": 0,
                     "saturation": 0
@@ -92,12 +78,12 @@
                     "brightness": 1,
                     "color_temp": 2700,
                     "hue": 0,
                     "index": 3,
                     "saturation": 0
                 }
             ],
-            "rssi": -65,
-            "sw_ver": "1.4.3 Build 170504 Rel.144921"
+            "rssi": -59,
+            "sw_ver": "1.8.11 Build 191113 Rel.105336"
         }
     }
 }
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/EP25(US)_2.6_1.0.1.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/EP25(US)_2.6_1.0.1.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/EP25(US)_2.6_1.0.2.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/EP25(US)_2.6_1.0.2.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/KP125M(US)_1.0_1.1.3.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/KP125M(US)_1.0_1.1.3.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/KS205(US)_1.0_1.0.2.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/KS205(US)_1.0_1.0.2.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/KS225(US)_1.0_1.0.2.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/KS225(US)_1.0_1.0.2.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L510B(EU)_3.0_1.0.5.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L510B(EU)_3.0_1.0.5.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L510E(US)_3.0_1.0.5.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L510E(US)_3.0_1.0.5.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L510E(US)_3.0_1.1.2.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L510E(US)_3.0_1.1.2.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L530E(EU)_3.0_1.0.6.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L530E(EU)_3.0_1.0.6.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L530E(EU)_3.0_1.1.0.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L530E(EU)_3.0_1.1.0.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L530E(US)_2.0_1.1.0.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L530E(US)_2.0_1.1.0.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L900-10(EU)_1.0_1.0.17.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L900-10(EU)_1.0_1.0.17.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L900-10(US)_1.0_1.0.11.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L900-10(US)_1.0_1.0.11.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L900-5(EU)_1.0_1.0.17.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L900-5(EU)_1.0_1.0.17.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L900-5(EU)_1.0_1.1.0.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L900-5(EU)_1.0_1.1.0.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L920-5(US)_1.0_1.1.0.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L920-5(US)_1.0_1.1.0.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L920-5(US)_1.0_1.1.3.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L920-5(US)_1.0_1.1.3.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/L930-5(US)_1.0_1.1.2.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/L930-5(US)_1.0_1.1.2.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/P100_1.0.0_1.3.7.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/P100_1.0.0_1.3.7.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/P110(EU)_1.0_1.2.3.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/P110(EU)_1.0_1.2.3.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/P110(UK)_1.0_1.3.0.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/P110(UK)_1.0_1.3.0.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/P125M(US)_1.0_1.1.0.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/P125M(US)_1.0_1.1.0.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/P135(US)_1.0_1.0.5.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/P135(US)_1.0_1.0.5.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/P300(EU)_1.0_1.0.13.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/P300(EU)_1.0_1.0.13.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/P300(EU)_1.0_1.0.7.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/P300(EU)_1.0_1.0.7.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/S500D(US)_1.0_1.0.5.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/S500D(US)_1.0_1.0.5.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/S505(US)_1.0_1.0.2.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/S505(US)_1.0_1.0.2.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/TP15(US)_1.0_1.0.3.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/TP15(US)_1.0_1.0.3.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/fixtures/smart/TP25(US)_1.0_1.0.2.json` & `python_kasa-0.7.0.dev0/kasa/tests/fixtures/smart/TP25(US)_1.0_1.0.2.json`

 * *Files identical despite different names*

### Comparing `python_kasa-0.6.2.1/kasa/tests/test_aestransport.py` & `python_kasa-0.7.0.dev0/kasa/tests/test_aestransport.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,29 +1,32 @@
+from __future__ import annotations
+
 import base64
 import json
+import logging
 import random
 import string
 import time
 from contextlib import nullcontext as does_not_raise
 from json import dumps as json_dumps
 from json import loads as json_loads
-from typing import Any, Dict
+from typing import Any
 
 import aiohttp
 import pytest
 from cryptography.hazmat.primitives import serialization
 from cryptography.hazmat.primitives.asymmetric import padding as asymmetric_padding
 from yarl import URL
 
 from ..aestransport import AesEncyptionSession, AesTransport, TransportState
 from ..credentials import Credentials
 from ..deviceconfig import DeviceConfig
 from ..exceptions import (
-    AuthenticationException,
-    SmartDeviceException,
+    AuthenticationError,
+    KasaException,
     SmartErrorCode,
 )
 from ..httpclient import HttpClient
 
 DUMMY_QUERY = {"foobar": {"foo": "bar", "bar": "foo"}}
 
 key = b"8\x89\x02\xfa\xf5Xs\x1c\xa1 H\x9a\x82\xc7\xd9\t"
@@ -44,16 +47,16 @@
     assert d == encryption_session.decrypt(encrypted)
 
 
 status_parameters = pytest.mark.parametrize(
     "status_code, error_code, inner_error_code, expectation",
     [
         (200, 0, 0, does_not_raise()),
-        (400, 0, 0, pytest.raises(SmartDeviceException)),
-        (200, -1, 0, pytest.raises(SmartDeviceException)),
+        (400, 0, 0, pytest.raises(KasaException)),
+        (200, -1, 0, pytest.raises(KasaException)),
     ],
     ids=("success", "status_code", "error_code"),
 )
 
 
 @status_parameters
 async def test_handshake(
@@ -96,25 +99,25 @@
 
 @pytest.mark.parametrize(
     "inner_error_codes, expectation, call_count",
     [
         ([SmartErrorCode.LOGIN_ERROR, 0, 0, 0], does_not_raise(), 4),
         (
             [SmartErrorCode.LOGIN_ERROR, SmartErrorCode.LOGIN_ERROR],
-            pytest.raises(AuthenticationException),
+            pytest.raises(AuthenticationError),
             3,
         ),
         (
             [SmartErrorCode.LOGIN_FAILED_ERROR],
-            pytest.raises(AuthenticationException),
+            pytest.raises(AuthenticationError),
             1,
         ),
         (
             [SmartErrorCode.LOGIN_ERROR, SmartErrorCode.SESSION_TIMEOUT_ERROR],
-            pytest.raises(SmartDeviceException),
+            pytest.raises(KasaException),
             3,
         ),
     ],
     ids=(
         "LOGIN_ERROR-success",
         "LOGIN_ERROR-LOGIN_ERROR",
         "LOGIN_FAILED_ERROR",
@@ -130,14 +133,15 @@
 
     transport = AesTransport(
         config=DeviceConfig(host, credentials=Credentials("foo", "bar"))
     )
     transport._state = TransportState.LOGIN_REQUIRED
     transport._session_expire_at = time.time() + 86400
     transport._encryption_session = mock_aes_device.encryption_session
+    mocker.patch.object(transport, "BACKOFF_SECONDS_AFTER_LOGIN_ERROR", 0)
 
     assert transport._token_url is None
 
     request = {
         "method": "get_device_info",
         "params": None,
         "request_time_milis": round(time.time() * 1000),
@@ -176,14 +180,75 @@
         "terminal_uuid": "foobar",
     }
     with expectation:
         res = await transport.send(json_dumps(request))
         assert "result" in res
 
 
+async def test_unencrypted_response(mocker, caplog):
+    host = "127.0.0.1"
+    mock_aes_device = MockAesDevice(host, 200, 0, 0, do_not_encrypt_response=True)
+    mocker.patch.object(aiohttp.ClientSession, "post", side_effect=mock_aes_device.post)
+
+    transport = AesTransport(
+        config=DeviceConfig(host, credentials=Credentials("foo", "bar"))
+    )
+    transport._state = TransportState.ESTABLISHED
+    transport._session_expire_at = time.time() + 86400
+    transport._encryption_session = mock_aes_device.encryption_session
+    transport._token_url = transport._app_url.with_query(
+        f"token={mock_aes_device.token}"
+    )
+
+    request = {
+        "method": "get_device_info",
+        "params": None,
+        "request_time_milis": round(time.time() * 1000),
+        "requestID": 1,
+        "terminal_uuid": "foobar",
+    }
+    caplog.set_level(logging.DEBUG)
+    res = await transport.send(json_dumps(request))
+    assert "result" in res
+    assert (
+        "Received unencrypted response over secure passthrough from 127.0.0.1"
+        in caplog.text
+    )
+
+
+async def test_unencrypted_response_invalid_json(mocker, caplog):
+    host = "127.0.0.1"
+    mock_aes_device = MockAesDevice(
+        host, 200, 0, 0, do_not_encrypt_response=True, send_response=b"Foobar"
+    )
+    mocker.patch.object(aiohttp.ClientSession, "post", side_effect=mock_aes_device.post)
+
+    transport = AesTransport(
+        config=DeviceConfig(host, credentials=Credentials("foo", "bar"))
+    )
+    transport._state = TransportState.ESTABLISHED
+    transport._session_expire_at = time.time() + 86400
+    transport._encryption_session = mock_aes_device.encryption_session
+    transport._token_url = transport._app_url.with_query(
+        f"token={mock_aes_device.token}"
+    )
+
+    request = {
+        "method": "get_device_info",
+        "params": None,
+        "request_time_milis": round(time.time() * 1000),
+        "requestID": 1,
+        "terminal_uuid": "foobar",
+    }
+    caplog.set_level(logging.DEBUG)
+    msg = f"Unable to decrypt response from {host}, error: Incorrect padding, response: Foobar"
+    with pytest.raises(KasaException, match=msg):
+        await transport.send(json_dumps(request))
+
+
 ERRORS = [e for e in SmartErrorCode if e != 0]
 
 
 @pytest.mark.parametrize("error_code", ERRORS, ids=lambda e: e.name)
 async def test_passthrough_errors(mocker, error_code):
     host = "127.0.0.1"
     mock_aes_device = MockAesDevice(host, 200, error_code, 0)
@@ -201,40 +266,64 @@
     request = {
         "method": "get_device_info",
         "params": None,
         "request_time_milis": round(time.time() * 1000),
         "requestID": 1,
         "terminal_uuid": "foobar",
     }
-    with pytest.raises(SmartDeviceException):
+    with pytest.raises(KasaException):
         await transport.send(json_dumps(request))
 
 
+async def test_port_override():
+    """Test that port override sets the app_url."""
+    host = "127.0.0.1"
+    config = DeviceConfig(
+        host, credentials=Credentials("foo", "bar"), port_override=12345
+    )
+    transport = AesTransport(config=config)
+
+    assert str(transport._app_url) == "http://127.0.0.1:12345/app"
+
+
 class MockAesDevice:
     class _mock_response:
         def __init__(self, status, json: dict):
             self.status = status
             self._json = json
 
         async def __aenter__(self):
             return self
 
         async def __aexit__(self, exc_t, exc_v, exc_tb):
             pass
 
         async def read(self):
-            return json_dumps(self._json).encode()
+            if isinstance(self._json, dict):
+                return json_dumps(self._json).encode()
+            return self._json
 
     encryption_session = AesEncyptionSession(KEY_IV[:16], KEY_IV[16:])
 
-    def __init__(self, host, status_code=200, error_code=0, inner_error_code=0):
+    def __init__(
+        self,
+        host,
+        status_code=200,
+        error_code=0,
+        inner_error_code=0,
+        *,
+        do_not_encrypt_response=False,
+        send_response=None,
+    ):
         self.host = host
         self.status_code = status_code
         self.error_code = error_code
         self._inner_error_code = inner_error_code
+        self.do_not_encrypt_response = do_not_encrypt_response
+        self.send_response = send_response
         self.http_client = HttpClient(DeviceConfig(self.host))
         self.inner_call_count = 0
         self.token = "".join(random.choices(string.ascii_uppercase, k=32))  # noqa: S311
 
     @property
     def inner_error_code(self):
         if isinstance(self._inner_error_code, list):
@@ -244,60 +333,63 @@
 
     async def post(self, url: URL, params=None, json=None, data=None, *_, **__):
         if data:
             async for item in data:
                 json = json_loads(item.decode())
         return await self._post(url, json)
 
-    async def _post(self, url: URL, json: Dict[str, Any]):
+    async def _post(self, url: URL, json: dict[str, Any]):
         if json["method"] == "handshake":
             return await self._return_handshake_response(url, json)
         elif json["method"] == "securePassthrough":
             return await self._return_secure_passthrough_response(url, json)
         elif json["method"] == "login_device":
             return await self._return_login_response(url, json)
         else:
-            assert str(url) == f"http://{self.host}/app?token={self.token}"
+            assert str(url) == f"http://{self.host}:80/app?token={self.token}"
             return await self._return_send_response(url, json)
 
-    async def _return_handshake_response(self, url: URL, json: Dict[str, Any]):
+    async def _return_handshake_response(self, url: URL, json: dict[str, Any]):
         start = len("-----BEGIN PUBLIC KEY-----\n")
         end = len("\n-----END PUBLIC KEY-----\n")
         client_pub_key = json["params"]["key"][start:-end]
 
         client_pub_key_data = base64.b64decode(client_pub_key.encode())
         client_pub_key = serialization.load_der_public_key(client_pub_key_data, None)
         encrypted_key = client_pub_key.encrypt(KEY_IV, asymmetric_padding.PKCS1v15())
         key_64 = base64.b64encode(encrypted_key).decode()
         return self._mock_response(
             self.status_code, {"result": {"key": key_64}, "error_code": self.error_code}
         )
 
-    async def _return_secure_passthrough_response(self, url: URL, json: Dict[str, Any]):
+    async def _return_secure_passthrough_response(self, url: URL, json: dict[str, Any]):
         encrypted_request = json["params"]["request"]
         decrypted_request = self.encryption_session.decrypt(encrypted_request.encode())
         decrypted_request_dict = json_loads(decrypted_request)
         decrypted_response = await self._post(url, decrypted_request_dict)
         async with decrypted_response:
-            response_data = await decrypted_response.read()
-            decrypted_response_dict = json_loads(response_data.decode())
-        encrypted_response = self.encryption_session.encrypt(
-            json_dumps(decrypted_response_dict).encode()
+            decrypted_response_data = await decrypted_response.read()
+        encrypted_response = self.encryption_session.encrypt(decrypted_response_data)
+        response = (
+            decrypted_response_data
+            if self.do_not_encrypt_response
+            else encrypted_response
         )
         result = {
-            "result": {"response": encrypted_response.decode()},
+            "result": {"response": response.decode()},
             "error_code": self.error_code,
         }
         return self._mock_response(self.status_code, result)
 
-    async def _return_login_response(self, url: URL, json: Dict[str, Any]):
+    async def _return_login_response(self, url: URL, json: dict[str, Any]):
         if "token=" in str(url):
             raise Exception("token should not be in url for a login request")
         self.token = "".join(random.choices(string.ascii_uppercase, k=32))  # noqa: S311
         result = {"result": {"token": self.token}, "error_code": self.inner_error_code}
         self.inner_call_count += 1
         return self._mock_response(self.status_code, result)
 
-    async def _return_send_response(self, url: URL, json: Dict[str, Any]):
+    async def _return_send_response(self, url: URL, json: dict[str, Any]):
         result = {"result": {"method": None}, "error_code": self.inner_error_code}
+        response = self.send_response if self.send_response else result
         self.inner_call_count += 1
-        return self._mock_response(self.status_code, result)
+        return self._mock_response(self.status_code, response)
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/test_bulb.py` & `python_kasa-0.7.0.dev0/kasa/tests/test_bulb.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,330 +1,353 @@
+from __future__ import annotations
+
 import pytest
 from voluptuous import (
     All,
     Boolean,
     Optional,
     Range,
     Schema,
 )
 
-from kasa import DeviceType, SmartBulb, SmartBulbPreset, SmartDeviceException
+from kasa import Device, DeviceType, IotLightPreset, KasaException, Module
+from kasa.iot import IotBulb, IotDimmer
 
 from .conftest import (
     bulb,
     bulb_iot,
     color_bulb,
     color_bulb_iot,
-    dimmable,
+    dimmable_iot,
     handle_turn_on,
     non_color_bulb,
-    non_dimmable,
+    non_dimmable_iot,
     non_variable_temp,
     turn_on,
     variable_temp,
     variable_temp_iot,
+    variable_temp_smart,
 )
-from .test_smartdevice import SYSINFO_SCHEMA
+from .test_iotdevice import SYSINFO_SCHEMA
 
 
 @bulb
-async def test_bulb_sysinfo(dev: SmartBulb):
+async def test_bulb_sysinfo(dev: Device):
     assert dev.sys_info is not None
     SYSINFO_SCHEMA_BULB(dev.sys_info)
 
     assert dev.model is not None
 
     # TODO: remove special handling for lightstrip
     if not dev.is_light_strip:
         assert dev.device_type == DeviceType.Bulb
         assert dev.is_bulb
 
 
 @bulb
-async def test_state_attributes(dev: SmartBulb):
-    assert "Brightness" in dev.state_information
-    assert dev.state_information["Brightness"] == dev.brightness
-
-    assert "Is dimmable" in dev.state_information
-    assert dev.state_information["Is dimmable"] == dev.is_dimmable
+async def test_state_attributes(dev: Device):
+    assert "Cloud connection" in dev.state_information
+    assert isinstance(dev.state_information["Cloud connection"], bool)
 
 
 @bulb_iot
-async def test_light_state_without_update(dev: SmartBulb, monkeypatch):
-    with pytest.raises(SmartDeviceException):
+async def test_light_state_without_update(dev: IotBulb, monkeypatch):
+    with pytest.raises(KasaException):
         monkeypatch.setitem(
             dev._last_update["system"]["get_sysinfo"], "light_state", None
         )
         print(dev.light_state)
 
 
 @bulb_iot
-async def test_get_light_state(dev: SmartBulb):
+async def test_get_light_state(dev: IotBulb):
     LIGHT_STATE_SCHEMA(await dev.get_light_state())
 
 
 @color_bulb
 @turn_on
-async def test_hsv(dev: SmartBulb, turn_on):
+async def test_hsv(dev: Device, turn_on):
+    light = dev.modules.get(Module.Light)
+    assert light
     await handle_turn_on(dev, turn_on)
-    assert dev.is_color
+    assert light.is_color
 
-    hue, saturation, brightness = dev.hsv
+    hue, saturation, brightness = light.hsv
     assert 0 <= hue <= 360
     assert 0 <= saturation <= 100
     assert 0 <= brightness <= 100
 
-    await dev.set_hsv(hue=1, saturation=1, value=1)
+    await light.set_hsv(hue=1, saturation=1, value=1)
 
     await dev.update()
-    hue, saturation, brightness = dev.hsv
+    hue, saturation, brightness = light.hsv
     assert hue == 1
     assert saturation == 1
     assert brightness == 1
 
 
 @color_bulb_iot
-async def test_set_hsv_transition(dev: SmartBulb, mocker):
-    set_light_state = mocker.patch("kasa.SmartBulb.set_light_state")
+async def test_set_hsv_transition(dev: IotBulb, mocker):
+    set_light_state = mocker.patch("kasa.iot.IotBulb._set_light_state")
     await dev.set_hsv(10, 10, 100, transition=1000)
 
     set_light_state.assert_called_with(
         {"hue": 10, "saturation": 10, "brightness": 100, "color_temp": 0},
         transition=1000,
     )
 
 
 @color_bulb
 @turn_on
-async def test_invalid_hsv(dev: SmartBulb, turn_on):
+async def test_invalid_hsv(dev: Device, turn_on):
+    light = dev.modules.get(Module.Light)
+    assert light
     await handle_turn_on(dev, turn_on)
-    assert dev.is_color
+    assert light.is_color
 
     for invalid_hue in [-1, 361, 0.5]:
         with pytest.raises(ValueError):
-            await dev.set_hsv(invalid_hue, 0, 0)
+            await light.set_hsv(invalid_hue, 0, 0)  # type: ignore[arg-type]
 
     for invalid_saturation in [-1, 101, 0.5]:
         with pytest.raises(ValueError):
-            await dev.set_hsv(0, invalid_saturation, 0)
+            await light.set_hsv(0, invalid_saturation, 0)  # type: ignore[arg-type]
 
     for invalid_brightness in [-1, 101, 0.5]:
         with pytest.raises(ValueError):
-            await dev.set_hsv(0, 0, invalid_brightness)
+            await light.set_hsv(0, 0, invalid_brightness)  # type: ignore[arg-type]
 
 
 @color_bulb
-async def test_color_state_information(dev: SmartBulb):
+@pytest.mark.skip("requires color feature")
+async def test_color_state_information(dev: Device):
+    light = dev.modules.get(Module.Light)
+    assert light
     assert "HSV" in dev.state_information
-    assert dev.state_information["HSV"] == dev.hsv
+    assert dev.state_information["HSV"] == light.hsv
 
 
 @non_color_bulb
-async def test_hsv_on_non_color(dev: SmartBulb):
-    assert not dev.is_color
-
-    with pytest.raises(SmartDeviceException):
-        await dev.set_hsv(0, 0, 0)
-    with pytest.raises(SmartDeviceException):
-        print(dev.hsv)
+async def test_hsv_on_non_color(dev: Device):
+    light = dev.modules.get(Module.Light)
+    assert light
+    assert not light.is_color
+
+    with pytest.raises(KasaException):
+        await light.set_hsv(0, 0, 0)
+    with pytest.raises(KasaException):
+        print(light.hsv)
 
 
 @variable_temp
-async def test_variable_temp_state_information(dev: SmartBulb):
+@pytest.mark.skip("requires colortemp module")
+async def test_variable_temp_state_information(dev: Device):
+    light = dev.modules.get(Module.Light)
+    assert light
     assert "Color temperature" in dev.state_information
-    assert dev.state_information["Color temperature"] == dev.color_temp
-
-    assert "Valid temperature range" in dev.state_information
-    assert (
-        dev.state_information["Valid temperature range"] == dev.valid_temperature_range
-    )
+    assert dev.state_information["Color temperature"] == light.color_temp
 
 
 @variable_temp
 @turn_on
-async def test_try_set_colortemp(dev: SmartBulb, turn_on):
+async def test_try_set_colortemp(dev: Device, turn_on):
+    light = dev.modules.get(Module.Light)
+    assert light
     await handle_turn_on(dev, turn_on)
-    await dev.set_color_temp(2700)
+    await light.set_color_temp(2700)
     await dev.update()
-    assert dev.color_temp == 2700
+    assert light.color_temp == 2700
 
 
 @variable_temp_iot
-async def test_set_color_temp_transition(dev: SmartBulb, mocker):
-    set_light_state = mocker.patch("kasa.SmartBulb.set_light_state")
+async def test_set_color_temp_transition(dev: IotBulb, mocker):
+    set_light_state = mocker.patch("kasa.iot.IotBulb._set_light_state")
     await dev.set_color_temp(2700, transition=100)
 
     set_light_state.assert_called_with({"color_temp": 2700}, transition=100)
 
 
 @variable_temp_iot
-async def test_unknown_temp_range(dev: SmartBulb, monkeypatch, caplog):
+async def test_unknown_temp_range(dev: IotBulb, monkeypatch, caplog):
     monkeypatch.setitem(dev._sys_info, "model", "unknown bulb")
 
     assert dev.valid_temperature_range == (2700, 5000)
     assert "Unknown color temperature range, fallback to 2700-5000" in caplog.text
 
 
+@variable_temp_smart
+async def test_smart_temp_range(dev: Device):
+    light = dev.modules.get(Module.Light)
+    assert light
+    assert light.valid_temperature_range
+
+
 @variable_temp
-async def test_out_of_range_temperature(dev: SmartBulb):
+async def test_out_of_range_temperature(dev: Device):
+    light = dev.modules.get(Module.Light)
+    assert light
     with pytest.raises(ValueError):
-        await dev.set_color_temp(1000)
+        await light.set_color_temp(1000)
     with pytest.raises(ValueError):
-        await dev.set_color_temp(10000)
+        await light.set_color_temp(10000)
 
 
 @non_variable_temp
-async def test_non_variable_temp(dev: SmartBulb):
-    with pytest.raises(SmartDeviceException):
-        await dev.set_color_temp(2700)
+async def test_non_variable_temp(dev: Device):
+    light = dev.modules.get(Module.Light)
+    assert light
+    with pytest.raises(KasaException):
+        await light.set_color_temp(2700)
 
-    with pytest.raises(SmartDeviceException):
-        print(dev.valid_temperature_range)
+    with pytest.raises(KasaException):
+        print(light.valid_temperature_range)
 
-    with pytest.raises(SmartDeviceException):
-        print(dev.color_temp)
+    with pytest.raises(KasaException):
+        print(light.color_temp)
 
 
-@dimmable
+@dimmable_iot
 @turn_on
-async def test_dimmable_brightness(dev: SmartBulb, turn_on):
+async def test_dimmable_brightness(dev: IotBulb, turn_on):
+    assert isinstance(dev, (IotBulb, IotDimmer))
     await handle_turn_on(dev, turn_on)
-    assert dev.is_dimmable
+    assert dev._is_dimmable
 
     await dev.set_brightness(50)
     await dev.update()
     assert dev.brightness == 50
 
     await dev.set_brightness(10)
     await dev.update()
     assert dev.brightness == 10
 
     with pytest.raises(ValueError):
-        await dev.set_brightness("foo")
+        await dev.set_brightness("foo")  # type: ignore[arg-type]
 
 
 @bulb_iot
-async def test_turn_on_transition(dev: SmartBulb, mocker):
-    set_light_state = mocker.patch("kasa.SmartBulb.set_light_state")
+async def test_turn_on_transition(dev: IotBulb, mocker):
+    set_light_state = mocker.patch("kasa.iot.IotBulb._set_light_state")
     await dev.turn_on(transition=1000)
 
     set_light_state.assert_called_with({"on_off": 1}, transition=1000)
 
     await dev.turn_off(transition=100)
 
     set_light_state.assert_called_with({"on_off": 0}, transition=100)
 
 
 @bulb_iot
-async def test_dimmable_brightness_transition(dev: SmartBulb, mocker):
-    set_light_state = mocker.patch("kasa.SmartBulb.set_light_state")
+async def test_dimmable_brightness_transition(dev: IotBulb, mocker):
+    set_light_state = mocker.patch("kasa.iot.IotBulb._set_light_state")
     await dev.set_brightness(10, transition=1000)
 
     set_light_state.assert_called_with({"brightness": 10}, transition=1000)
 
 
-@dimmable
-async def test_invalid_brightness(dev: SmartBulb):
-    assert dev.is_dimmable
+@dimmable_iot
+async def test_invalid_brightness(dev: IotBulb):
+    assert dev._is_dimmable
 
     with pytest.raises(ValueError):
         await dev.set_brightness(110)
 
     with pytest.raises(ValueError):
         await dev.set_brightness(-100)
 
 
-@non_dimmable
-async def test_non_dimmable(dev: SmartBulb):
-    assert not dev.is_dimmable
+@non_dimmable_iot
+async def test_non_dimmable(dev: IotBulb):
+    assert not dev._is_dimmable
 
-    with pytest.raises(SmartDeviceException):
+    with pytest.raises(KasaException):
         assert dev.brightness == 0
-    with pytest.raises(SmartDeviceException):
+    with pytest.raises(KasaException):
         await dev.set_brightness(100)
 
 
 @bulb_iot
 async def test_ignore_default_not_set_without_color_mode_change_turn_on(
-    dev: SmartBulb, mocker
+    dev: IotBulb, mocker
 ):
-    query_helper = mocker.patch("kasa.SmartBulb._query_helper")
+    query_helper = mocker.patch("kasa.iot.IotBulb._query_helper")
     # When turning back without settings, ignore default to restore the state
     await dev.turn_on()
     args, kwargs = query_helper.call_args_list[0]
     assert args[2] == {"on_off": 1, "ignore_default": 0}
 
     await dev.turn_off()
     args, kwargs = query_helper.call_args_list[1]
     assert args[2] == {"on_off": 0, "ignore_default": 1}
 
 
 @bulb_iot
-async def test_list_presets(dev: SmartBulb):
+async def test_list_presets(dev: IotBulb):
     presets = dev.presets
     assert len(presets) == len(dev.sys_info["preferred_state"])
 
     for preset, raw in zip(presets, dev.sys_info["preferred_state"]):
         assert preset.index == raw["index"]
         assert preset.hue == raw["hue"]
         assert preset.brightness == raw["brightness"]
         assert preset.saturation == raw["saturation"]
         assert preset.color_temp == raw["color_temp"]
 
 
 @bulb_iot
-async def test_modify_preset(dev: SmartBulb, mocker):
+async def test_modify_preset(dev: IotBulb, mocker):
     """Verify that modifying preset calls the and exceptions are raised properly."""
     if not dev.presets:
         pytest.skip("Some strips do not support presets")
 
-    data = {
+    data: dict[str, int | None] = {
         "index": 0,
         "brightness": 10,
         "hue": 0,
         "saturation": 0,
         "color_temp": 0,
     }
-    preset = SmartBulbPreset(**data)
+    preset = IotLightPreset(**data)  # type: ignore[call-arg, arg-type]
 
     assert preset.index == 0
     assert preset.brightness == 10
     assert preset.hue == 0
     assert preset.saturation == 0
     assert preset.color_temp == 0
 
     await dev.save_preset(preset)
+    await dev.update()
     assert dev.presets[0].brightness == 10
 
-    with pytest.raises(SmartDeviceException):
+    with pytest.raises(KasaException):
         await dev.save_preset(
-            SmartBulbPreset(index=5, hue=0, brightness=0, saturation=0, color_temp=0)
+            IotLightPreset(index=5, hue=0, brightness=0, saturation=0, color_temp=0)  # type: ignore[call-arg]
         )
 
 
 @bulb_iot
 @pytest.mark.parametrize(
     ("preset", "payload"),
     [
         (
-            SmartBulbPreset(index=0, hue=0, brightness=1, saturation=0),
+            IotLightPreset(index=0, hue=0, brightness=1, saturation=0),  # type: ignore[call-arg]
             {"index": 0, "hue": 0, "brightness": 1, "saturation": 0},
         ),
         (
-            SmartBulbPreset(index=0, brightness=1, id="testid", mode=2, custom=0),
+            IotLightPreset(index=0, brightness=1, id="testid", mode=2, custom=0),  # type: ignore[call-arg]
             {"index": 0, "brightness": 1, "id": "testid", "mode": 2, "custom": 0},
         ),
     ],
 )
-async def test_modify_preset_payloads(dev: SmartBulb, preset, payload, mocker):
+async def test_modify_preset_payloads(dev: IotBulb, preset, payload, mocker):
     """Test that modify preset payloads ignore none values."""
     if not dev.presets:
         pytest.skip("Some strips do not support presets")
 
-    query_helper = mocker.patch("kasa.SmartBulb._query_helper")
+    query_helper = mocker.patch("kasa.iot.IotBulb._query_helper")
     await dev.save_preset(preset)
     query_helper.assert_called_with(dev.LIGHT_SERVICE, "set_preferred_state", payload)
 
 
 LIGHT_STATE_SCHEMA = Schema(
     {
         "brightness": All(int, Range(min=0, max=100)),
@@ -365,7 +388,14 @@
                 "hue": All(int, Range(min=0, max=360)),
                 "index": int,
                 "saturation": All(int, Range(min=0, max=100)),
             }
         ],
     }
 )
+
+
+@bulb
+def test_device_type_bulb(dev: Device):
+    if dev.is_light_strip:
+        pytest.skip("bulb has also lightstrips to test the api")
+    assert dev.device_type == DeviceType.Bulb
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/test_device_factory.py` & `python_kasa-0.7.0.dev0/kasa/tests/test_device_factory.py`

 * *Files 23% similar despite different names*

```diff
@@ -2,148 +2,174 @@
 import logging
 
 import aiohttp
 import pytest  # type: ignore # https://github.com/pytest-dev/pytest/issues/3342
 
 from kasa import (
     Credentials,
+    Device,
     Discover,
-    SmartDevice,
-    SmartDeviceException,
+    KasaException,
+)
+from kasa.device_factory import (
+    _get_device_type_from_sys_info,
+    connect,
+    get_device_class_from_family,
+    get_protocol,
 )
-from kasa.device_factory import connect, get_protocol
 from kasa.deviceconfig import (
     ConnectionType,
     DeviceConfig,
     DeviceFamilyType,
     EncryptType,
 )
 from kasa.discover import DiscoveryResult
+from kasa.smart.smartdevice import SmartDevice
 
 
-def _get_connection_type_device_class(the_fixture_data):
-    if "discovery_result" in the_fixture_data:
-        discovery_info = {"result": the_fixture_data["discovery_result"]}
+def _get_connection_type_device_class(discovery_info):
+    if "result" in discovery_info:
         device_class = Discover._get_device_class(discovery_info)
         dr = DiscoveryResult(**discovery_info["result"])
 
         connection_type = ConnectionType.from_values(
             dr.device_type, dr.mgt_encrypt_schm.encrypt_type
         )
     else:
         connection_type = ConnectionType.from_values(
             DeviceFamilyType.IotSmartPlugSwitch.value, EncryptType.Xor.value
         )
-        device_class = Discover._get_device_class(the_fixture_data)
+        device_class = Discover._get_device_class(discovery_info)
 
     return connection_type, device_class
 
 
 async def test_connect(
-    all_fixture_data: dict,
+    discovery_data,
     mocker,
 ):
     """Test that if the protocol is passed in it gets set correctly."""
     host = "127.0.0.1"
-    ctype, device_class = _get_connection_type_device_class(all_fixture_data)
-
-    mocker.patch("kasa.IotProtocol.query", return_value=all_fixture_data)
-    mocker.patch("kasa.SmartProtocol.query", return_value=all_fixture_data)
+    ctype, device_class = _get_connection_type_device_class(discovery_data)
 
     config = DeviceConfig(
         host=host, credentials=Credentials("foor", "bar"), connection_type=ctype
     )
     protocol_class = get_protocol(config).__class__
-
+    close_mock = mocker.patch.object(protocol_class, "close")
     dev = await connect(
         config=config,
     )
     assert isinstance(dev, device_class)
     assert isinstance(dev.protocol, protocol_class)
 
     assert dev.config == config
-
+    assert close_mock.call_count == 0
     await dev.disconnect()
+    assert close_mock.call_count == 1
 
 
 @pytest.mark.parametrize("custom_port", [123, None])
-async def test_connect_custom_port(all_fixture_data: dict, mocker, custom_port):
+async def test_connect_custom_port(discovery_data: dict, mocker, custom_port):
     """Make sure that connect returns an initialized SmartDevice instance."""
     host = "127.0.0.1"
 
-    ctype, _ = _get_connection_type_device_class(all_fixture_data)
+    ctype, _ = _get_connection_type_device_class(discovery_data)
     config = DeviceConfig(
         host=host,
         port_override=custom_port,
         connection_type=ctype,
         credentials=Credentials("dummy_user", "dummy_password"),
     )
-    default_port = 80 if "discovery_result" in all_fixture_data else 9999
+    default_port = 80 if "result" in discovery_data else 9999
+
+    ctype, _ = _get_connection_type_device_class(discovery_data)
 
-    ctype, _ = _get_connection_type_device_class(all_fixture_data)
-    mocker.patch("kasa.IotProtocol.query", return_value=all_fixture_data)
-    mocker.patch("kasa.SmartProtocol.query", return_value=all_fixture_data)
     dev = await connect(config=config)
-    assert issubclass(dev.__class__, SmartDevice)
+    assert issubclass(dev.__class__, Device)
     assert dev.port == custom_port or dev.port == default_port
 
 
 async def test_connect_logs_connect_time(
-    all_fixture_data: dict, caplog: pytest.LogCaptureFixture, mocker
+    discovery_data: dict,
+    caplog: pytest.LogCaptureFixture,
 ):
     """Test that the connect time is logged when debug logging is enabled."""
-    ctype, _ = _get_connection_type_device_class(all_fixture_data)
-    mocker.patch("kasa.IotProtocol.query", return_value=all_fixture_data)
-    mocker.patch("kasa.SmartProtocol.query", return_value=all_fixture_data)
+    ctype, _ = _get_connection_type_device_class(discovery_data)
 
     host = "127.0.0.1"
     config = DeviceConfig(
         host=host, credentials=Credentials("foor", "bar"), connection_type=ctype
     )
     logging.getLogger("kasa").setLevel(logging.DEBUG)
     await connect(
         config=config,
     )
     assert "seconds to update" in caplog.text
 
 
-async def test_connect_query_fails(all_fixture_data: dict, mocker):
+async def test_connect_query_fails(discovery_data, mocker):
     """Make sure that connect fails when query fails."""
     host = "127.0.0.1"
-    mocker.patch("kasa.IotProtocol.query", side_effect=SmartDeviceException)
-    mocker.patch("kasa.SmartProtocol.query", side_effect=SmartDeviceException)
+    mocker.patch("kasa.IotProtocol.query", side_effect=KasaException)
+    mocker.patch("kasa.SmartProtocol.query", side_effect=KasaException)
 
-    ctype, _ = _get_connection_type_device_class(all_fixture_data)
+    ctype, _ = _get_connection_type_device_class(discovery_data)
     config = DeviceConfig(
         host=host, credentials=Credentials("foor", "bar"), connection_type=ctype
     )
-    with pytest.raises(SmartDeviceException):
+    protocol_class = get_protocol(config).__class__
+    close_mock = mocker.patch.object(protocol_class, "close")
+    assert close_mock.call_count == 0
+    with pytest.raises(KasaException):
         await connect(config=config)
+    assert close_mock.call_count == 1
 
 
-async def test_connect_http_client(all_fixture_data, mocker):
+async def test_connect_http_client(discovery_data, mocker):
     """Make sure that discover_single returns an initialized SmartDevice instance."""
     host = "127.0.0.1"
 
-    ctype, _ = _get_connection_type_device_class(all_fixture_data)
-
-    mocker.patch("kasa.IotProtocol.query", return_value=all_fixture_data)
-    mocker.patch("kasa.SmartProtocol.query", return_value=all_fixture_data)
+    ctype, _ = _get_connection_type_device_class(discovery_data)
 
     http_client = aiohttp.ClientSession()
 
     config = DeviceConfig(
         host=host, credentials=Credentials("foor", "bar"), connection_type=ctype
     )
     dev = await connect(config=config)
     if ctype.encryption_type != EncryptType.Xor:
         assert dev.protocol._transport._http_client.client != http_client
+    await dev.disconnect()
 
     config = DeviceConfig(
         host=host,
         credentials=Credentials("foor", "bar"),
         connection_type=ctype,
         http_client=http_client,
     )
     dev = await connect(config=config)
     if ctype.encryption_type != EncryptType.Xor:
         assert dev.protocol._transport._http_client.client == http_client
+    await dev.disconnect()
+    await http_client.close()
+
+
+async def test_device_types(dev: Device):
+    await dev.update()
+    if isinstance(dev, SmartDevice):
+        device_type = dev._discovery_info["result"]["device_type"]
+        res = SmartDevice._get_device_type_from_components(
+            dev._components.keys(), device_type
+        )
+    else:
+        res = _get_device_type_from_sys_info(dev._last_update)
+
+    assert dev.device_type == res
+
+
+async def test_device_class_from_unknown_family(caplog):
+    """Verify that unknown SMART devices yield a warning and fallback to SmartDevice."""
+    dummy_name = "SMART.foo"
+    with caplog.at_level(logging.WARNING):
+        assert get_device_class_from_family(dummy_name) == SmartDevice
+    assert f"Unknown SMART device with {dummy_name}" in caplog.text
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/test_device_type.py` & `python_kasa-0.7.0.dev0/kasa/tests/test_device_type.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,8 +1,8 @@
-from kasa.smartdevice import DeviceType
+from kasa.device_type import DeviceType
 
 
 async def test_device_type_from_value():
     """Make sure that every device type can be created from its value."""
     for name in DeviceType:
         assert DeviceType.from_value(name.value) is not None
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/test_deviceconfig.py` & `python_kasa-0.7.0.dev0/kasa/tests/test_deviceconfig.py`

 * *Files 2% similar despite different names*

```diff
@@ -4,15 +4,15 @@
 import aiohttp
 import pytest
 
 from kasa.credentials import Credentials
 from kasa.deviceconfig import (
     DeviceConfig,
 )
-from kasa.exceptions import SmartDeviceException
+from kasa.exceptions import KasaException
 
 
 async def test_serialization():
     config = DeviceConfig(host="Foo", http_client=aiohttp.ClientSession())
     config_dict = config.to_dict()
     config_json = json_dumps(config_dict)
     config2_dict = json_loads(config_json)
@@ -25,15 +25,15 @@
     [
         ({"Foo": "Bar"}, "Cannot create dataclass from dict, unknown key: Foo"),
         ("foobar", "Invalid device config data: foobar"),
     ],
     ids=["invalid-dict", "not-dict"],
 )
 def test_deserialization_errors(input_value, expected_msg):
-    with pytest.raises(SmartDeviceException, match=expected_msg):
+    with pytest.raises(KasaException, match=expected_msg):
         DeviceConfig.from_dict(input_value)
 
 
 async def test_credentials_hash():
     config = DeviceConfig(
         host="Foo",
         http_client=aiohttp.ClientSession(),
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/test_dimmer.py` & `python_kasa-0.7.0.dev0/kasa/tests/test_dimmer.py`

 * *Files 15% similar despite different names*

```diff
@@ -1,134 +1,143 @@
 import pytest
 
-from kasa import SmartDimmer
+from kasa import DeviceType
+from kasa.iot import IotDimmer
 
-from .conftest import dimmer, handle_turn_on, turn_on
+from .conftest import dimmer_iot, handle_turn_on, turn_on
 
 
-@dimmer
+@dimmer_iot
 @turn_on
 async def test_set_brightness(dev, turn_on):
     await handle_turn_on(dev, turn_on)
 
     await dev.set_brightness(99)
+    await dev.update()
     assert dev.brightness == 99
     assert dev.is_on == turn_on
 
     await dev.set_brightness(0)
+    await dev.update()
     assert dev.brightness == 1
     assert dev.is_on == turn_on
 
 
-@dimmer
+@dimmer_iot
 @turn_on
 async def test_set_brightness_transition(dev, turn_on, mocker):
     await handle_turn_on(dev, turn_on)
-    query_helper = mocker.spy(SmartDimmer, "_query_helper")
+    query_helper = mocker.spy(IotDimmer, "_query_helper")
 
     await dev.set_brightness(99, transition=1000)
-
-    assert dev.brightness == 99
-    assert dev.is_on
     query_helper.assert_called_with(
         mocker.ANY,
         "smartlife.iot.dimmer",
         "set_dimmer_transition",
         {"brightness": 99, "duration": 1000},
     )
+    await dev.update()
+    assert dev.brightness == 99
+    assert dev.is_on
 
     await dev.set_brightness(0, transition=1000)
+    await dev.update()
     assert dev.brightness == 1
 
 
-@dimmer
+@dimmer_iot
 async def test_set_brightness_invalid(dev):
     for invalid_brightness in [-1, 101, 0.5]:
         with pytest.raises(ValueError):
             await dev.set_brightness(invalid_brightness)
 
     for invalid_transition in [-1, 0, 0.5]:
         with pytest.raises(ValueError):
             await dev.set_brightness(1, transition=invalid_transition)
 
 
-@dimmer
+@dimmer_iot
 async def test_turn_on_transition(dev, mocker):
-    query_helper = mocker.spy(SmartDimmer, "_query_helper")
+    query_helper = mocker.spy(IotDimmer, "_query_helper")
     original_brightness = dev.brightness
 
     await dev.turn_on(transition=1000)
-
-    assert dev.is_on
-    assert dev.brightness == original_brightness
     query_helper.assert_called_with(
         mocker.ANY,
         "smartlife.iot.dimmer",
         "set_dimmer_transition",
         {"brightness": original_brightness, "duration": 1000},
     )
+    await dev.update()
+    assert dev.is_on
+    assert dev.brightness == original_brightness
 
 
-@dimmer
+@dimmer_iot
 async def test_turn_off_transition(dev, mocker):
     await handle_turn_on(dev, True)
-    query_helper = mocker.spy(SmartDimmer, "_query_helper")
+    query_helper = mocker.spy(IotDimmer, "_query_helper")
     original_brightness = dev.brightness
 
     await dev.turn_off(transition=1000)
 
     assert dev.is_off
     assert dev.brightness == original_brightness
     query_helper.assert_called_with(
         mocker.ANY,
         "smartlife.iot.dimmer",
         "set_dimmer_transition",
         {"brightness": 0, "duration": 1000},
     )
 
 
-@dimmer
+@dimmer_iot
 @turn_on
 async def test_set_dimmer_transition(dev, turn_on, mocker):
     await handle_turn_on(dev, turn_on)
-    query_helper = mocker.spy(SmartDimmer, "_query_helper")
+    query_helper = mocker.spy(IotDimmer, "_query_helper")
 
     await dev.set_dimmer_transition(99, 1000)
-
-    assert dev.is_on
-    assert dev.brightness == 99
     query_helper.assert_called_with(
         mocker.ANY,
         "smartlife.iot.dimmer",
         "set_dimmer_transition",
         {"brightness": 99, "duration": 1000},
     )
+    await dev.update()
+    assert dev.is_on
+    assert dev.brightness == 99
 
 
-@dimmer
+@dimmer_iot
 @turn_on
 async def test_set_dimmer_transition_to_off(dev, turn_on, mocker):
     await handle_turn_on(dev, turn_on)
     original_brightness = dev.brightness
-    query_helper = mocker.spy(SmartDimmer, "_query_helper")
+    query_helper = mocker.spy(IotDimmer, "_query_helper")
 
     await dev.set_dimmer_transition(0, 1000)
 
     assert dev.is_off
     assert dev.brightness == original_brightness
     query_helper.assert_called_with(
         mocker.ANY,
         "smartlife.iot.dimmer",
         "set_dimmer_transition",
         {"brightness": 0, "duration": 1000},
     )
 
 
-@dimmer
+@dimmer_iot
 async def test_set_dimmer_transition_invalid(dev):
     for invalid_brightness in [-1, 101, 0.5]:
         with pytest.raises(ValueError):
             await dev.set_dimmer_transition(invalid_brightness, 1000)
 
     for invalid_transition in [-1, 0, 0.5]:
         with pytest.raises(ValueError):
             await dev.set_dimmer_transition(1, invalid_transition)
+
+
+@dimmer_iot
+def test_device_type_dimmer(dev):
+    assert dev.device_type == DeviceType.Dimmer
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/test_discovery.py` & `python_kasa-0.7.0.dev0/kasa/tests/test_discovery.py`

 * *Files 10% similar despite different names*

```diff
@@ -6,34 +6,36 @@
 
 import aiohttp
 import pytest  # type: ignore # https://github.com/pytest-dev/pytest/issues/3342
 from async_timeout import timeout as asyncio_timeout
 
 from kasa import (
     Credentials,
+    Device,
     DeviceType,
     Discover,
-    SmartDevice,
-    SmartDeviceException,
+    KasaException,
 )
 from kasa.deviceconfig import (
     ConnectionType,
     DeviceConfig,
 )
 from kasa.discover import DiscoveryResult, _DiscoverProtocol, json_dumps
-from kasa.exceptions import AuthenticationException, UnsupportedDeviceException
+from kasa.exceptions import AuthenticationError, UnsupportedDeviceError
+from kasa.iot import IotDevice
 from kasa.xortransport import XorEncryption
 
 from .conftest import (
     bulb_iot,
-    dimmer,
-    lightstrip,
+    dimmer_iot,
+    lightstrip_iot,
     new_discovery,
-    plug,
+    plug_iot,
     strip_iot,
+    wallswitch_iot,
 )
 
 UNSUPPORTED = {
     "result": {
         "device_id": "xx",
         "owner": "xx",
         "device_type": "SMART.TAPOXMASTREE",
@@ -50,54 +52,61 @@
             "lv": 2,
         },
     },
     "error_code": 0,
 }
 
 
-@plug
-async def test_type_detection_plug(dev: SmartDevice):
+@wallswitch_iot
+async def test_type_detection_switch(dev: Device):
+    d = Discover._get_device_class(dev._last_update)("localhost")
+    assert d.is_wallswitch
+    assert d.device_type == DeviceType.WallSwitch
+
+
+@plug_iot
+async def test_type_detection_plug(dev: Device):
     d = Discover._get_device_class(dev._last_update)("localhost")
     assert d.is_plug
     assert d.device_type == DeviceType.Plug
 
 
 @bulb_iot
-async def test_type_detection_bulb(dev: SmartDevice):
+async def test_type_detection_bulb(dev: Device):
     d = Discover._get_device_class(dev._last_update)("localhost")
     # TODO: light_strip is a special case for now to force bulb tests on it
     if not d.is_light_strip:
         assert d.is_bulb
         assert d.device_type == DeviceType.Bulb
 
 
 @strip_iot
-async def test_type_detection_strip(dev: SmartDevice):
+async def test_type_detection_strip(dev: Device):
     d = Discover._get_device_class(dev._last_update)("localhost")
     assert d.is_strip
     assert d.device_type == DeviceType.Strip
 
 
-@dimmer
-async def test_type_detection_dimmer(dev: SmartDevice):
+@dimmer_iot
+async def test_type_detection_dimmer(dev: Device):
     d = Discover._get_device_class(dev._last_update)("localhost")
     assert d.is_dimmer
     assert d.device_type == DeviceType.Dimmer
 
 
-@lightstrip
-async def test_type_detection_lightstrip(dev: SmartDevice):
+@lightstrip_iot
+async def test_type_detection_lightstrip(dev: Device):
     d = Discover._get_device_class(dev._last_update)("localhost")
     assert d.is_light_strip
     assert d.device_type == DeviceType.LightStrip
 
 
 async def test_type_unknown():
     invalid_info = {"system": {"get_sysinfo": {"type": "nosuchtype"}}}
-    with pytest.raises(UnsupportedDeviceException):
+    with pytest.raises(UnsupportedDeviceError):
         Discover._get_device_class(invalid_info)
 
 
 @pytest.mark.parametrize("custom_port", [123, None])
 # @pytest.mark.parametrize("discovery_mock", [("127.0.0.1",123), ("127.0.0.1",None)], indirect=True)
 async def test_discover_single(discovery_mock, custom_port, mocker):
     """Make sure that discover_single returns an initialized SmartDevice instance."""
@@ -107,15 +116,15 @@
 
     device_class = Discover._get_device_class(discovery_mock.discovery_data)
     update_mock = mocker.patch.object(device_class, "update")
 
     x = await Discover.discover_single(
         host, port=custom_port, credentials=Credentials()
     )
-    assert issubclass(x.__class__, SmartDevice)
+    assert issubclass(x.__class__, Device)
     assert x._discovery_info is not None
     assert x.port == custom_port or x.port == discovery_mock.default_port
     assert update_mock.call_count == 0
     if discovery_mock.default_port == 80:
         assert x.alias is None
 
     ct = ConnectionType.from_values(
@@ -140,41 +149,41 @@
     ip = "127.0.0.1"
 
     discovery_mock.ip = ip
     device_class = Discover._get_device_class(discovery_mock.discovery_data)
     update_mock = mocker.patch.object(device_class, "update")
 
     x = await Discover.discover_single(host, credentials=Credentials())
-    assert issubclass(x.__class__, SmartDevice)
+    assert issubclass(x.__class__, Device)
     assert x._discovery_info is not None
     assert x.host == host
     assert update_mock.call_count == 0
 
     mocker.patch("socket.getaddrinfo", side_effect=socket.gaierror())
-    with pytest.raises(SmartDeviceException):
+    with pytest.raises(KasaException):
         x = await Discover.discover_single(host, credentials=Credentials())
 
 
 async def test_discover_single_unsupported(unsupported_device_info, mocker):
     """Make sure that discover_single handles unsupported devices correctly."""
     host = "127.0.0.1"
 
     # Test with a valid unsupported response
     with pytest.raises(
-        UnsupportedDeviceException,
+        UnsupportedDeviceError,
     ):
         await Discover.discover_single(host)
 
 
 async def test_discover_single_no_response(mocker):
     """Make sure that discover_single handles no response correctly."""
     host = "127.0.0.1"
     mocker.patch.object(_DiscoverProtocol, "do_discover")
     with pytest.raises(
-        SmartDeviceException, match=f"Timed out getting discovery response for {host}"
+        KasaException, match=f"Timed out getting discovery response for {host}"
     ):
         await Discover.discover_single(host, discovery_timeout=0)
 
 
 INVALIDS = [
     ("No 'system' or 'get_sysinfo' in response", {"no": "data"}),
     (
@@ -186,28 +195,29 @@
 
 
 @pytest.mark.parametrize("msg, data", INVALIDS)
 async def test_discover_invalid_info(msg, data, mocker):
     """Make sure that invalid discovery information raises an exception."""
     host = "127.0.0.1"
 
-    def mock_discover(self):
+    async def mock_discover(self):
         self.datagram_received(
             XorEncryption.encrypt(json_dumps(data))[4:], (host, 9999)
         )
 
     mocker.patch.object(_DiscoverProtocol, "do_discover", mock_discover)
 
-    with pytest.raises(SmartDeviceException, match=msg):
+    with pytest.raises(KasaException, match=msg):
         await Discover.discover_single(host)
 
 
 async def test_discover_send(mocker):
     """Test discovery parameters."""
-    proto = _DiscoverProtocol()
+    discovery_timeout = 0
+    proto = _DiscoverProtocol(discovery_timeout=discovery_timeout)
     assert proto.discovery_packets == 3
     assert proto.target_1 == ("255.255.255.255", 9999)
     transport = mocker.patch.object(proto, "transport")
     await proto.do_discover()
     assert transport.sendto.call_count == proto.discovery_packets * 2
 
 
@@ -228,15 +238,15 @@
     proto.datagram_received("<placeholder data>", (addr2, 20002))
 
     # Check that device in discovered_devices is initialized correctly
     assert len(proto.discovered_devices) == 1
     # Check that unsupported device is 1
     assert len(proto.unsupported_device_exceptions) == 1
     dev = proto.discovered_devices[addr]
-    assert issubclass(dev.__class__, SmartDevice)
+    assert issubclass(dev.__class__, Device)
     assert dev.host == addr
 
 
 @pytest.mark.parametrize("msg, data", INVALIDS)
 async def test_discover_invalid_responses(msg, data, mocker):
     """Verify that we don't crash whole discovery if some devices in the network are sending unexpected data."""
     proto = _DiscoverProtocol()
@@ -274,78 +284,82 @@
     """Make sure that discover_single handles authenticating devices correctly."""
     host = "127.0.0.1"
     discovery_mock.ip = host
     device_class = Discover._get_device_class(discovery_mock.discovery_data)
     mocker.patch.object(
         device_class,
         "update",
-        side_effect=AuthenticationException("Failed to authenticate"),
+        side_effect=AuthenticationError("Failed to authenticate"),
     )
 
     with pytest.raises(
-        AuthenticationException,
+        AuthenticationError,
         match="Failed to authenticate",
     ):
         device = await Discover.discover_single(
             host, credentials=Credentials("foo", "bar")
         )
         await device.update()
 
     mocker.patch.object(device_class, "update")
     device = await Discover.discover_single(host, credentials=Credentials("foo", "bar"))
     await device.update()
     assert isinstance(device, device_class)
 
 
 @new_discovery
-async def test_device_update_from_new_discovery_info(discovery_data):
-    device = SmartDevice("127.0.0.7")
+async def test_device_update_from_new_discovery_info(discovery_mock):
+    """Make sure that new discovery devices update from discovery info correctly."""
+    discovery_data = discovery_mock.discovery_data
+    device_class = Discover._get_device_class(discovery_data)
+    device = device_class("127.0.0.1")
     discover_info = DiscoveryResult(**discovery_data["result"])
     discover_dump = discover_info.get_dict()
-    discover_dump["alias"] = "foobar"
-    discover_dump["model"] = discover_dump["device_model"]
+    model, _, _ = discover_dump["device_model"].partition("(")
+    discover_dump["model"] = model
     device.update_from_discover_info(discover_dump)
 
-    assert device.alias == "foobar"
     assert device.mac == discover_dump["mac"].replace("-", ":")
-    assert device.model == discover_dump["device_model"]
+    assert device.model == model
 
-    with pytest.raises(
-        SmartDeviceException,
-        match=re.escape("You need to await update() to access the data"),
-    ):
-        assert device.supported_modules
+    # TODO implement requires_update for SmartDevice
+    if isinstance(device, IotDevice):
+        with pytest.raises(
+            KasaException,
+            match=re.escape("You need to await update() to access the data"),
+        ):
+            assert device.supported_modules
 
 
 async def test_discover_single_http_client(discovery_mock, mocker):
     """Make sure that discover_single returns an initialized SmartDevice instance."""
     host = "127.0.0.1"
     discovery_mock.ip = host
 
     http_client = aiohttp.ClientSession()
 
-    x: SmartDevice = await Discover.discover_single(host)
+    x: Device = await Discover.discover_single(host)
 
     assert x.config.uses_http == (discovery_mock.default_port == 80)
 
     if discovery_mock.default_port == 80:
         assert x.protocol._transport._http_client.client != http_client
         x.config.http_client = http_client
         assert x.protocol._transport._http_client.client == http_client
 
 
 async def test_discover_http_client(discovery_mock, mocker):
-    """Make sure that discover_single returns an initialized SmartDevice instance."""
+    """Make sure that discover returns an initialized SmartDevice instance."""
     host = "127.0.0.1"
     discovery_mock.ip = host
 
     http_client = aiohttp.ClientSession()
 
     devices = await Discover.discover(discovery_timeout=0)
-    x: SmartDevice = devices[host]
+    x: Device = devices[host]
     assert x.config.uses_http == (discovery_mock.default_port == 80)
 
     if discovery_mock.default_port == 80:
         assert x.protocol._transport._http_client.client != http_client
         x.config.http_client = http_client
         assert x.protocol._transport._http_client.client == http_client
 
@@ -398,64 +412,99 @@
             if self.send_count > self.do_not_reply_count:
                 self.dp.datagram_received(self.datagram, (ip, self.port))
 
 
 @pytest.mark.parametrize("port", [9999, 20002])
 @pytest.mark.parametrize("do_not_reply_count", [0, 1, 2, 3, 4])
 async def test_do_discover_drop_packets(mocker, port, do_not_reply_count):
-    """Make sure that discover_single handles authenticating devices correctly."""
+    """Make sure that _DiscoverProtocol handles authenticating devices correctly."""
     host = "127.0.0.1"
-    discovery_timeout = 1
+    discovery_timeout = 0
 
-    event = asyncio.Event()
     dp = _DiscoverProtocol(
         target=host,
         discovery_timeout=discovery_timeout,
         discovery_packets=5,
-        discovered_event=event,
     )
     ft = FakeDatagramTransport(dp, port, do_not_reply_count)
     dp.connection_made(ft)
 
-    timed_out = False
-    try:
-        async with asyncio_timeout(discovery_timeout):
-            await event.wait()
-    except asyncio.TimeoutError:
-        timed_out = True
+    await dp.wait_for_discovery_to_complete()
 
     await asyncio.sleep(0)
     assert ft.send_count == do_not_reply_count + 1
     assert dp.discover_task.done()
-    assert timed_out is False
+    assert dp.discover_task.cancelled()
 
 
 @pytest.mark.parametrize(
     "port, will_timeout",
     [(FakeDatagramTransport.GHOST_PORT, True), (20002, False)],
     ids=["unknownport", "unsupporteddevice"],
 )
 async def test_do_discover_invalid(mocker, port, will_timeout):
-    """Make sure that discover_single handles authenticating devices correctly."""
+    """Make sure that _DiscoverProtocol handles invalid devices correctly."""
     host = "127.0.0.1"
-    discovery_timeout = 1
+    discovery_timeout = 0
 
-    event = asyncio.Event()
     dp = _DiscoverProtocol(
         target=host,
         discovery_timeout=discovery_timeout,
         discovery_packets=5,
-        discovered_event=event,
     )
     ft = FakeDatagramTransport(dp, port, 0, unsupported=True)
     dp.connection_made(ft)
 
-    timed_out = False
-    try:
-        async with asyncio_timeout(15):
-            await event.wait()
-    except asyncio.TimeoutError:
-        timed_out = True
-
+    await dp.wait_for_discovery_to_complete()
     await asyncio.sleep(0)
     assert dp.discover_task.done()
-    assert timed_out is will_timeout
+    assert dp.discover_task.cancelled() != will_timeout
+
+
+async def test_discover_propogates_task_exceptions(discovery_mock):
+    """Make sure that discover propogates callback exceptions."""
+    discovery_timeout = 0
+
+    async def on_discovered(dev):
+        raise KasaException("Dummy exception")
+
+    with pytest.raises(KasaException):
+        await Discover.discover(
+            discovery_timeout=discovery_timeout, on_discovered=on_discovered
+        )
+
+
+async def test_do_discover_no_connection(mocker):
+    """Make sure that if the datagram connection doesnt start a TimeoutError is raised."""
+    host = "127.0.0.1"
+    discovery_timeout = 0
+    mocker.patch.object(_DiscoverProtocol, "DISCOVERY_START_TIMEOUT", 0)
+    dp = _DiscoverProtocol(
+        target=host,
+        discovery_timeout=discovery_timeout,
+        discovery_packets=5,
+    )
+    # Normally tests would simulate connection as per below
+    # ft = FakeDatagramTransport(dp, port, 0, unsupported=True)
+    # dp.connection_made(ft)
+
+    with pytest.raises(asyncio.TimeoutError):
+        await dp.wait_for_discovery_to_complete()
+
+
+async def test_do_discover_external_cancel(mocker):
+    """Make sure that a cancel other than when target is discovered propogates."""
+    host = "127.0.0.1"
+    discovery_timeout = 1
+
+    dp = _DiscoverProtocol(
+        target=host,
+        discovery_timeout=discovery_timeout,
+        discovery_packets=1,
+    )
+    # Normally tests would simulate connection as per below
+    ft = FakeDatagramTransport(dp, 9999, 1, unsupported=True)
+    dp.connection_made(ft)
+
+    with pytest.raises(asyncio.TimeoutError):
+        async with asyncio_timeout(0):
+            await dp.wait_for_discovery_to_complete()
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/test_emeter.py` & `python_kasa-0.7.0.dev0/kasa/tests/test_emeter.py`

 * *Files 6% similar despite different names*

```diff
@@ -6,16 +6,17 @@
     All,
     Any,
     Coerce,  # type: ignore
     Range,
     Schema,
 )
 
-from kasa import EmeterStatus, SmartDeviceException
-from kasa.modules.emeter import Emeter
+from kasa import EmeterStatus, KasaException
+from kasa.iot import IotDevice
+from kasa.iot.modules.emeter import Emeter
 
 from .conftest import has_emeter, has_emeter_iot, no_emeter
 
 CURRENT_CONSUMPTION_SCHEMA = Schema(
     Any(
         {
             "voltage": Any(All(float, Range(min=0, max=300)), None),
@@ -33,22 +34,25 @@
 )
 
 
 @no_emeter
 async def test_no_emeter(dev):
     assert not dev.has_emeter
 
-    with pytest.raises(SmartDeviceException):
+    with pytest.raises(KasaException):
         await dev.get_emeter_realtime()
-    with pytest.raises(SmartDeviceException):
-        await dev.get_emeter_daily()
-    with pytest.raises(SmartDeviceException):
-        await dev.get_emeter_monthly()
-    with pytest.raises(SmartDeviceException):
-        await dev.erase_emeter_stats()
+    # Only iot devices support the historical stats so other
+    # devices will not implement the methods below
+    if isinstance(dev, IotDevice):
+        with pytest.raises(KasaException):
+            await dev.get_emeter_daily()
+        with pytest.raises(KasaException):
+            await dev.get_emeter_monthly()
+        with pytest.raises(KasaException):
+            await dev.erase_emeter_stats()
 
 
 @has_emeter
 async def test_get_emeter_realtime(dev):
     assert dev.has_emeter
 
     current_emeter = await dev.get_emeter_realtime()
@@ -117,15 +121,15 @@
 @has_emeter
 async def test_erase_emeter_stats(dev):
     assert dev.has_emeter
 
     await dev.erase_emeter()
 
 
-@has_emeter
+@has_emeter_iot
 async def test_current_consumption(dev):
     if dev.has_emeter:
         x = await dev.current_consumption()
         assert isinstance(x, float)
         assert x >= 0.0
     else:
         assert await dev.current_consumption() is None
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/test_httpclient.py` & `python_kasa-0.7.0.dev0/kasa/tests/test_httpclient.py`

 * *Files 11% similar despite different names*

```diff
@@ -2,48 +2,48 @@
 import re
 
 import aiohttp
 import pytest
 
 from ..deviceconfig import DeviceConfig
 from ..exceptions import (
-    ConnectionException,
-    SmartDeviceException,
-    TimeoutException,
+    KasaException,
+    TimeoutError,
+    _ConnectionError,
 )
 from ..httpclient import HttpClient
 
 
 @pytest.mark.parametrize(
     "error, error_raises, error_message",
     [
         (
             aiohttp.ServerDisconnectedError(),
-            ConnectionException,
+            _ConnectionError,
             "Device connection error: ",
         ),
         (
             aiohttp.ClientOSError(),
-            ConnectionException,
+            _ConnectionError,
             "Device connection error: ",
         ),
         (
             aiohttp.ServerTimeoutError(),
-            TimeoutException,
+            TimeoutError,
             "Unable to query the device, timed out: ",
         ),
         (
             asyncio.TimeoutError(),
-            TimeoutException,
+            TimeoutError,
             "Unable to query the device, timed out: ",
         ),
-        (Exception(), SmartDeviceException, "Unable to query the device: "),
+        (Exception(), KasaException, "Unable to query the device: "),
         (
             aiohttp.ServerFingerprintMismatch("exp", "got", "host", 1),
-            SmartDeviceException,
+            KasaException,
             "Unable to query the device: ",
         ),
     ],
     ids=(
         "ServerDisconnectedError",
         "ClientOSError",
         "ServerTimeoutError",
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/test_klapprotocol.py` & `python_kasa-0.7.0.dev0/kasa/tests/test_klapprotocol.py`

 * *Files 4% similar despite different names*

```diff
@@ -8,19 +8,19 @@
 import pytest
 from yarl import URL
 
 from ..aestransport import AesTransport
 from ..credentials import Credentials
 from ..deviceconfig import DeviceConfig
 from ..exceptions import (
-    AuthenticationException,
-    ConnectionException,
-    RetryableException,
-    SmartDeviceException,
-    TimeoutException,
+    AuthenticationError,
+    KasaException,
+    TimeoutError,
+    _ConnectionError,
+    _RetryableError,
 )
 from ..httpclient import HttpClient
 from ..iotprotocol import IotProtocol
 from ..klaptransport import (
     KlapEncryptionSession,
     KlapTransport,
     KlapTransportV2,
@@ -64,44 +64,44 @@
     mocker, retry_count, protocol_class, transport_class, error, retry_expectation
 ):
     host = "127.0.0.1"
     conn = mocker.patch.object(aiohttp.ClientSession, "post", side_effect=error)
     mocker.patch.object(protocol_class, "BACKOFF_SECONDS_AFTER_TIMEOUT", 0)
 
     config = DeviceConfig(host)
-    with pytest.raises(SmartDeviceException):
+    with pytest.raises(KasaException):
         await protocol_class(transport=transport_class(config=config)).query(
             DUMMY_QUERY, retry_count=retry_count
         )
 
     expected_count = retry_count + 1 if retry_expectation else 1
     assert conn.call_count == expected_count
 
 
 @pytest.mark.parametrize(
     "error, retry_expectation",
     [
-        (SmartDeviceException("dummy exception"), False),
-        (RetryableException("dummy exception"), True),
-        (TimeoutException("dummy exception"), True),
+        (KasaException("dummy exception"), False),
+        (_RetryableError("dummy exception"), True),
+        (TimeoutError("dummy exception"), True),
     ],
-    ids=("SmartDeviceException", "RetryableException", "TimeoutException"),
+    ids=("KasaException", "_RetryableError", "TimeoutError"),
 )
 @pytest.mark.parametrize("transport_class", [AesTransport, KlapTransport])
 @pytest.mark.parametrize("protocol_class", [IotProtocol, SmartProtocol])
 @pytest.mark.parametrize("retry_count", [1, 3, 5])
 async def test_protocol_retries_via_httpclient(
     mocker, retry_count, protocol_class, transport_class, error, retry_expectation
 ):
     host = "127.0.0.1"
     conn = mocker.patch.object(HttpClient, "post", side_effect=error)
     mocker.patch.object(protocol_class, "BACKOFF_SECONDS_AFTER_TIMEOUT", 0)
 
     config = DeviceConfig(host)
-    with pytest.raises(SmartDeviceException):
+    with pytest.raises(KasaException):
         await protocol_class(transport=transport_class(config=config)).query(
             DUMMY_QUERY, retry_count=retry_count
         )
 
     expected_count = retry_count + 1 if retry_expectation else 1
     assert conn.call_count == expected_count
 
@@ -111,19 +111,19 @@
 async def test_protocol_no_retry_on_connection_error(
     mocker, protocol_class, transport_class
 ):
     host = "127.0.0.1"
     conn = mocker.patch.object(
         aiohttp.ClientSession,
         "post",
-        side_effect=AuthenticationException("foo"),
+        side_effect=AuthenticationError("foo"),
     )
     mocker.patch.object(protocol_class, "BACKOFF_SECONDS_AFTER_TIMEOUT", 0)
     config = DeviceConfig(host)
-    with pytest.raises(SmartDeviceException):
+    with pytest.raises(KasaException):
         await protocol_class(transport=transport_class(config=config)).query(
             DUMMY_QUERY, retry_count=5
         )
 
     assert conn.call_count == 1
 
 
@@ -135,15 +135,15 @@
     host = "127.0.0.1"
     conn = mocker.patch.object(
         aiohttp.ClientSession,
         "post",
         side_effect=aiohttp.ClientOSError("foo"),
     )
     config = DeviceConfig(host)
-    with pytest.raises(SmartDeviceException):
+    with pytest.raises(KasaException):
         await protocol_class(transport=transport_class(config=config)).query(
             DUMMY_QUERY, retry_count=5
         )
 
     assert conn.call_count == 6
 
 
@@ -155,15 +155,15 @@
     remaining = retry_count
     mock_response = {"result": {"great": "success"}, "error_code": 0}
 
     def _fail_one_less_than_retry_count(*_, **__):
         nonlocal remaining
         remaining -= 1
         if remaining:
-            raise ConnectionException("Simulated connection failure")
+            raise _ConnectionError("Simulated connection failure")
 
         return mock_response
 
     mocker.patch.object(transport_class, "perform_handshake")
     if hasattr(transport_class, "perform_login"):
         mocker.patch.object(transport_class, "perform_login")
 
@@ -245,15 +245,15 @@
         (Credentials(), does_not_raise()),
         (
             get_default_credentials(DEFAULT_CREDENTIALS["KASA"]),
             does_not_raise(),
         ),
         (
             Credentials("shouldfail", "shouldfail"),
-            pytest.raises(AuthenticationException),
+            pytest.raises(AuthenticationError),
         ),
     ],
     ids=("client", "blank", "kasa_setup", "shouldfail"),
 )
 @pytest.mark.parametrize(
     "transport_class, seed_auth_hash_calc",
     [
@@ -319,22 +319,22 @@
     server_seed = secrets.token_bytes(16)
     client_credentials = Credentials("foo", "bar")
     device_auth_hash = transport_class.generate_auth_hash(client_credentials)
 
     async def _return_handshake_response(url: URL, params=None, data=None, *_, **__):
         nonlocal client_seed, server_seed, device_auth_hash
 
-        if str(url) == "http://127.0.0.1/app/handshake1":
+        if str(url) == "http://127.0.0.1:80/app/handshake1":
             client_seed = data
             seed_auth_hash = _sha256(
                 seed_auth_hash_calc1(client_seed, server_seed, device_auth_hash)
             )
 
             return _mock_response(200, server_seed + seed_auth_hash)
-        elif str(url) == "http://127.0.0.1/app/handshake2":
+        elif str(url) == "http://127.0.0.1:80/app/handshake2":
             seed_auth_hash = _sha256(
                 seed_auth_hash_calc2(client_seed, server_seed, device_auth_hash)
             )
             assert data == seed_auth_hash
             return _mock_response(response_status, b"")
 
     mocker.patch.object(
@@ -346,15 +346,15 @@
     protocol._transport.http_client = aiohttp.ClientSession()
 
     response_status = 200
     await protocol._transport.perform_handshake()
     assert protocol._transport._handshake_done is True
 
     response_status = 403
-    with pytest.raises(AuthenticationException):
+    with pytest.raises(KasaException):
         await protocol._transport.perform_handshake()
     assert protocol._transport._handshake_done is False
     await protocol.close()
 
 
 async def test_query(mocker):
     client_seed = None
@@ -363,22 +363,22 @@
     server_seed = secrets.token_bytes(16)
     client_credentials = Credentials("foo", "bar")
     device_auth_hash = KlapTransport.generate_auth_hash(client_credentials)
 
     async def _return_response(url: URL, params=None, data=None, *_, **__):
         nonlocal client_seed, server_seed, device_auth_hash, seq
 
-        if str(url) == "http://127.0.0.1/app/handshake1":
+        if str(url) == "http://127.0.0.1:80/app/handshake1":
             client_seed = data
             client_seed_auth_hash = _sha256(data + device_auth_hash)
 
             return _mock_response(200, server_seed + client_seed_auth_hash)
-        elif str(url) == "http://127.0.0.1/app/handshake2":
+        elif str(url) == "http://127.0.0.1:80/app/handshake2":
             return _mock_response(200, b"")
-        elif str(url) == "http://127.0.0.1/app/request":
+        elif str(url) == "http://127.0.0.1:80/app/request":
             encryption_session = KlapEncryptionSession(
                 protocol._transport._encryption_session.local_seed,
                 protocol._transport._encryption_session.remote_seed,
                 protocol._transport._encryption_session.user_hash,
             )
             seq = params.get("seq")
             encryption_session._seq = seq - 1
@@ -396,45 +396,102 @@
         assert resp == {"great": "success"}
         # Check the protocol is incrementing the sequence number
         assert last_seq is None or last_seq + 1 == seq
         last_seq = seq
 
 
 @pytest.mark.parametrize(
-    "response_status, expectation",
+    "response_status, credentials_match, expectation",
     [
-        ((403, 403, 403), pytest.raises(AuthenticationException)),
-        ((200, 403, 403), pytest.raises(AuthenticationException)),
-        ((200, 200, 403), pytest.raises(AuthenticationException)),
-        ((200, 200, 400), pytest.raises(SmartDeviceException)),
+        pytest.param(
+            (403, 403, 403),
+            True,
+            pytest.raises(KasaException),
+            id="handshake1-403-status",
+        ),
+        pytest.param(
+            (200, 403, 403),
+            True,
+            pytest.raises(KasaException),
+            id="handshake2-403-status",
+        ),
+        pytest.param(
+            (200, 200, 403),
+            True,
+            pytest.raises(_RetryableError),
+            id="request-403-status",
+        ),
+        pytest.param(
+            (200, 200, 400),
+            True,
+            pytest.raises(KasaException),
+            id="request-400-status",
+        ),
+        pytest.param(
+            (200, 200, 200),
+            False,
+            pytest.raises(AuthenticationError),
+            id="handshake1-wrong-auth",
+        ),
+        pytest.param(
+            (200, 200, 200),
+            secrets.token_bytes(16),
+            pytest.raises(KasaException),
+            id="handshake1-bad-auth-length",
+        ),
     ],
-    ids=("handshake1", "handshake2", "request", "non_auth_error"),
 )
-async def test_authentication_failures(mocker, response_status, expectation):
+async def test_authentication_failures(
+    mocker, response_status, credentials_match, expectation
+):
     client_seed = None
 
     server_seed = secrets.token_bytes(16)
     client_credentials = Credentials("foo", "bar")
-    device_auth_hash = KlapTransport.generate_auth_hash(client_credentials)
+    device_credentials = (
+        client_credentials if credentials_match else Credentials("bar", "foo")
+    )
+    device_auth_hash = KlapTransport.generate_auth_hash(device_credentials)
 
     async def _return_response(url: URL, params=None, data=None, *_, **__):
-        nonlocal client_seed, server_seed, device_auth_hash, response_status
+        nonlocal \
+            client_seed, \
+            server_seed, \
+            device_auth_hash, \
+            response_status, \
+            credentials_match
 
-        if str(url) == "http://127.0.0.1/app/handshake1":
+        if str(url) == "http://127.0.0.1:80/app/handshake1":
             client_seed = data
             client_seed_auth_hash = _sha256(data + device_auth_hash)
-
+            if credentials_match is not False and credentials_match is not True:
+                client_seed_auth_hash += credentials_match
             return _mock_response(
                 response_status[0], server_seed + client_seed_auth_hash
             )
-        elif str(url) == "http://127.0.0.1/app/handshake2":
-            return _mock_response(response_status[1], b"")
-        elif str(url) == "http://127.0.0.1/app/request":
+        elif str(url) == "http://127.0.0.1:80/app/handshake2":
+            client_seed = data
+            client_seed_auth_hash = _sha256(data + device_auth_hash)
+            return _mock_response(
+                response_status[1], server_seed + client_seed_auth_hash
+            )
+        elif str(url) == "http://127.0.0.1:80/app/request":
             return _mock_response(response_status[2], b"")
 
     mocker.patch.object(aiohttp.ClientSession, "post", side_effect=_return_response)
 
     config = DeviceConfig("127.0.0.1", credentials=client_credentials)
     protocol = IotProtocol(transport=KlapTransport(config=config))
 
     with expectation:
         await protocol.query({})
+
+
+async def test_port_override():
+    """Test that port override sets the app_url."""
+    host = "127.0.0.1"
+    config = DeviceConfig(
+        host, credentials=Credentials("foo", "bar"), port_override=12345
+    )
+    transport = KlapTransport(config=config)
+
+    assert str(transport._app_url) == "http://127.0.0.1:12345/app"
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/test_lightstrip.py` & `python_kasa-0.7.0.dev0/kasa/tests/test_lightstrip.py`

 * *Files 19% similar despite different names*

```diff
@@ -1,72 +1,77 @@
 import pytest
 
-from kasa import DeviceType, SmartLightStrip
-from kasa.exceptions import SmartDeviceException
+from kasa import DeviceType
+from kasa.iot import IotLightStrip
 
-from .conftest import lightstrip
+from .conftest import lightstrip_iot
 
 
-@lightstrip
-async def test_lightstrip_length(dev: SmartLightStrip):
+@lightstrip_iot
+async def test_lightstrip_length(dev: IotLightStrip):
     assert dev.is_light_strip
     assert dev.device_type == DeviceType.LightStrip
     assert dev.length == dev.sys_info["length"]
 
 
-@lightstrip
-async def test_lightstrip_effect(dev: SmartLightStrip):
+@lightstrip_iot
+async def test_lightstrip_effect(dev: IotLightStrip):
     assert isinstance(dev.effect, dict)
     for k in ["brightness", "custom", "enable", "id", "name"]:
         assert k in dev.effect
 
 
-@lightstrip
-async def test_effects_lightstrip_set_effect(dev: SmartLightStrip):
-    with pytest.raises(SmartDeviceException):
+@lightstrip_iot
+async def test_effects_lightstrip_set_effect(dev: IotLightStrip):
+    with pytest.raises(ValueError):
         await dev.set_effect("Not real")
 
     await dev.set_effect("Candy Cane")
+    await dev.update()
     assert dev.effect["name"] == "Candy Cane"
-    assert dev.state_information["Effect"] == "Candy Cane"
 
 
-@lightstrip
+@lightstrip_iot
 @pytest.mark.parametrize("brightness", [100, 50])
 async def test_effects_lightstrip_set_effect_brightness(
-    dev: SmartLightStrip, brightness, mocker
+    dev: IotLightStrip, brightness, mocker
 ):
-    query_helper = mocker.patch("kasa.SmartLightStrip._query_helper")
+    query_helper = mocker.patch("kasa.iot.IotLightStrip._query_helper")
 
     # test that default brightness works (100 for candy cane)
     if brightness == 100:
         await dev.set_effect("Candy Cane")
     else:
         await dev.set_effect("Candy Cane", brightness=brightness)
 
     args, kwargs = query_helper.call_args_list[0]
     payload = args[2]
     assert payload["brightness"] == brightness
 
 
-@lightstrip
+@lightstrip_iot
 @pytest.mark.parametrize("transition", [500, 1000])
 async def test_effects_lightstrip_set_effect_transition(
-    dev: SmartLightStrip, transition, mocker
+    dev: IotLightStrip, transition, mocker
 ):
-    query_helper = mocker.patch("kasa.SmartLightStrip._query_helper")
+    query_helper = mocker.patch("kasa.iot.IotLightStrip._query_helper")
 
     # test that default (500 for candy cane) transition works
     if transition == 500:
         await dev.set_effect("Candy Cane")
     else:
         await dev.set_effect("Candy Cane", transition=transition)
 
     args, kwargs = query_helper.call_args_list[0]
     payload = args[2]
     assert payload["transition"] == transition
 
 
-@lightstrip
-async def test_effects_lightstrip_has_effects(dev: SmartLightStrip):
+@lightstrip_iot
+async def test_effects_lightstrip_has_effects(dev: IotLightStrip):
     assert dev.has_effects is True
     assert dev.effect_list
+
+
+@lightstrip_iot
+def test_device_type_lightstrip(dev):
+    assert dev.device_type == DeviceType.LightStrip
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/test_protocol.py` & `python_kasa-0.7.0.dev0/kasa/tests/test_protocol.py`

 * *Files 2% similar despite different names*

```diff
@@ -10,15 +10,15 @@
 import sys
 
 import pytest
 
 from ..aestransport import AesTransport
 from ..credentials import Credentials
 from ..deviceconfig import DeviceConfig
-from ..exceptions import SmartDeviceException
+from ..exceptions import KasaException
 from ..iotprotocol import IotProtocol, _deprecated_TPLinkSmartHomeProtocol
 from ..klaptransport import KlapTransport, KlapTransportV2
 from ..protocol import (
     BaseProtocol,
     BaseTransport,
 )
 from ..xortransport import XorEncryption, XorTransport
@@ -42,15 +42,15 @@
             "asyncio.StreamWriter.write", side_effect=Exception("dummy exception")
         )
 
         return reader, writer
 
     conn = mocker.patch("asyncio.open_connection", side_effect=aio_mock_writer)
     config = DeviceConfig("127.0.0.1")
-    with pytest.raises(SmartDeviceException):
+    with pytest.raises(KasaException):
         await protocol_class(transport=transport_class(config=config)).query(
             {}, retry_count=retry_count
         )
 
     assert conn.call_count == retry_count + 1
 
 
@@ -66,15 +66,15 @@
     mocker, protocol_class, transport_class
 ):
     conn = mocker.patch(
         "asyncio.open_connection",
         side_effect=OSError(errno.EHOSTUNREACH, "No route to host"),
     )
     config = DeviceConfig("127.0.0.1")
-    with pytest.raises(SmartDeviceException):
+    with pytest.raises(KasaException):
         await protocol_class(transport=transport_class(config=config)).query(
             {}, retry_count=5
         )
 
     assert conn.call_count == 1
 
 
@@ -90,15 +90,15 @@
     mocker, protocol_class, transport_class
 ):
     conn = mocker.patch(
         "asyncio.open_connection",
         side_effect=ConnectionRefusedError,
     )
     config = DeviceConfig("127.0.0.1")
-    with pytest.raises(SmartDeviceException):
+    with pytest.raises(KasaException):
         await protocol_class(transport=transport_class(config=config)).query(
             {}, retry_count=5
         )
 
     assert conn.call_count == 1
 
 
@@ -114,15 +114,15 @@
     mocker, protocol_class, transport_class
 ):
     conn = mocker.patch(
         "asyncio.open_connection",
         side_effect=OSError(errno.ECONNRESET, "Connection reset by peer"),
     )
     config = DeviceConfig("127.0.0.1")
-    with pytest.raises(SmartDeviceException):
+    with pytest.raises(KasaException):
         await protocol_class(transport=transport_class(config=config)).query(
             {}, retry_count=5
         )
 
     assert conn.call_count == 6
 
 
@@ -549,15 +549,15 @@
 )
 async def test_protocol_will_retry_on_connect(
     mocker, protocol_class, transport_class, error, retry_expectation
 ):
     retry_count = 2
     conn = mocker.patch("asyncio.open_connection", side_effect=error)
     config = DeviceConfig("127.0.0.1")
-    with pytest.raises(SmartDeviceException):
+    with pytest.raises(KasaException):
         await protocol_class(transport=transport_class(config=config)).query(
             {}, retry_count=retry_count
         )
 
     assert conn.call_count == (retry_count + 1 if retry_expectation else 1)
 
 
@@ -591,28 +591,26 @@
         reader = mocker.patch("asyncio.StreamReader")
 
         return reader, writer
 
     conn = mocker.patch("asyncio.open_connection", side_effect=aio_mock_writer)
     write_mock = mocker.patch("asyncio.StreamWriter.write", side_effect=error)
     config = DeviceConfig("127.0.0.1")
-    with pytest.raises(SmartDeviceException):
+    with pytest.raises(KasaException):
         await protocol_class(transport=transport_class(config=config)).query(
             {}, retry_count=retry_count
         )
 
     expected_call_count = retry_count + 1 if retry_expectation else 1
     assert conn.call_count == expected_call_count
     assert write_mock.call_count == expected_call_count
 
 
 def test_deprecated_protocol():
     with pytest.deprecated_call():
         from kasa import TPLinkSmartHomeProtocol
 
-        with pytest.raises(
-            SmartDeviceException, match="host or transport must be supplied"
-        ):
+        with pytest.raises(KasaException, match="host or transport must be supplied"):
             proto = TPLinkSmartHomeProtocol()
         host = "127.0.0.1"
         proto = TPLinkSmartHomeProtocol(host=host)
         assert proto.config.host == host
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/test_smartdevice.py` & `python_kasa-0.7.0.dev0/kasa/tests/test_iotdevice.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,83 +1,133 @@
-import inspect
+"""Module for common iotdevice tests."""
+
 import re
 from datetime import datetime
-from unittest.mock import Mock, patch
 
-import pytest  # type: ignore # https://github.com/pytest-dev/pytest/issues/3342
+import pytest
 from voluptuous import (
     REMOVE_EXTRA,
     All,
     Any,
     Boolean,
     In,
     Invalid,
     Optional,
     Range,
     Schema,
 )
 
-import kasa
-from kasa import Credentials, DeviceConfig, SmartDevice, SmartDeviceException
+from kasa import KasaException, Module
+from kasa.iot import IotDevice
 
-from .conftest import device_iot, handle_turn_on, has_emeter_iot, no_emeter_iot, turn_on
+from .conftest import get_device_for_fixture_protocol, handle_turn_on, turn_on
+from .device_fixtures import device_iot, has_emeter_iot, no_emeter_iot
 from .fakeprotocol_iot import FakeIotProtocol
 
-# List of all SmartXXX classes including the SmartDevice base class
-smart_device_classes = [
-    dc
-    for (mn, dc) in inspect.getmembers(
-        kasa,
-        lambda member: inspect.isclass(member)
-        and (member == SmartDevice or issubclass(member, SmartDevice)),
-    )
-]
+TZ_SCHEMA = Schema(
+    {"zone_str": str, "dst_offset": int, "index": All(int, Range(min=0)), "tz_str": str}
+)
+
+
+def check_mac(x):
+    if re.match("[0-9a-f]{2}([-:])[0-9a-f]{2}(\\1[0-9a-f]{2}){4}$", x.lower()):
+        return x
+    raise Invalid(x)
+
+
+SYSINFO_SCHEMA = Schema(
+    {
+        "active_mode": In(["schedule", "none", "count_down"]),
+        "alias": str,
+        "dev_name": str,
+        "deviceId": str,
+        "feature": str,
+        "fwId": str,
+        "hwId": str,
+        "hw_ver": str,
+        "icon_hash": str,
+        "led_off": Boolean,
+        "latitude": Any(All(float, Range(min=-90, max=90)), 0, None),
+        "latitude_i": Any(
+            All(int, Range(min=-900000, max=900000)),
+            All(float, Range(min=-900000, max=900000)),
+            0,
+            None,
+        ),
+        "longitude": Any(All(float, Range(min=-180, max=180)), 0, None),
+        "longitude_i": Any(
+            All(int, Range(min=-18000000, max=18000000)),
+            All(float, Range(min=-18000000, max=18000000)),
+            0,
+            None,
+        ),
+        "mac": check_mac,
+        "model": str,
+        "oemId": str,
+        "on_time": int,
+        "relay_state": int,
+        "rssi": Any(int, None),  # rssi can also be positive, see #54
+        "sw_ver": str,
+        "type": str,
+        "mic_type": str,
+        "updating": Boolean,
+        # these are available on hs220
+        "brightness": int,
+        "preferred_state": [
+            {"brightness": All(int, Range(min=0, max=100)), "index": int}
+        ],
+        "next_action": {"type": int},
+        "child_num": Optional(Any(None, int)),
+        "children": Optional(list),
+    },
+    extra=REMOVE_EXTRA,
+)
 
 
 @device_iot
 async def test_state_info(dev):
     assert isinstance(dev.state_information, dict)
 
 
 @pytest.mark.requires_dummy
 @device_iot
-async def test_invalid_connection(dev):
-    with patch.object(
-        FakeIotProtocol, "query", side_effect=SmartDeviceException
-    ), pytest.raises(SmartDeviceException):
+async def test_invalid_connection(mocker, dev):
+    with mocker.patch.object(
+        FakeIotProtocol, "query", side_effect=KasaException
+    ), pytest.raises(KasaException):
         await dev.update()
 
 
 @has_emeter_iot
 async def test_initial_update_emeter(dev, mocker):
     """Test that the initial update performs second query if emeter is available."""
     dev._last_update = None
-    dev._features = set()
+    dev._legacy_features = set()
     spy = mocker.spy(dev.protocol, "query")
     await dev.update()
     # Devices with small buffers may require 3 queries
     expected_queries = 2 if dev.max_device_response_size > 4096 else 3
     assert spy.call_count == expected_queries + len(dev.children)
 
 
 @no_emeter_iot
 async def test_initial_update_no_emeter(dev, mocker):
     """Test that the initial update performs second query if emeter is available."""
     dev._last_update = None
-    dev._features = set()
+    dev._legacy_features = set()
     spy = mocker.spy(dev.protocol, "query")
     await dev.update()
     # 2 calls are necessary as some devices crash on unexpected modules
     # See #105, #120, #161
     assert spy.call_count == 2
 
 
 @device_iot
 async def test_query_helper(dev):
-    with pytest.raises(SmartDeviceException):
+    with pytest.raises(KasaException):
         await dev._query_helper("test", "testcmd", {})
     # TODO check for unwrapping?
 
 
 @device_iot
 @turn_on
 async def test_state(dev, turn_on):
@@ -102,29 +152,14 @@
         await dev.turn_off()
         await dev.update()
         assert not dev.is_on
         assert dev.is_off
 
 
 @device_iot
-async def test_alias(dev):
-    test_alias = "TEST1234"
-    original = dev.alias
-
-    assert isinstance(original, str)
-    await dev.set_alias(test_alias)
-    await dev.update()
-    assert dev.alias == test_alias
-
-    await dev.set_alias(original)
-    await dev.update()
-    assert dev.alias == original
-
-
-@device_iot
 @turn_on
 async def test_on_since(dev, turn_on):
     await handle_turn_on(dev, turn_on)
     orig_state = dev.is_on
     if "on_time" not in dev.sys_info and not dev.is_strip:
         assert dev.on_since is None
     elif orig_state:
@@ -161,54 +196,49 @@
 @device_iot
 async def test_mac(dev):
     SYSINFO_SCHEMA({"mac": dev.mac})  # wrapping for val
 
 
 @device_iot
 async def test_representation(dev):
-    import re
-
-    pattern = re.compile("<.* model .* at .* (.*), is_on: .* - dev specific: .*>")
+    pattern = re.compile("<DeviceType\..+ at .+? - .*? \(.+?\)>")
     assert pattern.match(str(dev))
 
 
 @device_iot
-async def test_childrens(dev):
+async def test_children(dev):
     """Make sure that children property is exposed by every device."""
     if dev.is_strip:
         assert len(dev.children) > 0
     else:
         assert len(dev.children) == 0
 
 
 @device_iot
-async def test_children(dev):
-    """Make sure that children property is exposed by every device."""
-    if dev.is_strip:
-        assert len(dev.children) > 0
-        assert dev.has_children is True
-    else:
-        assert len(dev.children) == 0
-        assert dev.has_children is False
+async def test_modules_preserved(dev: IotDevice):
+    """Make modules that are not being updated are preserved between updates."""
+    dev._last_update["some_module_not_being_updated"] = "should_be_kept"
+    await dev.update()
+    assert dev._last_update["some_module_not_being_updated"] == "should_be_kept"
 
 
 @device_iot
 async def test_internal_state(dev):
     """Make sure the internal state returns the last update results."""
     assert dev.internal_state == dev._last_update
 
 
 @device_iot
 async def test_features(dev):
     """Make sure features is always accessible."""
     sysinfo = dev._last_update["system"]["get_sysinfo"]
     if "feature" in sysinfo:
-        assert dev.features == set(sysinfo["feature"].split(":"))
+        assert dev._legacy_features == set(sysinfo["feature"].split(":"))
     else:
-        assert dev.features == set()
+        assert dev._legacy_features == set()
 
 
 @device_iot
 async def test_max_device_response_size(dev):
     """Make sure every device return has a set max response size."""
     assert dev.max_device_response_size > 0
 
@@ -216,122 +246,41 @@
 @device_iot
 async def test_estimated_response_sizes(dev):
     """Make sure every module has an estimated response size set."""
     for mod in dev.modules.values():
         assert mod.estimated_query_response_size > 0
 
 
-@pytest.mark.parametrize("device_class", smart_device_classes)
-def test_device_class_ctors(device_class):
-    """Make sure constructor api not broken for new and existing SmartDevices."""
-    host = "127.0.0.2"
-    port = 1234
-    credentials = Credentials("foo", "bar")
-    config = DeviceConfig(host, port_override=port, credentials=credentials)
-    dev = device_class(host, config=config)
-    assert dev.host == host
-    assert dev.port == port
-    assert dev.credentials == credentials
-
-
 @device_iot
-async def test_modules_preserved(dev: SmartDevice):
-    """Make modules that are not being updated are preserved between updates."""
-    dev._last_update["some_module_not_being_updated"] = "should_be_kept"
-    await dev.update()
-    assert dev._last_update["some_module_not_being_updated"] == "should_be_kept"
-
-
-async def test_create_smart_device_with_timeout():
-    """Make sure timeout is passed to the protocol."""
-    host = "127.0.0.1"
-    dev = SmartDevice(host, config=DeviceConfig(host, timeout=100))
-    assert dev.protocol._transport._timeout == 100
-
-
-async def test_create_thin_wrapper():
-    """Make sure thin wrapper is created with the correct device type."""
-    mock = Mock()
-    config = DeviceConfig(
-        host="test_host",
-        port_override=1234,
-        timeout=100,
-        credentials=Credentials("username", "password"),
-    )
-    with patch("kasa.device_factory.connect", return_value=mock) as connect:
-        dev = await SmartDevice.connect(config=config)
-        assert dev is mock
-
-    connect.assert_called_once_with(
-        host=None,
-        config=config,
-    )
-
-
-@device_iot
-async def test_modules_not_supported(dev: SmartDevice):
+async def test_modules_not_supported(dev: IotDevice):
     """Test that unsupported modules do not break the device."""
     for module in dev.modules.values():
         assert module.is_supported is not None
     await dev.update()
     for module in dev.modules.values():
         assert module.is_supported is not None
 
 
-def check_mac(x):
-    if re.match("[0-9a-f]{2}([-:])[0-9a-f]{2}(\\1[0-9a-f]{2}){4}$", x.lower()):
-        return x
-    raise Invalid(x)
-
-
-TZ_SCHEMA = Schema(
-    {"zone_str": str, "dst_offset": int, "index": All(int, Range(min=0)), "tz_str": str}
-)
+async def test_get_modules():
+    """Test getting modules for child and parent modules."""
+    dummy_device = await get_device_for_fixture_protocol(
+        "HS100(US)_2.0_1.5.6.json", "IOT"
+    )
+    from kasa.iot.modules import Cloud
 
+    # Modules on device
+    module = dummy_device.modules.get("cloud")
+    assert module
+    assert module._device == dummy_device
+    assert isinstance(module, Cloud)
+
+    module = dummy_device.modules.get(Module.IotCloud)
+    assert module
+    assert module._device == dummy_device
+    assert isinstance(module, Cloud)
+
+    # Invalid modules
+    module = dummy_device.modules.get("DummyModule")
+    assert module is None
 
-SYSINFO_SCHEMA = Schema(
-    {
-        "active_mode": In(["schedule", "none", "count_down"]),
-        "alias": str,
-        "dev_name": str,
-        "deviceId": str,
-        "feature": str,
-        "fwId": str,
-        "hwId": str,
-        "hw_ver": str,
-        "icon_hash": str,
-        "led_off": Boolean,
-        "latitude": Any(All(float, Range(min=-90, max=90)), 0, None),
-        "latitude_i": Any(
-            All(int, Range(min=-900000, max=900000)),
-            All(float, Range(min=-900000, max=900000)),
-            0,
-            None,
-        ),
-        "longitude": Any(All(float, Range(min=-180, max=180)), 0, None),
-        "longitude_i": Any(
-            All(int, Range(min=-18000000, max=18000000)),
-            All(float, Range(min=-18000000, max=18000000)),
-            0,
-            None,
-        ),
-        "mac": check_mac,
-        "model": str,
-        "oemId": str,
-        "on_time": int,
-        "relay_state": int,
-        "rssi": Any(int, None),  # rssi can also be positive, see #54
-        "sw_ver": str,
-        "type": str,
-        "mic_type": str,
-        "updating": Boolean,
-        # these are available on hs220
-        "brightness": int,
-        "preferred_state": [
-            {"brightness": All(int, Range(min=0, max=100)), "index": int}
-        ],
-        "next_action": {"type": int},
-        "child_num": Optional(Any(None, int)),
-        "children": Optional(list),
-    },
-    extra=REMOVE_EXTRA,
-)
+    module = dummy_device.modules.get(Module.Cloud)
+    assert module is None
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/test_strip.py` & `python_kasa-0.7.0.dev0/kasa/tests/test_strip.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,12 +1,13 @@
 from datetime import datetime
 
 import pytest
 
-from kasa import SmartDeviceException, SmartStrip
+from kasa import KasaException
+from kasa.iot import IotStrip
 
 from .conftest import handle_turn_on, strip, turn_on
 
 
 @strip
 @turn_on
 async def test_children_change_state(dev, turn_on):
@@ -64,30 +65,30 @@
     # TODO: testing this would require some mocking utcnow which is not
     # very straightforward.
     # else:
     #    assert dev.on_since == max(on_sinces)
 
 
 @strip
-async def test_get_plug_by_name(dev: SmartStrip):
+async def test_get_plug_by_name(dev: IotStrip):
     name = dev.children[0].alias
     assert dev.get_plug_by_name(name) == dev.children[0]  # type: ignore[arg-type]
 
-    with pytest.raises(SmartDeviceException):
+    with pytest.raises(KasaException):
         dev.get_plug_by_name("NONEXISTING NAME")
 
 
 @strip
-async def test_get_plug_by_index(dev: SmartStrip):
+async def test_get_plug_by_index(dev: IotStrip):
     assert dev.get_plug_by_index(0) == dev.children[0]
 
-    with pytest.raises(SmartDeviceException):
+    with pytest.raises(KasaException):
         dev.get_plug_by_index(-1)
 
-    with pytest.raises(SmartDeviceException):
+    with pytest.raises(KasaException):
         dev.get_plug_by_index(len(dev.children))
 
 
 @pytest.mark.skip("this test will wear out your relays")
 async def test_all_binary_states(dev):
     # test every binary state
     # TODO: this needs to be fixed, dev.plugs is not available for each device..
@@ -126,7 +127,15 @@
                 await dev.turn_on(index=plug_index)
             else:
                 await dev.turn_off(index=plug_index)
 
             # original state map should be restored
             for index, state in dev.is_on.items():
                 assert state == state_map[index]
+
+
+@strip
+def test_children_api(dev):
+    """Test the child device API."""
+    first = dev.children[0]
+    first_by_get_child_device = dev.get_child_device(first.device_id)
+    assert first == first_by_get_child_device
```

### Comparing `python_kasa-0.6.2.1/kasa/tests/test_usage.py` & `python_kasa-0.7.0.dev0/kasa/tests/test_usage.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,11 +1,11 @@
 import datetime
 from unittest.mock import Mock
 
-from kasa.modules import Usage
+from kasa.iot.modules import Usage
 
 
 def test_usage_convert_stat_data():
     usage = Usage(None, module="usage")
 
     test_data = []
     assert usage._convert_stat_data(test_data, "day") == {}
```

### Comparing `python_kasa-0.6.2.1/kasa/xortransport.py` & `python_kasa-0.7.0.dev0/kasa/xortransport.py`

 * *Files 6% similar despite different names*

```diff
@@ -5,29 +5,32 @@
 
 https://www.softscheck.com/en/reverse-engineering-tp-link-hs110/
 https://github.com/softScheck/tplink-smartplug/
 
 which are licensed under the Apache License, Version 2.0
 http://www.apache.org/licenses/LICENSE-2.0
 """
+
+from __future__ import annotations
+
 import asyncio
 import contextlib
 import errno
 import logging
 import socket
 import struct
 from pprint import pformat as pf
-from typing import Dict, Generator, Optional
+from typing import Generator
 
 # When support for cpython older than 3.11 is dropped
 # async_timeout can be replaced with asyncio.timeout
 from async_timeout import timeout as asyncio_timeout
 
 from .deviceconfig import DeviceConfig
-from .exceptions import RetryableException, SmartDeviceException
+from .exceptions import KasaException, _RetryableError
 from .json import loads as json_loads
 from .protocol import BaseTransport
 
 _LOGGER = logging.getLogger(__name__)
 _NO_RETRY_ERRORS = {errno.EHOSTDOWN, errno.EHOSTUNREACH, errno.ECONNREFUSED}
 _UNSIGNED_INT_NETWORK_ORDER = struct.Struct(">I")
 
@@ -36,18 +39,18 @@
     """XorTransport class."""
 
     DEFAULT_PORT: int = 9999
     BLOCK_SIZE = 4
 
     def __init__(self, *, config: DeviceConfig) -> None:
         super().__init__(config=config)
-        self.reader: Optional[asyncio.StreamReader] = None
-        self.writer: Optional[asyncio.StreamWriter] = None
+        self.reader: asyncio.StreamReader | None = None
+        self.writer: asyncio.StreamWriter | None = None
         self.query_lock = asyncio.Lock()
-        self.loop: Optional[asyncio.AbstractEventLoop] = None
+        self.loop: asyncio.AbstractEventLoop | None = None
 
     @property
     def default_port(self):
         """Default port for the transport."""
         return self.DEFAULT_PORT
 
     @property
@@ -67,15 +70,15 @@
             sock: socket.socket = self.writer.get_extra_info("socket")
             # Ensure our packets get sent without delay as we do all
             # our writes in a single go and we do not want any buffering
             # which would needlessly delay the request or risk overloading
             # the buffer on the device
             sock.setsockopt(socket.IPPROTO_TCP, socket.TCP_NODELAY, 1)
 
-    async def _execute_send(self, request: str) -> Dict:
+    async def _execute_send(self, request: str) -> dict:
         """Execute a query on the device and wait for the response."""
         assert self.writer is not None  # noqa: S101
         assert self.reader is not None  # noqa: S101
         debug_log = _LOGGER.isEnabledFor(logging.DEBUG)
         if debug_log:
             _LOGGER.debug("%s >> %s", self._host, request)
         self.writer.write(XorEncryption.encrypt(request))
@@ -110,47 +113,47 @@
     async def reset(self) -> None:
         """Reset the transport.
 
         The transport cannot be reset so we must close instead.
         """
         await self.close()
 
-    async def send(self, request: str) -> Dict:
+    async def send(self, request: str) -> dict:
         """Send a message to the device and return a response."""
         #
         # Most of the time we will already be connected if the device is online
         # and the connect call will do nothing and return right away
         #
         # However, if we get an unrecoverable error (_NO_RETRY_ERRORS and
         # ConnectionRefusedError) we do not want to keep trying since many
         # connection open/close operations in the same time frame can block
         # the event loop.
         # This is especially import when there are multiple tplink devices being polled.
         try:
             await self._connect(self._timeout)
         except ConnectionRefusedError as ex:
             await self.reset()
-            raise SmartDeviceException(
+            raise KasaException(
                 f"Unable to connect to the device: {self._host}:{self._port}: {ex}"
             ) from ex
         except OSError as ex:
             await self.reset()
             if ex.errno in _NO_RETRY_ERRORS:
-                raise SmartDeviceException(
+                raise KasaException(
                     f"Unable to connect to the device:"
                     f" {self._host}:{self._port}: {ex}"
                 ) from ex
             else:
-                raise RetryableException(
+                raise _RetryableError(
                     f"Unable to connect to the device:"
                     f" {self._host}:{self._port}: {ex}"
                 ) from ex
         except Exception as ex:
             await self.reset()
-            raise RetryableException(
+            raise _RetryableError(
                 f"Unable to connect to the device:" f" {self._host}:{self._port}: {ex}"
             ) from ex
         except BaseException:
             # Likely something cancelled the task so we need to close the connection
             # as we are not in an indeterminate state
             self.close_without_wait()
             raise
@@ -158,15 +161,15 @@
         try:
             assert self.reader is not None  # noqa: S101
             assert self.writer is not None  # noqa: S101
             async with asyncio_timeout(self._timeout):
                 return await self._execute_send(request)
         except Exception as ex:
             await self.reset()
-            raise RetryableException(
+            raise _RetryableError(
                 f"Unable to query the device {self._host}:{self._port}: {ex}"
             ) from ex
         except BaseException:
             # Likely something cancelled the task so we need to close the connection
             # as we are not in an indeterminate state
             self.close_without_wait()
             raise
```

### Comparing `python_kasa-0.6.2.1/pyproject.toml` & `python_kasa-0.7.0.dev0/pyproject.toml`

 * *Files 8% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 [tool.poetry]
 name = "python-kasa"
-version = "0.6.2.1"
+version = "0.7.0.dev0"
 description = "Python API for TP-Link Kasa Smarthome devices"
 license = "GPL-3.0-or-later"
 authors = ["python-kasa developers"]
 repository = "https://github.com/python-kasa/python-kasa"
 readme = "README.md"
 packages = [
   { include = "kasa" }
@@ -20,47 +20,53 @@
 [tool.poetry.scripts]
 kasa = "kasa.cli:cli"
 
 [tool.poetry.dependencies]
 python = "^3.8"
 anyio = "*"  # see https://github.com/python-trio/asyncclick/issues/18
 asyncclick = ">=8"
-pydantic = ">=1"
+pydantic = ">=1.10.15"
 cryptography = ">=1.9"
 async-timeout = ">=3.0.0"
 aiohttp = ">=3"
 
 # speed ups
 orjson = { "version" = ">=3.9.1", optional = true }
 kasa-crypt = { "version" = ">=0.2.0", optional = true }
 
 # required only for docs
 sphinx = { version = "^5", optional = true }
-sphinx_rtd_theme = { version = "^0", optional = true }
+sphinx_rtd_theme = { version = "^2", optional = true }
 sphinxcontrib-programoutput = { version = "^0", optional = true }
 myst-parser = { version = "*", optional = true }
 docutils = { version = ">=0.17", optional = true }
 
+# enhanced cli support
+ptpython = { version = "*", optional = true }
+rich = { version = "*", optional = true }
+
 [tool.poetry.group.dev.dependencies]
 pytest = "*"
 pytest-cov = "*"
 pytest-asyncio = "*"
 pytest-sugar = "*"
 pre-commit = "*"
 voluptuous = "*"
 toml = "*"
 tox = "*"
 pytest-mock = "*"
 codecov = "*"
 xdoctest = "*"
 coverage = {version = "*", extras = ["toml"]}
+pytest-timeout = "^2"
 
 [tool.poetry.extras]
 docs = ["sphinx", "sphinx_rtd_theme", "sphinxcontrib-programoutput", "myst-parser", "docutils"]
 speedups = ["orjson", "kasa-crypt"]
+shell = ["ptpython", "rich"]
 
 [tool.coverage.run]
 source = ["kasa"]
 branch = true
 omit = ["kasa/tests/*"]
 
 [tool.coverage.report]
@@ -80,45 +86,49 @@
 ]
 
 [tool.pytest.ini_options]
 markers = [
     "requires_dummy: test requires dummy data to pass, skipped on real devices",
 ]
 asyncio_mode = "auto"
+timeout = 10
 
 [tool.doc8]
 paths = ["docs"]
 ignore = ["D001"]
 ignore-path-errors = ["docs/source/index.rst;D000"]
 
 [build-system]
 requires = ["poetry-core>=1.0.0"]
 build-backend = "poetry.core.masonry.api"
 
 [tool.ruff]
 target-version = "py38"
+
+[tool.ruff.lint]
 select = [
   "E",  # pycodestyle
   "D",  # pydocstyle
   "F",  # pyflakes
   "UP",  # pyupgrade
   "B",  # flake8-bugbear
   "SIM",  # flake8-simplify
+  "FA", # flake8-future-annotations
   "I",  # isort
   "S",  # bandit
 ]
 ignore = [
   "D105",  # Missing docstring in magic method
   "D107",  # Missing docstring in `__init__`
 ]
 
-[tool.ruff.pydocstyle]
+[tool.ruff.lint.pydocstyle]
 convention = "pep257"
 
-[tool.ruff.per-file-ignores]
+[tool.ruff.lint.per-file-ignores]
 "kasa/tests/*.py" = [
     "D100",
     "D101",
     "D102",
     "D103",
     "D104",
     "S101", # allow asserts
```

